{"version":3,"file":"mail.740.a9cebdf9efb5441bc929.js","mappings":"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","sources":["webpack://nextcloud-mail/./src/components/Thread.vue?e49d","webpack://nextcloud-mail/./src/components/MessageAttachment.vue?260a","webpack://nextcloud-mail/./src/components/SearchMessages.vue?f027","webpack://nextcloud-mail/./src/components/MessageAttachments.vue?db39","webpack://nextcloud-mail/./src/dav/client.js","webpack://nextcloud-mail/./src/components/MessageLoadingSkeleton.vue?4a54","webpack://nextcloud-mail/./src/components/Avatar.vue","webpack://nextcloud-mail/src/components/Avatar.vue","webpack://nextcloud-mail/./src/components/Avatar.vue?aae1","webpack://nextcloud-mail/./src/components/Avatar.vue?9df2","webpack://nextcloud-mail/./src/components/RecipientBubble.vue?b205","webpack://nextcloud-mail/./src/components/TagModal.vue?7e38","webpack://nextcloud-mail/./src/components/Mailbox.vue?eec5","webpack://nextcloud-mail/./src/components/MessageEncryptedBody.vue?9c29","webpack://nextcloud-mail/./src/components/EnvelopePrimaryActions.vue?789b","webpack://nextcloud-mail/./src/components/RecipientListItem.vue?9c84","webpack://nextcloud-mail/./src/components/EventModal.vue?e55b","webpack://nextcloud-mail/./src/components/Outbox.vue?6d78","webpack://nextcloud-mail/./src/components/LoadingSkeleton.vue?799a","webpack://nextcloud-mail/./src/components/MdnRequest.vue?c019","webpack://nextcloud-mail/./src/components/ConfirmationModal.vue?3f74","webpack://nextcloud-mail/./src/components/itinerary/EventReservation.vue?18a3","webpack://nextcloud-mail/./src/components/TranslationModal.vue?1451","webpack://nextcloud-mail/./src/service/AvatarService.js","webpack://nextcloud-mail/./src/components/TagItem.vue?1630","webpack://nextcloud-mail/./src/components/TaskModal.vue?f4fb","webpack://nextcloud-mail/./src/components/MailboxThread.vue?c728","webpack://nextcloud-mail/./css/mobile.scss","webpack://nextcloud-mail/./src/crypto/mailvelope.js","webpack://nextcloud-mail/./img/important.svg","webpack://nextcloud-mail/./src/components/EnvelopeSkeleton.vue?8724","webpack://nextcloud-mail/./src/components/NeedsTranslationInfo.vue?8752","webpack://nextcloud-mail/./src/views/Home.vue","webpack://nextcloud-mail/./css/mail.scss?d25d","webpack://nextcloud-mail/./css/mobile.scss?d044","webpack://nextcloud-mail/src/components/SectionTitle.vue","webpack://nextcloud-mail/./src/components/SectionTitle.vue?5ecf","webpack://nextcloud-mail/./src/components/SectionTitle.vue?5012","webpack://nextcloud-mail/./src/components/SectionTitle.vue?ed7c","webpack://nextcloud-mail/./src/components/SectionTitle.vue","webpack://nextcloud-mail/./src/directives/infinite-scroll.js","webpack://nextcloud-mail/src/components/EmptyMailbox.vue","webpack://nextcloud-mail/./src/components/EmptyMailbox.vue?c70a","webpack://nextcloud-mail/./src/components/EmptyMailbox.vue?d2e7","webpack://nextcloud-mail/./src/components/EmptyMailbox.vue","webpack://nextcloud-mail/./src/components/EnvelopeList.vue","webpack://nextcloud-mail/src/components/EnvelopeSingleClickActions.vue","webpack://nextcloud-mail/./src/components/EnvelopeSingleClickActions.vue?e8ce","webpack://nextcloud-mail/./src/components/EnvelopeSingleClickActions.vue?81bf","webpack://nextcloud-mail/./src/components/EnvelopeSingleClickActions.vue?2f7c","webpack://nextcloud-mail/./src/components/EnvelopeSingleClickActions.vue","webpack://nextcloud-mail/src/components/EnvelopeSkeleton.vue","webpack://nextcloud-mail/./src/components/EnvelopeSkeleton.vue?1dc9","webpack://nextcloud-mail/./src/components/EnvelopeSkeleton.vue?d677","webpack://nextcloud-mail/./src/components/EnvelopeSkeleton.vue?e17a","webpack://nextcloud-mail/./src/components/EnvelopeSkeleton.vue","webpack://nextcloud-mail/./src/directives/drag-and-drop/draggable-envelope/draggable-envelope.js","webpack://nextcloud-mail/./src/directives/drag-and-drop/draggable-envelope/index.js","webpack://nextcloud-mail/./src/util/shortRelativeDatetime.js","webpack://nextcloud-mail/src/components/MoveModal.vue","webpack://nextcloud-mail/./src/components/MoveModal.vue?a92e","webpack://nextcloud-mail/./src/components/MoveModal.vue?09bf","webpack://nextcloud-mail/./src/components/MoveModal.vue","webpack://nextcloud-mail/src/components/icons/JunkIcon.vue","webpack://nextcloud-mail/./src/components/icons/JunkIcon.vue?7c0d","webpack://nextcloud-mail/./src/components/icons/JunkIcon.vue?336f","webpack://nextcloud-mail/./src/components/icons/JunkIcon.vue","webpack://nextcloud-mail/src/components/ConfirmationModal.vue","webpack://nextcloud-mail/./src/components/ConfirmationModal.vue?e0ef","webpack://nextcloud-mail/./src/components/ConfirmationModal.vue?7417","webpack://nextcloud-mail/./src/components/ConfirmationModal.vue?7f44","webpack://nextcloud-mail/./src/components/ConfirmationModal.vue","webpack://nextcloud-mail/./src/components/DeleteTagModal.vue?3fe7","webpack://nextcloud-mail/src/components/DeleteTagModal.vue","webpack://nextcloud-mail/./src/components/DeleteTagModal.vue?7b09","webpack://nextcloud-mail/./src/components/DeleteTagModal.vue","webpack://nextcloud-mail/./src/components/TagItem.vue","webpack://nextcloud-mail/./src/util/tag.js","webpack://nextcloud-mail/src/components/TagItem.vue","webpack://nextcloud-mail/./src/components/TagItem.vue?e909","webpack://nextcloud-mail/./src/components/TagItem.vue?1208","webpack://nextcloud-mail/./src/components/TagItem.vue?9212","webpack://nextcloud-mail/src/components/TagModal.vue","webpack://nextcloud-mail/./src/components/TagModal.vue?86a4","webpack://nextcloud-mail/./src/components/TagModal.vue?7a85","webpack://nextcloud-mail/./src/components/TagModal.vue?0c0a","webpack://nextcloud-mail/./src/components/TagModal.vue","webpack://nextcloud-mail/./src/components/EventModal.vue","webpack://nextcloud-mail/./src/util/calendarColor.js","webpack://nextcloud-mail/./src/service/DAVService.js","webpack://nextcloud-mail/./src/components/CalendarPickerOption.vue?59b8","webpack://nextcloud-mail/src/components/CalendarPickerOption.vue","webpack://nextcloud-mail/./src/components/CalendarPickerOption.vue?340f","webpack://nextcloud-mail/./src/components/CalendarPickerOption.vue?a50f","webpack://nextcloud-mail/./src/components/CalendarPickerOption.vue","webpack://nextcloud-mail/./src/service/AiIntergrationsService.js","webpack://nextcloud-mail/./src/components/EventModal.vue?960c","webpack://nextcloud-mail/src/components/EventModal.vue","webpack://nextcloud-mail/./src/components/EventModal.vue?7fd6","webpack://nextcloud-mail/./src/components/EventModal.vue?184b","webpack://nextcloud-mail/./src/components/TaskModal.vue","webpack://nextcloud-mail/./src/task.js","webpack://nextcloud-mail/src/components/TaskModal.vue","webpack://nextcloud-mail/./src/components/TaskModal.vue?2258","webpack://nextcloud-mail/./src/components/TaskModal.vue?d723","webpack://nextcloud-mail/./src/components/TaskModal.vue?ab16","webpack://nextcloud-mail/./src/components/EnvelopePrimaryActions.vue?c3d6","webpack://nextcloud-mail/./src/components/EnvelopePrimaryActions.vue?f5f6","webpack://nextcloud-mail/src/components/EnvelopePrimaryActions.vue","webpack://nextcloud-mail/./src/components/EnvelopePrimaryActions.vue","webpack://nextcloud-mail/src/components/Envelope.vue","webpack://nextcloud-mail/./src/components/Envelope.vue?c494","webpack://nextcloud-mail/./src/components/Envelope.vue?af6e","webpack://nextcloud-mail/./src/components/Envelope.vue?a12e","webpack://nextcloud-mail/./src/components/Envelope.vue","webpack://nextcloud-mail/src/components/EnvelopeList.vue","webpack://nextcloud-mail/./src/components/EnvelopeList.vue?c34d","webpack://nextcloud-mail/./src/components/EnvelopeList.vue?1e31","webpack://nextcloud-mail/./src/components/EnvelopeList.vue?4791","webpack://nextcloud-mail/./src/components/LoadingSkeleton.vue?36f0","webpack://nextcloud-mail/src/components/LoadingSkeleton.vue","webpack://nextcloud-mail/./src/components/LoadingSkeleton.vue?f284","webpack://nextcloud-mail/./src/components/LoadingSkeleton.vue?e1c1","webpack://nextcloud-mail/./src/components/LoadingSkeleton.vue","webpack://nextcloud-mail/./src/components/Error.vue","webpack://nextcloud-mail/src/components/Error.vue","webpack://nextcloud-mail/./src/components/Error.vue?8667","webpack://nextcloud-mail/./src/util/CrashReport.js","webpack://nextcloud-mail/./src/components/Error.vue?5525","webpack://nextcloud-mail/./src/components/Error.vue?3151","webpack://nextcloud-mail/src/components/Loading.vue","webpack://nextcloud-mail/./src/components/Loading.vue?8e5b","webpack://nextcloud-mail/./src/components/Loading.vue?48f5","webpack://nextcloud-mail/./src/components/Loading.vue?5a16","webpack://nextcloud-mail/./src/components/Loading.vue","webpack://nextcloud-mail/src/components/EmptyMailboxSection.vue","webpack://nextcloud-mail/./src/components/EmptyMailboxSection.vue?69bb","webpack://nextcloud-mail/./src/components/EmptyMailboxSection.vue?e36c","webpack://nextcloud-mail/./src/components/EmptyMailboxSection.vue?ffe0","webpack://nextcloud-mail/./src/components/Mailbox.vue?17c6","webpack://nextcloud-mail/src/components/Mailbox.vue","webpack://nextcloud-mail/./src/components/EmptyMailboxSection.vue","webpack://nextcloud-mail/./src/components/Mailbox.vue?d9d1","webpack://nextcloud-mail/./src/components/Mailbox.vue?b772","webpack://nextcloud-mail/./src/components/Mailbox.vue","webpack://nextcloud-mail/./src/components/SearchMessages.vue","webpack://nextcloud-mail/src/components/SearchMessages.vue","webpack://nextcloud-mail/./src/components/SearchMessages.vue?50bb","webpack://nextcloud-mail/./src/components/SearchMessages.vue?f299","webpack://nextcloud-mail/./src/components/SearchMessages.vue?f119","webpack://nextcloud-mail/./src/components/NoMessageSelected.vue","webpack://nextcloud-mail/src/components/NoMessageSelected.vue","webpack://nextcloud-mail/./src/components/NoMessageSelected.vue?efde","webpack://nextcloud-mail/./src/components/NoMessageSelected.vue?d0e1","webpack://nextcloud-mail/./src/components/NoMessageSelected.vue?6525","webpack://nextcloud-mail/./src/components/Thread.vue","webpack://nextcloud-mail/./src/util/ErrorMessageFactory.js","webpack://nextcloud-mail/./src/components/RecipientBubble.vue","webpack://nextcloud-mail/src/components/RecipientBubble.vue","webpack://nextcloud-mail/./src/components/RecipientBubble.vue?2184","webpack://nextcloud-mail/./src/components/RecipientBubble.vue?887f","webpack://nextcloud-mail/./src/components/RecipientBubble.vue?7923","webpack://nextcloud-mail/./src/components/ThreadEnvelope.vue","webpack://nextcloud-mail/./src/components/MessageLoadingSkeleton.vue?fccb","webpack://nextcloud-mail/./src/components/MessageLoadingSkeleton.vue?89ab","webpack://nextcloud-mail/src/components/MessageLoadingSkeleton.vue","webpack://nextcloud-mail/./src/components/MessageLoadingSkeleton.vue","webpack://nextcloud-mail/./src/components/Message.vue","webpack://nextcloud-mail/src/components/itinerary/CalendarImport.vue","webpack://nextcloud-mail/./src/components/itinerary/CalendarImport.vue?68b4","webpack://nextcloud-mail/./src/components/itinerary/CalendarImport.vue?82f0","webpack://nextcloud-mail/./src/components/itinerary/CalendarImport.vue","webpack://nextcloud-mail/./src/components/itinerary/EventReservation.vue?0bcb","webpack://nextcloud-mail/src/components/itinerary/EventReservation.vue","webpack://nextcloud-mail/./src/components/itinerary/EventReservation.vue?d6d0","webpack://nextcloud-mail/./src/components/itinerary/EventReservation.vue?125b","webpack://nextcloud-mail/./src/components/itinerary/EventReservation.vue","webpack://nextcloud-mail/./src/components/itinerary/FlightReservation.vue","webpack://nextcloud-mail/src/components/itinerary/FlightReservation.vue","webpack://nextcloud-mail/./src/components/itinerary/FlightReservation.vue?63b2","webpack://nextcloud-mail/./src/components/itinerary/FlightReservation.vue?e636","webpack://nextcloud-mail/./src/components/itinerary/FlightReservation.vue?dec4","webpack://nextcloud-mail/./src/components/itinerary/TrainReservation.vue","webpack://nextcloud-mail/src/components/itinerary/TrainReservation.vue","webpack://nextcloud-mail/./src/components/itinerary/TrainReservation.vue?678e","webpack://nextcloud-mail/./src/components/itinerary/TrainReservation.vue?824d","webpack://nextcloud-mail/./src/components/itinerary/TrainReservation.vue?1dc8","webpack://nextcloud-mail/src/components/Itinerary.vue","webpack://nextcloud-mail/./src/components/Itinerary.vue?82eb","webpack://nextcloud-mail/./src/components/Itinerary.vue?47fe","webpack://nextcloud-mail/./src/components/Itinerary.vue","webpack://nextcloud-mail/./src/components/MessageAttachments.vue","webpack://nextcloud-mail/src/components/MessageAttachment.vue","webpack://nextcloud-mail/./src/components/MessageAttachment.vue?e33c","webpack://nextcloud-mail/./src/components/MessageAttachment.vue?360e","webpack://nextcloud-mail/./src/components/MessageAttachment.vue?5080","webpack://nextcloud-mail/./src/components/MessageAttachment.vue","webpack://nextcloud-mail/src/components/MessageAttachments.vue","webpack://nextcloud-mail/./src/components/MessageAttachments.vue?3656","webpack://nextcloud-mail/./src/components/MessageAttachments.vue?58d2","webpack://nextcloud-mail/./src/components/MessageAttachments.vue?6b08","webpack://nextcloud-mail/./src/components/PhishingWarning.vue?12e7","webpack://nextcloud-mail/src/components/PhishingWarning.vue","webpack://nextcloud-mail/./src/components/PhishingWarning.vue?7a1b","webpack://nextcloud-mail/./src/components/PhishingWarning.vue?31ab","webpack://nextcloud-mail/./src/components/PhishingWarning.vue","webpack://nextcloud-mail/./src/components/MessageEncryptedBody.vue","webpack://nextcloud-mail/src/components/MdnRequest.vue","webpack://nextcloud-mail/./src/components/MdnRequest.vue?45ea","webpack://nextcloud-mail/./src/components/MdnRequest.vue?d21a","webpack://nextcloud-mail/./src/components/MdnRequest.vue?8489","webpack://nextcloud-mail/./src/components/MdnRequest.vue","webpack://nextcloud-mail/./src/components/MessageEncryptedBody.vue?809c","webpack://nextcloud-mail/src/components/MessageEncryptedBody.vue","webpack://nextcloud-mail/./src/components/MessageEncryptedBody.vue?bef1","webpack://nextcloud-mail/./src/components/MessageEncryptedBody.vue?6dff","webpack://nextcloud-mail/./src/components/MessageHTMLBody.vue","webpack://nextcloud-mail/src/components/NeedsTranslationInfo.vue","webpack://nextcloud-mail/./src/components/NeedsTranslationInfo.vue?72dd","webpack://nextcloud-mail/./src/components/NeedsTranslationInfo.vue?c423","webpack://nextcloud-mail/./src/components/NeedsTranslationInfo.vue?0170","webpack://nextcloud-mail/./src/components/NeedsTranslationInfo.vue","webpack://nextcloud-mail/src/components/MessageHTMLBody.vue","webpack://nextcloud-mail/./src/components/MessageHTMLBody.vue?c6f6","webpack://nextcloud-mail/./src/components/MessageHTMLBody.vue?752a","webpack://nextcloud-mail/./src/components/MessageHTMLBody.vue?cab3","webpack://nextcloud-mail/src/components/MessagePlainTextBody.vue","webpack://nextcloud-mail/./src/components/MessagePlainTextBody.vue?67e0","webpack://nextcloud-mail/./src/components/MessagePlainTextBody.vue?1179","webpack://nextcloud-mail/./src/components/MessagePlainTextBody.vue?105c","webpack://nextcloud-mail/./src/components/MessagePlainTextBody.vue?646c","webpack://nextcloud-mail/./src/components/MessagePlainTextBody.vue","webpack://nextcloud-mail/./src/components/Imip.vue","webpack://nextcloud-mail/./src/util/eventAttendee.js","webpack://nextcloud-mail/src/components/imip/EventData.vue","webpack://nextcloud-mail/./src/components/imip/EventData.vue?e8e6","webpack://nextcloud-mail/./src/components/imip/EventData.vue?0f14","webpack://nextcloud-mail/./src/components/imip/EventData.vue?932a","webpack://nextcloud-mail/./src/components/imip/EventData.vue","webpack://nextcloud-mail/src/components/Imip.vue","webpack://nextcloud-mail/./src/components/Imip.vue?6ab1","webpack://nextcloud-mail/./src/components/Imip.vue?ab4c","webpack://nextcloud-mail/./src/components/Imip.vue?bd3b","webpack://nextcloud-mail/src/components/Message.vue","webpack://nextcloud-mail/./src/components/Message.vue?2273","webpack://nextcloud-mail/./src/components/Message.vue?6204","webpack://nextcloud-mail/./src/components/Message.vue?6cc5","webpack://nextcloud-mail/./src/components/MenuEnvelope.vue","webpack://nextcloud-mail/src/components/MenuEnvelope.vue","webpack://nextcloud-mail/./src/components/MenuEnvelope.vue?f7af","webpack://nextcloud-mail/./src/components/MenuEnvelope.vue?ce3f","webpack://nextcloud-mail/./src/components/MenuEnvelope.vue?5c4f","webpack://nextcloud-mail/./src/components/Moment.vue?1c61","webpack://nextcloud-mail/src/components/Moment.vue","webpack://nextcloud-mail/./src/components/Moment.vue?66a3","webpack://nextcloud-mail/./src/components/Moment.vue","webpack://nextcloud-mail/src/components/TranslationModal.vue","webpack://nextcloud-mail/./src/components/TranslationModal.vue?c310","webpack://nextcloud-mail/./src/components/TranslationModal.vue?456e","webpack://nextcloud-mail/./src/components/TranslationModal.vue?c2cd","webpack://nextcloud-mail/./src/components/TranslationModal.vue","webpack://nextcloud-mail/src/components/mailFilter/CreateModal.vue","webpack://nextcloud-mail/./src/components/mailFilter/CreateModal.vue?a145","webpack://nextcloud-mail/./src/components/mailFilter/CreateModal.vue?745b","webpack://nextcloud-mail/./src/components/mailFilter/CreateModal.vue?3e4a","webpack://nextcloud-mail/./src/components/mailFilter/MailFilterFromEnvelope.vue?a94a","webpack://nextcloud-mail/src/components/mailFilter/MailFilterFromEnvelope.vue","webpack://nextcloud-mail/./src/components/mailFilter/CreateModal.vue","webpack://nextcloud-mail/./src/components/mailFilter/MailFilterFromEnvelope.vue?43e0","webpack://nextcloud-mail/./src/components/mailFilter/MailFilterFromEnvelope.vue","webpack://nextcloud-mail/./src/components/SourceModal.vue?2476","webpack://nextcloud-mail/src/components/SourceModal.vue","webpack://nextcloud-mail/./src/components/SourceModal.vue?97bf","webpack://nextcloud-mail/./src/components/SourceModal.vue?f5e6","webpack://nextcloud-mail/./src/components/SourceModal.vue","webpack://nextcloud-mail/src/components/ThreadEnvelope.vue","webpack://nextcloud-mail/./src/components/ThreadEnvelope.vue?8921","webpack://nextcloud-mail/./src/service/ListService.js","webpack://nextcloud-mail/./src/components/ThreadEnvelope.vue?c617","webpack://nextcloud-mail/./src/components/ThreadEnvelope.vue?5d66","webpack://nextcloud-mail/./src/components/ThreadSummary.vue","webpack://nextcloud-mail/src/components/ThreadSummary.vue","webpack://nextcloud-mail/./src/components/ThreadSummary.vue?4b0c","webpack://nextcloud-mail/./src/components/ThreadSummary.vue?7cdb","webpack://nextcloud-mail/./src/components/ThreadSummary.vue?8624","webpack://nextcloud-mail/./src/components/Thread.vue?553f","webpack://nextcloud-mail/src/components/Thread.vue","webpack://nextcloud-mail/./src/components/Thread.vue?a9e9","webpack://nextcloud-mail/./src/components/Thread.vue?ab0c","webpack://nextcloud-mail/src/components/MailboxThread.vue","webpack://nextcloud-mail/./src/components/MailboxThread.vue?34d8","webpack://nextcloud-mail/./src/components/MailboxThread.vue?17ab","webpack://nextcloud-mail/./src/components/MailboxThread.vue?590a","webpack://nextcloud-mail/./src/components/MailboxThread.vue","webpack://nextcloud-mail/src/components/OutboxMessageContent.vue","webpack://nextcloud-mail/./src/components/OutboxMessageContent.vue?6031","webpack://nextcloud-mail/./src/components/OutboxMessageContent.vue?eae0","webpack://nextcloud-mail/./src/components/OutboxMessageContent.vue?21dd","webpack://nextcloud-mail/./src/components/OutboxMessageContent.vue","webpack://nextcloud-mail/./src/mixins/OutboxAvatarMixin.js","webpack://nextcloud-mail/src/components/OutboxMessageListItem.vue","webpack://nextcloud-mail/./src/components/OutboxMessageListItem.vue?7412","webpack://nextcloud-mail/./src/components/OutboxMessageListItem.vue?ca9f","webpack://nextcloud-mail/./src/components/OutboxMessageListItem.vue?9a7b","webpack://nextcloud-mail/./src/components/OutboxMessageListItem.vue","webpack://nextcloud-mail/./src/components/Outbox.vue?ea5f","webpack://nextcloud-mail/src/components/Outbox.vue","webpack://nextcloud-mail/./src/components/Outbox.vue?388d","webpack://nextcloud-mail/./src/components/Outbox.vue?0e66","webpack://nextcloud-mail/./src/components/Outbox.vue","webpack://nextcloud-mail/./src/components/ComposerSessionIndicator.vue","webpack://nextcloud-mail/src/components/ComposerSessionIndicator.vue","webpack://nextcloud-mail/./src/components/ComposerSessionIndicator.vue?6780","webpack://nextcloud-mail/./src/components/ComposerSessionIndicator.vue?82a0","webpack://nextcloud-mail/./src/components/ComposerSessionIndicator.vue?7ec6","webpack://nextcloud-mail/./src/views/Home.vue?e9a9","webpack://nextcloud-mail/src/views/Home.vue","webpack://nextcloud-mail/./src/views/Home.vue?bcdd","webpack://nextcloud-mail/./src/views/Home.vue?06dc","webpack://nextcloud-mail/./src/views/Home.vue?4f26","webpack://nextcloud-mail/./src/components/SourceModal.vue?cffb","webpack://nextcloud-mail/./src/views/Home.vue?3cdb","webpack://nextcloud-mail/./src/components/OutboxMessageContent.vue?407c","webpack://nextcloud-mail/./src/components/ThreadEnvelope.vue?56fc","webpack://nextcloud-mail/./src/components/RecipientListItem.vue","webpack://nextcloud-mail/src/components/RecipientListItem.vue","webpack://nextcloud-mail/./src/components/RecipientListItem.vue?aa65","webpack://nextcloud-mail/./src/components/RecipientListItem.vue?a0e0","webpack://nextcloud-mail/./src/components/RecipientListItem.vue?c56a","webpack://nextcloud-mail/./src/components/MessagePlainTextBody.vue?1fdf","webpack://nextcloud-mail/./src/components/Error.vue?2107","webpack://nextcloud-mail/./src/components/EmptyMailboxSection.vue?3d6e","webpack://nextcloud-mail/./src/components/CalendarPickerOption.vue?10be","webpack://nextcloud-mail/./src/components/NoMessageSelected.vue?a485","webpack://nextcloud-mail/./css/mail.scss","webpack://nextcloud-mail/./src/components/MessagePlainTextBody.vue?5b69","webpack://nextcloud-mail/./src/components/mailFilter/CreateModal.vue?3927","webpack://nextcloud-mail/./src/components/Loading.vue?d160","webpack://nextcloud-mail/./src/components/Envelope.vue?53b6","webpack://nextcloud-mail/./src/components/Imip.vue?1fd5","webpack://nextcloud-mail/./src/components/itinerary/TrainReservation.vue?a85e","webpack://nextcloud-mail/./src/components/ComposerSessionIndicator.vue?c23c","webpack://nextcloud-mail/./src/components/MenuEnvelope.vue?cc62","webpack://nextcloud-mail/./src/components/PhishingWarning.vue?cc67","webpack://nextcloud-mail/./src/crypto/pgp.js","webpack://nextcloud-mail/./src/components/imip/EventData.vue?fee4","webpack://nextcloud-mail/./src/components/SectionTitle.vue?51ce","webpack://nextcloud-mail/./src/components/EnvelopeSingleClickActions.vue?f8a9","webpack://nextcloud-mail/./src/components/EnvelopeList.vue?9cc5","webpack://nextcloud-mail/./src/components/MessageHTMLBody.vue?b1f1","webpack://nextcloud-mail/./src/components/Message.vue?503c","webpack://nextcloud-mail/./src/components/itinerary/FlightReservation.vue?401e","webpack://nextcloud-mail/./src/components/OutboxMessageListItem.vue?1c49","webpack://nextcloud-mail/./src/views/Home.vue?6bf0","webpack://nextcloud-mail/./src/service/AttachmentService.js","webpack://nextcloud-mail/./src/components/ThreadSummary.vue?d14b","webpack://nextcloud-mail/./src/service/AutocompleteService.js"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `#mail-message{margin-bottom:30vh;width:100%;max-width:100%}#mail-message .icon-loading:only-child:after{margin-top:calc(var(--default-line-height) - var(--default-grid-baseline))}.mail-message-body{flex:1;margin-bottom:calc(var(--default-grid-baseline)*2);position:relative}#mail-thread-header{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:0 0 calc(var(--default-grid-baseline)*2) 0;box-sizing:content-box !important;width:100%;z-index:100;position:fixed;position:-webkit-sticky;position:sticky;top:0;margin-bottom:5px}#mail-thread-header::before{content:\"\";position:absolute;top:0;inset-inline-start:50%;transform:translateX(-50%);width:100vw;height:100%;background:var(--color-main-background);border-bottom:var(--border-width-input-focused) solid var(--color-border);z-index:-1}#mail-thread-header-fields{width:0;padding-inline-start:66px;flex:1 1 auto}#mail-thread-header-fields h2,#mail-thread-header-fields p{padding-bottom:calc(var(--default-grid-baseline)*2);margin-bottom:0;margin-top:var(--default-grid-baseline)}#mail-thread-header-fields p{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}#mail-thread-header-fields .transparency{opacity:.6}#mail-thread-header-fields .transparency a{font-weight:bold}@media only screen and (max-width: 1024px){#mail-thread-header-fields{margin-top:-20px}}.attachment-popover{position:sticky;bottom:calc(var(--default-grid-baseline)*3);text-align:center}.tooltip-inner{text-align:start}#mail-content{margin:calc(var(--default-grid-baseline)*2) calc(var(--default-grid-baseline)*10) 0 calc(var(--default-grid-baseline)*14)}#mail-content iframe{width:100%}#show-images-text{display:none}#mail-content a,.mail-signature a{color:#07d;border-bottom:var(--border-width-input) dotted #07d;text-decoration:none;word-wrap:break-word}@media only screen and (max-width: 600px){.action-label{display:none}}@media only screen and (min-width: 600px){.icon-reply-white,.icon-reply-all-white{background-position:calc(var(--default-grid-baseline)*3) center}}.avatar-header{height:var(--default-clickable-area);overflow:hidden;display:flex;align-items:stretch}.avatar-header :deep(.v-popper--theme-dropdown.v-popper__popper .v-popper__inner){height:300px;width:250px;overflow:auto}.avatar-more{display:inline;background-color:var(--color-background-dark);border-radius:var(--border-radius-large);cursor:pointer}.v-popper.avatar-more{padding:calc(var(--default-grid-baseline)*2)}.avatar-hidden{visibility:hidden}.app-content-list-item-star.icon-starred{display:none}.user-bubble__wrapper{height:var(--default-clickable-area);padding:var(--default-grid-baseline);margin-inline-end:var(--default-grid-baseline);background-color:var(--color-background-dark);border-radius:var(--border-radius-large)}.v-popper__popper--shown .user-bubble__wrapper{margin-inline-end:0 !important}.v-popper__popper--shown .user-bubble__wrapper .user-bubble__content{padding:calc(var(--default-grid-baseline))}.v-popper__popper--shown .user-bubble__wrapper .user-bubble__wrapper{padding:0}.user-bubble__title{cursor:pointer}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Thread.vue\"],\"names\":[],\"mappings\":\"AACA,cACC,kBAAA,CACA,UAAA,CACA,cAAA,CAGC,6CACC,0EAAA,CAKH,mBACC,MAAA,CACA,kDAAA,CACA,iBAAA,CAGD,oBACC,YAAA,CACA,kBAAA,CACA,6BAAA,CACA,kBAAA,CACA,kDAAA,CAIA,iCAAA,CACA,UAAA,CAEA,WAAA,CACA,cAAA,CACA,uBAAA,CACA,eAAA,CACA,KAAA,CACA,iBAAA,CAEA,4BACC,UAAA,CACA,iBAAA,CACA,KAAA,CACA,sBAAA,CACA,0BAAA,CACA,WAAA,CACA,WAAA,CACA,uCAAA,CACA,yEAAA,CACA,UAAA,CAIF,2BAEC,OAAA,CAGA,yBAAA,CAEA,aAAA,CACA,2DAEC,mDAAA,CACA,eAAA,CAEA,uCAAA,CAGD,6BACC,kBAAA,CACA,eAAA,CACA,sBAAA,CAED,yCACC,UAAA,CACA,2CACC,gBAAA,CAIH,2CACC,2BACC,gBAAA,CAAA,CAIF,oBACC,eAAA,CACA,2CAAA,CACA,iBAAA,CAGD,eACC,gBAAA,CAGD,cACC,yHAAA,CAGD,qBACC,UAAA,CAGD,kBACC,YAAA,CAGD,kCAEC,UAAA,CACA,mDAAA,CACA,oBAAA,CACA,oBAAA,CAKD,0CACC,cACC,YAAA,CAAA,CAGF,0CACC,wCAEC,+DAAA,CAAA,CAIF,eACC,oCAAA,CACA,eAAA,CACA,YAAA,CACA,mBAAA,CAEA,kFACC,YAAA,CACA,WAAA,CACA,aAAA,CAIF,aACC,cAAA,CACA,6CAAA,CACA,wCAAA,CACA,cAAA,CAGD,sBACC,4CAAA,CAGD,eACC,iBAAA,CAGD,yCACC,YAAA,CAGD,sBACC,oCAAA,CACA,oCAAA,CACA,8CAAA,CACA,6CAAA,CACA,wCAAA,CAGD,+CACC,8BAAA,CAEA,qEACC,0CAAA,CAGD,qEACC,SAAA,CAIF,oBACC,cAAA\",\"sourcesContent\":[\"\\n#mail-message {\\n\\tmargin-bottom: 30vh;\\n\\twidth: 100%;\\n\\tmax-width: 100%;\\n\\n\\t.icon-loading {\\n\\t\\t&:only-child:after {\\n\\t\\t\\tmargin-top: calc(var(--default-line-height) - var(--default-grid-baseline));\\n\\t\\t}\\n\\t}\\n}\\n\\n.mail-message-body {\\n\\tflex: 1;\\n\\tmargin-bottom: calc(var(--default-grid-baseline) * 2);\\n\\tposition: relative;\\n}\\n\\n#mail-thread-header {\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\tjustify-content: space-between;\\n\\talign-items: center;\\n\\tpadding: 0 0 calc(var(--default-grid-baseline) * 2) 0;\\n\\t// somehow ios doesn't care about this !important rule\\n\\t// so we have to manually set left/right padding to chidren\\n\\t// for 100% to be used\\n\\tbox-sizing: content-box !important;\\n\\twidth: 100%;\\n\\n\\tz-index: 100;\\n\\tposition: fixed; // ie fallback\\n\\tposition: -webkit-sticky; // ios/safari fallback\\n\\tposition: sticky;\\n\\ttop: 0;\\n\\tmargin-bottom: 5px;\\n\\n\\t&::before {\\n\\t\\tcontent: '';\\n\\t\\tposition: absolute;\\n\\t\\ttop: 0;\\n\\t\\tinset-inline-start: 50%;\\n\\t\\ttransform: translateX(-50%);\\n\\t\\twidth: 100vw;\\n\\t\\theight: 100%;\\n\\t\\tbackground: var(--color-main-background);\\n\\t\\tborder-bottom: var(--border-width-input-focused) solid var(--color-border);\\n\\t\\tz-index: -1;\\n\\t}\\n}\\n\\n#mail-thread-header-fields {\\n\\t// initial width\\n\\twidth: 0;\\n\\t// while scrolling, the back button overlaps with subject on small screen\\n\\t// 66px to allign with the sender Envelope -> 8px margin + 2px border+ avatar -> 40px width  + envelope__header -> 8px padding + sender-> margin 8px\\n\\tpadding-inline-start: 66px;\\n\\t// grow and try to fill 100%\\n\\tflex: 1 1 auto;\\n\\th2,\\n\\tp {\\n\\t\\tpadding-bottom: calc(var(--default-grid-baseline) * 2);\\n\\t\\tmargin-bottom: 0;\\n\\t\\t// some h2 styling coming from server add some space on top\\n\\t\\tmargin-top: var(--default-grid-baseline);\\n\\t}\\n\\n\\tp {\\n\\t\\twhite-space: nowrap;\\n\\t\\toverflow: hidden;\\n\\t\\ttext-overflow: ellipsis;\\n\\t}\\n\\t.transparency {\\n\\t\\topacity: 0.6;\\n\\t\\ta {\\n\\t\\t\\tfont-weight: bold;\\n\\t\\t}\\n\\t}\\n}\\n@media only screen and (max-width: 1024px) {\\n\\t#mail-thread-header-fields {\\n\\t\\tmargin-top: -20px;\\n\\t}\\n}\\n\\n.attachment-popover {\\n\\tposition: sticky;\\n\\tbottom: calc(var(--default-grid-baseline) * 3);\\n\\ttext-align: center;\\n}\\n\\n.tooltip-inner {\\n\\ttext-align: start;\\n}\\n\\n#mail-content {\\n\\tmargin: calc(var(--default-grid-baseline) * 2) calc(var(--default-grid-baseline) * 10) 0 calc(var(--default-grid-baseline) * 14);\\n}\\n\\n#mail-content iframe {\\n\\twidth: 100%;\\n}\\n\\n#show-images-text {\\n\\tdisplay: none;\\n}\\n\\n#mail-content a,\\n.mail-signature a {\\n\\tcolor: #07d;\\n\\tborder-bottom: var(--border-width-input) dotted #07d;\\n\\ttext-decoration: none;\\n\\tword-wrap: break-word;\\n}\\n\\n/* Show action button label and move icon to the left\\n   on screens larger than 600px */\\n@media only screen and (max-width: 600px) {\\n\\t.action-label {\\n\\t\\tdisplay: none;\\n\\t}\\n}\\n@media only screen and (min-width: 600px) {\\n\\t.icon-reply-white,\\n\\t.icon-reply-all-white {\\n\\t\\tbackground-position: calc(var(--default-grid-baseline) * 3) center;\\n\\t}\\n}\\n\\n.avatar-header {\\n\\theight: var(--default-clickable-area);\\n\\toverflow: hidden;\\n\\tdisplay: flex;\\n\\talign-items: stretch;\\n\\n\\t:deep(.v-popper--theme-dropdown.v-popper__popper .v-popper__inner) {\\n\\t\\theight: 300px;\\n\\t\\twidth: 250px;\\n\\t\\toverflow: auto;\\n\\t}\\n}\\n\\n.avatar-more {\\n\\tdisplay: inline;\\n\\tbackground-color: var(--color-background-dark);\\n\\tborder-radius: var(--border-radius-large);\\n\\tcursor: pointer;\\n}\\n\\n.v-popper.avatar-more {\\n\\tpadding: calc(var(--default-grid-baseline) * 2);\\n}\\n\\n.avatar-hidden {\\n\\tvisibility: hidden;\\n}\\n\\n.app-content-list-item-star.icon-starred {\\n\\tdisplay: none;\\n}\\n\\n.user-bubble__wrapper {\\n\\theight: var(--default-clickable-area);\\n\\tpadding: var(--default-grid-baseline);\\n\\tmargin-inline-end: var(--default-grid-baseline);\\n\\tbackground-color: var(--color-background-dark);\\n\\tborder-radius: var(--border-radius-large);\\n}\\n\\n.v-popper__popper--shown .user-bubble__wrapper {\\n\\tmargin-inline-end: 0 !important;\\n\\n\\t.user-bubble__content {\\n\\t\\tpadding: calc(var(--default-grid-baseline));\\n\\t}\\n\\n\\t.user-bubble__wrapper {\\n\\t\\tpadding: 0;\\n\\t}\\n}\\n\\n.user-bubble__title {\\n\\tcursor: pointer;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `@media screen and (max-width: 1024px){.attachment[data-v-c6e6a8c2]{width:100% !important}}@media screen and (min-width: 1025px)and (max-width: 1500px){.attachment[data-v-c6e6a8c2]{width:calc(50% - 4px) !important}}.attachment[data-v-c6e6a8c2]{height:auto;display:inline-flex;flex-wrap:wrap;justify-content:space-between;width:calc(33.3334% - 4px);margin:2px;padding:5px;position:relative;align-items:center;flex-grow:1}.attachment[data-v-c6e6a8c2]:hover{border-radius:6px}.attachment[data-v-c6e6a8c2]:hover,.attachment span[data-v-c6e6a8c2]:hover{background-color:var(--color-background-hover)}.attachment:hover.message-attachment--can-preview *[data-v-c6e6a8c2],.attachment span:hover.message-attachment--can-preview *[data-v-c6e6a8c2]{cursor:pointer}.mail-attachment-img--wrapper[data-v-c6e6a8c2]{height:44px;width:44px;overflow:hidden;display:flex;justify-content:center;position:relative;border-radius:6px}.mail-attachment-img--wrapper img[data-v-c6e6a8c2]{transition:.3s;opacity:1;width:44px;height:44px}.mail-attachment-img--wrapper .mail-attached-image[data-v-c6e6a8c2]{width:100px}.mail-attached--content[data-v-c6e6a8c2]{width:calc(100% - 100px);display:flex;flex-direction:column}.mail-attached-image[data-v-c6e6a8c2]{display:block;max-width:100%;border-radius:var(--border-radius)}.attachment-import-popover[data-v-c6e6a8c2]{inset-inline-end:32px;top:42px}.mail-attached-image[data-v-c6e6a8c2]:hover{opacity:.8}.attachment-name[data-v-c6e6a8c2]{display:inline-block;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;vertical-align:middle}.attachment-size[data-v-c6e6a8c2]{-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";opacity:.5;font-size:12px;line-height:14px}.attachment-icon[data-v-c6e6a8c2]{vertical-align:middle;text-align:start;margin-bottom:20px}.action-item[data-v-c6e6a8c2]{transition:.4s}.mail-message-attachments[data-v-c6e6a8c2]{overflow-x:auto;overflow-y:auto}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/MessageAttachment.vue\"],\"names\":[],\"mappings\":\"AAEA,sCACC,6BACC,qBAAA,CAAA,CAIF,6DACC,6BACC,gCAAA,CAAA,CAIF,6BACC,WAAA,CACG,mBAAA,CACA,cAAA,CACA,6BAAA,CACH,0BAAA,CACG,UAAA,CACH,WAAA,CACG,iBAAA,CACA,kBAAA,CACH,WAAA,CAEA,mCACC,iBAAA,CAIF,2EAEC,8CAAA,CAEA,+IACC,cAAA,CAIF,+CACC,WAAA,CACA,UAAA,CACA,eAAA,CACA,YAAA,CACA,sBAAA,CACA,iBAAA,CACA,iBAAA,CAEA,mDACC,cAAA,CACA,SAAA,CACA,UAAA,CACA,WAAA,CAGD,oEACC,WAAA,CAIF,yCACC,wBAAA,CACA,YAAA,CACG,qBAAA,CAGJ,sCACC,aAAA,CACA,cAAA,CACA,kCAAA,CAGD,4CACC,qBAAA,CACA,QAAA,CAGD,4CACC,UAAA,CAGD,kCACC,oBAAA,CACA,UAAA,CACA,kBAAA,CACA,eAAA,CACA,sBAAA,CACA,qBAAA,CAID,kCACC,gEAAA,CACA,UAAA,CACA,cAAA,CACA,gBAAA,CAGD,kCACC,qBAAA,CACA,gBAAA,CACA,kBAAA,CAGD,8BACC,cAAA,CAGD,2CACC,eAAA,CACA,eAAA\",\"sourcesContent\":[\"\\n\\n@media screen and (max-width: 1024px) {\\n\\t.attachment{\\n\\t\\twidth: 100% !important;\\n\\t}\\n}\\n\\n@media screen and (min-width: 1025px) and (max-width: 1500px) {\\n\\t.attachment{\\n\\t\\twidth: calc(50% - 4px)!important;\\n\\t}\\n}\\n\\n.attachment {\\n\\theight: auto;\\n    display: inline-flex;\\n    flex-wrap: wrap;\\n    justify-content: space-between;\\n\\twidth: calc(33.3334% - 4px);\\n    margin: 2px;\\n\\tpadding: 5px;\\n    position: relative;\\n    align-items: center;\\n\\tflex-grow: 1;\\n\\n\\t&:hover {\\n\\t\\tborder-radius: 6px;\\n\\t}\\n}\\n\\n.attachment:hover,\\n.attachment span:hover {\\n\\tbackground-color: var(--color-background-hover);\\n\\n\\t&.message-attachment--can-preview * {\\n\\t\\tcursor: pointer;\\n\\t}\\n}\\n\\n.mail-attachment-img--wrapper {\\n\\theight: 44px;\\n\\twidth: 44px;\\n\\toverflow: hidden;\\n\\tdisplay:flex;\\n\\tjustify-content: center;\\n\\tposition: relative;\\n\\tborder-radius: 6px;\\n\\n\\timg {\\n\\t\\ttransition: 0.3s;\\n\\t\\topacity: 1;\\n\\t\\twidth: 44px;\\n\\t\\theight: 44px;\\n\\t}\\n\\n\\t.mail-attached-image {\\n\\t\\twidth: 100px;\\n\\t}\\n}\\n\\n.mail-attached--content {\\n\\twidth: calc(100% - 100px);\\n\\tdisplay: flex;\\n    flex-direction: column;\\n}\\n\\n.mail-attached-image {\\n\\tdisplay: block;\\n\\tmax-width: 100%;\\n\\tborder-radius: var(--border-radius);\\n}\\n\\n.attachment-import-popover {\\n\\tinset-inline-end: 32px;\\n\\ttop: 42px;\\n}\\n\\n.mail-attached-image:hover {\\n\\topacity: 0.8;\\n}\\n\\n.attachment-name {\\n\\tdisplay: inline-block;\\n\\twidth: 100%;\\n\\twhite-space: nowrap;\\n\\toverflow: hidden;\\n\\ttext-overflow: ellipsis;\\n\\tvertical-align: middle;\\n}\\n\\n/* show attachment size less prominent */\\n.attachment-size {\\n\\t-ms-filter: 'progid:DXImageTransform.Microsoft.Alpha(Opacity=50)';\\n\\topacity: 0.5;\\n\\tfont-size: 12px;\\n\\tline-height: 14px;\\n}\\n\\n.attachment-icon {\\n\\tvertical-align: middle;\\n\\ttext-align: start;\\n\\tmargin-bottom: 20px;\\n}\\n\\n.action-item {\\n\\ttransition: 0.4s;\\n}\\n\\n.mail-message-attachments {\\n\\toverflow-x: auto;\\n\\toverflow-y: auto;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.search-messages{border-bottom:1px solid var(--color-border);position:sticky;top:0;z-index:10;height:52px;background-color:var(--color-main-background)}.search-messages__input{min-height:52px;margin-inline-start:calc(var(--app-navigation-padding)*2 + var(--default-clickable-area));padding-inline-end:3px;position:relative;display:flex;align-items:center;z-index:1}.search-messages__input input{flex-grow:1}.search-messages__input .action-item--single{border:none;background:none;transition:.4s}.search-messages__input .action-item--single:hover{transition:.4s;background:var(--color-primary-element)}.search-input{width:100%}.checkbox-radio-switch__label{background:none !important;padding:0 !important;margin:0 !important}.tag-group__search{box-sizing:border-box;position:relative;margin:3px 3px;padding:0 6px}.tag-group__bg{position:absolute;inset-inline:0;bottom:0;top:0;opacity:.4;border-radius:14px;z-index:1}.tag-group__label{font-weight:bold;font-size:12px;position:relative;z-index:2}.search-modal .modal-inner--content{padding:16px 0 36px 0;overflow-y:scroll;width:calc(100% - 2px)}.search-modal .modal-inner--content .marked-as .modal-inner-inline{display:inline-block;width:32%}.search-modal .modal-inner--content .range{display:flex;flex-wrap:wrap}.search-modal .modal-inner--content .range .modal-inner-inline{width:calc(50% - 5px)}.search-modal .modal-inner--content .range .modal-inner-inline:first-child{margin-inline-end:5px}.search-modal .modal-inner--content .range .modal-inner-inline:last-child{margin-inline-start:5px}@media(max-width: 420px){.modal-inner--container{width:100%;flex-wrap:nowrap;flex-direction:column}}@media(max-width: 420px){.search-modal .modal-inner--content .range{flex-direction:row}}.multiselect-search-tags{width:100%}.multiselect-search-tags .multiselect__tags .multiselect__tags-wrap{flex-wrap:wrap !important}.modal-inner-field--right{display:flex;align-items:center;justify-content:flex-end;padding:0 33px;margin-top:15px}.modal-inner--field{display:flex;align-items:center;flex-wrap:wrap;justify-content:space-between;margin-bottom:15px;padding:0 12px 0 30px}.modal-inner--field .checkbox-radio-switch{margin:0 8px 0 0}.modal-inner--field>label{font-weight:bold;width:120px}.modal-inner--field .modal-inner--container{width:calc(100% - 120px);display:flex;flex-wrap:wrap}.modal-inner--field .modal-inner--container .select{width:100%}.modal-wrapper--normal .modal-container{position:relative}.button-vue.search-messages--filter.button-vue--icon-only{position:absolute;width:auto;height:auto;z-index:5;inset-inline-end:7px;inset-inline-start:auto;box-shadow:none !important;background:rgba(0,0,0,0) !important;border:none !important;padding:0 !important}.button-vue.search-messages--close.button-vue--icon-only{position:absolute;width:auto;height:auto;z-index:5;inset-inline-end:35px;inset-inline-start:auto;box-shadow:none !important;background:rgba(0,0,0,0) !important;border:none !important;padding:0 !important}.button-reset-filter{margin-inline-end:10px}.filter-changed{width:6px;height:6px;background:var(--color-error);position:absolute;z-index:10;inset-inline-end:12px;border-radius:50%;top:12px}.mx-datepicker{width:100%}.filter-buttons{display:flex;justify-content:center;align-items:center;flex-wrap:nowrap;gap:4px;overflow:hidden;text-overflow:ellipsis;padding:0 5px 5px 5px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/SearchMessages.vue\"],\"names\":[],\"mappings\":\"AACA,iBACC,2CAAA,CACA,eAAA,CACA,KAAA,CACA,UAAA,CACA,WAAA,CACA,6CAAA,CACA,wBACC,eAAA,CACA,yFAAA,CACA,sBAAA,CACA,iBAAA,CACA,YAAA,CACA,kBAAA,CAEA,SAAA,CAEA,8BACC,WAAA,CAGD,6CACC,WAAA,CACA,eAAA,CACA,cAAA,CAGD,mDACC,cAAA,CACA,uCAAA,CAKH,cACC,UAAA,CAGD,8BACC,0BAAA,CACA,oBAAA,CACA,mBAAA,CAGD,mBACC,qBAAA,CACA,iBAAA,CACA,cAAA,CACA,aAAA,CAGD,eACC,iBAAA,CACA,cAAA,CACA,QAAA,CACA,KAAA,CACA,UAAA,CACA,kBAAA,CACA,SAAA,CAGD,kBACC,gBAAA,CACA,cAAA,CACA,iBAAA,CACA,SAAA,CAIA,oCACC,qBAAA,CACA,iBAAA,CACA,sBAAA,CAEA,mEACC,oBAAA,CACA,SAAA,CAGD,2CACC,YAAA,CACA,cAAA,CAEA,+DACC,qBAAA,CACA,2EACC,qBAAA,CAED,0EACC,uBAAA,CAML,yBACC,wBACC,UAAA,CACA,gBAAA,CACA,qBAAA,CAAA,CAGF,yBACC,2CACC,kBAAA,CAAA,CAIF,yBACC,UAAA,CAGD,oEACC,yBAAA,CAGD,0BACC,YAAA,CACA,kBAAA,CACA,wBAAA,CACA,cAAA,CACA,eAAA,CAGD,oBACC,YAAA,CACA,kBAAA,CACA,cAAA,CACA,6BAAA,CACA,kBAAA,CACA,qBAAA,CAEA,2CACC,gBAAA,CAGD,0BACC,gBAAA,CACA,WAAA,CAGD,4CACC,wBAAA,CACA,YAAA,CACA,cAAA,CAEA,oDACC,UAAA,CAKH,wCACC,iBAAA,CAGD,0DACC,iBAAA,CACA,UAAA,CACA,WAAA,CACA,SAAA,CACA,oBAAA,CACA,uBAAA,CACA,0BAAA,CACA,mCAAA,CACA,sBAAA,CACA,oBAAA,CAGD,yDACC,iBAAA,CACA,UAAA,CACA,WAAA,CACA,SAAA,CACA,qBAAA,CACA,uBAAA,CACA,0BAAA,CACA,mCAAA,CACA,sBAAA,CACA,oBAAA,CAGD,qBACC,sBAAA,CAGD,gBACC,SAAA,CACA,UAAA,CACA,6BAAA,CACA,iBAAA,CACA,UAAA,CACA,qBAAA,CACA,iBAAA,CACA,QAAA,CAGD,eACC,UAAA,CAGD,gBACC,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,gBAAA,CACA,OAAA,CACA,eAAA,CACA,sBAAA,CACA,qBAAA\",\"sourcesContent\":[\"\\n.search-messages {\\n\\tborder-bottom: 1px solid var(--color-border);\\n\\tposition: sticky;\\n\\ttop: 0;\\n\\tz-index: 10;\\n\\theight: 52px;\\n\\tbackground-color: var(--color-main-background);\\n\\t&__input {\\n\\t\\tmin-height: 52px;\\n\\t\\tmargin-inline-start: calc(var(--app-navigation-padding) * 2 + var(--default-clickable-area));\\n\\t\\tpadding-inline-end: 3px; /* matches .app-content-list */\\n\\t\\tposition: relative;\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t\\t//important info icon overlaps it while scrolling\\n\\t\\tz-index: 1;\\n\\n\\t\\tinput {\\n\\t\\t\\tflex-grow: 1;\\n\\t\\t}\\n\\n\\t\\t.action-item--single {\\n\\t\\t\\tborder: none;\\n\\t\\t\\tbackground: none;\\n\\t\\t\\ttransition: 0.4s;\\n\\t\\t}\\n\\n\\t\\t.action-item--single:hover {\\n\\t\\t\\ttransition: 0.4s;\\n\\t\\t\\tbackground: var(--color-primary-element);\\n\\t\\t}\\n\\t}\\n}\\n\\n.search-input {\\n\\twidth: 100%;\\n}\\n\\n.checkbox-radio-switch__label {\\n\\tbackground: none !important;\\n\\tpadding: 0 !important;\\n\\tmargin: 0 !important;\\n}\\n\\n.tag-group__search {\\n\\tbox-sizing: border-box;\\n\\tposition: relative;\\n\\tmargin: 3px 3px;\\n\\tpadding: 0 6px;\\n}\\n\\n.tag-group__bg {\\n\\tposition: absolute;\\n\\tinset-inline: 0;\\n\\tbottom: 0;\\n\\ttop: 0;\\n\\topacity: 0.4;\\n\\tborder-radius: 14px;\\n\\tz-index: 1;\\n}\\n\\n.tag-group__label {\\n\\tfont-weight: bold;\\n\\tfont-size: 12px;\\n\\tposition: relative;\\n\\tz-index: 2;\\n}\\n\\n.search-modal {\\n\\t.modal-inner--content {\\n\\t\\tpadding: 16px 0 36px 0;\\n\\t\\toverflow-y: scroll;\\n\\t\\twidth: calc(100% - 2px);\\n\\n\\t\\t.marked-as .modal-inner-inline {\\n\\t\\t\\tdisplay: inline-block;\\n\\t\\t\\twidth: 32%;\\n\\n\\t\\t}\\n\\t\\t.range {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\tflex-wrap: wrap;\\n\\n\\t\\t\\t.modal-inner-inline {\\n\\t\\t\\t\\twidth: calc(50% - 5px);\\n\\t\\t\\t\\t&:first-child {\\n\\t\\t\\t\\t\\tmargin-inline-end: 5px;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t&:last-child {\\n\\t\\t\\t\\t\\tmargin-inline-start: 5px;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n@media (max-width: 420px) {\\n\\t.modal-inner--container {\\n\\t\\twidth: 100%;\\n\\t\\tflex-wrap: nowrap;\\n\\t\\tflex-direction: column;\\n\\t}\\n}\\n@media (max-width: 420px) {\\n\\t.search-modal .modal-inner--content .range {\\n\\t\\tflex-direction: row;\\n\\t}\\n}\\n\\n.multiselect-search-tags {\\n\\twidth: 100%;\\n}\\n\\n.multiselect-search-tags .multiselect__tags .multiselect__tags-wrap {\\n\\tflex-wrap: wrap !important;\\n}\\n\\n.modal-inner-field--right {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: flex-end;\\n\\tpadding: 0 33px;\\n\\tmargin-top: 15px;\\n}\\n\\n.modal-inner--field {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tflex-wrap: wrap;\\n\\tjustify-content: space-between;\\n\\tmargin-bottom: 15px;\\n\\tpadding: 0 12px 0 30px;\\n\\n\\t.checkbox-radio-switch {\\n\\t\\tmargin: 0 8px 0 0;\\n\\t}\\n\\n\\t& > label {\\n\\t\\tfont-weight: bold;\\n\\t\\twidth: 120px;\\n\\t}\\n\\n\\t.modal-inner--container {\\n\\t\\twidth: calc(100% - 120px);\\n\\t\\tdisplay: flex;\\n\\t\\tflex-wrap: wrap;\\n\\n\\t\\t.select {\\n\\t\\t\\twidth: 100%;\\n\\t\\t}\\n\\t}\\n}\\n\\n.modal-wrapper--normal .modal-container {\\n\\tposition: relative\\n}\\n\\n.button-vue.search-messages--filter.button-vue--icon-only {\\n\\tposition: absolute;\\n\\twidth: auto;\\n\\theight: auto;\\n\\tz-index: 5;\\n\\tinset-inline-end: 7px; /* same spacing to the input border as top/bottom */\\n\\tinset-inline-start: auto;\\n\\tbox-shadow: none !important;\\n\\tbackground: transparent !important;\\n\\tborder: none !important;\\n\\tpadding: 0 !important;\\n}\\n\\n.button-vue.search-messages--close.button-vue--icon-only {\\n\\tposition: absolute;\\n\\twidth: auto;\\n\\theight: auto;\\n\\tz-index: 5;\\n\\tinset-inline-end: 35px;\\n\\tinset-inline-start: auto;\\n\\tbox-shadow: none !important;\\n\\tbackground: transparent !important;\\n\\tborder: none !important;\\n\\tpadding: 0 !important;\\n}\\n\\n.button-reset-filter {\\n\\tmargin-inline-end: 10px;\\n}\\n\\n.filter-changed {\\n\\twidth: 6px;\\n\\theight: 6px;\\n\\tbackground: var(--color-error);\\n\\tposition: absolute;\\n\\tz-index: 10;\\n\\tinset-inline-end: 12px;\\n\\tborder-radius: 50%;\\n\\ttop: 12px;\\n}\\n\\n.mx-datepicker {\\n\\twidth:100%;\\n}\\n\\n.filter-buttons {\\n\\tdisplay: flex;\\n\\tjustify-content: center;\\n\\talign-items: center;\\n\\tflex-wrap: nowrap;\\n\\tgap: 4px;\\n\\toverflow: hidden;\\n\\ttext-overflow: ellipsis;\\n\\tpadding: 0 5px 5px 5px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.attachments{width:100%;box-sizing:border-box;position:relative;display:flex;flex-wrap:wrap;margin:10px 0}.attachments-button-wrapper{text-align:center;display:flex;align-items:center}.show-more-attachments{display:flex;align-items:center;cursor:pointer;padding:2px 0;color:var(--color-text-lighter)}.show-more-attachments span{cursor:pointer}.show-more-attachments:hover{color:var(--color-main-text)}@keyframes spin{0%{transform:rotate(0deg)}50%{transform:rotate(180deg)}100%{transform:rotate(360deg)}}.spin{animation:spin 1s linear infinite}.attachment-link{cursor:pointer;display:flex;align-items:center;color:var(--color-text-lighter)}.attachment-link:hover{color:var(--color-main-text)}.attachment-link span{margin:0 4px 0 16px}.oc-dialog{z-index:10000000}.mail-message-attachments{display:flex;flex-wrap:wrap;padding:10px 6px 10px 46px;margin-top:4px;margin-bottom:0;position:sticky;bottom:0;background:linear-gradient(0deg, var(--color-main-background), var(--color-main-background) 90%, rgba(255, 255, 255, 0))}.mail-message-attachments--wrapper{display:flex;width:100%;height:auto;overflow:hidden;max-height:none}.mail-message-attachments--wrapper.hide{display:flex;max-height:70px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/MessageAttachments.vue\"],\"names\":[],\"mappings\":\"AACA,aACC,UAAA,CACG,qBAAA,CACA,iBAAA,CACA,YAAA,CACA,cAAA,CACA,aAAA,CAKJ,4BACC,iBAAA,CACA,YAAA,CACA,kBAAA,CAGD,uBACC,YAAA,CACG,kBAAA,CACH,cAAA,CACA,aAAA,CACA,+BAAA,CAEA,4BACC,cAAA,CAGD,6BACC,4BAAA,CAIF,gBACE,GACE,sBAAA,CAEF,IACE,wBAAA,CAEF,KACE,wBAAA,CAAA,CAIJ,MACE,iCAAA,CAGF,iBACC,cAAA,CACA,YAAA,CACA,kBAAA,CACA,+BAAA,CAEA,uBACC,4BAAA,CAGD,sBACC,mBAAA,CAIF,WACC,gBAAA,CAGD,0BACC,YAAA,CACA,cAAA,CACA,0BAAA,CACA,cAAA,CACA,eAAA,CACA,eAAA,CACA,QAAA,CACA,wHAAA,CAGD,mCACC,YAAA,CACA,UAAA,CACA,WAAA,CACA,eAAA,CACA,eAAA,CAGD,wCACC,YAAA,CACA,eAAA\",\"sourcesContent\":[\"\\n.attachments {\\n\\twidth: 100%;\\n    box-sizing: border-box;\\n    position: relative;\\n    display: flex;\\n    flex-wrap: wrap;\\n    margin: 10px 0;\\n}\\n\\n/* show icon + text for Download all button\\n\\t\\tas well as when there is only one attachment */\\n.attachments-button-wrapper {\\n\\ttext-align: center;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n}\\n\\n.show-more-attachments {\\n\\tdisplay: flex;\\n    align-items: center;\\n\\tcursor: pointer;\\n\\tpadding: 2px 0;\\n\\tcolor: var(--color-text-lighter);\\n\\n\\tspan {\\n\\t\\tcursor: pointer;\\n\\t}\\n\\n\\t&:hover {\\n\\t\\tcolor: var(--color-main-text);\\n\\t}\\n}\\n\\n@keyframes spin {\\n  0% {\\n    transform: rotate(0deg);\\n  }\\n  50% {\\n    transform: rotate(180deg);\\n  }\\n  100% {\\n    transform: rotate(360deg);\\n  }\\n}\\n\\n.spin {\\n  animation: spin 1s linear infinite;\\n}\\n\\n.attachment-link {\\n\\tcursor: pointer;\\n\\tdisplay:flex;\\n\\talign-items: center;\\n\\tcolor: var(--color-text-lighter);\\n\\n\\t&:hover {\\n\\t\\tcolor: var(--color-main-text);\\n\\t}\\n\\n\\tspan {\\n\\t\\tmargin: 0 4px 0 16px;\\n\\t}\\n}\\n\\n.oc-dialog {\\n\\tz-index: 10000000;\\n}\\n\\n.mail-message-attachments {\\n\\tdisplay:flex;\\n\\tflex-wrap: wrap;\\n\\tpadding: 10px 6px 10px 46px;\\n\\tmargin-top: 4px;\\n\\tmargin-bottom: 0;\\n\\tposition:sticky;\\n\\tbottom:0;\\n\\tbackground: linear-gradient(0deg, var(--color-main-background), var(--color-main-background) 90%, rgba(255, 255, 255, 0));\\n}\\n\\n.mail-message-attachments--wrapper {\\n\\tdisplay:flex;\\n\\twidth:100%;\\n\\theight:auto;\\n\\toverflow: hidden;\\n\\tmax-height: none;\\n}\\n\\n.mail-message-attachments--wrapper.hide {\\n\\tdisplay:flex;\\n\\tmax-height: 70px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","/**\n * SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport * as webdav from 'webdav'\nimport axios from '@nextcloud/axios'\nimport memoize from 'lodash/fp/memoize.js'\nimport { generateRemoteUrl } from '@nextcloud/router'\nimport { getCurrentUser } from '@nextcloud/auth'\n\nexport const getClient = memoize((service) => {\n\t// Add this so the server knows it is an request from the browser\n\taxios.defaults.headers['X-Requested-With'] = 'XMLHttpRequest'\n\n\t// force our axios\n\tconst patcher = webdav.getPatcher()\n\tpatcher.patch('request', axios)\n\n\treturn webdav.createClient(\n\t\tgenerateRemoteUrl(`dav/${service}/${getCurrentUser().uid}`),\n\t)\n})\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.message-loading-skeleton[data-v-f20a6902]{display:flex;flex-grow:1;align-items:flex-start;padding:8px;width:100%}.message-loading-skeleton__body[data-v-f20a6902]{max-height:500px;max-width:1200px;flex:1 1 100%;display:flex;flex-direction:column;margin-inline-start:50px}.message-loading-skeleton__body__line-one[data-v-f20a6902],.message-loading-skeleton__body__line-two[data-v-f20a6902],.message-loading-skeleton__body__line-three[data-v-f20a6902],.message-loading-skeleton__body__line-four[data-v-f20a6902],.message-loading-skeleton__body__line-five[data-v-f20a6902],.message-loading-skeleton__body__line-six[data-v-f20a6902]{white-space:nowrap;height:13px;background:linear-gradient(-45deg, var(--color-background-hover), var(--color-background-dark), var(--color-background-darker), var(--color-placeholder-light));background-size:400% 400%;animation:gradient-f20a6902 3s ease-in infinite}.message-loading-skeleton__body__line-one[data-v-f20a6902]{width:10%;margin-bottom:25px}.message-loading-skeleton__body__line-two[data-v-f20a6902]{width:80%;margin-bottom:6px}.message-loading-skeleton__body__line-three[data-v-f20a6902]{width:50%;margin-bottom:6px}.message-loading-skeleton__body__line-four[data-v-f20a6902]{width:70%;margin-bottom:6px}.message-loading-skeleton__body__line-five[data-v-f20a6902]{width:40%;margin-bottom:25px}.message-loading-skeleton__body__line-six[data-v-f20a6902]{width:30%}@keyframes gradient-f20a6902{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/MessageLoadingSkeleton.vue\"],\"names\":[],\"mappings\":\"AAGA,2CACC,YAAA,CACA,WAAA,CACA,sBAAA,CACA,WAAA,CACA,UAAA,CACA,iDACC,gBAAA,CACA,gBAAA,CACA,aAAA,CACA,YAAA,CACA,qBAAA,CACA,wBAAA,CACA,sWAMC,kBAAA,CACA,WAAA,CACA,+JAAA,CACA,yBAAA,CACA,+CAAA,CAED,2DACC,SAAA,CACA,kBAAA,CAED,2DACC,SAAA,CACA,iBAAA,CAED,6DACC,SAAA,CACA,iBAAA,CAED,4DACC,SAAA,CACA,iBAAA,CAED,4DACC,SAAA,CACA,kBAAA,CAED,2DACC,SAAA,CAGF,6BACE,GACC,0BAAA,CAED,IACC,4BAAA,CAED,KACC,0BAAA,CAAA\",\"sourcesContent\":[\"\\n\\n/* skeleton */\\n.message-loading-skeleton {\\n\\tdisplay: flex;\\n\\tflex-grow: 1;\\n\\talign-items: flex-start;\\n\\tpadding: 8px;\\n\\twidth: 100%;\\n\\t&__body {\\n\\t\\tmax-height: 500px;\\n\\t\\tmax-width: 1200px;\\n\\t\\tflex: 1 1 100%;\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\t\\tmargin-inline-start: 50px;\\n\\t\\t&__line-one,\\n\\t\\t&__line-two,\\n\\t\\t&__line-three,\\n\\t\\t&__line-four,\\n\\t\\t&__line-five,\\n\\t\\t&__line-six {\\n\\t\\t\\twhite-space: nowrap;\\n\\t\\t\\theight: 13px;\\n\\t\\t\\tbackground: linear-gradient(-45deg, var(--color-background-hover), var(--color-background-dark), var(--color-background-darker), var(--color-placeholder-light));\\n\\t\\t\\tbackground-size: 400% 400%;\\n\\t\\t\\tanimation: gradient 3s ease-in infinite;\\n\\t\\t}\\n\\t\\t&__line-one {\\n\\t\\t\\twidth: 10%;\\n\\t\\t\\tmargin-bottom: 25px;\\n\\t\\t}\\n\\t\\t&__line-two {\\n\\t\\t\\twidth: 80%;\\n\\t\\t\\tmargin-bottom: 6px;\\n\\t\\t}\\n\\t\\t&__line-three {\\n\\t\\t\\twidth: 50%;\\n\\t\\t\\tmargin-bottom: 6px;\\n\\t\\t}\\n\\t\\t&__line-four {\\n\\t\\t\\twidth: 70%;\\n\\t\\t\\tmargin-bottom: 6px;\\n\\t\\t}\\n\\t\\t&__line-five {\\n\\t\\t\\twidth: 40%;\\n\\t\\t\\tmargin-bottom: 25px;\\n\\t\\t}\\n\\t\\t&__line-six {\\n\\t\\t\\twidth: 30%;\\n\\t\\t}\\n\\t}\\n\\t@keyframes gradient {\\n\\t\\t 0% {\\n\\t\\t\\t background-position: 0% 50%;\\n\\t\\t }\\n\\t\\t 50% {\\n\\t\\t\\t background-position: 100% 50%;\\n\\t\\t }\\n\\t\\t 100% {\\n\\t\\t\\t background-position: 0% 50%;\\n\\t\\t }\\n\\t }\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.loading || !_vm.hasAvatar)?_c('NcAvatar',{attrs:{\"display-name\":_vm.displayName,\"size\":_vm.size,\"disable-tooltip\":_vm.disableTooltip}}):_c('NcAvatar',{attrs:{\"display-name\":_vm.displayName,\"url\":_vm.avatarUrl,\"size\":_vm.size,\"disable-tooltip\":_vm.disableTooltip}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<NcAvatar v-if=\"loading || !hasAvatar\"\n\t\t:display-name=\"displayName\"\n\t\t:size=\"size\"\n\t\t:disable-tooltip=\"disableTooltip\" />\n\t<NcAvatar v-else\n\t\t:display-name=\"displayName\"\n\t\t:url=\"avatarUrl\"\n\t\t:size=\"size\"\n\t\t:disable-tooltip=\"disableTooltip\" />\n</template>\n\n<script>\nimport NcAvatar from '@nextcloud/vue/components/NcAvatar'\nimport { generateUrl } from '@nextcloud/router'\nimport { fetchAvatarUrlMemoized } from '../service/AvatarService.js'\nimport logger from '../logger.js'\n\nexport default {\n\tname: 'Avatar',\n\tcomponents: {\n\t\tNcAvatar,\n\t},\n\tprops: {\n\t\tdisplayName: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tavatar: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t\tfetchAvatar: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\temail: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tdisableTooltip: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tsize: {\n\t\t\ttype: Number,\n\t\t\tdefault: 40,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tloading: true,\n\t\t\tavatarUrl: undefined,\n\t\t}\n\t},\n\tcomputed: {\n\t\thasAvatar() {\n\t\t\treturn this.avatarUrl !== undefined\n\t\t},\n\t},\n\tasync mounted() {\n\t\tif (this.avatar) {\n\t\t\tthis.avatarUrl = this.avatar.isExternal\n\t\t\t\t? generateUrl('/apps/mail/api/avatars/image/{email}', {\n\t\t\t\t\temail: this.email,\n\t\t\t\t})\n\t\t\t\t: this.avatar.url\n\t\t} else if (this.fetchAvatar) {\n\t\t\tif (this.email !== '') {\n\t\t\t\ttry {\n\t\t\t\t\tthis.avatarUrl = await fetchAvatarUrlMemoized(this.email)\n\t\t\t\t} catch {\n\t\t\t\t\tlogger.debug('Could not fetch avatar', { email: this.email })\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.loading = false\n\t},\n}\n</script>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Avatar.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Avatar.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Avatar.vue?vue&type=template&id=5e19f631\"\nimport script from \"./Avatar.vue?vue&type=script&lang=js\"\nexport * from \"./Avatar.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.user-bubble__title[data-v-ede1b5f6]{max-width:30vw}.contact-menu[data-v-ede1b5f6]{display:flex;flex-wrap:wrap}.contact-popover[data-v-ede1b5f6]{display:flex}.contact-popover__email[data-v-ede1b5f6]{text-align:center}.contact-wrapper[data-v-ede1b5f6]{padding:10px;min-width:300px}.contact-wrapper a[data-v-ede1b5f6]{opacity:.7}.contact-wrapper a[data-v-ede1b5f6]:hover{opacity:1}.contact-input-wrapper[data-v-ede1b5f6]{margin-top:10px;margin-bottom:10px}.contact-input-wrapper input[data-v-ede1b5f6]{width:100%}.contact-existing[data-v-ede1b5f6]{font-size:small !important}[data-v-ede1b5f6] .button-vue__text{font-weight:normal !important}[data-v-ede1b5f6] .vs__dropdown-menu{max-height:100px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/RecipientBubble.vue\"],\"names\":[],\"mappings\":\"AACA,qCACC,cAAA,CAGD,+BACC,YAAA,CACA,cAAA,CAGD,kCACC,YAAA,CAEA,yCACC,iBAAA,CAIF,kCACC,YAAA,CACA,eAAA,CAEA,oCACC,UAAA,CAED,0CACC,SAAA,CAIF,wCACC,eAAA,CACG,kBAAA,CACH,8CACC,UAAA,CAIF,mCACC,0BAAA,CAGD,oCACC,6BAAA,CAGD,qCAEC,gBAAA\",\"sourcesContent\":[\"\\n.user-bubble__title {\\n\\tmax-width: 30vw;\\n}\\n\\n.contact-menu {\\n\\tdisplay: flex;\\n\\tflex-wrap: wrap;\\n}\\n\\n.contact-popover {\\n\\tdisplay: flex;\\n\\n\\t&__email {\\n\\t\\ttext-align: center;\\n\\t}\\n}\\n\\n.contact-wrapper {\\n\\tpadding:10px;\\n\\tmin-width: 300px;\\n\\n\\ta {\\n\\t\\topacity: 0.7;\\n\\t}\\n\\ta:hover {\\n\\t\\topacity: 1;\\n\\t}\\n}\\n\\n.contact-input-wrapper {\\n\\tmargin-top: 10px;\\n    margin-bottom: 10px;\\n\\tinput {\\n\\t\\twidth: 100%;\\n\\t}\\n}\\n\\n.contact-existing {\\n\\tfont-size: small !important;\\n}\\n\\n:deep(.button-vue__text) {\\n\\tfont-weight: normal !important;\\n}\\n\\n:deep(.vs__dropdown-menu) {\\n\\t// Make the dropdown scrollable\\n\\tmax-height: 100px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `[data-v-839f574c] .modal-content{padding:20px 20px 20px 20px;max-height:calc(100vh - 210px);overflow-y:auto}[data-v-839f574c] .modal-container{width:auto !important}.icon-colorpicker[data-v-839f574c]{background-image:var(--icon-add-fff)}.tagButton[data-v-839f574c]{display:inline-block;margin-inline-start:10px}.tag-title[data-v-839f574c]{margin-top:20px;margin-inline-start:10px}.create-tag[data-v-839f574c]{list-style:none;margin-bottom:12px}@media only screen and (max-width: 512px){[data-v-839f574c] .modal-container{top:100px !important;max-height:calc(100vh - 170px) !important}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/TagModal.vue\"],\"names\":[],\"mappings\":\"AACA,iCACC,2BAAA,CACA,8BAAA,CACA,eAAA,CAGD,mCACC,qBAAA,CAGD,mCACC,oCAAA,CAGD,4BACC,oBAAA,CACA,wBAAA,CAGD,4BACC,eAAA,CACA,wBAAA,CAGD,6BACC,eAAA,CACA,kBAAA,CAED,0CACC,mCACA,oBAAA,CACA,yCAAA,CAAA\",\"sourcesContent\":[\"\\n:deep(.modal-content) {\\n\\tpadding: 20px 20px 20px 20px;\\n\\tmax-height: calc(100vh - 210px);\\n\\toverflow-y: auto;\\n}\\n\\n:deep(.modal-container) {\\n\\twidth: auto !important;\\n}\\n\\n.icon-colorpicker {\\n\\tbackground-image: var(--icon-add-fff);\\n}\\n\\n.tagButton {\\n\\tdisplay: inline-block;\\n\\tmargin-inline-start: 10px;\\n}\\n\\n.tag-title {\\n\\tmargin-top: 20px;\\n\\tmargin-inline-start: 10px;\\n}\\n\\n.create-tag {\\n\\tlist-style: none;\\n\\tmargin-bottom:12px;\\n}\\n@media only screen and (max-width: 512px) {\\n\\t:deep(.modal-container) {\\n\\ttop: 100px !important;\\n\\tmax-height: calc(100vh - 170px) !important\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.nameimportant[data-v-6982650e] #load-more-mail-messages{margin-top:0}.empty-content[data-v-6982650e]{height:100%;display:flex;justify-content:center}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Mailbox.vue\"],\"names\":[],\"mappings\":\"AAGC,yDACC,YAAA,CAIF,gCACC,WAAA,CACA,YAAA,CACA,sBAAA\",\"sourcesContent\":[\"\\n// Fix vertical space between sections in priority inbox\\n.nameimportant {\\n\\t:deep(#load-more-mail-messages) {\\n\\t\\tmargin-top: 0;\\n\\t}\\n}\\n\\n.empty-content {\\n\\theight: 100%;\\n\\tdisplay: flex;\\n\\tjustify-content: center;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n#mail-content[data-v-4cdc070e] {\n\theight: 450px;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/MessageEncryptedBody.vue\"],\"names\":[],\"mappings\":\";AAkDA;CACA,aAAA;AACA\",\"sourcesContent\":[\"<!--\\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\\n  - SPDX-License-Identifier: AGPL-3.0-or-later\\n-->\\n<template>\\n\\t<div>\\n\\t\\t<div v-if=\\\"mailvelope\\\" id=\\\"mail-content\\\">\\n\\t\\t\\t<MdnRequest :message=\\\"message\\\" />\\n\\t\\t</div>\\n\\t\\t<span v-else>{{ t('mail', 'This message is encrypted with PGP. Install Mailvelope to decrypt it.') }}</span>\\n\\t</div>\\n</template>\\n\\n<script>\\nimport { getMailvelope } from '../crypto/mailvelope.js'\\nimport MdnRequest from './MdnRequest.vue'\\n\\nexport default {\\n\\tname: 'MessageEncryptedBody',\\n\\tcomponents: { MdnRequest },\\n\\tprops: {\\n\\t\\tbody: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tfrom: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\trequired: false,\\n\\t\\t\\tdefault: undefined,\\n\\t\\t},\\n\\t\\tmessage: {\\n\\t\\t\\trequired: true,\\n\\t\\t\\ttype: Object,\\n\\t\\t},\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tmailvelope: false,\\n\\t\\t}\\n\\t},\\n\\tasync mounted() {\\n\\t\\tthis.mailvelope = await getMailvelope()\\n\\t\\tthis.mailvelope.createDisplayContainer('#mail-content', this.body, undefined, {\\n\\t\\t\\tsenderAddress: this.from,\\n\\t\\t})\\n\\t},\\n}\\n</script>\\n\\n<style scoped>\\n#mail-content {\\n\\theight: 450px;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.list-item-content__actions--primary {\n\tdisplay: flex;\n\tjustify-content: space-between;\n}\n.list-item-content__actions--primary .action--primary .action-button {\n\talign-items: center;\n\tflex-direction: column;\n\tpadding: 10px 10px 0 10px;\n\tgap: 10px;\n.material-design-icon {\n\t\tmargin-bottom: -15px;\n}\n}\n.list-item-content__actions--primary .action--primary .action-button__text,\n.list-item-content__actions--primary .action--primary .action-button__icon {\n\theight: auto;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/EnvelopePrimaryActions.vue\"],\"names\":[],\"mappings\":\";AAiBA;CACA,aAAA;CACA,8BAAA;AACA;AAEA;CACA,mBAAA;CACA,sBAAA;CACA,yBAAA;CACA,SAAA;AAEA;EACA,oBAAA;AACA;AACA;AAEA;;CAEA,YAAA;AACA\",\"sourcesContent\":[\"<!--\\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\\n  - SPDX-License-Identifier: AGPL-3.0-or-later\\n-->\\n<template>\\n\\t<ul class=\\\"list-item-content__actions--primary\\\">\\n\\t\\t<slot />\\n\\t</ul>\\n</template>\\n\\n<script>\\nexport default {\\n\\tname: 'EnvelopePrimaryActions',\\n}\\n</script>\\n\\n<style>\\n.list-item-content__actions--primary {\\n\\tdisplay: flex;\\n\\tjustify-content: space-between;\\n}\\n\\n.list-item-content__actions--primary .action--primary .action-button {\\n\\talign-items: center;\\n\\tflex-direction: column;\\n\\tpadding: 10px 10px 0 10px;\\n\\tgap: 10px;\\n\\n\\t.material-design-icon {\\n\\t\\tmargin-bottom: -15px;\\n\\t}\\n}\\n\\n.list-item-content__actions--primary .action--primary .action-button__text,\\n.list-item-content__actions--primary .action--primary .action-button__icon {\\n\\theight: auto;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.external[data-v-e03f33f0]{background-color:var(--color-error) !important}.external[data-v-e03f33f0] .option__lineone{color:var(--color-primary-text) !important}.ncselect__tag--recipient[data-v-e03f33f0]{padding:0;border-radius:25px;border-color:rgba(0,0,0,0);background-color:var(--color-background-dark);height:24px;max-width:100%;display:flex}.ncselect__tag--recipient>span.option[data-v-e03f33f0]{margin-inline-start:0}.delete-recipient[data-v-e03f33f0]{display:inline-flex;align-items:center;justify-content:center;cursor:pointer;height:24px;width:24px;min-width:24px;margin-inline-start:6px;border-radius:50%;flex-shrink:0}.delete-recipient[data-v-e03f33f0]:hover{background:var(--color-background-darker)}.option[data-v-e03f33f0]{flex-shrink:1;overflow:hidden;width:unset}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/RecipientListItem.vue\"],\"names\":[],\"mappings\":\"AACA,2BACC,8CAAA,CACA,4CACC,0CAAA,CAIF,2CACC,SAAA,CACA,kBAAA,CACA,0BAAA,CACA,6CAAA,CACA,WAAA,CACA,cAAA,CACA,YAAA,CAEA,uDACC,qBAAA,CAIF,mCACC,mBAAA,CACA,kBAAA,CACA,sBAAA,CACA,cAAA,CACA,WAAA,CACA,UAAA,CACA,cAAA,CACA,uBAAA,CACA,iBAAA,CACA,aAAA,CAEA,yCACC,yCAAA,CAIF,yBACC,aAAA,CACA,eAAA,CACA,WAAA\",\"sourcesContent\":[\"\\n.external {\\n\\tbackground-color: var(--color-error) !important;\\n\\t:deep(.option__lineone){\\n\\t\\tcolor: var(--color-primary-text) !important;\\n\\t}\\n}\\n\\n.ncselect__tag--recipient {\\n\\tpadding: 0 ;\\n\\tborder-radius: 25px;\\n\\tborder-color: transparent;\\n\\tbackground-color: var(--color-background-dark);\\n\\theight: 24px;\\n\\tmax-width: 100%;\\n\\tdisplay: flex;\\n\\n\\t& > span.option {\\n\\t\\tmargin-inline-start: 0\\n\\t}\\n}\\n\\n.delete-recipient {\\n\\tdisplay: inline-flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\tcursor: pointer;\\n\\theight: 24px;\\n\\twidth: 24px;\\n\\tmin-width: 24px;\\n\\tmargin-inline-start: 6px;\\n\\tborder-radius: 50%;\\n\\tflex-shrink: 0;\\n\\n\\t&:hover {\\n\\t\\tbackground: var(--color-background-darker);\\n\\t}\\n}\\n\\n.option {\\n\\tflex-shrink: 1;\\n\\toverflow: hidden;\\n\\twidth: unset;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `[data-v-f171dd56] .modal-wrapper .modal-container{width:calc(100vw - 120px) !important;height:calc(100vh - 120px) !important;max-width:590px !important;max-height:600px !important}.modal-content[data-v-f171dd56]{padding:10px 30px 20px !important}.modal-content__calendar-picker[data-v-f171dd56]{display:block}.modal-content__description-input[data-v-f171dd56]{width:100%;resize:vertical}input[data-v-f171dd56]{width:100%}[data-v-f171dd56] input[type=\"text\"]{padding:0 !important}.all-day[data-v-f171dd56]{margin-inline-start:-1px;margin-top:5px;margin-bottom:5px}.eventTitle[data-v-f171dd56]{margin-bottom:5px}.primary[data-v-f171dd56]{float:inline-end}[data-v-f171dd56] .mx-datepicker{width:213px}.vs__search[data-v-f171dd56]{width:100%}.attendees-disabled-msg[data-v-f171dd56]{display:inline-block}.attendees-field[data-v-f171dd56]{padding-bottom:10px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/EventModal.vue\"],\"names\":[],\"mappings\":\"AACA,kDACC,oCAAA,CACA,qCAAA,CACA,0BAAA,CACA,2BAAA,CAGD,gCACC,iCAAA,CAEA,iDACC,aAAA,CAED,mDACC,UAAA,CACA,eAAA,CAIF,uBACC,UAAA,CAGD,qCACC,oBAAA,CAGD,0BACC,wBAAA,CACA,cAAA,CACA,iBAAA,CAGD,6BACC,iBAAA,CAGD,0BACC,gBAAA,CAGD,iCACC,WAAA,CAGD,6BACC,UAAA,CAGD,yCACC,oBAAA,CAGD,kCACC,mBAAA\",\"sourcesContent\":[\"\\n:deep(.modal-wrapper .modal-container) {\\n\\twidth: calc(100vw - 120px) !important;\\n\\theight: calc(100vh - 120px) !important;\\n\\tmax-width: 590px !important;\\n\\tmax-height: 600px !important;\\n}\\n\\n.modal-content {\\n\\tpadding: 10px 30px 20px !important;\\n\\n\\t&__calendar-picker {\\n\\t\\tdisplay: block;\\n\\t}\\n\\t&__description-input {\\n\\t\\twidth: 100%;\\n\\t\\tresize: vertical;\\n\\t}\\n}\\n\\ninput {\\n\\twidth: 100%;\\n}\\n\\n:deep(input[type='text']) {\\n\\tpadding: 0 !important;\\n}\\n\\n.all-day {\\n\\tmargin-inline-start: -1px;\\n\\tmargin-top: 5px;\\n\\tmargin-bottom: 5px;\\n}\\n\\n.eventTitle {\\n\\tmargin-bottom: 5px;\\n}\\n\\n.primary {\\n\\tfloat: inline-end;\\n}\\n\\n:deep(.mx-datepicker) {\\n\\twidth: 213px;\\n}\\n\\n.vs__search {\\n\\twidth: 100%;\\n}\\n\\n.attendees-disabled-msg {\\n\\tdisplay: inline-block;\\n}\\n\\n.attendees-field {\\n\\tpadding-bottom: 10px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `[data-v-764c6f5c] .button-vue--vue-secondary{box-shadow:none}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Outbox.vue\"],\"names\":[],\"mappings\":\"AACA,6CACC,eAAA\",\"sourcesContent\":[\"\\n:deep(.button-vue--vue-secondary) {\\n\\tbox-shadow: none;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.item-list__entry[data-v-42cebb20]{display:flex;align-items:flex-start;padding:8px}.item-list__entry .item-avatar[data-v-42cebb20]{position:relative;top:4px;border-radius:50px;width:44px;height:44px;background:linear-gradient(-45deg, var(--color-background-hover), var(--color-background-dark), var(--color-background-darker), var(--color-placeholder-light));background-size:400% 400%;animation:gradient-42cebb20 3s ease-in infinite}.item-list__entry .item__details[data-v-42cebb20]{padding-inline-start:8px;max-height:70px;flex-grow:1;display:flex;flex-direction:column}.item-list__entry .item__details h3[data-v-42cebb20],.item-list__entry .item__details .message.message-preview[data-v-42cebb20]{white-space:nowrap;background-color:var(--color-background-hover)}.item-list__entry .item__details h3[data-v-42cebb20]{font-size:100%;margin:0;background:linear-gradient(-45deg, var(--color-background-hover), var(--color-background-dark), var(--color-background-darker), var(--color-placeholder-light));background-size:400% 400%;animation:gradient-42cebb20 3s ease-in infinite;width:40%;height:15px}.item-list__entry .item__details .message-preview[data-v-42cebb20]{width:100%;height:15px;margin-top:5px;background:linear-gradient(-45deg, var(--color-background-hover), var(--color-background-dark), var(--color-background-darker), var(--color-placeholder-light));background-size:400% 400%;animation:gradient-42cebb20 3s ease-in infinite}.item-list__entry .item__details .message[data-v-42cebb20]{width:70%;height:15px;margin-top:5px;background:linear-gradient(-45deg, var(--color-background-hover), var(--color-background-dark), var(--color-background-darker), var(--color-placeholder-light));background-size:400% 400%;animation:gradient-42cebb20 3s ease-in infinite}@keyframes gradient-42cebb20{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/LoadingSkeleton.vue\"],\"names\":[],\"mappings\":\"AAGA,mCACC,YAAA,CACA,sBAAA,CACA,WAAA,CACA,gDACC,iBAAA,CACA,OAAA,CACA,kBAAA,CACA,UAAA,CACA,WAAA,CACA,+JAAA,CACA,yBAAA,CACA,+CAAA,CAED,kDACC,wBAAA,CACA,eAAA,CACA,WAAA,CACA,YAAA,CACA,qBAAA,CACA,gIAEC,kBAAA,CACA,8CAAA,CAED,qDACC,cAAA,CACA,QAAA,CACA,+JAAA,CACA,yBAAA,CACA,+CAAA,CACA,SAAA,CACA,WAAA,CAED,mEACC,UAAA,CACA,WAAA,CACA,cAAA,CACA,+JAAA,CACA,yBAAA,CACA,+CAAA,CAED,2DACC,SAAA,CACA,WAAA,CACA,cAAA,CACA,+JAAA,CACA,yBAAA,CACA,+CAAA,CAGF,6BACC,GACC,0BAAA,CAED,IACC,4BAAA,CAED,KACC,0BAAA,CAAA\",\"sourcesContent\":[\"\\n\\n/* skeleton */\\n.item-list__entry {\\n\\tdisplay: flex;\\n\\talign-items: flex-start;\\n\\tpadding: 8px;\\n\\t.item-avatar {\\n\\t\\tposition: relative;\\n\\t\\ttop: 4px;\\n\\t\\tborder-radius: 50px;\\n\\t\\twidth: 44px;\\n\\t\\theight: 44px;\\n\\t\\tbackground: linear-gradient(-45deg, var(--color-background-hover), var(--color-background-dark), var(--color-background-darker), var(--color-placeholder-light));\\n\\t\\tbackground-size: 400% 400%;\\n\\t\\tanimation: gradient 3s ease-in infinite;\\n\\t}\\n\\t.item__details {\\n\\t\\tpadding-inline-start: 8px;\\n\\t\\tmax-height: 70px;\\n\\t\\tflex-grow: 1;\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\t\\th3,\\n\\t\\t.message.message-preview {\\n\\t\\t\\twhite-space: nowrap;\\n\\t\\t\\tbackground-color: var(--color-background-hover);\\n\\t\\t}\\n\\t\\th3 {\\n\\t\\t\\tfont-size: 100%;\\n\\t\\t\\tmargin: 0;\\n\\t\\t\\tbackground: linear-gradient(-45deg, var(--color-background-hover), var(--color-background-dark), var(--color-background-darker), var(--color-placeholder-light));\\n\\t\\t\\tbackground-size: 400% 400%;\\n\\t\\t\\tanimation: gradient 3s ease-in infinite;\\n\\t\\t\\twidth: 40%;\\n\\t\\t\\theight: 15px;\\n\\t\\t}\\n\\t\\t.message-preview {\\n\\t\\t\\twidth: 100%;\\n\\t\\t\\theight: 15px;\\n\\t\\t\\tmargin-top: 5px;\\n\\t\\t\\tbackground: linear-gradient(-45deg, var(--color-background-hover), var(--color-background-dark), var(--color-background-darker), var(--color-placeholder-light));\\n\\t\\t\\tbackground-size: 400% 400%;\\n\\t\\t\\tanimation: gradient 3s ease-in infinite;\\n\\t\\t}\\n\\t\\t.message {\\n\\t\\t\\twidth: 70%;\\n\\t\\t\\theight: 15px;\\n\\t\\t\\tmargin-top: 5px;\\n\\t\\t\\tbackground: linear-gradient(-45deg, var(--color-background-hover), var(--color-background-dark), var(--color-background-darker), var(--color-placeholder-light));\\n\\t\\t\\tbackground-size: 400% 400%;\\n\\t\\t\\tanimation: gradient 3s ease-in infinite;\\n\\t\\t}\\n\\t}\\n\\t@keyframes gradient {\\n\\t\\t0% {\\n\\t\\t\\tbackground-position: 0% 50%;\\n\\t\\t}\\n\\t\\t50% {\\n\\t\\t\\tbackground-position: 100% 50%;\\n\\t\\t}\\n\\t\\t100% {\\n\\t\\t\\tbackground-position: 0% 50%;\\n\\t\\t}\\n\\t}\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.mail-message-has-mdn-request[data-v-240bd3b7]{white-space:normal}.notify-button[data-v-240bd3b7]{display:inline-block}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/MdnRequest.vue\"],\"names\":[],\"mappings\":\"AACA,+CACC,kBAAA,CAGD,gCACC,oBAAA\",\"sourcesContent\":[\"\\n.mail-message-has-mdn-request {\\n\\twhite-space: normal;\\n}\\n\\n.notify-button {\\n\\tdisplay: inline-block;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.confirm-modal[data-v-381b722b]{padding:20px}.confirm-modal__buttons[data-v-381b722b]{display:flex;justify-content:space-between}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/ConfirmationModal.vue\"],\"names\":[],\"mappings\":\"AACA,gCACC,YAAA,CAEA,yCACC,YAAA,CACA,6BAAA\",\"sourcesContent\":[\"\\n.confirm-modal {\\n\\tpadding: 20px;\\n\\n\\t&__buttons {\\n\\t\\tdisplay: flex;\\n\\t\\tjustify-content: space-between;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.reservation[data-v-6b4c380e] {\n\tdisplay: flex;\n\tflex-direction: row;\n\tmargin: 30px 38px;\n\tborder: 1px solid var(--color-border);\n\tborder-radius: var(--border-radius);\n\tpadding: 20px;\n\talign-items: center;\n}\n.event[data-v-6b4c380e] {\n\tflex-grow: 1;\n}\n.event-name[data-v-6b4c380e] {\n\tfont-size: larger;\n\tfont-weight: bold;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/itinerary/EventReservation.vue\"],\"names\":[],\"mappings\":\";AAoIA;CACA,aAAA;CACA,mBAAA;CACA,iBAAA;CACA,qCAAA;CACA,mCAAA;CACA,aAAA;CACA,mBAAA;AACA;AAEA;CACA,YAAA;AACA;AAEA;CACA,iBAAA;CACA,iBAAA;AACA\",\"sourcesContent\":[\"<!--\\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\\n  - SPDX-License-Identifier: AGPL-3.0-or-later\\n-->\\n\\n<template>\\n\\t<div class=\\\"reservation\\\">\\n\\t\\t<div class=\\\"event\\\">\\n\\t\\t\\t<div class=\\\"event-name\\\">\\n\\t\\t\\t\\t{{ eventName }}\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-if=\\\"location\\\" class=\\\"venue\\\">\\n\\t\\t\\t\\t{{ location }}\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-if=\\\"date\\\">\\n\\t\\t\\t\\t{{ date }}\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-if=\\\"time\\\">\\n\\t\\t\\t\\t{{ time }}\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<CalendarImport v-if=\\\"canImport\\\" :calendars=\\\"calendars\\\" :handler=\\\"handleImport\\\" />\\n\\t</div>\\n</template>\\n\\n<script>\\nimport ical from 'ical.js'\\nimport md5 from 'md5'\\nimport moment from '@nextcloud/moment'\\nimport { showError, showSuccess } from '@nextcloud/dialogs'\\n\\nimport CalendarImport from './CalendarImport.vue'\\nimport { importCalendarEvent } from '../../service/DAVService.js'\\nimport logger from '../../logger.js'\\n\\nexport default {\\n\\tname: 'EventReservation',\\n\\tcomponents: { CalendarImport },\\n\\tprops: {\\n\\t\\tdata: {\\n\\t\\t\\ttype: Object,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tcalendars: {\\n\\t\\t\\ttype: Array,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tmessageId: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t},\\n\\tcomputed: {\\n\\t\\teventName() {\\n\\t\\t\\treturn this.data.reservationFor.name\\n\\t\\t},\\n\\t\\ttime() {\\n\\t\\t\\tif (!('startDate' in this.data.reservationFor)) {\\n\\t\\t\\t\\treturn\\n\\t\\t\\t}\\n\\t\\t\\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.startDate)).format('LT')\\n\\t\\t},\\n\\t\\tdate() {\\n\\t\\t\\tif (!('startDate' in this.data.reservationFor)) {\\n\\t\\t\\t\\treturn\\n\\t\\t\\t}\\n\\t\\t\\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.startDate)).format('L')\\n\\t\\t},\\n\\t\\tlocation() {\\n\\t\\t\\tif (!('location' in this.data.reservationFor) || !('name' in this.data.reservationFor.location)) {\\n\\t\\t\\t\\treturn\\n\\t\\t\\t}\\n\\t\\t\\treturn this.data.reservationFor.location.name\\n\\t\\t},\\n\\t\\tcanImport() {\\n\\t\\t\\treturn 'startDate' in this.data.reservationFor\\n\\t\\t},\\n\\t},\\n\\tmethods: {\\n\\t\\tgetEndDateTime(event) {\\n\\t\\t\\tif ('endDate' in this.data.reservationFor) {\\n\\t\\t\\t\\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.endDate)).format()\\n\\t\\t\\t} else if ('startDate' in this.data.reservationFor) {\\n\\t\\t\\t\\t// Assume it's 2h and user will adjust if necessary\\n\\t\\t\\t\\t// TODO: handle 'duration' https://schema.org/Event\\n\\t\\t\\t\\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.startDate)).add(2, 'hours').format()\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\thandleImport(calendar) {\\n\\t\\t\\tconst event = new ical.Component('VEVENT')\\n\\t\\t\\tevent.updatePropertyWithValue('SUMMARY', this.eventName)\\n\\n\\t\\t\\tconst start = moment(CalendarImport.itineraryDateTime(this.data.reservationFor.startDate)).format()\\n\\t\\t\\tevent.updatePropertyWithValue('DTSTART', ical.Time.fromDateTimeString(start))\\n\\t\\t\\tconst end = this.getEndDateTime(this.data.reservationFor)\\n\\t\\t\\tevent.updatePropertyWithValue('DTEND', ical.Time.fromDateTimeString(end))\\n\\n\\t\\t\\tif ('location' in this.data.reservationFor) {\\n\\t\\t\\t\\tevent.updatePropertyWithValue('LOCATION', this.data.reservationFor.location.name)\\n\\t\\t\\t\\tif ('geo' in this.data.reservationFor.location) {\\n\\t\\t\\t\\t\\t// https://www.kanzaki.com/docs/ical/geo.html\\n\\t\\t\\t\\t\\tevent.updatePropertyWithValue(\\n\\t\\t\\t\\t\\t\\t'GEO',\\n\\t\\t\\t\\t\\t\\t`${this.data.reservationFor.location.geo.latitude};${this.data.reservationFor.location.geo.longitude}`,\\n\\t\\t\\t\\t\\t)\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// TODO: read version from package.json\\n\\t\\t\\tevent.updatePropertyWithValue('PRODID', 'Nextcloud Mail')\\n\\n\\t\\t\\t// TODO: is this free of collisions? the bug reports will tell us!\\n\\t\\t\\tevent.updatePropertyWithValue('UID', md5(this.messageId + this.eventName))\\n\\n\\t\\t\\tconst cal = new ical.Component('VCALENDAR')\\n\\t\\t\\tcal.addSubcomponent(event)\\n\\t\\t\\tlogger.debug('generated calendar event from event reservation data', { ical: cal.toString() })\\n\\t\\t\\treturn importCalendarEvent(calendar.url)(cal.toString())\\n\\t\\t\\t\\t.then(() => {\\n\\t\\t\\t\\t\\tlogger.debug('event successfully imported')\\n\\t\\t\\t\\t\\tshowSuccess(t('mail', 'Event imported into {calendar}', { calendar: calendar.displayname }))\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\t.catch((error) => {\\n\\t\\t\\t\\t\\tlogger.error('Could not import event', { error })\\n\\t\\t\\t\\t\\tshowError(t('mail', 'Could not create event'))\\n\\t\\t\\t\\t})\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n\\n<style scoped>\\n.reservation {\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\tmargin: 30px 38px;\\n\\tborder: 1px solid var(--color-border);\\n\\tborder-radius: var(--border-radius);\\n\\tpadding: 20px;\\n\\talign-items: center;\\n}\\n\\n.event {\\n\\tflex-grow: 1;\\n}\\n\\n.event-name {\\n\\tfont-size: larger;\\n\\tfont-weight: bold;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.translate-dialog[data-v-7b7cbb5d] .dialog__content{position:relative;display:flex;flex-direction:column;gap:calc(var(--default-grid-baseline)*2);min-height:300px;padding-bottom:calc(var(--default-grid-baseline)*3)}.translate-dialog__wrapper[data-v-7b7cbb5d]{display:flex;align-items:center;gap:calc(var(--default-grid-baseline)*4)}.translate-dialog .translate-dialog__select[data-v-7b7cbb5d]{width:50%}.translate-dialog__button[data-v-7b7cbb5d]{flex-shrink:0;margin-inline-start:auto}.translate-dialog__message[data-v-7b7cbb5d]{padding:calc(var(--default-grid-baseline)*2);flex-grow:1;border-radius:var(--border-radius-large)}.translate-dialog__message-source[data-v-7b7cbb5d]{color:var(--color-text-maxcontrast);border:2px solid var(--color-border)}.translate-dialog__message-translation[data-v-7b7cbb5d]{border:2px solid var(--color-primary-element)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/TranslationModal.vue\"],\"names\":[],\"mappings\":\"AAEC,oDACC,iBAAA,CACA,YAAA,CACA,qBAAA,CACA,wCAAA,CACA,gBAAA,CACA,mDAAA,CAGD,4CACC,YAAA,CACA,kBAAA,CACA,wCAAA,CAGD,6DACC,SAAA,CAGD,2CACC,aAAA,CACA,wBAAA,CAGD,4CACC,4CAAA,CACA,WAAA,CACA,wCAAA,CAEA,mDACC,mCAAA,CACA,oCAAA,CAGD,wDACC,6CAAA\",\"sourcesContent\":[\"\\n.translate-dialog {\\n\\t:deep(.dialog__content) {\\n\\t\\tposition: relative;\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\t\\tgap: calc(var(--default-grid-baseline) * 2);\\n\\t\\tmin-height: 300px;\\n\\t\\tpadding-bottom: calc(var(--default-grid-baseline) * 3);\\n\\t}\\n\\n\\t&__wrapper {\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t\\tgap: calc(var(--default-grid-baseline) * 4);\\n\\t}\\n\\n\\t& &__select {\\n\\t\\twidth: 50%;\\n\\t}\\n\\n\\t&__button {\\n\\t\\tflex-shrink: 0;\\n\\t\\tmargin-inline-start: auto;\\n\\t}\\n\\n\\t&__message {\\n\\t\\tpadding: calc(var(--default-grid-baseline) * 2);\\n\\t\\tflex-grow: 1;\\n\\t\\tborder-radius: var(--border-radius-large);\\n\\n\\t\\t&-source {\\n\\t\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\t\\tborder: 2px solid var(--color-border);\\n\\t\\t}\\n\\n\\t\\t&-translation {\\n\\t\\t\\tborder: 2px solid var(--color-primary-element);\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","/**\n * SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport memoize from 'lodash/fp/memoize.js'\nimport Axios from '@nextcloud/axios'\nimport { generateUrl } from '@nextcloud/router'\n\nexport const fetchAvatarUrl = (email) => {\n\tif (email === null) {\n\t\treturn Promise.resolve(undefined)\n\t}\n\n\tconst url = generateUrl('/apps/mail/api/avatars/url/{email}', {\n\t\temail,\n\t})\n\n\treturn Axios.get(url, { adapter: 'fetch', fetchOptions: { priority: 'low' } })\n\t\t.then(res => {\n\t\t\tif (res.status === 204) {\n\t\t\t\treturn undefined\n\t\t\t}\n\n\t\t\tif (res.data.isExternal) {\n\t\t\t\treturn generateUrl('/apps/mail/api/avatars/image/{email}', {\n\t\t\t\t\temail,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\treturn res.data.url\n\t\t})\n}\n\nexport const fetchAvatarUrlMemoized = memoize(fetchAvatarUrl)\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.app-navigation-entry-bullet-wrapper[data-v-580d7687]{width:44px;height:44px;display:inline-block;position:fixed;list-style:none;top:18px;inset-inline-start:15px}.app-navigation-entry-bullet-wrapper .color0[data-v-580d7687]{width:22px !important;height:22px;border-radius:50%;background-size:14px;z-index:2;display:flex;position:relative}.tag-group[data-v-580d7687]{display:block;position:relative;margin:0 1px;overflow:hidden}.tag-actions[data-v-580d7687]{background-color:rgba(0,0,0,0);border:none;float:inline-end}.tag-actions[data-v-580d7687]:hover,.tag-actions[data-v-580d7687]:focus{background-color:var(--color-border-dark)}.tag-group__label[data-v-580d7687]{z-index:2;font-weight:bold;border:none;background-color:rgba(0,0,0,0);padding-inline:10px;overflow:hidden;text-overflow:ellipsis;max-width:94px}.action-item[data-v-580d7687]{inset-inline-end:8px;float:inline-end}[data-v-580d7687] .input-field{margin-top:3px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/TagItem.vue\"],\"names\":[],\"mappings\":\"AACA,sDACC,UAAA,CACA,WAAA,CACA,oBAAA,CACA,cAAA,CACA,eAAA,CACA,QAAA,CACA,uBAAA,CAEA,8DACC,qBAAA,CACA,WAAA,CACA,iBAAA,CACA,oBAAA,CACA,SAAA,CACA,YAAA,CACA,iBAAA,CAIF,4BACC,aAAA,CACA,iBAAA,CACA,YAAA,CACA,eAAA,CAGD,8BACC,8BAAA,CACA,WAAA,CACA,gBAAA,CACA,wEAEC,yCAAA,CAIF,mCACC,SAAA,CACA,gBAAA,CACA,WAAA,CACA,8BAAA,CACA,mBAAA,CACA,eAAA,CACA,sBAAA,CACA,cAAA,CAGD,8BACC,oBAAA,CACA,gBAAA,CAGD,+BACC,cAAA\",\"sourcesContent\":[\"\\n.app-navigation-entry-bullet-wrapper {\\n\\twidth: 44px;\\n\\theight: 44px;\\n\\tdisplay: inline-block;\\n\\tposition: fixed;\\n\\tlist-style: none;\\n\\ttop: 18px;\\n\\tinset-inline-start: 15px;\\n\\n\\t.color0 {\\n\\t\\twidth: 22px !important;\\n\\t\\theight: 22px;\\n\\t\\tborder-radius: 50%;\\n\\t\\tbackground-size: 14px;\\n\\t\\tz-index: 2;\\n\\t\\tdisplay: flex;\\n\\t\\tposition: relative;\\n\\t}\\n}\\n\\n.tag-group {\\n\\tdisplay: block;\\n\\tposition: relative;\\n\\tmargin: 0 1px;\\n\\toverflow: hidden;\\n}\\n\\n.tag-actions {\\n\\tbackground-color: transparent;\\n\\tborder: none;\\n\\tfloat: inline-end;\\n\\t&:hover,\\n\\t&:focus {\\n\\t\\tbackground-color: var(--color-border-dark);\\n\\t}\\n}\\n\\n.tag-group__label {\\n\\tz-index: 2;\\n\\tfont-weight: bold;\\n\\tborder: none;\\n\\tbackground-color: transparent;\\n\\tpadding-inline: 10px;\\n\\toverflow: hidden;\\n\\ttext-overflow: ellipsis;\\n\\tmax-width: 94px;\\n}\\n\\n.action-item {\\n\\tinset-inline-end: 8px;\\n\\tfloat: inline-end;\\n}\\n\\n:deep(.input-field) {\\n\\tmargin-top: 3px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `[data-v-444bd1f3] .modal-wrapper .modal-container{width:calc(100vw - 120px) !important;height:calc(100vh - 120px) !important;max-width:490px !important;max-height:500px !important}[data-v-444bd1f3] .calendar-picker-option__color-indicator{margin-inline-start:10px !important}.modal-content[data-v-444bd1f3]{padding:30px 30px 20px !important}input[data-v-444bd1f3],textarea[data-v-444bd1f3]{width:100%}[data-v-444bd1f3] input[type=\"text\"]{padding:0 !important}.all-day[data-v-444bd1f3]{margin-inline-start:-1px;margin-top:5px;margin-bottom:5px}.taskTitle[data-v-444bd1f3]{margin-bottom:5px}.primary[data-v-444bd1f3]{height:44px !important;float:inline-end}[data-v-444bd1f3] .mx-datepicker{width:213px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/TaskModal.vue\"],\"names\":[],\"mappings\":\"AACA,kDACC,oCAAA,CACA,qCAAA,CACA,0BAAA,CACA,2BAAA,CAGD,2DACI,mCAAA,CAGJ,gCACC,iCAAA,CAGD,iDACC,UAAA,CAGD,qCACC,oBAAA,CAGD,0BACC,wBAAA,CACA,cAAA,CACA,iBAAA,CAGD,4BACC,iBAAA,CAGD,0BACC,sBAAA,CACA,gBAAA,CAGD,iCACC,WAAA\",\"sourcesContent\":[\"\\n:deep(.modal-wrapper .modal-container) {\\n\\twidth: calc(100vw - 120px) !important;\\n\\theight: calc(100vh - 120px) !important;\\n\\tmax-width: 490px !important;\\n\\tmax-height: 500px !important;\\n}\\n\\n:deep(.calendar-picker-option__color-indicator){\\n    margin-inline-start: 10px !important;\\n}\\n\\n.modal-content {\\n\\tpadding: 30px 30px 20px !important;\\n}\\n\\ninput , textarea {\\n\\twidth: 100%;\\n}\\n\\n:deep(input[type='text']) {\\n\\tpadding: 0 !important;\\n}\\n\\n.all-day {\\n\\tmargin-inline-start: -1px;\\n\\tmargin-top: 5px;\\n\\tmargin-bottom: 5px;\\n}\\n\\n.taskTitle {\\n\\tmargin-bottom: 5px;\\n}\\n\\n.primary {\\n\\theight: 44px !important;\\n\\tfloat: inline-end;\\n}\\n\\n:deep(.mx-datepicker) {\\n\\twidth: 213px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.section-title[data-v-0634df2e] h2{margin:0 !important}[data-v-0634df2e] .app-content-list{flex:1 1 auto;height:100% !important;min-height:0;position:absolute;overflow:scroll;width:100% !important;top:52px}[data-v-0634df2e] .app-content-wrapper{display:flex;flex-direction:column;height:100%;overflow:hidden}.v-popover>.trigger>*[data-v-0634df2e]{z-index:1}.section-header-info[data-v-0634df2e]{max-width:230px;padding:16px}.app-content-list[data-v-0634df2e]{display:flex}.app-content-list-item[data-v-0634df2e]:hover{background:rgba(0,0,0,0)}.app-content-list-item[data-v-0634df2e]{flex:0}.button[data-v-0634df2e]{background-color:var(--color-main-background);margin-bottom:3px;inset-inline-end:2px}.button[data-v-0634df2e]:hover,.button[data-v-0634df2e]:focus{background-color:var(--color-background-dark)}.envelope-list[data-v-0634df2e]{flex:1 1 auto;overflow-y:auto;min-height:0}.information-icon[data-v-0634df2e]{opacity:.7}@media only screen and (max-width: 1024px){.information-icon[data-v-0634df2e]{margin-bottom:20px}}.list__wrapper[data-v-0634df2e]{display:flex;flex:1 1 auto;flex-direction:column;height:100%;overflow:hidden}[data-v-0634df2e] .app-details-toggle{opacity:1}[data-v-0634df2e] .app-content-wrapper.app-content-wrapper--no-split.app-content-wrapper--show-details{overflow-y:scroll !important}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/MailboxThread.vue\"],\"names\":[],\"mappings\":\"AAEC,mCACC,mBAAA,CAIF,oCACC,aAAA,CACA,sBAAA,CACA,YAAA,CACA,iBAAA,CACA,eAAA,CACA,qBAAA,CACA,QAAA,CAGD,uCACC,YAAA,CACA,qBAAA,CACA,WAAA,CACA,eAAA,CAGD,uCACC,SAAA,CAGD,sCACC,eAAA,CACA,YAAA,CAGD,mCAEC,YAAA,CAGD,8CACC,wBAAA,CAGD,wCACC,MAAA,CAGD,yBACC,6CAAA,CACA,iBAAA,CACA,oBAAA,CAEA,8DAEC,6CAAA,CAIF,gCACC,aAAA,CACA,eAAA,CACA,YAAA,CAGD,mCACC,UAAA,CAED,2CACC,mCACC,kBAAA,CAAA,CAIF,gCACC,YAAA,CACA,aAAA,CACA,qBAAA,CACA,WAAA,CACA,eAAA,CAGD,sCACC,SAAA,CAGD,uGACC,4BAAA\",\"sourcesContent\":[\"\\n.section-title {\\n\\t:deep(h2) {\\n\\t\\tmargin: 0 !important;\\n\\t}\\n}\\n\\n:deep(.app-content-list) {\\n\\tflex: 1 1 auto;\\n\\theight: 100% !important;\\n\\tmin-height: 0;\\n\\tposition: absolute;\\n\\toverflow: scroll;\\n\\twidth: 100% !important;\\n\\ttop: 52px;\\n}\\n\\n:deep(.app-content-wrapper) {\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\theight: 100%;\\n\\toverflow: hidden;\\n}\\n\\n.v-popover > .trigger > * {\\n\\tz-index: 1;\\n}\\n\\n.section-header-info {\\n\\tmax-width: 230px;\\n\\tpadding: 16px;\\n}\\n\\n.app-content-list {\\n\\t// Required for centering the loading indicator\\n\\tdisplay: flex;\\n}\\n\\n.app-content-list-item:hover {\\n\\tbackground: transparent;\\n}\\n\\n.app-content-list-item {\\n\\tflex: 0;\\n}\\n\\n.button {\\n\\tbackground-color: var(--color-main-background);\\n\\tmargin-bottom: 3px;\\n\\tinset-inline-end: 2px;\\n\\n\\t&:hover,\\n\\t&:focus {\\n\\t\\tbackground-color: var(--color-background-dark);\\n\\t}\\n}\\n\\n.envelope-list {\\n\\tflex: 1 1 auto;\\n\\toverflow-y: auto;\\n\\tmin-height: 0;\\n}\\n\\n.information-icon {\\n\\topacity: .7;\\n}\\n@media only screen and (max-width: 1024px) {\\n\\t.information-icon {\\n\\t\\tmargin-bottom: 20px;\\n\\t}\\n}\\n\\n.list__wrapper {\\n\\tdisplay: flex;\\n\\tflex: 1 1 auto;\\n\\tflex-direction: column;\\n\\theight: 100%;\\n\\toverflow: hidden;\\n}\\n\\n:deep(.app-details-toggle) {\\n\\topacity: 1;\\n}\\n\\n:deep(.app-content-wrapper.app-content-wrapper--no-split.app-content-wrapper--show-details) {\\n\\toverflow-y: scroll !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*!\n * SPDX-FileCopyrightText: 2019-2024 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */@media only screen and (max-width: var(--breakpoint-mobile)){.app-content-list{max-width:100vw}#mail-messages{width:100%}#mail-message-list-loading{width:100%}#mail-message{z-index:100;background:var(--color-main-background);width:100%;inset-inline-start:0;top:0}#mail-message-close{display:block;position:fixed;inset-inline-end:0;top:45px;width:44px;height:44px;background-size:24px;z-index:101;cursor:pointer;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=40)\";opacity:.4}#mail-message-close:hover,#mail-message-close:focus{-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=60)\";opacity:.6}.hidden-mobile{display:none}textarea.message-body{padding-inline-end:12px}#mail-thread-header .mail-message-actions{margin-inline-end:5px}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./css/mobile.scss\"],\"names\":[],\"mappings\":\"AAAA;;;EAAA,CAIA,6DACC,kBACC,eAAA,CAID,eACC,UAAA,CAID,2BACC,UAAA,CAID,cACC,WAAA,CACA,uCAAA,CACA,UAAA,CACA,oBAAA,CACA,KAAA,CAGD,oBACC,aAAA,CACA,cAAA,CACA,kBAAA,CACA,QAAA,CACA,UAAA,CACA,WAAA,CACA,oBAAA,CACA,WAAA,CACA,cAAA,CACA,gEAAA,CACA,UAAA,CAED,oDAEC,gEAAA,CACA,UAAA,CAGD,eACC,YAAA,CAGD,sBACC,uBAAA,CAID,0CACC,qBAAA,CAAA\",\"sourcesContent\":[\"/*!\\n * SPDX-FileCopyrightText: 2019-2024 Nextcloud GmbH and Nextcloud contributors\\n * SPDX-License-Identifier: AGPL-3.0-or-later\\n */\\n@media only screen and (max-width: var(--breakpoint-mobile)) {\\n\\t.app-content-list {\\n\\t\\tmax-width: 100vw;\\n\\t}\\n\\n\\t/* full width for message list on mobile */\\n\\t#mail-messages {\\n\\t\\twidth: 100%;\\n\\t}\\n\\n\\t/* correctly center loading icon on mobile */\\n\\t#mail-message-list-loading {\\n\\t\\twidth: 100%;\\n\\t}\\n\\n\\t/* overlay message detail on top of message list */\\n\\t#mail-message {\\n\\t\\tz-index: 100;\\n\\t\\tbackground: var(--color-main-background);\\n\\t\\twidth: 100%;\\n\\t\\tinset-inline-start: 0;\\n\\t\\ttop: 0;\\n\\t}\\n\\n\\t#mail-message-close {\\n\\t\\tdisplay: block;\\n\\t\\tposition: fixed;\\n\\t\\tinset-inline-end: 0;\\n\\t\\ttop: 45px;\\n\\t\\twidth: 44px;\\n\\t\\theight: 44px;\\n\\t\\tbackground-size: 24px;\\n\\t\\tz-index: 101;\\n\\t\\tcursor: pointer;\\n\\t\\t-ms-filter: 'progid:DXImageTransform.Microsoft.Alpha(Opacity=40)';\\n\\t\\topacity: 0.4;\\n\\t}\\n\\t#mail-message-close:hover,\\n\\t#mail-message-close:focus {\\n\\t\\t-ms-filter: 'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';\\n\\t\\topacity: 0.6;\\n\\t}\\n\\n\\t.hidden-mobile {\\n\\t\\tdisplay: none;\\n\\t}\\n\\n\\ttextarea.message-body {\\n\\t\\tpadding-inline-end: 12px;\\n\\t}\\n\\n\\t/* reply-forward actions align to the far right */\\n\\t#mail-thread-header .mail-message-actions {\\n\\t\\tmargin-inline-end: 5px;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport logger from '../logger.js'\n\nlet mailvelope\n\nconst loadMailvelopeStatically = () => window.mailvelope\n\nconst loadMailvelopeDynamically = () =>\n\tnew Promise((resolve) => {\n\t\twindow.addEventListener('mailvelope', () => resolve(window.mailvelope), false)\n\t})\n\nexport const getMailvelope = async () => {\n\tif (mailvelope) {\n\t\treturn mailvelope\n\t}\n\n\tmailvelope = loadMailvelopeStatically()\n\tif (mailvelope) {\n\t\tlogger.debug('mailvelope found statically')\n\t\treturn mailvelope\n\t}\n\n\tlogger.debug('loading mailvelope dynamically')\n\tmailvelope = await loadMailvelopeDynamically()\n\tlogger.debug('mailvelope found dynamically')\n\treturn mailvelope\n}\n","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M2 13h7.8a1.4 1.4 0 001.1-.6L14 8l-3.1-4.4A1.4 1.4 0 009.8 3H2l3.4 5z\\\" stroke=\\\"#000\\\" stroke-width=\\\"2\\\"></path></svg>\"","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.list-item__wrapper[data-v-242cc992]{display:flex;position:relative;width:100%;padding:2px 4px}.list-item__wrapper[data-v-242cc992]:first-of-type{padding-block-start:4px}.list-item__wrapper[data-v-242cc992]:last-of-type{padding-block-end:4px}.list-item__wrapper--active .list-item[data-v-242cc992],.list-item__wrapper.active .list-item[data-v-242cc992]{background-color:var(--color-primary-element)}.list-item__wrapper--active .list-item[data-v-242cc992]:hover,.list-item__wrapper--active .list-item[data-v-242cc992]:focus-within,.list-item__wrapper--active .list-item[data-v-242cc992]:has(:focus-visible),.list-item__wrapper--active .list-item[data-v-242cc992]:has(:active),.list-item__wrapper.active .list-item[data-v-242cc992]:hover,.list-item__wrapper.active .list-item[data-v-242cc992]:focus-within,.list-item__wrapper.active .list-item[data-v-242cc992]:has(:focus-visible),.list-item__wrapper.active .list-item[data-v-242cc992]:has(:active){background-color:var(--color-primary-element-hover)}.list-item__wrapper--active .list-item-content__name[data-v-242cc992],.list-item__wrapper--active .list-item-content__subname[data-v-242cc992],.list-item__wrapper--active .list-item-content__details[data-v-242cc992],.list-item__wrapper--active .list-item-details__details[data-v-242cc992],.list-item__wrapper.active .list-item-content__name[data-v-242cc992],.list-item__wrapper.active .list-item-content__subname[data-v-242cc992],.list-item__wrapper.active .list-item-content__details[data-v-242cc992],.list-item__wrapper.active .list-item-details__details[data-v-242cc992]{color:var(--color-primary-element-text)}.list-item__wrapper--active .list-item-content__quick-actions[data-v-242cc992] svg,.list-item__wrapper.active .list-item-content__quick-actions[data-v-242cc992] svg{fill:var(--color-primary-element-text) !important}.list-item__wrapper .list-item-content__name[data-v-242cc992],.list-item__wrapper .list-item-content__subname[data-v-242cc992],.list-item__wrapper .list-item-content__details[data-v-242cc992],.list-item__wrapper .list-item-details__details[data-v-242cc992]{white-space:nowrap;margin-block:0;margin-inline-start:0;margin-inline-end:auto;overflow:hidden;text-overflow:ellipsis}.list-item[data-v-242cc992]{--list-item-padding: calc(var(--default-grid-baseline) * 2);--list-item-border-radius: var(--border-radius-element, 32px);--list-item-height: calc(4 * var(--default-line-height));height:var(--list-item-height);box-sizing:border-box;display:flex;position:relative;flex:0 0 auto;justify-content:flex-start;width:100%;border-radius:var(--border-radius-element, 32px);cursor:pointer;transition:background-color var(--animation-quick) ease-in-out;list-style:none;flex-wrap:nowrap !important;padding:var(--default-grid-baseline)}.list-item[data-v-242cc992]:hover,.list-item[data-v-242cc992]:has(:active),.list-item[data-v-242cc992]:has(:focus-visible){background-color:var(--color-background-hover)}.list-item:hover a[data-v-242cc992],.list-item:has(:active) a[data-v-242cc992],.list-item:has(:focus-visible) a[data-v-242cc992]{max-width:calc(100% - var(--default-clickable-area))}.list-item[data-v-242cc992]:has(.list-item__anchor:focus-visible){outline:2px solid var(--color-main-text);box-shadow:0 0 0 4px var(--color-main-background)}.list-item__hoverable[data-v-242cc992]{visibility:hidden}.list-item .list-item-content[data-v-242cc992]{display:flex;flex-direction:column}.list-item .list-item-content__name[data-v-242cc992]{min-width:100px;flex:1 1 10%;font-weight:500;max-width:78%;line-height:var(--default-line-height)}.list-item .list-item-content__name span[data-v-242cc992]{min-width:0;overflow:hidden;flex:1 1 auto;text-overflow:ellipsis}.list-item .list-item-content__inner[data-v-242cc992]{display:flex;flex-direction:row;justify-content:space-between;max-width:100%}.list-item .list-item-content__inner__main[data-v-242cc992]{flex:0 1 auto;min-width:0}.list-item .list-item-content__inner__subname[data-v-242cc992]{flex:1 0;min-width:0;color:var(--color-text-maxcontrast);line-height:var(--default-line-height)}.list-item .list-item-content__inner__subname--bold[data-v-242cc992]{font-weight:500}.list-item .list-item-content__inner__tags[data-v-242cc992]{overflow-y:auto;display:flex;flex-direction:row;justify-content:start;align-items:center;line-height:var(--default-line-height)}.list-item .list-item-content__inner__details[data-v-242cc992]{display:flex;flex-direction:column;justify-content:start;align-items:end;white-space:nowrap;gap:4px;margin-top:-22px}.list-item .list-item-content__inner__details__details[data-v-242cc992]{margin:0 4px !important;color:var(--color-text-maxcontrast);height:var(--default-line-height);font-weight:normal}.list-item .list-item-content__inner__details__extra[data-v-242cc992]{margin:0 4px;height:calc(var(--default-line-height)*var(--default-font-size));display:flex;align-items:center}.list-item .list-item-content__inner__details__extra__indicator[data-v-242cc992]{margin:0 4px}.list-item a[data-v-242cc992]{max-width:100%;margin:0}.list-item .one-line .envelope__subtitle__subject[data-v-242cc992]{max-width:300px}.list-item--compact[data-v-242cc992]{--list-item-padding: 2px}.list-item--one-line[data-v-242cc992]{--list-item-height: calc(var(--default-line-height) * var(--default-font-size) * 2 + var(--list-item-padding) * 4);--list-item-border-radius: var(--border-radius-element, calc(var(--default-clickable-area) / 2));padding-block:calc(var(--list-item-padding)*2);--list-item-padding: 2px;height:unset}.list-item--one-line .list-item-content[data-v-242cc992]{flex-direction:row;align-content:center;align-items:center}.list-item--one-line .list-item-content__name[data-v-242cc992]{align-self:center;min-width:300px;padding-inline-end:calc(var(--default-grid-baseline)*2)}.list-item--one-line .list-item-content__inner[data-v-242cc992]{overflow-y:hidden}.list-item--one-line .list-item-content__inner__main[data-v-242cc992]{display:flex;justify-content:start;min-width:0}.list-item--one-line .list-item-content__inner__details[data-v-242cc992]{flex-direction:row;align-items:unset;justify-content:end;margin-top:0;margin-inline-start:0}.list-item--one-line a[data-v-242cc992]{margin:0;align-items:center;height:unset}.list-item--one-line .list-item__actions[data-v-242cc992]{align-self:center;margin-top:0}.list-item__anchor[data-v-242cc992]{display:flex;flex:1 1 auto;align-items:start;height:var(--list-item-height);min-width:0}.list-item__anchor[data-v-242cc992]:focus-visible{outline:none}.list-item-content[data-v-242cc992]{display:flex;flex:1 0;justify-content:space-between;padding-inline-start:8px;min-width:0}.list-item-content__main[data-v-242cc992]{flex:1 0;width:0;margin:auto 0}.list-item-content__main--oneline[data-v-242cc992]{display:flex}.list-item:hover .list-item__hoverable[data-v-242cc992]{visibility:visible;position:absolute;display:flex;background:var(--color-main-background);border-radius:var(--border-radius-element);box-shadow:0 0 4px 0 var(--color-box-shadow);height:var(--default-clickable-area);inset-inline-end:var(--default-grid-baseline)}.list-item:hover .list-item__hoverable[data-v-242cc992] svg{fill:var(--color-main-text) !important}.list-item--multiline:hover .list-item-content__name[data-v-242cc992]{display:flex;justify-content:space-between;width:100%;max-width:unset;max-height:calc(var(--default-font-size)*var(--default-line-height))}[data-v-242cc992] .app-content-list-item-icon,[data-v-242cc992] .avatardiv,[data-v-242cc992] .avatardiv__initials-wrapper{height:calc(var(--header-menu-item-height) - 4px);width:calc(var(--header-menu-item-height) - 4px)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/EnvelopeSkeleton.vue\"],\"names\":[],\"mappings\":\"AAEA,qCACC,YAAA,CACA,iBAAA,CACA,UAAA,CAEA,eAAA,CAEA,mDACC,uBAAA,CAED,kDACC,qBAAA,CAKA,+GACC,6CAAA,CACA,oiBAIC,mDAAA,CAIF,8jBAIC,uCAAA,CAGD,qKACC,iDAAA,CAGF,iQAIC,kBAAA,CACA,cAAA,CACA,qBAAA,CACA,sBAAA,CACA,eAAA,CACA,sBAAA,CAKF,4BACC,2DAAA,CAEA,6DAAA,CACA,wDAAA,CACA,8BAAA,CAGA,qBAAA,CACA,YAAA,CACA,iBAAA,CACA,aAAA,CACA,0BAAA,CAEA,UAAA,CACA,gDAAA,CACA,cAAA,CACA,8DAAA,CACA,eAAA,CACA,2BAAA,CACA,oCAAA,CAEA,2HAGC,8CAAA,CAEA,iIACC,oDAAA,CAIF,kEACC,wCAAA,CACA,iDAAA,CAGD,uCACC,iBAAA,CAGD,+CACC,YAAA,CACA,qBAAA,CAEA,qDACC,eAAA,CACA,YAAA,CACA,eAAA,CAEA,aAAA,CACA,sCAAA,CAEA,0DACC,WAAA,CACA,eAAA,CACA,aAAA,CACA,sBAAA,CAIF,sDACC,YAAA,CACA,kBAAA,CACA,6BAAA,CACA,cAAA,CAEA,4DACC,aAAA,CACA,WAAA,CAGD,+DACC,QAAA,CACA,WAAA,CACA,mCAAA,CACA,sCAAA,CACA,qEACC,eAAA,CAIF,4DACC,eAAA,CACA,YAAA,CACA,kBAAA,CACA,qBAAA,CACA,kBAAA,CACA,sCAAA,CAGD,+DACC,YAAA,CACA,qBAAA,CACA,qBAAA,CACA,eAAA,CACA,kBAAA,CACA,OAAA,CAEA,gBAAA,CAEA,wEACC,uBAAA,CACA,mCAAA,CACA,iCAAA,CACA,kBAAA,CAGD,sEACC,YAAA,CACA,gEAAA,CACA,YAAA,CACA,kBAAA,CAEA,iFACC,YAAA,CAOL,8BACC,cAAA,CACA,QAAA,CAGD,mEACC,eAAA,CAGD,qCACC,wBAAA,CAGD,sCACC,kHAAA,CACA,gGAAA,CACA,8CAAA,CACA,wBAAA,CACA,YAAA,CAEA,yDACC,kBAAA,CACA,oBAAA,CACA,kBAAA,CAEA,+DACC,iBAAA,CACA,eAAA,CACA,uDAAA,CAGD,gEACC,iBAAA,CAGD,sEACC,YAAA,CACA,qBAAA,CACA,WAAA,CAGD,yEACC,kBAAA,CACA,iBAAA,CACA,mBAAA,CACA,YAAA,CACA,qBAAA,CAIF,wCACC,QAAA,CACA,kBAAA,CACA,YAAA,CAGD,0DACC,iBAAA,CACA,YAAA,CAIF,oCACC,YAAA,CACA,aAAA,CACA,iBAAA,CACA,8BAAA,CACA,WAAA,CAGA,kDACC,YAAA,CAIF,oCACC,YAAA,CACA,QAAA,CACA,6BAAA,CACA,wBAAA,CACA,WAAA,CACA,0CACC,QAAA,CACA,OAAA,CACA,aAAA,CAEA,mDACC,YAAA,CAQH,wDACC,kBAAA,CACA,iBAAA,CACA,YAAA,CACA,uCAAA,CACA,0CAAA,CACA,4CAAA,CACA,oCAAA,CACA,6CAAA,CAEA,4DACC,sCAAA,CAKH,sEACC,YAAA,CACA,6BAAA,CACA,UAAA,CACA,eAAA,CACA,oEAAA,CAID,0HACC,iDAAA,CACA,gDAAA\",\"sourcesContent\":[\"\\n\\n.list-item__wrapper {\\n\\tdisplay: flex;\\n\\tposition: relative;\\n\\twidth: 100%;\\n\\t// padding for the focus-visible styles. Width is reduced to compensate it\\n\\tpadding: 2px 4px;\\n\\t// The first and lastelement needs also padding for the box shadow of the focus-visible effect\\n\\t&:first-of-type {\\n\\t\\tpadding-block-start: 4px;\\n\\t}\\n\\t&:last-of-type {\\n\\t\\tpadding-block-end: 4px\\n\\t}\\n\\n\\t&--active,\\n\\t&.active {\\n\\t\\t.list-item {\\n\\t\\t\\tbackground-color: var(--color-primary-element);\\n\\t\\t\\t&:hover,\\n\\t\\t\\t&:focus-within,\\n\\t\\t\\t&:has(:focus-visible),\\n\\t\\t\\t&:has(:active) {\\n\\t\\t\\t\\tbackground-color: var(--color-primary-element-hover);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t.list-item-content__name,\\n\\t\\t.list-item-content__subname,\\n\\t\\t.list-item-content__details,\\n\\t\\t.list-item-details__details {\\n\\t\\t\\tcolor: var(--color-primary-element-text);\\n\\t\\t}\\n\\n\\t\\t.list-item-content__quick-actions :deep(svg) {\\n\\t\\t\\tfill: var(--color-primary-element-text) !important;\\n\\t\\t}\\n\\t}\\n\\t.list-item-content__name,\\n\\t.list-item-content__subname,\\n\\t.list-item-content__details,\\n\\t.list-item-details__details {\\n\\t\\twhite-space: nowrap;\\n\\t\\tmargin-block: 0;\\n\\t\\tmargin-inline-start: 0;\\n\\t\\tmargin-inline-end: auto;\\n\\t\\toverflow: hidden;\\n\\t\\ttext-overflow: ellipsis;\\n\\t}\\n}\\n\\n// NcListItem\\n.list-item {\\n\\t--list-item-padding: calc(var(--default-grid-baseline) * 2);\\n\\t// The content are two lines of text and respect the 1.5 line height\\n\\t--list-item-border-radius: var(--border-radius-element, 32px);\\n\\t--list-item-height: calc(4 * var(--default-line-height));\\n\\theight: var(--list-item-height);\\n\\n\\t// General styles\\n\\tbox-sizing: border-box;\\n\\tdisplay: flex;\\n\\tposition: relative;\\n\\tflex: 0 0 auto;\\n\\tjustify-content: flex-start;\\n\\t// we need to make sure the elements are not cut off by the border\\n\\twidth: 100%;\\n\\tborder-radius: var(--border-radius-element, 32px);\\n\\tcursor: pointer;\\n\\ttransition: background-color var(--animation-quick) ease-in-out;\\n\\tlist-style: none;\\n\\tflex-wrap: nowrap !important;\\n\\tpadding: var(--default-grid-baseline);\\n\\n\\t&:hover,\\n\\t&:has(:active),\\n\\t&:has(:focus-visible) {\\n\\t\\tbackground-color: var(--color-background-hover);\\n\\n\\t\\ta {\\n\\t\\t\\tmax-width: calc(100% - var(--default-clickable-area));\\n\\t\\t}\\n\\t}\\n\\n\\t&:has(&__anchor:focus-visible) {\\n\\t\\toutline: 2px solid var(--color-main-text);\\n\\t\\tbox-shadow: 0 0 0 4px var(--color-main-background);\\n\\t}\\n\\n\\t&__hoverable {\\n\\t\\tvisibility: hidden;\\n\\t}\\n\\n\\t.list-item-content {\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\n\\t\\t&__name {\\n\\t\\t\\tmin-width: 100px;\\n\\t\\t\\tflex: 1 1 10%;\\n\\t\\t\\tfont-weight: 500;\\n\\t\\t\\t// we changed the time/date and actions to be alighned with the name\\n\\t\\t\\tmax-width: 78%;\\n\\t\\t\\tline-height: var(--default-line-height);\\n\\n\\t\\t\\tspan {\\n\\t\\t\\t\\tmin-width: 0;\\n\\t\\t\\t\\toverflow: hidden;\\n\\t\\t\\t\\tflex: 1 1 auto;\\n\\t\\t\\t\\ttext-overflow: ellipsis;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t&__inner {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\tflex-direction: row;\\n\\t\\t\\tjustify-content: space-between;\\n\\t\\t\\tmax-width: 100%;\\n\\n\\t\\t\\t&__main {\\n\\t\\t\\t\\tflex: 0 1 auto;\\n\\t\\t\\t\\tmin-width: 0;\\n\\t\\t\\t}\\n\\n\\t\\t\\t&__subname {\\n\\t\\t\\t\\tflex: 1 0;\\n\\t\\t\\t\\tmin-width: 0;\\n\\t\\t\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\t\\t\\tline-height: var(--default-line-height);\\n\\t\\t\\t\\t&--bold {\\n\\t\\t\\t\\t\\tfont-weight: 500;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t&__tags {\\n\\t\\t\\t\\toverflow-y: auto;\\n\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\tflex-direction: row;\\n\\t\\t\\t\\tjustify-content: start;\\n\\t\\t\\t\\talign-items: center;\\n\\t\\t\\t\\tline-height: var(--default-line-height);\\n\\t\\t\\t}\\n\\n\\t\\t\\t&__details {\\n\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\tflex-direction: column;\\n\\t\\t\\t\\tjustify-content: start;\\n\\t\\t\\t\\talign-items: end;\\n\\t\\t\\t\\twhite-space: nowrap;\\n\\t\\t\\t\\tgap: 4px;\\n\\t\\t\\t\\t// to align details on top instead of in the center. The right way to do it would be to change the template, but that breaks one-line layout\\n\\t\\t\\t\\tmargin-top: -22px;\\n\\n\\t\\t\\t\\t&__details {\\n\\t\\t\\t\\t\\tmargin: 0 4px !important;\\n\\t\\t\\t\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\t\\t\\t\\theight: var(--default-line-height);\\n\\t\\t\\t\\t\\tfont-weight: normal;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t&__extra {\\n\\t\\t\\t\\t\\tmargin: 0 4px;\\n\\t\\t\\t\\t\\theight: calc(var(--default-line-height) * var(--default-font-size));\\n\\t\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\t\\talign-items: center;\\n\\n\\t\\t\\t\\t\\t&__indicator {\\n\\t\\t\\t\\t\\t\\tmargin: 0 4px;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\ta {\\n\\t\\tmax-width: 100%;\\n\\t\\tmargin: 0;\\n\\t}\\n\\n\\t.one-line .envelope__subtitle__subject {\\n\\t\\tmax-width: 300px;\\n\\t}\\n\\n\\t&--compact {\\n\\t\\t--list-item-padding: 2px;\\n\\t}\\n\\n\\t&--one-line {\\n\\t\\t--list-item-height: calc(var(--default-line-height) * var(--default-font-size) * 2 + var(--list-item-padding) * 4);\\n\\t\\t--list-item-border-radius: var(--border-radius-element, calc(var(--default-clickable-area) / 2));\\n\\t\\tpadding-block: calc(var(--list-item-padding) * 2);\\n\\t\\t--list-item-padding: 2px;\\n\\t\\theight: unset;\\n\\n\\t\\t.list-item-content {\\n\\t\\t\\tflex-direction: row;\\n\\t\\t\\talign-content: center;\\n\\t\\t\\talign-items: center;\\n\\n\\t\\t\\t&__name {\\n\\t\\t\\t\\talign-self: center;\\n\\t\\t\\t\\tmin-width: 300px;\\n\\t\\t\\t\\tpadding-inline-end: calc(var(--default-grid-baseline) * 2);\\n\\t\\t\\t}\\n\\n\\t\\t\\t&__inner {\\n\\t\\t\\t\\toverflow-y: hidden;\\n\\t\\t\\t}\\n\\n\\t\\t\\t&__inner__main {\\n\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\tjustify-content: start;\\n\\t\\t\\t\\tmin-width: 0;\\n\\t\\t\\t}\\n\\n\\t\\t\\t&__inner__details {\\n\\t\\t\\t\\tflex-direction: row;\\n\\t\\t\\t\\talign-items: unset;\\n\\t\\t\\t\\tjustify-content: end;\\n\\t\\t\\t\\tmargin-top: 0;\\n\\t\\t\\t\\tmargin-inline-start: 0;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\ta {\\n\\t\\t\\tmargin: 0;\\n\\t\\t\\talign-items: center;\\n\\t\\t\\theight: unset;\\n\\t\\t}\\n\\n\\t\\t.list-item__actions {\\n\\t\\t\\talign-self: center;\\n\\t\\t\\tmargin-top: 0;\\n\\t\\t}\\n\\t}\\n\\n\\t&__anchor {\\n\\t\\tdisplay: flex;\\n\\t\\tflex: 1 1 auto;\\n\\t\\talign-items: start;\\n\\t\\theight: var(--list-item-height);\\n\\t\\tmin-width: 0;\\n\\n\\t\\t// This is handled by the parent container\\n\\t\\t&:focus-visible {\\n\\t\\t\\toutline: none;\\n\\t\\t}\\n\\t}\\n\\n\\t&-content {\\n\\t\\tdisplay: flex;\\n\\t\\tflex: 1 0;\\n\\t\\tjustify-content: space-between;\\n\\t\\tpadding-inline-start: 8px;\\n\\t\\tmin-width: 0;\\n\\t\\t&__main {\\n\\t\\t\\tflex: 1 0;\\n\\t\\t\\twidth: 0;\\n\\t\\t\\tmargin: auto 0;\\n\\n\\t\\t\\t&--oneline {\\n\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n}\\n\\n.list-item:hover {\\n\\t.list-item__hoverable {\\n\\t\\tvisibility: visible;\\n\\t\\tposition: absolute;\\n\\t\\tdisplay: flex;\\n\\t\\tbackground: var(--color-main-background);\\n\\t\\tborder-radius: var(--border-radius-element);\\n\\t\\tbox-shadow: 0 0 4px 0 var(--color-box-shadow);\\n\\t\\theight: var(--default-clickable-area);\\n\\t\\tinset-inline-end: var(--default-grid-baseline);\\n\\n\\t\\t:deep(svg) {\\n\\t\\t\\tfill: var(--color-main-text) !important; // needed to not inherit active styling\\n\\t\\t}\\n\\t}\\n}\\n\\n.list-item--multiline:hover .list-item-content__name {\\n\\tdisplay: flex;\\n\\tjustify-content: space-between;\\n\\twidth: 100%;\\n\\tmax-width: unset;\\n\\tmax-height: calc(var(--default-font-size) * var(--default-line-height));\\n}\\n\\n// Force icon to be in line with the first two lines\\n:deep(.app-content-list-item-icon), :deep(.avatardiv), :deep(.avatardiv__initials-wrapper) {\\n\\theight: calc(var(--header-menu-item-height) - 4px);\\n\\twidth: calc(var(--header-menu-item-height) - 4px);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.needs-translation-info[data-v-648f74b8]{display:flex;align-items:center}.needs-translation-info--html[data-v-648f74b8]{margin-inline-start:10px;color:var(--color-text-maxcontrast) !important}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/NeedsTranslationInfo.vue\"],\"names\":[],\"mappings\":\"AACA,yCACI,YAAA,CACH,kBAAA,CACG,+CACF,wBAAA,CACA,8CAAA\",\"sourcesContent\":[\"\\n.needs-translation-info {\\n    display: flex;\\n\\talign-items: center;\\n    &--html {\\n\\t\\tmargin-inline-start: 10px;\\n\\t\\tcolor: var(--color-text-maxcontrast) !important;\\n    }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('NcContent',{staticClass:\"mail-content\",attrs:{\"app-name\":\"mail\"}},[_c('Navigation'),_vm._v(\" \"),(_vm.$route.name === 'outbox')?_c('Outbox'):(_vm.activeAccount)?_c('MailboxThread',{attrs:{\"account\":_vm.activeAccount,\"mailbox\":_vm.activeMailbox}}):_vm._e(),_vm._v(\" \"),(_vm.hasComposerSession && _vm.accounts !== null)?[_c('ComposerSessionIndicator',{on:{\"close\":_vm.onCloseMessageModal}}),_vm._v(\" \"),_c('NewMessageModal',{ref:\"newMessageModal\",attrs:{\"accounts\":_vm.accounts}})]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/sass-loader/dist/cjs.js!./mail.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/sass-loader/dist/cjs.js!./mail.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/sass-loader/dist/cjs.js!./mobile.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/sass-loader/dist/cjs.js!./mobile.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div id=\"priority\">\n\t\t<div class=\"app-content-list-item\">\n\t\t\t<h2>{{ name }}</h2>\n\t\t</div>\n\t</div>\n</template>\n<script>\nexport default {\n\tname: 'SectionTitle',\n\tprops: {\n\t\tname: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n}\n</script>\n\n<style scoped>\n#priority {\n\tdisplay: inline-block;\n}\n\n.app-content-list-item {\n\topacity: .8;\n}\n\n.app-content-list-item:hover {\n\tbackground-color: transparent;\n\topacity: 0.8;\n}\n\nh2 {\n\tfont-weight: normal;\n\tfont-size: 17px;\n\tmargin-bottom: 2px;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SectionTitle.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SectionTitle.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SectionTitle.vue?vue&type=style&index=0&id=5cc766b6&prod&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SectionTitle.vue?vue&type=style&index=0&id=5cc766b6&prod&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./SectionTitle.vue?vue&type=template&id=5cc766b6&scoped=true\"\nimport script from \"./SectionTitle.vue?vue&type=script&lang=js\"\nexport * from \"./SectionTitle.vue?vue&type=script&lang=js\"\nimport style0 from \"./SectionTitle.vue?vue&type=style&index=0&id=5cc766b6&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5cc766b6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"priority\"}},[_c('div',{staticClass:\"app-content-list-item\"},[_c('h2',[_vm._v(_vm._s(_vm.name))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * SPDX-FileCopyrightText: 2021-2024 Nextcloud GmbH and Nextcloud contributors\n * SPDX-FileCopyrightText: 2015-2017 vue-infinite-scroll authors\n * SPDX-License-Identifier: MIT\n *\n * Vendored and fixed version of the abandoned https://github.com/ElemeFE/vue-infinite-scroll lib\n */\n/* eslint-disable */\nconst ctx = '@@InfiniteScroll';\n\nvar throttle = function (fn, delay) {\n  var now, lastExec, timer, context, args; //eslint-disable-line\n\n  var execute = function () {\n    fn.apply(context, args);\n    lastExec = now;\n  };\n\n  return function () {\n    context = this;\n    args = arguments;\n\n    now = Date.now();\n\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n\n    if (lastExec) {\n      var diff = delay - (now - lastExec);\n      if (diff < 0) {\n        execute();\n      } else {\n        timer = setTimeout(() => {\n          execute();\n        }, diff);\n      }\n    } else {\n      execute();\n    }\n  };\n};\n\nvar getScrollTop = function (element) {\n  if (element === window) {\n    return Math.max(window.pageYOffset || 0, document.documentElement.scrollTop);\n  }\n\n  return element.scrollTop;\n};\n\nvar getComputedStyle = document.defaultView.getComputedStyle;\n\nvar getScrollEventTarget = function (element) {\n  var currentNode = element;\n  // bugfix, see http://w3help.org/zh-cn/causes/SD9013 and http://stackoverflow.com/questions/17016740/onscroll-function-is-not-working-for-chrome\n  while (currentNode && currentNode.tagName !== 'HTML' && currentNode.tagName !== 'BODY' && currentNode.nodeType === 1) {\n    var overflowY = getComputedStyle(currentNode).overflowY;\n    if (overflowY === 'scroll' || overflowY === 'auto') {\n      return currentNode;\n    }\n    currentNode = currentNode.parentNode;\n  }\n  return window;\n};\n\nvar getVisibleHeight = function (element) {\n  if (element === window) {\n    return document.documentElement.clientHeight;\n  }\n\n  return element.clientHeight;\n};\n\nvar getElementTop = function (element) {\n  if (element === window) {\n    return getScrollTop(window);\n  }\n  return element.getBoundingClientRect().top + getScrollTop(window);\n};\n\nvar isAttached = function (element) {\n  var currentNode = element.parentNode;\n  while (currentNode) {\n    if (currentNode.tagName === 'HTML') {\n      return true;\n    }\n    if (currentNode.nodeType === 11) {\n      return false;\n    }\n    currentNode = currentNode.parentNode;\n  }\n  return false;\n};\n\nvar doBind = function () {\n  if (this.binded) return; // eslint-disable-line\n  this.binded = true;\n\n  var directive = this;\n  var element = directive.el;\n\n  var throttleDelayExpr = element.getAttribute('infinite-scroll-throttle-delay');\n  var throttleDelay = 200;\n  if (throttleDelayExpr) {\n    throttleDelay = Number(directive.vm[throttleDelayExpr] || throttleDelayExpr);\n    if (isNaN(throttleDelay) || throttleDelay < 0) {\n      throttleDelay = 200;\n    }\n  }\n  directive.throttleDelay = throttleDelay;\n\n  directive.scrollEventTarget = getScrollEventTarget(element);\n  directive.scrollListener = throttle(doCheck.bind(directive), directive.throttleDelay);\n  directive.scrollEventTarget.addEventListener('scroll', directive.scrollListener);\n\n  // TODO: refactor to use directive hooks from vue 3\n  //       https://vuejs.org/guide/reusability/custom-directives.html#directive-hooks\n  this.vm.$on('hook:beforeDestroy', function () {\n    directive.scrollEventTarget.removeEventListener('scroll', directive.scrollListener);\n  });\n\n  var disabledExpr = element.getAttribute('infinite-scroll-disabled');\n  var disabled = false;\n\n  if (disabledExpr) {\n    this.vm.$watch(disabledExpr, function(value) {\n      directive.disabled = value;\n      if (!value && directive.immediateCheck) {\n        doCheck.call(directive);\n      }\n    });\n    disabled = Boolean(directive.vm[disabledExpr]);\n  }\n  directive.disabled = disabled;\n\n  var distanceExpr = element.getAttribute('infinite-scroll-distance');\n  var distance = 0;\n  if (distanceExpr) {\n    distance = Number(directive.vm[distanceExpr] || distanceExpr);\n    if (isNaN(distance)) {\n      distance = 0;\n    }\n  }\n  directive.distance = distance;\n\n  var immediateCheckExpr = element.getAttribute('infinite-scroll-immediate-check');\n  var immediateCheck = true;\n  if (immediateCheckExpr) {\n    immediateCheck = Boolean(directive.vm[immediateCheckExpr]);\n  }\n  directive.immediateCheck = immediateCheck;\n\n  if (immediateCheck) {\n    doCheck.call(directive);\n  }\n\n  var eventName = element.getAttribute('infinite-scroll-listen-for-event');\n  if (eventName) {\n    directive.vm.$on(eventName, function() {\n      doCheck.call(directive);\n    });\n  }\n};\n\nvar doCheck = function (force) {\n  var scrollEventTarget = this.scrollEventTarget;\n  var element = this.el;\n  var distance = this.distance;\n\n  if (force !== true && this.disabled) return; //eslint-disable-line\n  var viewportScrollTop = getScrollTop(scrollEventTarget);\n  var viewportBottom = viewportScrollTop + getVisibleHeight(scrollEventTarget);\n\n  var shouldTrigger = false;\n\n  if (scrollEventTarget === element) {\n    shouldTrigger = scrollEventTarget.scrollHeight - viewportBottom <= distance;\n  } else {\n    var elementBottom = getElementTop(element) - getElementTop(scrollEventTarget) + element.offsetHeight + viewportScrollTop;\n\n    shouldTrigger = viewportBottom + distance >= elementBottom;\n  }\n\n  if (shouldTrigger && this.expression) {\n    this.expression();\n  }\n};\n\nexport default {\n  bind(el, binding, vnode) {\n    el[ctx] = {\n      el,\n      vm: vnode.context,\n      expression: binding.value\n    };\n    const args = arguments;\n    console.info('binding', el, binding, vnode)\n    el[ctx].vm.$nextTick(function () {\n      if (isAttached(el)) {\n        doBind.call(el[ctx], args);\n      }\n\n      el[ctx].bindTryCount = 0;\n\n      var tryBind = function () {\n        if (el[ctx].bindTryCount > 10) return; //eslint-disable-line\n        el[ctx].bindTryCount++;\n        if (isAttached(el)) {\n          doBind.call(el[ctx], args);\n        } else {\n          setTimeout(tryBind, 50);\n        }\n      };\n\n      tryBind();\n    });\n  },\n\n  unbind(el) {\n    if (el && el[ctx] && el[ctx].scrollEventTarget)\n      el[ctx].scrollEventTarget.removeEventListener('scroll', el[ctx].scrollListener);\n  }\n};\n","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<NcEmptyContent :name=\"t('mail', 'No messages in this folder')\">\n\t\t<template #icon>\n\t\t\t<IconMail />\n\t\t</template>\n\t</NcEmptyContent>\n</template>\n\n<script>\nimport IconMail from 'vue-material-design-icons/EmailOutline.vue'\nimport NcEmptyContent from '@nextcloud/vue/components/NcEmptyContent'\n\nexport default {\n\tname: 'EmptyMailbox',\n\tcomponents: {\n\t\tIconMail,\n\t\tNcEmptyContent,\n\t},\n}\n</script>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmptyMailbox.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmptyMailbox.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./EmptyMailbox.vue?vue&type=template&id=121b71b0\"\nimport script from \"./EmptyMailbox.vue?vue&type=script&lang=js\"\nexport * from \"./EmptyMailbox.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('NcEmptyContent',{attrs:{\"name\":_vm.t('mail', 'No messages in this folder')},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconMail')]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('transition',{attrs:{\"name\":\"multiselect-header\"}},[(_vm.selectMode)?_c('div',{key:\"multiselect-header\",staticClass:\"multiselect-header\"},[_c('div',{staticClass:\"action-buttons\"},[(_vm.isAtLeastOneSelectedUnread)?_c('NcButton',{attrs:{\"type\":\"tertiary\",\"title\":_vm.n('mail', 'Mark {number} read', 'Mark {number} read', _vm.selection.length, { number: _vm.selection.length })},on:{\"click\":function($event){$event.preventDefault();return _vm.markSelectedRead.apply(null, arguments)}}},[_c('EmailRead',{attrs:{\"size\":20}})],1):_vm._e(),_vm._v(\" \"),(_vm.isAtLeastOneSelectedRead)?_c('NcButton',{attrs:{\"type\":\"tertiary\",\"title\":_vm.n('mail', 'Mark {number} unread', 'Mark {number} unread', _vm.selection.length, { number: _vm.selection.length })},on:{\"click\":function($event){$event.preventDefault();return _vm.markSelectedUnread.apply(null, arguments)}}},[_c('EmailUnread',{attrs:{\"size\":20}})],1):_vm._e(),_vm._v(\" \"),(_vm.isAtLeastOneSelectedUnimportant)?_c('NcButton',{attrs:{\"type\":\"tertiary\",\"title\":_vm.n('mail', 'Mark {number} as important', 'Mark {number} as important', _vm.selection.length, { number: _vm.selection.length })},on:{\"click\":function($event){$event.preventDefault();return _vm.markSelectionImportant.apply(null, arguments)}}},[_c('ImportantIcon',{attrs:{\"size\":20}})],1):_vm._e(),_vm._v(\" \"),(_vm.isAtLeastOneSelectedImportant)?_c('NcButton',{attrs:{\"type\":\"tertiary\",\"title\":_vm.n('mail', 'Mark {number} as unimportant', 'Mark {number} as unimportant', _vm.selection.length, { number: _vm.selection.length })},on:{\"click\":function($event){$event.preventDefault();return _vm.markSelectionUnimportant.apply(null, arguments)}}},[_c('ImportantOutlineIcon',{attrs:{\"size\":20}})],1):_vm._e(),_vm._v(\" \"),(_vm.isAtLeastOneSelectedFavorite)?_c('NcButton',{attrs:{\"type\":\"tertiary\",\"title\":_vm.n('mail', 'Unfavorite {number}', 'Unfavorite {number}', _vm.selection.length, { number: _vm.selection.length })},on:{\"click\":function($event){$event.preventDefault();return _vm.favoriteAll.apply(null, arguments)}}},[_c('IconUnFavorite',{attrs:{\"size\":20}})],1):_vm._e(),_vm._v(\" \"),(_vm.isAtLeastOneSelectedUnFavorite)?_c('NcButton',{attrs:{\"type\":\"tertiary\",\"title\":_vm.n('mail', 'Favorite {number}', 'Favorite {number}', _vm.selection.length, { number: _vm.selection.length })},on:{\"click\":function($event){$event.preventDefault();return _vm.unFavoriteAll.apply(null, arguments)}}},[_c('IconFavorite',{attrs:{\"size\":20}})],1):_vm._e(),_vm._v(\" \"),_c('NcButton',{attrs:{\"type\":\"tertiary\",\"title\":_vm.n('mail', 'Unselect {number}', 'Unselect {number}', _vm.selection.length, { number: _vm.selection.length }),\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.unselectAll.apply(null, arguments)}}},[_c('IconSelect',{attrs:{\"size\":20}})],1),_vm._v(\" \"),_c('NcButton',{attrs:{\"type\":\"tertiary\",\"title\":_vm.n(\n\t\t\t\t\t\t'mail',\n\t\t\t\t\t\t'Delete {number} thread',\n\t\t\t\t\t\t'Delete {number} threads',\n\t\t\t\t\t\t_vm.selection.length,\n\t\t\t\t\t\t{ number: _vm.selection.length }\n\t\t\t\t\t),\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.deleteAllSelected.apply(null, arguments)}}},[_c('IconDelete',{attrs:{\"size\":20}})],1)],1),_vm._v(\" \"),_c('Actions',{staticClass:\"app-content-list-item-menu\",attrs:{\"menu-align\":\"right\"}},[(_vm.isAtLeastOneSelectedNotJunk)?_c('ActionButton',{on:{\"click\":function($event){$event.preventDefault();return _vm.markSelectionJunk.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('AlertOctagonIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,4042396370)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.n('mail', 'Mark {number} as spam', 'Mark {number} as spam', _vm.selection.length, { number: _vm.selection.length }))+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.isAtLeastOneSelectedJunk)?_c('ActionButton',{on:{\"click\":function($event){$event.preventDefault();return _vm.markSelectionNotJunk.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('AlertOctagonIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,4042396370)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.n('mail', 'Mark {number} as not spam', 'Mark {number} as not spam', _vm.selection.length, { number: _vm.selection.length }))+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.onOpenTagModal.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('TagIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,3295128625)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.n('mail', 'Edit tags for {number}', 'Edit tags for {number}', _vm.selection.length, { number: _vm.selection.length }))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),(!_vm.account.isUnified)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.onOpenMoveModal.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('OpenInNewIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,1266168172)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.n('mail', 'Move {number} thread', 'Move {number} threads', _vm.selection.length, { number: _vm.selection.length }))+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.forwardSelectedAsAttachment.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ShareIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,1327515214)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.n('mail', 'Forward {number} as attachment', 'Forward {number} as attachment', _vm.selection.length, { number: _vm.selection.length }))+\"\\n\\t\\t\\t\\t\")])],1),_vm._v(\" \"),(_vm.showMoveModal)?_c('MoveModal',{attrs:{\"account\":_vm.account,\"envelopes\":_vm.selectedEnvelopes,\"move-thread\":true},on:{\"close\":_vm.onCloseMoveModal}}):_vm._e()],1):_vm._e()]),_vm._v(\" \"),_c('transition-group',{attrs:{\"name\":_vm.listTransitionName}},[_vm._l((_vm.sortedEnvelops),function(env,index){return _c('Envelope',{key:env.databaseId,attrs:{\"data\":env,\"mailbox\":_vm.mailbox,\"selected\":_vm.selection.includes(env.databaseId),\"select-mode\":_vm.selectMode,\"has-multiple-accounts\":_vm.hasMultipleAccounts,\"selected-envelopes\":_vm.selectedEnvelopes},on:{\"delete\":function($event){return _vm.$emit('delete', env.databaseId)},\"update:selected\":function($event){return _vm.onEnvelopeSelectToggle(env, index, $event)},\"select-multiple\":function($event){return _vm.onEnvelopeSelectMultiple(env, index)},\"open:quick-actions-settings\":function($event){_vm.showQuickActionsSettings = true}}})}),_vm._v(\" \"),(_vm.loadMoreButton && !_vm.loadingMore)?_c('div',{key:'list-collapse-' + _vm.searchQuery,staticClass:\"load-more\",on:{\"click\":function($event){return _vm.$emit('load-more')}}},[_c('AddIcon',{attrs:{\"size\":16}}),_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.loadMoreLabel)+\"\\n\\t\\t\")],1):_vm._e(),_vm._v(\" \"),_c('div',{key:\"loadingMore\",class:{'icon-loading-small': _vm.loadingMore},attrs:{\"id\":\"load-more-mail-messages\"}})],2),_vm._v(\" \"),(_vm.showTagModal)?_c('TagModal',{attrs:{\"account\":_vm.account,\"envelopes\":_vm.selectedEnvelopes},on:{\"close\":_vm.onCloseTagModal}}):_vm._e(),_vm._v(\" \"),(_vm.showQuickActionsSettings)?_c('NcDialog',{attrs:{\"name\":_vm.t('mail', 'Manage quick actions')},on:{\"closing\":function($event){_vm.showQuickActionsSettings = false}}},[_c('Settings',{attrs:{\"account\":_vm.account}})],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2025 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div class=\"list-item-content__quick-actions\">\n\t\t<NcButton v-if=\"isRead\"\n\t\t\ttype=\"tertiary\"\n\t\t\t:title=\"t('mail', 'Mark as unread')\"\n\t\t\t@click.prevent=\"$emit('toggle-seen')\">\n\t\t\t<EmailUnread :size=\"20\" />\n\t\t</NcButton>\n\t\t<NcButton v-else\n\t\t\ttype=\"tertiary\"\n\t\t\t:title=\"t('mail', 'Mark as read')\"\n\t\t\t@click.prevent=\"$emit('toggle-seen')\">\n\t\t\t<EmailRead :size=\"20\" />\n\t\t</NcButton>\n\t\t<NcButton v-if=\"isImportant\"\n\t\t\ttype=\"tertiary\"\n\t\t\t:title=\"t('mail', 'Mark as unimportant')\"\n\t\t\t@click.prevent=\"$emit('toggle-important')\">\n\t\t\t<ImportantIcon :size=\"20\" />\n\t\t</NcButton>\n\t\t<NcButton v-else\n\t\t\ttype=\"tertiary\"\n\t\t\t:title=\"t('mail', 'Mark as important')\"\n\t\t\t@click.prevent=\"$emit('toggle-important')\">\n\t\t\t<ImportantOutlineIcon :size=\"20\" />\n\t\t</NcButton>\n\t\t<NcButton type=\"tertiary\"\n\t\t\t:title=\"t('mail', 'Delete thread')\"\n\t\t\t@click.prevent=\"$emit('delete')\">\n\t\t\t<IconDelete :size=\"20\" />\n\t\t</NcButton>\n\t</div>\n</template>\n\n<script>\n\nimport ImportantOutlineIcon from 'vue-material-design-icons/LabelVariantOutline.vue'\nimport EmailUnread from 'vue-material-design-icons/EmailOutline.vue'\nimport EmailRead from 'vue-material-design-icons/EmailOpenOutline.vue'\nimport IconDelete from 'vue-material-design-icons/TrashCanOutline.vue'\nimport ImportantIcon from 'vue-material-design-icons/LabelVariant.vue'\nimport { NcButton } from '@nextcloud/vue'\n\nexport default {\n\tname: 'EnvelopeSingleClickActions',\n\tcomponents: {\n\t\tEmailRead,\n\t\tEmailUnread,\n\t\tImportantIcon,\n\t\tImportantOutlineIcon,\n\t\tIconDelete,\n\t\tNcButton,\n\t},\n\tprops: {\n\t\tisRead: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tisImportant: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.list-item-content__quick-actions {\n\tdisplay: none;\n}\n\n.list-item:hover {\n\t.list-item-content__quick-actions {\n\t\tdisplay: flex;\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EnvelopeSingleClickActions.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EnvelopeSingleClickActions.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EnvelopeSingleClickActions.vue?vue&type=style&index=0&id=ce546ee4&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EnvelopeSingleClickActions.vue?vue&type=style&index=0&id=ce546ee4&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./EnvelopeSingleClickActions.vue?vue&type=template&id=ce546ee4&scoped=true\"\nimport script from \"./EnvelopeSingleClickActions.vue?vue&type=script&lang=js\"\nexport * from \"./EnvelopeSingleClickActions.vue?vue&type=script&lang=js\"\nimport style0 from \"./EnvelopeSingleClickActions.vue?vue&type=style&index=0&id=ce546ee4&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ce546ee4\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"list-item-content__quick-actions\"},[(_vm.isRead)?_c('NcButton',{attrs:{\"type\":\"tertiary\",\"title\":_vm.t('mail', 'Mark as unread')},on:{\"click\":function($event){$event.preventDefault();return _vm.$emit('toggle-seen')}}},[_c('EmailUnread',{attrs:{\"size\":20}})],1):_c('NcButton',{attrs:{\"type\":\"tertiary\",\"title\":_vm.t('mail', 'Mark as read')},on:{\"click\":function($event){$event.preventDefault();return _vm.$emit('toggle-seen')}}},[_c('EmailRead',{attrs:{\"size\":20}})],1),_vm._v(\" \"),(_vm.isImportant)?_c('NcButton',{attrs:{\"type\":\"tertiary\",\"title\":_vm.t('mail', 'Mark as unimportant')},on:{\"click\":function($event){$event.preventDefault();return _vm.$emit('toggle-important')}}},[_c('ImportantIcon',{attrs:{\"size\":20}})],1):_c('NcButton',{attrs:{\"type\":\"tertiary\",\"title\":_vm.t('mail', 'Mark as important')},on:{\"click\":function($event){$event.preventDefault();return _vm.$emit('toggle-important')}}},[_c('ImportantOutlineIcon',{attrs:{\"size\":20}})],1),_vm._v(\" \"),_c('NcButton',{attrs:{\"type\":\"tertiary\",\"title\":_vm.t('mail', 'Delete thread')},on:{\"click\":function($event){$event.preventDefault();return _vm.$emit('delete')}}},[_c('IconDelete',{attrs:{\"size\":20}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2024 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<!-- This wrapper can be either a router link or a `<li>` -->\n\t<component :is=\"to ? 'router-link' : 'NcVNodes'\"\n\t\tv-slot=\"{ href: routerLinkHref, navigate, isActive }\"\n\t\t:custom=\"to ? true : null\"\n\t\t:to=\"to\"\n\t\t:exact=\"to ? exact : null\">\n\t\t<li class=\"list-item__wrapper\"\n\t\t\t:class=\"{ 'list-item__wrapper--active' : isActive || active }\">\n\t\t\t<div ref=\"list-item\"\n\t\t\t\tclass=\"list-item\"\n\t\t\t\t:class=\"{\n\t\t\t\t\t'list-item--compact': compact,\n\t\t\t\t\t'list-item--one-line': oneLine,\n\t\t\t\t\t'list-item--multiline': !oneLine,\n\t\t\t\t}\"\n\t\t\t\t@mouseover=\"handleMouseover\"\n\t\t\t\t@mouseleave=\"handleMouseleave\">\n\t\t\t\t<a :id=\"anchorId || undefined\"\n\t\t\t\t\t:aria-label=\"linkAriaLabel\"\n\t\t\t\t\tclass=\"list-item__anchor\"\n\t\t\t\t\t:href=\"routerLinkHref || href\"\n\t\t\t\t\t:target=\"target || (href === '#' ? undefined : '_blank')\"\n\t\t\t\t\t:rel=\"href === '#' ? undefined : 'noopener noreferrer'\"\n\t\t\t\t\t@focus=\"showActions\"\n\t\t\t\t\t@focusout=\"handleBlur\"\n\t\t\t\t\t@click=\"onClick($event, navigate, routerLinkHref)\"\n\t\t\t\t\t@contextmenu.prevent\n\t\t\t\t\t@keydown.esc=\"hideActions\">\n\t\t\t\t\t<!-- @slot This slot is used for the NcAvatar or icon, the content of this slot must not be interactive -->\n\t\t\t\t\t<slot name=\"icon\" />\n\n\t\t\t\t\t<div class=\"list-item-content\">\n\t\t\t\t\t\t<div class=\"list-item-content__name\">\n\t\t\t\t\t\t\t<!-- @slot Slot for the first line of the component. prop 'name' is used as a fallback is no slots are provided -->\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t<slot name=\"name\">{{ name }}</slot>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"list-item-content__inner\">\n\t\t\t\t\t\t\t<div class=\"list-item-content__inner__main\">\n\t\t\t\t\t\t\t\t<div v-if=\"hasSubname\"\n\t\t\t\t\t\t\t\t\tclass=\"list-item-content__inner__subname\"\n\t\t\t\t\t\t\t\t\t:class=\"{'list-item-content__inner__subname--bold': bold}\">\n\t\t\t\t\t\t\t\t\t<!-- @slot Slot for the second line of the component -->\n\t\t\t\t\t\t\t\t\t<slot name=\"subname\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div v-if=\"$slots.tags\" class=\"list-item-content__inner__tags\">\n\t\t\t\t\t\t\t\t\t<!-- @slot This slot is used for the third line of the component -->\n\t\t\t\t\t\t\t\t\t<slot name=\"tags\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"list-item-content__inner__details\">\n\t\t\t\t\t\t\t\t<div v-if=\"showDetails\" class=\"list-item-content__inner__details__details\">\n\t\t\t\t\t\t\t\t\t<!-- @slot This slot is used for some details in form of icon (prop `details` as a fallback) -->\n\t\t\t\t\t\t\t\t\t<slot name=\"details\">{{ details }}</slot>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<!-- Counter and indicator -->\n\t\t\t\t\t\t\t\t<div v-if=\"counterNumber || hasIndicator\"\n\t\t\t\t\t\t\t\t\tv-show=\"showAdditionalElements\"\n\t\t\t\t\t\t\t\t\tclass=\"list-item-content__inner__details__extra\">\n\t\t\t\t\t\t\t\t\t<NcCounterBubble v-if=\"counterNumber\"\n\t\t\t\t\t\t\t\t\t\t:active=\"isActive || active\"\n\t\t\t\t\t\t\t\t\t\tclass=\"list-item-content__inner__details__extra__counter\"\n\t\t\t\t\t\t\t\t\t\t:type=\"counterType\">\n\t\t\t\t\t\t\t\t\t\t{{ counterNumber }}\n\t\t\t\t\t\t\t\t\t</NcCounterBubble>\n\n\t\t\t\t\t\t\t\t\t<span v-if=\"hasIndicator\" class=\"list-item-content__inner__details__extra__indicator\">\n\t\t\t\t\t\t\t\t\t\t<!-- @slot This slot is used for some indicator in form of icon -->\n\t\t\t\t\t\t\t\t\t\t<slot name=\"indicator\" />\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</a>\n\n\t\t\t\t<div class=\"list-item__hoverable\">\n\t\t\t\t\t<EnvelopeSingleClickActions :is-read=\"isRead\"\n\t\t\t\t\t\t:is-important=\"isImportant\"\n\t\t\t\t\t\t@delete=\"$emit('delete')\"\n\t\t\t\t\t\t@toggle-important=\"$emit('toggle-important')\"\n\t\t\t\t\t\t@toggle-seen=\"$emit('toggle-seen')\" />\n\n\t\t\t\t\t<!-- Actions -->\n\t\t\t\t\t<div v-show=\"forceDisplayActions || displayActionsOnHoverFocus\"\n\t\t\t\t\t\tclass=\"list-item__actions\"\n\t\t\t\t\t\t@focusout=\"handleBlur\">\n\t\t\t\t\t\t<NcActions ref=\"actions\"\n\t\t\t\t\t\t\t:primary=\"isActive || active\"\n\t\t\t\t\t\t\t:aria-label=\"computedActionsAriaLabel\"\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\t@update:open=\"handleActionsUpdateOpen\">\n\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t<DotsHorizontal :size=\"20\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<!-- @slot Provide the actions for the right side quick menu -->\n\t\t\t\t\t\t\t<slot name=\"actions\" />\n\t\t\t\t\t\t</NcActions>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</li>\n\t</component>\n</template>\n\n<script>\nimport { NcActions, NcCounterBubble, NcVNodes } from '@nextcloud/vue'\nimport EnvelopeSingleClickActions from './EnvelopeSingleClickActions.vue'\nimport DotsHorizontal from 'vue-material-design-icons/DotsHorizontal.vue'\n\nexport default {\n\tname: 'EnvelopeSkeleton',\n\n\tcomponents: {\n\t\tNcActions,\n\t\tNcCounterBubble,\n\t\tNcVNodes,\n\t\tEnvelopeSingleClickActions,\n\t\tDotsHorizontal,\n\t},\n\n\tprops: {\n\t\t/**\n\t\t * The details text displayed in the upper right part of the component\n\t\t */\n\t\tdetails: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\n\t\t/**\n\t\t * Name (first line of text)\n\t\t */\n\t\tname: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\n\t\t/**\n\t\t * Pass in `true` if you want the matching behavior to\n\t\t * be non-inclusive: https://router.vuejs.org/api/#exact\n\t\t */\n\t\texact: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\n\t\t/**\n\t\t * The route for the router link.\n\t\t */\n\t\tto: {\n\t\t\ttype: [String, Object],\n\t\t\tdefault: null,\n\t\t},\n\n\t\t/**\n\t\t * The value for the external link\n\t\t */\n\t\thref: {\n\t\t\ttype: String,\n\t\t\tdefault: '#',\n\t\t},\n\n\t\ttarget: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\n\t\t/**\n\t\t * Id for the `<a>` element\n\t\t */\n\t\tanchorId: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\n\t\t/**\n\t\t * Make subname bold\n\t\t */\n\t\tbold: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\n\t\t/**\n\t\t * Show the NcListItem in compact design\n\t\t */\n\t\tcompact: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\n\t\t/**\n\t\t * Toggle the active state of the component\n\t\t */\n\t\tactive: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\n\t\t/**\n\t\t * Aria label for the wrapper element\n\t\t */\n\t\tlinkAriaLabel: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\n\t\t/**\n\t\t * Aria label for the actions toggle\n\t\t */\n\t\tactionsAriaLabel: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\n\t\t/**\n\t\t * If different from 0 this component will display the\n\t\t * NcCounterBubble component\n\t\t */\n\t\tcounterNumber: {\n\t\t\ttype: [Number, String],\n\t\t\tdefault: 0,\n\t\t},\n\n\t\t/**\n\t\t * Outlined or highlighted state of the counter\n\t\t */\n\t\tcounterType: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t\tvalidator(value) {\n\t\t\t\treturn ['highlighted', 'outlined', ''].indexOf(value) !== -1\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * To be used only when the elements in the actions menu are very important\n\t\t */\n\t\tforceDisplayActions: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\t/**\n\t\t * Show the list component layout\n\t\t */\n\t\toneLine: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tisRead: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tisImportant: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\n\temits: [\n\t\t'click',\n\t\t'update:menuOpen',\n\t],\n\n\tdata() {\n\t\treturn {\n\t\t\thovered: false,\n\t\t\thasActions: false,\n\t\t\thasSubname: false,\n\t\t\tdisplayActionsOnHoverFocus: false,\n\t\t\tmenuOpen: false,\n\t\t\thasIndicator: false,\n\t\t\thasDetails: false,\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tshowAdditionalElements() {\n\t\t\treturn !this.displayActionsOnHoverFocus || this.forceDisplayActions\n\t\t},\n\n\t\tshowDetails() {\n\t\t\treturn (this.details !== '' || this.hasDetails)\n\t\t\t\t&& (!this.displayActionsOnHoverFocus || this.forceDisplayActions)\n\t\t},\n\n\t\tcomputedActionsAriaLabel() {\n\t\t\treturn this.actionsAriaLabel || t('Actions for item with name \"{name}\"', { name: this.name })\n\t\t},\n\t},\n\n\twatch: {\n\n\t\tmenuOpen(newValue) {\n\t\t\t// A click outside both the menu and the root element hides the actions again\n\t\t\tif (!newValue && !this.hovered) {\n\t\t\t\tthis.displayActionsOnHoverFocus = false\n\t\t\t}\n\t\t},\n\t},\n\n\tmounted() {\n\t\tthis.checkSlots()\n\t},\n\n\tupdated() {\n\t\tthis.checkSlots()\n\t},\n\n\tmethods: {\n\t\t/**\n\t\t * Handle link click\n\t\t *\n\t\t * @param {MouseEvent|KeyboardEvent} event - Native click or keydown event\n\t\t * @param {Function} [navigate] - VueRouter link's navigate if any\n\t\t * @param {string} [routerLinkHref] - VueRouter link's href\n\t\t */\n\t\tonClick(event, navigate, routerLinkHref) {\n\t\t\t// Always forward native event\n\t\t\tthis.$emit('click', event)\n\t\t\t// Do not navigate with control keys - it is opening in a new tab\n\t\t\tif (event.metaKey || event.altKey || event.ctrlKey || event.shiftKey) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\t// Prevent default link behaviour if it's a router-link and navigate manually\n\t\t\tif (routerLinkHref) {\n\t\t\t\tnavigate?.(event)\n\t\t\t\tevent.preventDefault()\n\t\t\t}\n\t\t},\n\n\t\tshowActions() {\n\t\t\tif (this.hasActions) {\n\t\t\t\tthis.displayActionsOnHoverFocus = true\n\t\t\t}\n\t\t\tthis.hovered = false\n\t\t},\n\n\t\thideActions() {\n\t\t\tthis.displayActionsOnHoverFocus = false\n\t\t},\n\n\t\t/**\n\t\t * @param {FocusEvent} event UI event\n\t\t */\n\t\thandleBlur(event) {\n\t\t\t// do not hide if open\n\t\t\tif (this.menuOpen) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\t// do not hide if focus is kept within\n\t\t\tif (this.$refs['list-item'].contains(event.relatedTarget)) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.hideActions()\n\t\t},\n\n\t\t/**\n\t\t * Hide the actions on mouseleave unless the menu is open\n\t\t */\n\t\thandleMouseleave() {\n\t\t\tif (!this.menuOpen) {\n\t\t\t\tthis.displayActionsOnHoverFocus = false\n\t\t\t}\n\t\t\tthis.hovered = false\n\t\t},\n\n\t\thandleMouseover() {\n\t\t\tthis.showActions()\n\t\t\tthis.hovered = true\n\t\t},\n\n\t\thandleActionsUpdateOpen(e) {\n\t\t\tthis.menuOpen = e\n\t\t\tthis.$emit('update:menuOpen', e)\n\t\t},\n\n\t\t// Check if subname and actions slots are populated\n\t\tcheckSlots() {\n\t\t\tif (this.hasActions !== !!this.$slots.actions) {\n\t\t\t\tthis.hasActions = !!this.$slots.actions\n\t\t\t}\n\t\t\tif (this.hasSubname !== !!this.$slots.subname) {\n\t\t\t\tthis.hasSubname = !!this.$slots.subname\n\t\t\t}\n\t\t\tif (this.hasIndicator !== !!this.$slots.indicator) {\n\t\t\t\tthis.hasIndicator = !!this.$slots.indicator\n\t\t\t}\n\t\t\tif (this.hasDetails !== !!this.$slots.details) {\n\t\t\t\tthis.hasDetails = !!this.$slots.details\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n.list-item__wrapper {\n\tdisplay: flex;\n\tposition: relative;\n\twidth: 100%;\n\t// padding for the focus-visible styles. Width is reduced to compensate it\n\tpadding: 2px 4px;\n\t// The first and lastelement needs also padding for the box shadow of the focus-visible effect\n\t&:first-of-type {\n\t\tpadding-block-start: 4px;\n\t}\n\t&:last-of-type {\n\t\tpadding-block-end: 4px\n\t}\n\n\t&--active,\n\t&.active {\n\t\t.list-item {\n\t\t\tbackground-color: var(--color-primary-element);\n\t\t\t&:hover,\n\t\t\t&:focus-within,\n\t\t\t&:has(:focus-visible),\n\t\t\t&:has(:active) {\n\t\t\t\tbackground-color: var(--color-primary-element-hover);\n\t\t\t}\n\t\t}\n\n\t\t.list-item-content__name,\n\t\t.list-item-content__subname,\n\t\t.list-item-content__details,\n\t\t.list-item-details__details {\n\t\t\tcolor: var(--color-primary-element-text);\n\t\t}\n\n\t\t.list-item-content__quick-actions :deep(svg) {\n\t\t\tfill: var(--color-primary-element-text) !important;\n\t\t}\n\t}\n\t.list-item-content__name,\n\t.list-item-content__subname,\n\t.list-item-content__details,\n\t.list-item-details__details {\n\t\twhite-space: nowrap;\n\t\tmargin-block: 0;\n\t\tmargin-inline-start: 0;\n\t\tmargin-inline-end: auto;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n}\n\n// NcListItem\n.list-item {\n\t--list-item-padding: calc(var(--default-grid-baseline) * 2);\n\t// The content are two lines of text and respect the 1.5 line height\n\t--list-item-border-radius: var(--border-radius-element, 32px);\n\t--list-item-height: calc(4 * var(--default-line-height));\n\theight: var(--list-item-height);\n\n\t// General styles\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tposition: relative;\n\tflex: 0 0 auto;\n\tjustify-content: flex-start;\n\t// we need to make sure the elements are not cut off by the border\n\twidth: 100%;\n\tborder-radius: var(--border-radius-element, 32px);\n\tcursor: pointer;\n\ttransition: background-color var(--animation-quick) ease-in-out;\n\tlist-style: none;\n\tflex-wrap: nowrap !important;\n\tpadding: var(--default-grid-baseline);\n\n\t&:hover,\n\t&:has(:active),\n\t&:has(:focus-visible) {\n\t\tbackground-color: var(--color-background-hover);\n\n\t\ta {\n\t\t\tmax-width: calc(100% - var(--default-clickable-area));\n\t\t}\n\t}\n\n\t&:has(&__anchor:focus-visible) {\n\t\toutline: 2px solid var(--color-main-text);\n\t\tbox-shadow: 0 0 0 4px var(--color-main-background);\n\t}\n\n\t&__hoverable {\n\t\tvisibility: hidden;\n\t}\n\n\t.list-item-content {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\n\t\t&__name {\n\t\t\tmin-width: 100px;\n\t\t\tflex: 1 1 10%;\n\t\t\tfont-weight: 500;\n\t\t\t// we changed the time/date and actions to be alighned with the name\n\t\t\tmax-width: 78%;\n\t\t\tline-height: var(--default-line-height);\n\n\t\t\tspan {\n\t\t\t\tmin-width: 0;\n\t\t\t\toverflow: hidden;\n\t\t\t\tflex: 1 1 auto;\n\t\t\t\ttext-overflow: ellipsis;\n\t\t\t}\n\t\t}\n\n\t\t&__inner {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\tjustify-content: space-between;\n\t\t\tmax-width: 100%;\n\n\t\t\t&__main {\n\t\t\t\tflex: 0 1 auto;\n\t\t\t\tmin-width: 0;\n\t\t\t}\n\n\t\t\t&__subname {\n\t\t\t\tflex: 1 0;\n\t\t\t\tmin-width: 0;\n\t\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t\t\tline-height: var(--default-line-height);\n\t\t\t\t&--bold {\n\t\t\t\t\tfont-weight: 500;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t&__tags {\n\t\t\t\toverflow-y: auto;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\tjustify-content: start;\n\t\t\t\talign-items: center;\n\t\t\t\tline-height: var(--default-line-height);\n\t\t\t}\n\n\t\t\t&__details {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\tjustify-content: start;\n\t\t\t\talign-items: end;\n\t\t\t\twhite-space: nowrap;\n\t\t\t\tgap: 4px;\n\t\t\t\t// to align details on top instead of in the center. The right way to do it would be to change the template, but that breaks one-line layout\n\t\t\t\tmargin-top: -22px;\n\n\t\t\t\t&__details {\n\t\t\t\t\tmargin: 0 4px !important;\n\t\t\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t\t\t\theight: var(--default-line-height);\n\t\t\t\t\tfont-weight: normal;\n\t\t\t\t}\n\n\t\t\t\t&__extra {\n\t\t\t\t\tmargin: 0 4px;\n\t\t\t\t\theight: calc(var(--default-line-height) * var(--default-font-size));\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\n\t\t\t\t\t&__indicator {\n\t\t\t\t\t\tmargin: 0 4px;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\ta {\n\t\tmax-width: 100%;\n\t\tmargin: 0;\n\t}\n\n\t.one-line .envelope__subtitle__subject {\n\t\tmax-width: 300px;\n\t}\n\n\t&--compact {\n\t\t--list-item-padding: 2px;\n\t}\n\n\t&--one-line {\n\t\t--list-item-height: calc(var(--default-line-height) * var(--default-font-size) * 2 + var(--list-item-padding) * 4);\n\t\t--list-item-border-radius: var(--border-radius-element, calc(var(--default-clickable-area) / 2));\n\t\tpadding-block: calc(var(--list-item-padding) * 2);\n\t\t--list-item-padding: 2px;\n\t\theight: unset;\n\n\t\t.list-item-content {\n\t\t\tflex-direction: row;\n\t\t\talign-content: center;\n\t\t\talign-items: center;\n\n\t\t\t&__name {\n\t\t\t\talign-self: center;\n\t\t\t\tmin-width: 300px;\n\t\t\t\tpadding-inline-end: calc(var(--default-grid-baseline) * 2);\n\t\t\t}\n\n\t\t\t&__inner {\n\t\t\t\toverflow-y: hidden;\n\t\t\t}\n\n\t\t\t&__inner__main {\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: start;\n\t\t\t\tmin-width: 0;\n\t\t\t}\n\n\t\t\t&__inner__details {\n\t\t\t\tflex-direction: row;\n\t\t\t\talign-items: unset;\n\t\t\t\tjustify-content: end;\n\t\t\t\tmargin-top: 0;\n\t\t\t\tmargin-inline-start: 0;\n\t\t\t}\n\t\t}\n\n\t\ta {\n\t\t\tmargin: 0;\n\t\t\talign-items: center;\n\t\t\theight: unset;\n\t\t}\n\n\t\t.list-item__actions {\n\t\t\talign-self: center;\n\t\t\tmargin-top: 0;\n\t\t}\n\t}\n\n\t&__anchor {\n\t\tdisplay: flex;\n\t\tflex: 1 1 auto;\n\t\talign-items: start;\n\t\theight: var(--list-item-height);\n\t\tmin-width: 0;\n\n\t\t// This is handled by the parent container\n\t\t&:focus-visible {\n\t\t\toutline: none;\n\t\t}\n\t}\n\n\t&-content {\n\t\tdisplay: flex;\n\t\tflex: 1 0;\n\t\tjustify-content: space-between;\n\t\tpadding-inline-start: 8px;\n\t\tmin-width: 0;\n\t\t&__main {\n\t\t\tflex: 1 0;\n\t\t\twidth: 0;\n\t\t\tmargin: auto 0;\n\n\t\t\t&--oneline {\n\t\t\t\tdisplay: flex;\n\t\t\t}\n\t\t}\n\t}\n\n}\n\n.list-item:hover {\n\t.list-item__hoverable {\n\t\tvisibility: visible;\n\t\tposition: absolute;\n\t\tdisplay: flex;\n\t\tbackground: var(--color-main-background);\n\t\tborder-radius: var(--border-radius-element);\n\t\tbox-shadow: 0 0 4px 0 var(--color-box-shadow);\n\t\theight: var(--default-clickable-area);\n\t\tinset-inline-end: var(--default-grid-baseline);\n\n\t\t:deep(svg) {\n\t\t\tfill: var(--color-main-text) !important; // needed to not inherit active styling\n\t\t}\n\t}\n}\n\n.list-item--multiline:hover .list-item-content__name {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\twidth: 100%;\n\tmax-width: unset;\n\tmax-height: calc(var(--default-font-size) * var(--default-line-height));\n}\n\n// Force icon to be in line with the first two lines\n:deep(.app-content-list-item-icon), :deep(.avatardiv), :deep(.avatardiv__initials-wrapper) {\n\theight: calc(var(--header-menu-item-height) - 4px);\n\twidth: calc(var(--header-menu-item-height) - 4px);\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EnvelopeSkeleton.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EnvelopeSkeleton.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EnvelopeSkeleton.vue?vue&type=style&index=0&id=242cc992&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EnvelopeSkeleton.vue?vue&type=style&index=0&id=242cc992&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./EnvelopeSkeleton.vue?vue&type=template&id=242cc992&scoped=true\"\nimport script from \"./EnvelopeSkeleton.vue?vue&type=script&lang=js\"\nexport * from \"./EnvelopeSkeleton.vue?vue&type=script&lang=js\"\nimport style0 from \"./EnvelopeSkeleton.vue?vue&type=style&index=0&id=242cc992&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"242cc992\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c(_vm.to ? 'router-link' : 'NcVNodes',{tag:\"component\",attrs:{\"custom\":_vm.to ? true : null,\"to\":_vm.to,\"exact\":_vm.to ? _vm.exact : null},scopedSlots:_vm._u([{key:\"default\",fn:function({ href: routerLinkHref, navigate, isActive }){return [_c('li',{staticClass:\"list-item__wrapper\",class:{ 'list-item__wrapper--active' : isActive || _vm.active }},[_c('div',{ref:\"list-item\",staticClass:\"list-item\",class:{\n\t\t\t\t'list-item--compact': _vm.compact,\n\t\t\t\t'list-item--one-line': _vm.oneLine,\n\t\t\t\t'list-item--multiline': !_vm.oneLine,\n\t\t\t},on:{\"mouseover\":_vm.handleMouseover,\"mouseleave\":_vm.handleMouseleave}},[_c('a',{staticClass:\"list-item__anchor\",attrs:{\"id\":_vm.anchorId || undefined,\"aria-label\":_vm.linkAriaLabel,\"href\":routerLinkHref || _vm.href,\"target\":_vm.target || (_vm.href === '#' ? undefined : '_blank'),\"rel\":_vm.href === '#' ? undefined : 'noopener noreferrer'},on:{\"focus\":_vm.showActions,\"focusout\":_vm.handleBlur,\"click\":function($event){return _vm.onClick($event, navigate, routerLinkHref)},\"contextmenu\":function($event){$event.preventDefault();},\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"]))return null;return _vm.hideActions.apply(null, arguments)}}},[_vm._t(\"icon\"),_vm._v(\" \"),_c('div',{staticClass:\"list-item-content\"},[_c('div',{staticClass:\"list-item-content__name\"},[_c('span',[_vm._t(\"name\",function(){return [_vm._v(_vm._s(_vm.name))]})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"list-item-content__inner\"},[_c('div',{staticClass:\"list-item-content__inner__main\"},[(_vm.hasSubname)?_c('div',{staticClass:\"list-item-content__inner__subname\",class:{'list-item-content__inner__subname--bold': _vm.bold}},[_vm._t(\"subname\")],2):_vm._e(),_vm._v(\" \"),(_vm.$slots.tags)?_c('div',{staticClass:\"list-item-content__inner__tags\"},[_vm._t(\"tags\")],2):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"list-item-content__inner__details\"},[(_vm.showDetails)?_c('div',{staticClass:\"list-item-content__inner__details__details\"},[_vm._t(\"details\",function(){return [_vm._v(_vm._s(_vm.details))]})],2):_vm._e(),_vm._v(\" \"),(_vm.counterNumber || _vm.hasIndicator)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showAdditionalElements),expression:\"showAdditionalElements\"}],staticClass:\"list-item-content__inner__details__extra\"},[(_vm.counterNumber)?_c('NcCounterBubble',{staticClass:\"list-item-content__inner__details__extra__counter\",attrs:{\"active\":isActive || _vm.active,\"type\":_vm.counterType}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.counterNumber)+\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.hasIndicator)?_c('span',{staticClass:\"list-item-content__inner__details__extra__indicator\"},[_vm._t(\"indicator\")],2):_vm._e()],1):_vm._e()])])])],2),_vm._v(\" \"),_c('div',{staticClass:\"list-item__hoverable\"},[_c('EnvelopeSingleClickActions',{attrs:{\"is-read\":_vm.isRead,\"is-important\":_vm.isImportant},on:{\"delete\":function($event){return _vm.$emit('delete')},\"toggle-important\":function($event){return _vm.$emit('toggle-important')},\"toggle-seen\":function($event){return _vm.$emit('toggle-seen')}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.forceDisplayActions || _vm.displayActionsOnHoverFocus),expression:\"forceDisplayActions || displayActionsOnHoverFocus\"}],staticClass:\"list-item__actions\",on:{\"focusout\":_vm.handleBlur}},[_c('NcActions',{ref:\"actions\",attrs:{\"primary\":isActive || _vm.active,\"aria-label\":_vm.computedActionsAriaLabel,\"variant\":\"tertiary\"},on:{\"update:open\":_vm.handleActionsUpdateOpen},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('DotsHorizontal',{attrs:{\"size\":20}})]},proxy:true}],null,true)},[_vm._v(\" \"),_vm._t(\"actions\")],2)],1)],1)])])]}}],null,true)})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport dragEventBus from '../util/dragEventBus.js'\nimport defer from 'lodash/defer.js'\n\nexport class DraggableEnvelope {\n\n\tconstructor(el, componentInstance, options) {\n\t\tthis.el = el\n\t\tthis.options = options\n\t\tthis.registerListeners.bind(this)(el)\n\t\tthis.setInitialAttributes()\n\t}\n\n\tsetInitialAttributes() {\n\t\tthis.el.setAttribute('draggable', 'true')\n\t\tthis.el.classList.add('draggable-envelope')\n\t}\n\n\tupdate(el, instance) {\n\t\tthis.options = instance.options\n\t}\n\n\tregisterListeners(el) {\n\t\tel.addEventListener('dragstart', this.onDragStart.bind(this))\n\t\tel.addEventListener('dragend', this.onDragEnd.bind(this))\n\t}\n\n\tremoveListeners(el) {\n\t\tel.removeEventListener('dragstart', this.onDragStart)\n\t\tel.removeEventListener('dragend', this.onDragEnd)\n\t}\n\n\tonDragStart(event) {\n\t\tif (!this.options.isDraggable) {\n\t\t\treturn\n\t\t}\n\t\tconst { accountId, mailboxId, selectedEnvelopes } = this.options\n\n\t\tevent.dataTransfer.clearData()\n\t\tevent.dataTransfer.effectAllowed = 'move'\n\n\t\tconst envelopes = []\n\t\tif (selectedEnvelopes.length) {\n\t\t\t// handle dragged selection mode items\n\t\t\tselectedEnvelopes.forEach((envelope, index) => {\n\t\t\t\tenvelopes.push({\n\t\t\t\t\taccountId,\n\t\t\t\t\tmailboxId,\n\t\t\t\t\tdatabaseId: envelope.databaseId,\n\t\t\t\t\tdraggableLabel: `${envelope.subject} (${envelope.from[0].label})`,\n\t\t\t\t})\n\t\t\t})\n\t\t} else {\n\t\t\t// handle single dragged item\n\t\t\tconst { databaseId, draggableLabel } = this.options\n\t\t\tenvelopes.push({ accountId, mailboxId, databaseId, draggableLabel })\n\t\t}\n\n\t\tevent.dataTransfer.setData('text/plain', JSON.stringify(envelopes))\n\t\tthis.attachGhost({ event, envelopes })\n\n\t\tdragEventBus.emit('drag-start', {\n\t\t\taccountId,\n\t\t\tmailboxId,\n\t\t\titemCount: envelopes.length,\n\t\t})\n\t}\n\n\tonDragEnd(event) {\n\t\tdragEventBus.emit('drag-end', { accountId: this.options.accountId })\n\t}\n\n\tattachGhost({ event, envelopes }) {\n\t\tconst baseClass = 'draggable-envelope-ghost'\n\t\tconst dragNode = document.createElement('div')\n\t\tdragNode.classList.add(baseClass)\n\n\t\tconst counterNode = document.createElement('span')\n\t\tcounterNode.classList.add(`${baseClass}--counter`)\n\t\tconst textCountNode = document.createTextNode(envelopes.length)\n\t\tcounterNode.appendChild(textCountNode)\n\t\tdragNode.appendChild(counterNode)\n\n\t\tconst labelWrapperNode = document.createElement('div')\n\t\tlabelWrapperNode.classList.add(`${baseClass}--label-wrapper`)\n\n\t\tenvelopes.forEach(envelope => {\n\t\t\tconst labelNode = document.createElement('div')\n\t\t\tlabelNode.classList.add(`${baseClass}--label-wrapper--label`)\n\t\t\tconst textLabelNode = document.createTextNode(envelope.draggableLabel)\n\t\t\tlabelNode.appendChild(textLabelNode)\n\t\t\tlabelWrapperNode.appendChild(labelNode)\n\t\t})\n\n\t\tdragNode.appendChild(labelWrapperNode)\n\t\tdocument.body.appendChild(dragNode)\n\n\t\tevent.dataTransfer.setDragImage(dragNode, 0, 15)\n\n\t\t// the item can be removed immediately, because the\n\t\t// browser will take a \"screenshot\" of the dragImage\n\t\t// upon initialization to be used while dragging\n\t\tdefer(() => {\n\t\t\tdocument.body.removeChild(dragNode)\n\t\t})\n\t}\n\n}\n","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { DraggableEnvelope } from './draggable-envelope.js'\n\nlet instances = []\n\nexport const DraggableEnvelopeDirective = {\n\tbind(el, binding, vnode) {\n\t\tconst instance = new DraggableEnvelope(el, vnode.context, binding.value)\n\t\tinstances.push(instance)\n\t},\n\tcomponentUpdated(el, binding) {\n\t\tconst options = binding.value\n\t\tsetTimeout(() => {\n\t\t\tinstances.forEach(instance => {\n\t\t\t\tinstance.options.selectedEnvelopes = options.selectedEnvelopes\n\t\t\t\tinstance.update(el, instance)\n\t\t\t})\n\t\t})\n\t},\n\tunbind(el) {\n\t\tinstances = instances.filter((instance) => instance.el !== el)\n\t},\n}\n\nexport default DraggableEnvelope\n","/**\n * SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport curry from 'lodash/fp/curry.js'\nimport moment from '@nextcloud/moment'\n\nexport const shortDatetime = curry((ref, date) => {\n\tconst momentDate = moment(date)\n\t// Within the same day?\n\tif (ref.getFullYear() === date.getFullYear()\n\t\t&& ref.getMonth() === date.getMonth()\n\t\t&& ref.getDate() === date.getDate()) {\n\t\treturn momentDate.format('H:mm')\n\t}\n\t// Within the previous week?\n\tif (date.getTime() > (ref.getTime() - 30 * 60 * 24 * 7 * 1000)) {\n\t\treturn momentDate.format('dd')\n\t}\n\t// Within the previous year?\n\tif (date.getTime() > (ref.getTime() - 30 * 60 * 24 * 365 * 1000)) {\n\t\treturn momentDate.format('MMM D')\n\t}\n\t// Older\n\treturn momentDate.format('MMM D, YYYY')\n})\n\nexport const messageDateTime = (date) => {\n\treturn moment(date * 1000).format('lll')\n}\n\nexport const shortRelativeDatetime = shortDatetime(new Date())\n","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<MailboxPicker :account=\"account\"\n\t\t:selected.sync=\"destMailboxId\"\n\t\t:loading=\"moving\"\n\t\t:label-select=\"moveThread ? t('mail', 'Move thread') : t('mail', 'Move message')\"\n\t\t:label-select-loading=\"moveThread ? t('mail', 'Moving thread') : t('mail', 'Moving message')\"\n\t\t@select=\"onMove\"\n\t\t@close=\"onClose\" />\n</template>\n\n<script>\nimport logger from '../logger.js'\nimport MailboxPicker from './MailboxPicker.vue'\nimport useMainStore from '../store/mainStore.js'\nimport { mapStores } from 'pinia'\n\nexport default {\n\tname: 'MoveModal',\n\tcomponents: {\n\t\tMailboxPicker,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tenvelopes: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tmoveThread: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmoving: false,\n\t\t\tdestMailboxId: undefined,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t},\n\tmethods: {\n\t\tonClose() {\n\t\t\tthis.$emit('close')\n\t\t},\n\t\tasync onMove() {\n\t\t\tthis.moving = true\n\n\t\t\ttry {\n\t\t\t\tconst envelopes = this.envelopes\n\t\t\t\t\t.filter(envelope => envelope.mailboxId !== this.destMailboxId)\n\n\t\t\t\tif (envelopes.length === 0) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tfor (const envelope of envelopes) {\n\t\t\t\t\tif (this.moveThread) {\n\t\t\t\t\t\tawait this.mainStore.moveThread({ envelope, destMailboxId: this.destMailboxId })\n\t\t\t\t\t} else {\n\t\t\t\t\t\tawait this.mainStore.moveMessage({ id: envelope.databaseId, destMailboxId: this.destMailboxId })\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tawait this.mainStore.syncEnvelopes({ mailboxId: this.destMailboxId })\n\t\t\t\tthis.$emit('move')\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('could not move messages', {\n\t\t\t\t\terror,\n\t\t\t\t})\n\t\t\t} finally {\n\t\t\t\tthis.moving = false\n\t\t\t\tthis.$emit('close')\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoveModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoveModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MoveModal.vue?vue&type=template&id=a7ed2312\"\nimport script from \"./MoveModal.vue?vue&type=script&lang=js\"\nexport * from \"./MoveModal.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('MailboxPicker',{attrs:{\"account\":_vm.account,\"selected\":_vm.destMailboxId,\"loading\":_vm.moving,\"label-select\":_vm.moveThread ? _vm.t('mail', 'Move thread') : _vm.t('mail', 'Move message'),\"label-select-loading\":_vm.moveThread ? _vm.t('mail', 'Moving thread') : _vm.t('mail', 'Moving message')},on:{\"update:selected\":function($event){_vm.destMailboxId=$event},\"select\":_vm.onMove,\"close\":_vm.onClose}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template functional>\n\t<span :aria-hidden=\"!props.title\"\n\t\t:aria-label=\"props.title\"\n\t\t:class=\"[data.class, data.staticClass]\"\n\t\tclass=\"material-design-icon junk-icon\"\n\t\trole=\"img\"\n\t\tv-bind=\"data.attrs\"\n\t\tv-on=\"listeners\">\n\t\t<svg :fill=\"props.fillColor\"\n\t\t\tclass=\"material-design-icon__svg\"\n\t\t\t:width=\"props.size\"\n\t\t\t:height=\"props.size\"\n\t\t\tviewBox=\"0 0 16 16\">\n\t\t\t<path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\n\t\t\t<path d=\"m5.5156 2l-3.5156 3.5156v4.9684l3.5156 3.516h4.9684l3.516-3.516v-4.9684l-3.516-3.5156h-4.9684zm1.4844 2h2v5h-2v-5zm0 6h2v2h-2v-2z\" />\n\t\t</svg>\n\t</span>\n</template>\n\n<script>\nexport default {\n\tname: 'JunkIcon',\n\tprops: {\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\tsize: {\n\t\t\ttype: Number,\n\t\t\tdefault: 20,\n\t\t},\n\t\tfillColor: {\n\t\t\ttype: String,\n\t\t\tdefault: 'currentColor',\n\t\t},\n\t},\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JunkIcon.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JunkIcon.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./JunkIcon.vue?vue&type=template&id=6ad14308&functional=true\"\nimport script from \"./JunkIcon.vue?vue&type=script&lang=js\"\nexport * from \"./JunkIcon.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  true,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(_c,_vm){return _c('span',_vm._g(_vm._b({staticClass:\"material-design-icon junk-icon\",class:[_vm.data.class, _vm.data.staticClass],attrs:{\"aria-hidden\":!_vm.props.title,\"aria-label\":_vm.props.title,\"role\":\"img\"}},'span',_vm.data.attrs,false),_vm.listeners),[_c('svg',{staticClass:\"material-design-icon__svg\",attrs:{\"fill\":_vm.props.fillColor,\"width\":_vm.props.size,\"height\":_vm.props.size,\"viewBox\":\"0 0 16 16\"}},[_c('path',{attrs:{\"d\":\"M0 0h24v24H0V0z\",\"fill\":\"none\"}}),_vm._v(\" \"),_c('path',{attrs:{\"d\":\"m5.5156 2l-3.5156 3.5156v4.9684l3.5156 3.516h4.9684l3.516-3.516v-4.9684l-3.516-3.5156h-4.9684zm1.4844 2h2v5h-2v-5zm0 6h2v2h-2v-2z\"}})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<NcModal class=\"confirm-modal\" @close=\"cancel\">\n\t\t<div class=\"confirm-modal\">\n\t\t\t<h2>{{ title }}</h2>\n\t\t\t<slot />\n\t\t\t<div class=\"confirm-modal__buttons\">\n\t\t\t\t<NcButton type=\"tertiary\" :disabled=\"disabled\" @click=\"cancel\">\n\t\t\t\t\t{{ t('mail', 'Cancel') }}\n\t\t\t\t</NcButton>\n\t\t\t\t<NcButton :href=\"confirmUrl\"\n\t\t\t\t\t:rel=\"confirmUrl ? 'noopener noreferrer' : false\"\n\t\t\t\t\t:target=\"confirmUrl ? '_blank' : false\"\n\t\t\t\t\t:disabled=\"disabled\"\n\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t@click=\"confirm\">\n\t\t\t\t\t{{ confirmText }}\n\t\t\t\t</NcButton>\n\t\t\t</div>\n\t\t</div>\n\t</NcModal>\n</template>\n\n<script>\n\nimport { NcButton, NcModal } from '@nextcloud/vue'\nimport { translate as t } from '@nextcloud/l10n'\n\nexport default {\n\tname: 'ConfirmationModal',\n\tcomponents: {\n\t\tNcButton,\n\t\tNcModal,\n\t},\n\tprops: {\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tconfirmText: {\n\t\t\ttype: String,\n\t\t\tdefault: t('mail', 'Confirm'),\n\t\t},\n\t\tconfirmUrl: {\n\t\t\ttype: String,\n\t\t\tdefault: undefined,\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tmethods: {\n\t\tconfirm() {\n\t\t\tthis.$emit('confirm')\n\t\t},\n\t\tcancel() {\n\t\t\tthis.$emit('cancel')\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.confirm-modal {\n\tpadding: 20px;\n\n\t&__buttons {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmationModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmationModal.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmationModal.vue?vue&type=style&index=0&id=381b722b&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmationModal.vue?vue&type=style&index=0&id=381b722b&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ConfirmationModal.vue?vue&type=template&id=381b722b&scoped=true\"\nimport script from \"./ConfirmationModal.vue?vue&type=script&lang=js\"\nexport * from \"./ConfirmationModal.vue?vue&type=script&lang=js\"\nimport style0 from \"./ConfirmationModal.vue?vue&type=style&index=0&id=381b722b&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"381b722b\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('NcModal',{staticClass:\"confirm-modal\",on:{\"close\":_vm.cancel}},[_c('div',{staticClass:\"confirm-modal\"},[_c('h2',[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_vm._t(\"default\"),_vm._v(\" \"),_c('div',{staticClass:\"confirm-modal__buttons\"},[_c('NcButton',{attrs:{\"type\":\"tertiary\",\"disabled\":_vm.disabled},on:{\"click\":_vm.cancel}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Cancel'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('NcButton',{attrs:{\"href\":_vm.confirmUrl,\"rel\":_vm.confirmUrl ? 'noopener noreferrer' : false,\"target\":_vm.confirmUrl ? '_blank' : false,\"disabled\":_vm.disabled,\"type\":\"primary\"},on:{\"click\":_vm.confirm}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.confirmText)+\"\\n\\t\\t\\t\")])],1)],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteTagModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteTagModal.vue?vue&type=script&lang=js\"","<!--\n  - SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<ConfirmationModal title=\"Delete tag\"\n\t\t:disabled=\"deleting\"\n\t\t@confirm=\"deleteTag\"\n\t\t@cancel=\"onClose\">\n\t\t{{ t('mail','The tag will be deleted from all messages.') }}\n\t</ConfirmationModal>\n</template>\n<script>\nimport { showSuccess, showInfo } from '@nextcloud/dialogs'\nimport ConfirmationModal from './ConfirmationModal.vue'\nimport useMainStore from '../store/mainStore.js'\nimport { mapStores } from 'pinia'\n\nexport default {\n\tname: 'DeleteTagModal',\n\tcomponents: {\n\t\tConfirmationModal,\n\t},\n\tprops: {\n\t\ttag: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tenvelopes: {\n\t\t\t// The envelopes on which this menu will act\n\t\t\trequired: true,\n\t\t\ttype: Array,\n\t\t},\n\t\taccountId: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tdeleting: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t},\n\tmethods: {\n\t\tonClose() {\n\t\t\tthis.$emit('close')\n\t\t},\n\t\tremoveTag(imapLabel) {\n\t\t\tthis.envelopes.forEach((envelope) => {\n\t\t\t\tthis.mainStore.removeEnvelopeTag({ envelope, imapLabel })\n\t\t\t})\n\t\t},\n\t\tasync deleteTag() {\n\t\t\tthis.deleting = true\n\t\t\ttry {\n\t\t\t\tthis.removeTag(this.tag.imapLabel)\n\t\t\t\tawait this.mainStore.deleteTag({\n\t\t\t\t\ttag: this.tag,\n\t\t\t\t\taccountId: this.accountId,\n\t\t\t\t})\n\t\t\t\tshowSuccess(t('mail', 'Tag: {name} deleted', { name: this.tag.displayName }))\n\t\t\t} catch (error) {\n\t\t\t\tshowInfo(t('mail', 'An error occurred, unable to delete the tag.'))\n\t\t\t} finally {\n\t\t\t\tthis.deleting = false\n\t\t\t\tthis.onClose()\n\t\t\t}\n\n\t\t},\n\t},\n}\n\n</script>\n","import { render, staticRenderFns } from \"./DeleteTagModal.vue?vue&type=template&id=ddde3d1e\"\nimport script from \"./DeleteTagModal.vue?vue&type=script&lang=js\"\nexport * from \"./DeleteTagModal.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('ConfirmationModal',{attrs:{\"title\":\"Delete tag\",\"disabled\":_vm.deleting},on:{\"confirm\":_vm.deleteTag,\"cancel\":_vm.onClose}},[_vm._v(\"\\n\\t\"+_vm._s(_vm.t('mail','The tag will be deleted from all messages.'))+\"\\n\")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"tag-group\"},[_c('button',{staticClass:\"tag-group__label\",style:({\n\t\t\tcolor: _vm.convertHex(_vm.tag.color, 1),\n\t\t\t'background-color': _vm.convertHex(_vm.tag.color, 0.15)\n\t\t})},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.translateTagDisplayName(_vm.tag))+\"\\n\\t\")]),_vm._v(\" \"),_c('Actions',{attrs:{\"force-menu\":true}},[(_vm.renameTagLabel)?_c('NcActionButton',{on:{\"click\":_vm.openEditTag},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconEdit',{attrs:{\"size\":22}})]},proxy:true}],null,false,3188839357)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail','Edit name or color'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.renameTagLabel)?_c('NcColorPicker',{staticClass:\"app-navigation-entry-bullet-wrapper\",attrs:{\"value\":`#${_vm.tag.color}`},on:{\"input\":_vm.updateColor}},[_c('div',{staticClass:\"color0 app-navigation-entry-bullet\",style:({ backgroundColor: _vm.tag.color })})]):_vm._e(),_vm._v(\" \"),(_vm.renameTagInput)?_c('ActionInput',{attrs:{\"value\":_vm.tag.displayName},on:{\"submit\":function($event){return _vm.renameTag(_vm.tag, $event)}}}):_vm._e(),_vm._v(\" \"),(_vm.showSaving)?_c('ActionText',{scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconLoading',{attrs:{\"size\":22}})]},proxy:true}],null,false,1914415623)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Saving new tag name …'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.tag.isDefaultTag || !_vm.renameTagLabel)?_c('NcActionButton',{on:{\"click\":_vm.deleteTag},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('DeleteIcon',{attrs:{\"size\":22}})]},proxy:true}],null,false,3285467224)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail','Delete tag'))+\"\\n\\t\\t\")]):_vm._e()],1),_vm._v(\" \"),(!_vm.isSet(_vm.tag.imapLabel))?_c('button',{staticClass:\"tag-actions\",on:{\"click\":function($event){return _vm.addTag(_vm.tag.imapLabel)}}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail','Set tag'))+\"\\n\\t\")]):_c('button',{staticClass:\"tag-actions\",on:{\"click\":function($event){return _vm.removeTag(_vm.tag.imapLabel)}}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail','Unset tag'))+\"\\n\\t\")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * SPDX-FileCopyrightText: 2024 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport { translate as t } from '@nextcloud/l10n'\nimport { FOLLOW_UP_TAG_LABEL } from '../store/constants.js'\n\n/**\n * Translate the display name of special tags or leave them as is if the user renamed them.\n *\n * @param {{displayName: string, imapLabel: string}} tag The original display name.\n * @return {string} The translated or original display name.\n */\nexport function translateTagDisplayName(tag) {\n\tif (tag.imapLabel === FOLLOW_UP_TAG_LABEL && tag.displayName === 'Follow up') {\n\t\treturn t('mail', 'Follow up')\n\t}\n\n\treturn tag.displayName\n}\n","<!--\n  - SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div class=\"tag-group\">\n\t\t<button class=\"tag-group__label\"\n\t\t\t:style=\"{\n\t\t\t\tcolor: convertHex(tag.color, 1),\n\t\t\t\t'background-color': convertHex(tag.color, 0.15)\n\t\t\t}\">\n\t\t\t{{ translateTagDisplayName(tag) }}\n\t\t</button>\n\t\t<Actions :force-menu=\"true\">\n\t\t\t<NcActionButton v-if=\"renameTagLabel\"\n\t\t\t\t@click=\"openEditTag\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconEdit :size=\"22\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail','Edit name or color') }}\n\t\t\t</NcActionButton>\n\t\t\t<NcColorPicker v-if=\"!renameTagLabel\"\n\t\t\t\tclass=\"app-navigation-entry-bullet-wrapper\"\n\t\t\t\t:value=\"`#${tag.color}`\"\n\t\t\t\t@input=\"updateColor\">\n\t\t\t\t<div :style=\"{ backgroundColor: tag.color }\" class=\"color0 app-navigation-entry-bullet\" />\n\t\t\t</NcColorPicker>\n\t\t\t<ActionInput v-if=\"renameTagInput\"\n\t\t\t\t:value=\"tag.displayName\"\n\t\t\t\t@submit=\"renameTag(tag, $event)\" />\n\t\t\t<ActionText v-if=\"showSaving\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconLoading :size=\"22\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Saving new tag name …') }}\n\t\t\t</ActionText>\n\t\t\t<NcActionButton v-if=\"!tag.isDefaultTag || !renameTagLabel\"\n\t\t\t\t@click=\"deleteTag\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<DeleteIcon :size=\"22\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail','Delete tag') }}\n\t\t\t</NcActionButton>\n\t\t</Actions>\n\t\t<button v-if=\"!isSet(tag.imapLabel)\"\n\t\t\tclass=\"tag-actions\"\n\t\t\t@click=\"addTag(tag.imapLabel)\">\n\t\t\t{{ t('mail','Set tag') }}\n\t\t</button>\n\t\t<button v-else\n\t\t\tclass=\"tag-actions\"\n\t\t\t@click=\"removeTag(tag.imapLabel)\">\n\t\t\t{{ t('mail','Unset tag') }}\n\t\t</button>\n\t</div>\n</template>\n\n<script>\nimport { NcColorPicker, NcActions as Actions, NcActionButton, NcActionText as ActionText, NcActionInput as ActionInput, NcLoadingIcon as IconLoading } from '@nextcloud/vue'\nimport { showInfo } from '@nextcloud/dialogs'\nimport DeleteIcon from 'vue-material-design-icons/TrashCanOutline.vue'\nimport IconEdit from 'vue-material-design-icons/PencilOutline.vue'\nimport { translateTagDisplayName } from '../util/tag.js'\nimport { mapStores } from 'pinia'\nimport useMainStore from '../store/mainStore.js'\n\nexport default {\n\tname: 'TagItem',\n\tcomponents: {\n\t\tNcColorPicker,\n\t\tActions,\n\t\tNcActionButton,\n\t\tActionText,\n\t\tActionInput,\n\t\tIconLoading,\n\t\tDeleteIcon,\n\t\tIconEdit,\n\t},\n\tprops: {\n\t\ttag: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tenvelopes: {\n\t\t\t// The envelopes on which this menu will act\n\t\t\trequired: true,\n\t\t\ttype: Array,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tisAdded: false,\n\t\t\tediting: false,\n\t\t\ttagLabel: true,\n\t\t\ttagInput: false,\n\t\t\tshowSaving: false,\n\t\t\trenameTagLabel: true,\n\t\t\trenameTagInput: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t},\n\tmethods: {\n\t\ttranslateTagDisplayName,\n\t\tdeleteTag() {\n\t\t\tthis.$emit('delete-tag', this.tag)\n\t\t},\n\t\tasync updateColor(newColor) {\n\t\t\tthis.editColor = newColor\n\t\t\tthis.showSaving = false\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.updateTag({\n\t\t\t\t\ttag: this.tag,\n\t\t\t\t\tdisplayName: this.tag.displayName,\n\t\t\t\t\tcolor: newColor,\n\t\t\t\t})\n\t\t\t\tthis.showSaving = false\n\t\t\t} catch (error) {\n\t\t\t\tshowInfo(t('mail', 'An error occurred, unable to rename the tag.'))\n\t\t\t\tconsole.error(error)\n\t\t\t\tthis.showSaving = true\n\t\t\t}\n\t\t},\n\t\topenEditTag() {\n\t\t\tthis.renameTagLabel = false\n\t\t\tthis.renameTagInput = true\n\t\t\tthis.showSaving = false\n\n\t\t},\n\t\tasync renameTag(tag, event) {\n\t\t\tthis.renameTagInput = false\n\t\t\tthis.showSaving = false\n\t\t\tconst displayName = event.target.querySelector('input[type=text]').value\n\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.updateTag({\n\t\t\t\t\ttag,\n\t\t\t\t\tdisplayName,\n\t\t\t\t\tcolor: tag.color,\n\t\t\t\t})\n\t\t\t\tthis.renameTagLabel = true\n\t\t\t\tthis.renameTagInput = false\n\t\t\t\tthis.showSaving = false\n\t\t\t} catch (error) {\n\t\t\t\tshowInfo(t('mail', 'An error occurred, unable to rename the tag.'))\n\t\t\t\tconsole.error(error)\n\t\t\t\tthis.renameTagLabel = false\n\t\t\t\tthis.renameTagInput = false\n\t\t\t\tthis.showSaving = true\n\t\t\t}\n\t\t},\n\t\tconvertHex(color, opacity) {\n\t\t\tif (color.length === 4) {\n\t\t\t\tconst r = parseInt(color.substring(1, 2), 16)\n\t\t\t\tconst g = parseInt(color.substring(2, 3), 16)\n\t\t\t\tconst b = parseInt(color.substring(3, 4), 16)\n\t\t\t\treturn `rgba(${r}, ${g}, ${b}, ${opacity})`\n\t\t\t} else {\n\t\t\t\tconst r = parseInt(color.substring(1, 3), 16)\n\t\t\t\tconst g = parseInt(color.substring(3, 5), 16)\n\t\t\t\tconst b = parseInt(color.substring(5, 7), 16)\n\t\t\t\treturn `rgba(${r}, ${g}, ${b}, ${opacity})`\n\t\t\t}\n\t\t},\n\t\tisSet(imapLabel) {\n\t\t\treturn this.envelopes.some(\n\t\t\t\t(envelope) => (\n\t\t\t\t\tthis.mainStore.getEnvelopeTags(envelope.databaseId).some(\n\t\t\t\t\t\ttag => tag.imapLabel === imapLabel,\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t)\n\t\t},\n\t\taddTag(imapLabel) {\n\t\t\tthis.isAdded = true\n\t\t\tthis.envelopes.forEach((envelope) => {\n\t\t\t\tthis.mainStore.addEnvelopeTag({ envelope, imapLabel })\n\t\t\t})\n\t\t},\n\t\tremoveTag(imapLabel) {\n\t\t\tthis.isAdded = false\n\t\t\tthis.envelopes.forEach((envelope) => {\n\t\t\t\tthis.mainStore.removeEnvelopeTag({ envelope, imapLabel })\n\t\t\t})\n\t\t},\n\t},\n}\n</script>\n<style scoped lang=\"scss\">\n.app-navigation-entry-bullet-wrapper {\n\twidth: 44px;\n\theight: 44px;\n\tdisplay: inline-block;\n\tposition: fixed;\n\tlist-style: none;\n\ttop: 18px;\n\tinset-inline-start: 15px;\n\n\t.color0 {\n\t\twidth: 22px !important;\n\t\theight: 22px;\n\t\tborder-radius: 50%;\n\t\tbackground-size: 14px;\n\t\tz-index: 2;\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t}\n}\n\n.tag-group {\n\tdisplay: block;\n\tposition: relative;\n\tmargin: 0 1px;\n\toverflow: hidden;\n}\n\n.tag-actions {\n\tbackground-color: transparent;\n\tborder: none;\n\tfloat: inline-end;\n\t&:hover,\n\t&:focus {\n\t\tbackground-color: var(--color-border-dark);\n\t}\n}\n\n.tag-group__label {\n\tz-index: 2;\n\tfont-weight: bold;\n\tborder: none;\n\tbackground-color: transparent;\n\tpadding-inline: 10px;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tmax-width: 94px;\n}\n\n.action-item {\n\tinset-inline-end: 8px;\n\tfloat: inline-end;\n}\n\n:deep(.input-field) {\n\tmargin-top: 3px;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagItem.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagItem.vue?vue&type=style&index=0&id=580d7687&prod&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagItem.vue?vue&type=style&index=0&id=580d7687&prod&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./TagItem.vue?vue&type=template&id=580d7687&scoped=true\"\nimport script from \"./TagItem.vue?vue&type=script&lang=js\"\nexport * from \"./TagItem.vue?vue&type=script&lang=js\"\nimport style0 from \"./TagItem.vue?vue&type=style&index=0&id=580d7687&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"580d7687\",\n  null\n  \n)\n\nexport default component.exports","<!--\n  - SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<DeleteTagModal v-if=\"deleteTagModal\"\n\t\t:tag=\"tagToDelete\"\n\t\t:envelopes=\"envelopes\"\n\t\t:account-id=\"envelopes[0].accountId\"\n\t\t@close=\"closeDeleteModal\" />\n\t<Modal v-else size=\"large\" @close=\"onClose\">\n\t\t<div class=\"modal-content\">\n\t\t\t<h2 class=\"tag-title\">\n\t\t\t\t{{ t('mail', 'Add default tags') }}\n\t\t\t</h2>\n\t\t\t<TagItem v-for=\"tag in tags\"\n\t\t\t\t:key=\"tag.id\"\n\t\t\t\t:tag=\"tag\"\n\t\t\t\t:envelopes=\"envelopes\"\n\t\t\t\t@delete-tag=\"deleteTag\" />\n\n\t\t\t<h2 class=\"tag-title\">\n\t\t\t\t{{ t('mail', 'Add tag') }}\n\t\t\t</h2>\n\t\t\t<div class=\"create-tag\">\n\t\t\t\t<NcButton v-if=\"!editing\"\n\t\t\t\t\tclass=\"tagButton\"\n\t\t\t\t\t@click=\"addTagInput\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconAdd :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Add tag') }}\n\t\t\t\t</NcButton>\n\t\t\t\t<ActionInput v-if=\"editing\" :disabled=\"showSaving\" @submit=\"createTag\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconTag :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t</ActionInput>\n\t\t\t\t<ActionText v-if=\"showSaving\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconLoading :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Saving tag …') }}\n\t\t\t\t</ActionText>\n\t\t\t</div>\n\t\t</div>\n\t</Modal>\n</template>\n\n<script>\nimport { NcModal as Modal, NcActionText as ActionText, NcActionInput as ActionInput, NcLoadingIcon as IconLoading, NcButton } from '@nextcloud/vue'\nimport DeleteTagModal from './DeleteTagModal.vue'\nimport TagItem from './TagItem.vue'\nimport IconTag from 'vue-material-design-icons/TagOutline.vue'\nimport IconAdd from 'vue-material-design-icons/Plus.vue'\nimport { showError, showInfo } from '@nextcloud/dialogs'\nimport { hiddenTags } from './tags.js'\nimport { mapStores } from 'pinia'\nimport useMainStore from '../store/mainStore.js'\n\nfunction randomColor() {\n\tlet randomHexColor = ((1 << 24) * Math.random() | 0).toString(16)\n\twhile (randomHexColor.length < 6) {\n\t\trandomHexColor = '0' + randomHexColor\n\t}\n\treturn '#' + randomHexColor\n}\nexport default {\n\tname: 'TagModal',\n\tcomponents: {\n\t\tModal,\n\t\tActionText,\n\t\tActionInput,\n\t\tDeleteTagModal,\n\t\tIconTag,\n\t\tIconLoading,\n\t\tTagItem,\n\t\tNcButton,\n\t\tIconAdd,\n\t},\n\tprops: {\n\t\tenvelopes: {\n\t\t\t// The envelopes on which this menu will act\n\t\t\trequired: true,\n\t\t\ttype: Array,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tisAdded: false,\n\t\t\tediting: false,\n\t\t\ttagLabel: true,\n\t\t\ttagInput: false,\n\t\t\tshowSaving: false,\n\t\t\trenameTagLabel: true,\n\t\t\trenameTagInput: false,\n\t\t\tdeleteTagModal: false,\n\t\t\ttagToDelete: null,\n\t\t\tcolor: randomColor(),\n\t\t\teditColor: '',\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t\ttags() {\n\t\t\treturn this.mainStore.getTags.filter((tag) => tag.imapLabel !== '$label1' && !(tag.displayName.toLowerCase() in hiddenTags)).sort((a, b) => {\n\t\t\t\tif (a.isDefaultTag && !b.isDefaultTag) {\n\t\t\t\t\treturn -1\n\t\t\t\t}\n\t\t\t\tif (b.isDefaultTag && !a.isDefaultTag) {\n\t\t\t\t\treturn 1\n\t\t\t\t}\n\t\t\t\tif (a.isDefaultTag && b.isDefaultTag) {\n\t\t\t\t\tif (a.displayName < b.displayName) {\n\t\t\t\t\t\treturn 1\n\t\t\t\t\t}\n\t\t\t\t\treturn -1\n\t\t\t\t}\n\t\t\t\tif (this.isSet(a.imapLabel) && !this.isSet(b.imapLabel)) {\n\t\t\t\t\treturn -1\n\t\t\t\t}\n\t\t\t\tif (!this.isSet(a.imapLabel) && this.isSet(b.imapLabel)) {\n\t\t\t\t\treturn 1\n\t\t\t\t}\n\t\t\t\treturn a.displayName.localeCompare(b.displayName)\n\t\t\t})\n\t\t},\n\t},\n\tmethods: {\n\t\tonClose() {\n\t\t\tthis.$emit('close')\n\t\t},\n\t\tcloseDeleteModal() {\n\t\t\tthis.deleteTagModal = false\n\t\t},\n\t\tisSet(imapLabel) {\n\t\t\treturn this.envelopes.some(\n\t\t\t\t(envelope) => (\n\t\t\t\t\tthis.mainStore.getEnvelopeTags(envelope.databaseId).some(\n\t\t\t\t\t\ttag => tag.imapLabel === imapLabel,\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t)\n\t\t},\n\t\taddTagInput() {\n\t\t\tthis.editing = true\n\t\t\tthis.showSaving = false\n\t\t},\n\t\tasync createTag(event) {\n\t\t\tthis.editing = true\n\t\t\tif (this.showSaving) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst displayName = event.target.querySelector('input[type=text]').value\n\t\t\tif (displayName.toLowerCase() in hiddenTags) {\n\t\t\t\tshowError(this.t('mail', 'Tag name is a hidden system tag'))\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif (this.mainStore.getTags.some(tag => tag.displayName === displayName)) {\n\t\t\t\tshowError(this.t('mail', 'Tag already exists'))\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif (displayName.trim() === '') {\n\t\t\t\tshowError(this.t('mail', 'Tag name cannot be empty'))\n\t\t\t\treturn\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.createTag({\n\t\t\t\t\tdisplayName,\n\t\t\t\t\tcolor: randomColor(displayName),\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tconsole.debug(error)\n\t\t\t\tshowError(this.t('mail', 'An error occurred, unable to create the tag.'))\n\t\t\t} finally {\n\t\t\t\tthis.showSaving = false\n\t\t\t\tthis.tagLabel = true\n\t\t\t}\n\t\t},\n\t\tconvertHex(color, opacity) {\n\t\t\tif (color.length === 4) {\n\t\t\t\tconst r = parseInt(color.substring(1, 2), 16)\n\t\t\t\tconst g = parseInt(color.substring(2, 3), 16)\n\t\t\t\tconst b = parseInt(color.substring(3, 4), 16)\n\t\t\t\treturn `rgba(${r}, ${g}, ${b}, ${opacity})`\n\t\t\t} else {\n\t\t\t\tconst r = parseInt(color.substring(1, 3), 16)\n\t\t\t\tconst g = parseInt(color.substring(3, 5), 16)\n\t\t\t\tconst b = parseInt(color.substring(5, 7), 16)\n\t\t\t\treturn `rgba(${r}, ${g}, ${b}, ${opacity})`\n\t\t\t}\n\t\t},\n\t\topenEditTag() {\n\t\t\tthis.renameTagLabel = false\n\t\t\tthis.renameTagInput = true\n\t\t\tthis.showSaving = false\n\n\t\t},\n\t\tasync renameTag(tag, event) {\n\t\t\tthis.renameTagInput = false\n\t\t\tthis.showSaving = false\n\t\t\tconst displayName = event.target.querySelector('input[type=text]').value\n\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.updateTag({\n\t\t\t\t\ttag,\n\t\t\t\t\tdisplayName,\n\t\t\t\t\tcolor: tag.color,\n\t\t\t\t})\n\t\t\t\tthis.renameTagLabel = true\n\t\t\t\tthis.renameTagInput = false\n\t\t\t\tthis.showSaving = false\n\t\t\t} catch (error) {\n\t\t\t\tshowInfo(t('mail', 'An error occurred, unable to rename the tag.'))\n\t\t\t\tconsole.error(error)\n\t\t\t\tthis.renameTagLabel = false\n\t\t\t\tthis.renameTagInput = false\n\t\t\t\tthis.showSaving = true\n\t\t\t}\n\t\t},\n\t\tdeleteTag(tag) {\n\t\t\tthis.tagToDelete = tag\n\t\t\tthis.deleteTagModal = true\n\t\t},\n\n\t},\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n:deep(.modal-content) {\n\tpadding: 20px 20px 20px 20px;\n\tmax-height: calc(100vh - 210px);\n\toverflow-y: auto;\n}\n\n:deep(.modal-container) {\n\twidth: auto !important;\n}\n\n.icon-colorpicker {\n\tbackground-image: var(--icon-add-fff);\n}\n\n.tagButton {\n\tdisplay: inline-block;\n\tmargin-inline-start: 10px;\n}\n\n.tag-title {\n\tmargin-top: 20px;\n\tmargin-inline-start: 10px;\n}\n\n.create-tag {\n\tlist-style: none;\n\tmargin-bottom:12px;\n}\n@media only screen and (max-width: 512px) {\n\t:deep(.modal-container) {\n\ttop: 100px !important;\n\tmax-height: calc(100vh - 170px) !important\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagModal.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagModal.vue?vue&type=style&index=0&id=839f574c&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagModal.vue?vue&type=style&index=0&id=839f574c&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./TagModal.vue?vue&type=template&id=839f574c&scoped=true\"\nimport script from \"./TagModal.vue?vue&type=script&lang=js\"\nexport * from \"./TagModal.vue?vue&type=script&lang=js\"\nimport style0 from \"./TagModal.vue?vue&type=style&index=0&id=839f574c&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"839f574c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.deleteTagModal)?_c('DeleteTagModal',{attrs:{\"tag\":_vm.tagToDelete,\"envelopes\":_vm.envelopes,\"account-id\":_vm.envelopes[0].accountId},on:{\"close\":_vm.closeDeleteModal}}):_c('Modal',{attrs:{\"size\":\"large\"},on:{\"close\":_vm.onClose}},[_c('div',{staticClass:\"modal-content\"},[_c('h2',{staticClass:\"tag-title\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Add default tags'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_vm._l((_vm.tags),function(tag){return _c('TagItem',{key:tag.id,attrs:{\"tag\":tag,\"envelopes\":_vm.envelopes},on:{\"delete-tag\":_vm.deleteTag}})}),_vm._v(\" \"),_c('h2',{staticClass:\"tag-title\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Add tag'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"create-tag\"},[(!_vm.editing)?_c('NcButton',{staticClass:\"tagButton\",on:{\"click\":_vm.addTagInput},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconAdd',{attrs:{\"size\":20}})]},proxy:true}],null,false,2388353250)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Add tag'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.editing)?_c('ActionInput',{attrs:{\"disabled\":_vm.showSaving},on:{\"submit\":_vm.createTag},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconTag',{attrs:{\"size\":20}})]},proxy:true}],null,false,1596509905)}):_vm._e(),_vm._v(\" \"),(_vm.showSaving)?_c('ActionText',{scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconLoading',{attrs:{\"size\":20}})]},proxy:true}],null,false,3081367109)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Saving tag …'))+\"\\n\\t\\t\\t\")]):_vm._e()],1)],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Modal',{attrs:{\"size\":\"large\",\"name\":_vm.t('mail', 'Create event')},on:{\"close\":_vm.onClose}},[_c('div',{staticClass:\"modal-content\"},[_c('h2',[_vm._v(_vm._s(_vm.t('mail', 'Create event')))]),_vm._v(\" \"),_c('div',{staticClass:\"eventTitle\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.eventTitle),expression:\"eventTitle\"}],attrs:{\"disabled\":_vm.generatingData,\"type\":\"text\"},domProps:{\"value\":(_vm.eventTitle)},on:{\"input\":function($event){if($event.target.composing)return;_vm.eventTitle=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"dateTimePicker\"},[_c('DatetimePicker',{attrs:{\"format\":_vm.dateFormat,\"clearable\":false,\"minute-step\":5,\"show-second\":false,\"type\":_vm.datePickerType,\"show-timezone-select\":true,\"timezone-id\":_vm.startTimezoneId},model:{value:(_vm.startDate),callback:function ($$v) {_vm.startDate=$$v},expression:\"startDate\"}}),_vm._v(\" \"),_c('DatetimePicker',{attrs:{\"format\":_vm.dateFormat,\"clearable\":false,\"minute-step\":5,\"show-second\":false,\"type\":_vm.datePickerType,\"show-timezone-select\":true,\"timezone-id\":_vm.endTimezoneId},model:{value:(_vm.endDate),callback:function ($$v) {_vm.endDate=$$v},expression:\"endDate\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"all-day\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.isAllDay),expression:\"isAllDay\"}],staticClass:\"checkbox\",attrs:{\"id\":\"allDay\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.isAllDay)?_vm._i(_vm.isAllDay,null)>-1:(_vm.isAllDay)},on:{\"change\":function($event){var $$a=_vm.isAllDay,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.isAllDay=$$a.concat([$$v]))}else{$$i>-1&&(_vm.isAllDay=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.isAllDay=$$c}}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"allDay\"}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'All day'))+\"\\n\\t\\t\\t\")])]),_vm._v(\" \"),_c('div',{staticClass:\"attendees-field\"},[_c('label',{attrs:{\"for\":\"attendees\"}},[_vm._v(_vm._s(_vm.t('mail', 'Attendees')))]),_vm._v(\" \"),(!_vm.organizerEmail)?_c('span',{staticClass:\"attendees-disabled-msg\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'You can only invite attendees if your account has an email address set'))+\"\\n\\t\\t\\t\")]):_c('NcSelect',{staticClass:\"select-users\",attrs:{\"id\":\"attendee\",\"value\":_vm.attendeesList,\"multiple\":true,\"label\":\"displayName\",\"track-by\":\"email\",\"clearable\":true,\"searchable\":true,\"label-outside\":true,\"input-id\":\"uid\",\"disabled\":!_vm.organizerEmail,\"options\":_vm.attendeesOptions,\"taggable\":true,\"create-option\":_vm.createRecipientOption},on:{\"option:selecting\":_vm.addAttendee},scopedSlots:_vm._u([{key:\"search\",fn:function({ events, attributes }){return [_c('input',_vm._g(_vm._b({staticClass:\"vs__search\",attrs:{\"placeholder\":_vm.t('mail', 'Contact or email address …'),\"type\":\"search\"}},'input',attributes,false),events))]}},{key:\"selected-option-container\",fn:function({option}){return [_c('RecipientListItem',{staticClass:\"vs__selected selected\",attrs:{\"option\":option},on:{\"remove-recipient\":function($event){return _vm.removeAttendee(option)}}})]}}])})],1),_vm._v(\" \"),_c('NcSelect',{staticClass:\"modal-content__calendar-picker\",attrs:{\"label\":\"displayname\",\"aria-label-combobox\":_vm.t('mail', 'Select calendar'),\"options\":_vm.calendars},scopedSlots:_vm._u([{key:\"option\",fn:function(option){return [_c('CalendarPickerOption',_vm._b({},'CalendarPickerOption',option,false))]}},{key:\"singleLabel\",fn:function(option){return [_c('CalendarPickerOption',_vm._b({attrs:{\"display-icon\":true}},'CalendarPickerOption',option,false))]}}]),model:{value:(_vm.selectedCalendar),callback:function ($$v) {_vm.selectedCalendar=$$v},expression:\"selectedCalendar\"}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"description\"}},[_vm._v(_vm._s(_vm.t('mail', 'Description')))]),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.description),expression:\"description\"}],staticClass:\"modal-content__description-input\",attrs:{\"id\":\"description\",\"disabled\":_vm.generatingData,\"rows\":\"7\"},domProps:{\"value\":(_vm.description)},on:{\"input\":function($event){if($event.target.composing)return;_vm.description=$event.target.value}}}),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('button',{staticClass:\"primary\",on:{\"click\":_vm.onSave}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Create'))+\"\\n\\t\\t\")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport md5 from 'md5'\nimport convert from 'color-convert'\n\n/**\n * Generates a hex color based on RGB string\n *\n * @param {string} uid The string to generate a color from\n * @return {string} The hex color\n */\nexport function uidToHexColor(uid) {\n\tconst color = uidToColor(uid)\n\treturn '#' + convert.rgb.hex(color.r, color.g, color.b)\n}\n\n// copied from calendar\n// TODO: have it separately in a file\n\n/**\n * This is copied from nextcloud-vue for now, until it is exposed upstream.\n */\n\nexport const uidToColor = (uid) => {\n\t// Normalize hash\n\tlet hash = uid.toLowerCase()\n\n\t// Already a md5 hash?\n\tif (hash.match(/^([0-9a-f]{4}-?){8}$/) === null) {\n\t\thash = md5(hash)\n\t}\n\n\thash = hash.replace(/[^0-9a-f]/g, '')\n\n\tconst steps = 6\n\tconst finalPalette = GenColors(steps)\n\n\t// Convert a string to an integer evenly\n\tfunction hashToInt(hash, maximum) {\n\t\tlet finalInt = 0\n\t\tconst result = []\n\n\t\t// Splitting evenly the string\n\t\tfor (let i = 0; i < hash.length; i++) {\n\t\t\t// chars in md5 goes up to f, hex:16\n\t\t\tresult.push(parseInt(hash.charAt(i), 16) % 16)\n\t\t}\n\n\t\t// Adds up all results\n\t\tfor (const j in result) {\n\t\t\tfinalInt += result[j]\n\t\t}\n\n\t\t// chars in md5 goes up to f, hex:16\n\t\t// make sure we're always using int in our operation\n\t\treturn parseInt(parseInt(finalInt, 10) % maximum, 10)\n\t}\n\treturn finalPalette[hashToInt(hash, steps * 3)]\n}\n\nfunction Color(r, g, b) {\n\tthis.r = r\n\tthis.g = g\n\tthis.b = b\n}\n\nfunction stepCalc(steps, ends) {\n\tconst step = new Array(3)\n\tstep[0] = (ends[1].r - ends[0].r) / steps\n\tstep[1] = (ends[1].g - ends[0].g) / steps\n\tstep[2] = (ends[1].b - ends[0].b) / steps\n\treturn step\n}\n\nfunction mixPalette(steps, color1, color2) {\n\tconst palette = []\n\tpalette.push(color1)\n\tconst step = stepCalc(steps, [color1, color2])\n\tfor (let i = 1; i < steps; i++) {\n\t\tconst r = parseInt(color1.r + step[0] * i, 10)\n\t\tconst g = parseInt(color1.g + step[1] * i, 10)\n\t\tconst b = parseInt(color1.b + step[2] * i, 10)\n\t\tpalette.push(new Color(r, g, b))\n\t}\n\treturn palette\n}\n\n/**\n * Generate colors from the official nextcloud color\n * You can provide how many colors you want (multiplied by 3)\n * if step = 6\n * 3 colors * 6 will result in 18 generated colors\n *\n * @param {number} [steps] Number of steps to go from a color to another\n * @return {object[]}\n */\nfunction GenColors(steps) {\n\tif (!steps) {\n\t\tsteps = 6\n\t}\n\n\tconst red = new Color(182, 70, 157)\n\tconst yellow = new Color(221, 203, 85)\n\tconst blue = new Color(0, 130, 201) // Nextcloud blue\n\n\tconst palette1 = mixPalette(steps, red, yellow)\n\tconst palette2 = mixPalette(steps, yellow, blue)\n\tconst palette3 = mixPalette(steps, blue, red)\n\n\treturn palette1.concat(palette2).concat(palette3)\n}\n\nexport default uidToColor\n","/**\n * SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-only\n */\nimport curry from 'lodash/fp/curry.js'\nimport ical from 'ical.js'\nimport { getClient } from '../dav/client.js'\nimport Axios from '@nextcloud/axios'\n\nimport Logger from '../logger.js'\nimport { generateRemoteUrl } from '@nextcloud/router'\nimport { getCurrentUser } from '@nextcloud/auth'\nimport { uidToHexColor } from '../util/calendarColor.js'\n\nconst canWrite = (properties) => {\n\tlet acls = properties?.acl?.ace\n\n\tif (!acls) {\n\t\treturn false\n\t}\n\t// There might only be one ACL, not a list\n\tif (!Array.isArray(acls)) {\n\t\tacls = [acls]\n\t}\n\n\tfor (const acl of acls) {\n\t\tif (acl.grant?.privilege?.write !== undefined) {\n\t\t\treturn true\n\t\t}\n\t}\n\n\treturn false\n}\n\nconst getCalendarData = (calendar) => {\n\treturn {\n\t\tdisplayname: calendar.props.displayname,\n\t\torder: calendar.props['calendar-order'],\n\t\tcomponents: {\n\t\t\tvevent: true, // check if VEVENT exists in props['supported-calendar-component-set'].comps\n\t\t},\n\t\twritable: canWrite(calendar.props),\n\t\turl: generateRemoteUrl(`dav/calendars/${getCurrentUser().uid}${calendar.filename}/`),\n\t\tcolor: calendar.props['calendar-color'] ?? uidToHexColor(calendar.props.displayname ?? ''),\n\n\t}\n}\n\n/**\n * @return {Promise}\n */\nexport const getUserCalendars = async () => {\n\tconst response = await getClient('calendars')\n\t\t.getDirectoryContents('/', {\n\t\t\tdata: `<?xml version=\"1.0\"?>\n<d:propfind  xmlns:d=\"DAV:\" xmlns:c=\"urn:ietf:params:xml:ns:caldav\" xmlns:aapl=\"http://apple.com/ns/ical/\" xmlns:oc=\"http://owncloud.org/ns\" xmlns:cs=\"http://calendarserver.org/ns/\">\n  <d:prop>\n    <d:displayname />\n    <c:calendar-description />\n    <c:calendar-timezone />\n    <aapl:calendar-order />\n    <aapl:calendar-color />\n    <c:supported-calendar-component-set />\n    <oc:calendar-enabled />\n    <d:acl />\n    <d:owner />\n    <oc:invite />\n  </d:prop>\n</d:propfind>`,\n\t\t\tdetails: true,\n\t\t})\n\n\treturn response.data\n\t\t.map(getCalendarData)\n\t\t.filter(props => props.components.vevent && props.writable === true)\n}\n\nconst getRandomString = () => {\n\tlet str = ''\n\tfor (let i = 0; i < 7; i++) {\n\t\tstr += Math.random().toString(36).substring(7)\n\t}\n\treturn str\n}\n\nconst createICalElement = () => {\n\tconst root = new ical.Component(['vcalendar', [], []])\n\n\troot.updatePropertyWithValue('prodid', '-//' + OC.theme.name + ' Mail')\n\n\treturn root\n}\n\nconst splitCalendar = (data) => {\n\tconst timezones = []\n\tconst allObjects = {}\n\tconst jCal = ical.parse(data)\n\tconst components = new ical.Component(jCal)\n\n\tconst vtimezones = components.getAllSubcomponents('vtimezone')\n\tvtimezones.forEach((vtimezone) => timezones.push(vtimezone))\n\n\tconst componentNames = ['vevent', 'vjournal', 'vtodo']\n\tcomponentNames.forEach((componentName) => {\n\t\tconst vobjects = components.getAllSubcomponents(componentName)\n\t\tallObjects[componentName] = {}\n\n\t\tvobjects.forEach((vobject) => {\n\t\t\tconst uid = vobject.getFirstPropertyValue('uid')\n\t\t\tallObjects[componentName][uid] = allObjects[componentName][uid] || []\n\t\t\tallObjects[componentName][uid].push(vobject)\n\t\t})\n\t})\n\n\tconst split = []\n\tcomponentNames.forEach((componentName) => {\n\t\tsplit[componentName] = []\n\t\tfor (const objectsId in allObjects[componentName]) {\n\t\t\tconst objects = allObjects[componentName][objectsId]\n\t\t\tconst component = createICalElement()\n\t\t\ttimezones.forEach(component.addSubcomponent.bind(component))\n\t\t\tfor (const objectId in objects) {\n\t\t\t\tcomponent.addSubcomponent(objects[objectId])\n\t\t\t}\n\t\t\tsplit[componentName].push(component.toString())\n\t\t}\n\t})\n\n\treturn {\n\t\tname: components.getFirstPropertyValue('x-wr-calname'),\n\t\tcolor: components.getFirstPropertyValue('x-apple-calendar-color'),\n\t\tsplit,\n\t}\n}\n\n/**\n * @param {string} url the url\n * @param {object} data the data\n * @return {Promise}\n */\nexport const importCalendarEvent = curry((url, data) => {\n\tLogger.debug('importing events into calendar', {\n\t\turl,\n\t\tdata,\n\t})\n\tconst promises = []\n\n\tconst file = splitCalendar(data)\n\tconst components = ['vevent', 'vjournal', 'vtodo']\n\tcomponents.forEach((componentName) => {\n\t\tfor (const componentId in file.split[componentName]) {\n\t\t\tconst component = file.split[componentName][componentId]\n\t\t\tLogger.info('importing event component', { component })\n\t\t\tpromises.push(\n\t\t\t\tPromise.resolve(\n\t\t\t\t\tAxios.put(url + getRandomString() + '.ics', component, {\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'Content-Type': 'text/calendar; charset=utf-8',\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t),\n\t\t\t)\n\t\t}\n\t})\n\n\treturn Promise.all(promises)\n})\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarPickerOption.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarPickerOption.vue?vue&type=script&lang=js\"","<!--\n  - SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div class=\"calendar-picker-option\">\n\t\t<div class=\"calendar-picker-option__color-indicator\"\n\t\t\t:style=\"{ backgroundColor: color }\" />\n\n\t\t<span class=\"calendar-picker-option__label\">\n\t\t\t{{ displayname }}\n\t\t</span>\n\t\t<span :class=\"displayIcon ? 'icon-caret-dark' : ''\" />\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: 'CalendarPickerOption',\n\tprops: {\n\t\tcolor: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tdisplayname: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tdisplayIcon: {\n\t\t  type: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.calendar-picker-option {\n\twidth: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\n\t&__color-indicator {\n\t\twidth: 12px;\n\t\theight: 12px;\n\t\tborder-radius: 50%;\n\t\tborder: none;\n\t\tmargin-inline-end: calc(var(--default-grid-baseline) * 2);\n\t\tflex-basis: calc(var(--default-grid-baseline) * 3);\n\t\tflex-shrink: 0;\n\t}\n\n\t&__label {\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\tflex-grow: 1;\n\t\tmax-width: 80px;\n\t}\n}\n\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarPickerOption.vue?vue&type=style&index=0&id=5d8e3696&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarPickerOption.vue?vue&type=style&index=0&id=5d8e3696&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CalendarPickerOption.vue?vue&type=template&id=5d8e3696&scoped=true\"\nimport script from \"./CalendarPickerOption.vue?vue&type=script&lang=js\"\nexport * from \"./CalendarPickerOption.vue?vue&type=script&lang=js\"\nimport style0 from \"./CalendarPickerOption.vue?vue&type=style&index=0&id=5d8e3696&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5d8e3696\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"calendar-picker-option\"},[_c('div',{staticClass:\"calendar-picker-option__color-indicator\",style:({ backgroundColor: _vm.color })}),_vm._v(\" \"),_c('span',{staticClass:\"calendar-picker-option__label\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.displayname)+\"\\n\\t\")]),_vm._v(\" \"),_c('span',{class:_vm.displayIcon ? 'icon-caret-dark' : ''})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { generateUrl } from '@nextcloud/router'\nimport axios from '@nextcloud/axios'\nimport { convertAxiosError } from '../errors/convert.js'\n\nexport const summarizeThread = async (threadId) => {\n\tconst url = generateUrl('/apps/mail/api/thread/{threadId}/summary', {\n\t\tthreadId,\n\t})\n\n\ttry {\n\t\tconst resp = await axios.get(url)\n\t\tif (resp.status === 204) {\n\t\t\tthrow new Error('Thread summary failed, error in the llm service')\n\t\t}\n\t\treturn resp.data.data\n\t} catch (e) {\n\t\tthrow convertAxiosError(e)\n\t}\n}\n\nexport const generateEventData = async (threadId) => {\n\tconst url = generateUrl('/apps/mail/api/thread/{threadId}/eventdata', {\n\t\tthreadId,\n\t})\n\n\ttry {\n\t\tconst resp = await axios.get(url)\n\t\treturn resp.data.data\n\t} catch (e) {\n\t\tthrow convertAxiosError(e)\n\t}\n}\n\nexport const smartReply = async (messageId) => {\n\tconst url = generateUrl('/apps/mail/api/messages/{messageId}/smartreply', {\n\t\tmessageId,\n\t})\n\n\ttry {\n\t\tconst resp = await axios.get(url)\n\t\tif (resp.status === 204) {\n\t\t\tthrow new Error('Smart replies failed, error in the llm service')\n\t\t}\n\t\treturn resp.data\n\t} catch (e) {\n\t\tthrow convertAxiosError(e)\n\t}\n}\n\nexport const needsTranslation = async (messageId) => {\n\tconst url = generateUrl('/apps/mail/api/messages/{messageId}/needsTranslation', {\n\t\tmessageId,\n\t})\n\n\ttry {\n\t\tconst resp = await axios.get(url)\n\t\tif (resp.status === 204) {\n\t\t\tthrow new Error('Checking whether translation is needed failed, error in the llm service')\n\t\t}\n\t\tif (resp.status === 501) {\n\t\t\tthrow new Error('Please enable llm services for groupware to use this feature')\n\t\t}\n\t\treturn resp.data.requiresTranslation\n\t} catch (e) {\n\t\tthrow convertAxiosError(e)\n\t}\n}\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventModal.vue?vue&type=script&lang=js\"","<!--\n  - SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<Modal size=\"large\"\n\t\t:name=\"t('mail', 'Create event')\"\n\t\t@close=\"onClose\">\n\t\t<div class=\"modal-content\">\n\t\t\t<h2>{{ t('mail', 'Create event') }}</h2>\n\t\t\t<div class=\"eventTitle\">\n\t\t\t\t<input v-model=\"eventTitle\" :disabled=\"generatingData\" type=\"text\">\n\t\t\t</div>\n\t\t\t<div class=\"dateTimePicker\">\n\t\t\t\t<DatetimePicker v-model=\"startDate\"\n\t\t\t\t\t:format=\"dateFormat\"\n\t\t\t\t\t:clearable=\"false\"\n\t\t\t\t\t:minute-step=\"5\"\n\t\t\t\t\t:show-second=\"false\"\n\t\t\t\t\t:type=\"datePickerType\"\n\t\t\t\t\t:show-timezone-select=\"true\"\n\t\t\t\t\t:timezone-id=\"startTimezoneId\" />\n\t\t\t\t<DatetimePicker v-model=\"endDate\"\n\t\t\t\t\t:format=\"dateFormat\"\n\t\t\t\t\t:clearable=\"false\"\n\t\t\t\t\t:minute-step=\"5\"\n\t\t\t\t\t:show-second=\"false\"\n\t\t\t\t\t:type=\"datePickerType\"\n\t\t\t\t\t:show-timezone-select=\"true\"\n\t\t\t\t\t:timezone-id=\"endTimezoneId\" />\n\t\t\t</div>\n\t\t\t<div class=\"all-day\">\n\t\t\t\t<input id=\"allDay\"\n\t\t\t\t\tv-model=\"isAllDay\"\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tclass=\"checkbox\">\n\t\t\t\t<label for=\"allDay\">\n\t\t\t\t\t{{ t('mail', 'All day') }}\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<div class=\"attendees-field\">\n\t\t\t\t<label for=\"attendees\">{{ t('mail', 'Attendees') }}</label>\n\t\t\t\t<span v-if=\"!organizerEmail\" class=\"attendees-disabled-msg\">\n\t\t\t\t\t{{ t('mail', 'You can only invite attendees if your account has an email address set') }}\n\t\t\t\t</span>\n\t\t\t\t<NcSelect v-else\n\t\t\t\t\tid=\"attendee\"\n\t\t\t\t\t:value=\"attendeesList\"\n\t\t\t\t\tclass=\"select-users\"\n\t\t\t\t\t:multiple=\"true\"\n\t\t\t\t\tlabel=\"displayName\"\n\t\t\t\t\ttrack-by=\"email\"\n\t\t\t\t\t:clearable=\"true\"\n\t\t\t\t\t:searchable=\"true\"\n\t\t\t\t\t:label-outside=\"true\"\n\t\t\t\t\tinput-id=\"uid\"\n\t\t\t\t\t:disabled=\"!organizerEmail\"\n\t\t\t\t\t:options=\"attendeesOptions\"\n\t\t\t\t\t:taggable=\"true\"\n\t\t\t\t\t:create-option=\"createRecipientOption\"\n\t\t\t\t\t@option:selecting=\"addAttendee\">\n\t\t\t\t\t<template #search=\"{ events, attributes }\">\n\t\t\t\t\t\t<input :placeholder=\"t('mail', 'Contact or email address …')\"\n\t\t\t\t\t\t\ttype=\"search\"\n\t\t\t\t\t\t\tclass=\"vs__search\"\n\t\t\t\t\t\t\tv-bind=\"attributes\"\n\t\t\t\t\t\t\tv-on=\"events\">\n\t\t\t\t\t</template>\n\t\t\t\t\t<template #selected-option-container=\"{option}\">\n\t\t\t\t\t\t<RecipientListItem :option=\"option\"\n\t\t\t\t\t\t\tclass=\"vs__selected selected\"\n\t\t\t\t\t\t\t@remove-recipient=\"removeAttendee(option)\" />\n\t\t\t\t\t</template>\n\t\t\t\t</NcSelect>\n\t\t\t</div>\n\t\t\t<NcSelect v-model=\"selectedCalendar\"\n\t\t\t\tclass=\"modal-content__calendar-picker\"\n\t\t\t\tlabel=\"displayname\"\n\t\t\t\t:aria-label-combobox=\"t('mail', 'Select calendar')\"\n\t\t\t\t:options=\"calendars\">\n\t\t\t\t<template #option=\"option\">\n\t\t\t\t\t<CalendarPickerOption v-bind=\"option\" />\n\t\t\t\t</template>\n\t\t\t\t<template #singleLabel=\"option\">\n\t\t\t\t\t<CalendarPickerOption :display-icon=\"true\"\n\t\t\t\t\t\tv-bind=\"option\" />\n\t\t\t\t</template>\n\t\t\t</NcSelect>\n\t\t\t<label for=\"description\">{{ t('mail', 'Description') }}</label>\n\t\t\t<textarea id=\"description\"\n\t\t\t\tv-model=\"description\"\n\t\t\t\t:disabled=\"generatingData\"\n\t\t\t\tclass=\"modal-content__description-input\"\n\t\t\t\trows=\"7\" />\n\t\t\t<br>\n\t\t\t<button class=\"primary\" @click=\"onSave\">\n\t\t\t\t{{ t('mail', 'Create') }}\n\t\t\t</button>\n\t\t</div>\n\t</Modal>\n</template>\n\n<script>\nimport { createEvent, DateTimeValue, TextProperty, AttendeeProperty } from '@nextcloud/calendar-js'\nimport { getTimezoneManager } from '@nextcloud/timezones'\nimport { NcDateTimePicker as DatetimePicker, NcModal as Modal, NcSelect } from '@nextcloud/vue'\nimport RecipientListItem from './RecipientListItem.vue'\nimport jstz from 'jstz'\n\nimport { getUserCalendars, importCalendarEvent } from '../service/DAVService.js'\nimport logger from '../logger.js'\nimport CalendarPickerOption from './CalendarPickerOption.vue'\nimport { showError, showSuccess } from '@nextcloud/dialogs'\nimport { loadState } from '@nextcloud/initial-state'\nimport { mapState, mapStores } from 'pinia'\nimport useMainStore from '../store/mainStore.js'\nimport { generateEventData } from '../service/AiIntergrationsService.js'\n\nexport default {\n\tname: 'EventModal',\n\tcomponents: {\n\t\tRecipientListItem,\n\t\tCalendarPickerOption,\n\t\tDatetimePicker,\n\t\tModal,\n\t\tNcSelect,\n\t},\n\tprops: {\n\t\tenvelope: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\t// Try to determine the current timezone, and fall back to UTC otherwise\n\t\tconst defaultTimezone = jstz.determine()\n\t\tconst defaultTimezoneId = defaultTimezone ? defaultTimezone.name() : 'UTC'\n\n\t\treturn {\n\t\t\tcalendars: [],\n\t\t\teventTitle: this.envelope.subject,\n\t\t\tstartDate: new Date(),\n\t\t\tendDate: new Date(),\n\t\t\tisAllDay: false,\n\t\t\tstartTimezoneId: defaultTimezoneId,\n\t\t\tendTimezoneId: defaultTimezoneId,\n\t\t\tsaving: false,\n\t\t\tselectedCalendar: undefined,\n\t\t\tdescription: this.envelope.previewText,\n\t\t\tgeneratingData: false,\n\t\t\tllmProcessingEnabled: loadState('mail', 'llm_summaries_available', false),\n\t\t\tattendeesList: [],\n\t\t\tattendeesOptions: [],\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t\t...mapState(useMainStore, {\n\t\t\torganizerEmail: 'getCurrentUserPrincipalEmail',\n\t\t}),\n\t\tdateFormat() {\n\t\t\treturn this.isAllDay ? 'YYYY-MM-DD' : 'YYYY-MM-DD HH:mm'\n\t\t},\n\t\tdatePickerType() {\n\t\t\treturn this.isAllDay ? 'date' : 'datetime'\n\t\t},\n\t\tprefilledAttendees() {\n\t\t\tconst attendees = []\n\t\t\tif (this.envelope.from) {\n\t\t\t\tattendees.push({\n\t\t\t\t\tdisplayName: this.envelope.from[0].name || this.envelope.from[0].email,\n\t\t\t\t\temail: this.envelope.from[0].email || this.envelope.from[0].name,\n\t\t\t\t})\n\t\t\t}\n\t\t\tif (Array.isArray(this.envelope.to)) {\n\t\t\t\tthis.envelope.to.forEach(person => {\n\t\t\t\t\tif (person.email) {\n\t\t\t\t\t\tattendees.push({\n\t\t\t\t\t\t\tdisplayName: person.name || person.email,\n\t\t\t\t\t\t\temail: person.email,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn attendees\n\t\t},\n\t},\n\tasync created() {\n\t\tlogger.debug('creating event from envelope', {\n\t\t\tenvelope: this.envelope,\n\t\t})\n\t\tthis.attendeesOptions = this.prefilledAttendees\n\t\tthis.attendeesList = [...this.attendeesOptions]\n\n\t\tawait this.generateEventData()\n\t},\n\tasync mounted() {\n\t\tthis.calendars = (await getUserCalendars()).filter(c => c.writable)\n\n\t\tif (this.calendars.length) {\n\t\t\tthis.selectedCalendar = this.calendars[0]\n\t\t}\n\t},\n\tmethods: {\n\t\taddAttendee(option) {\n\t\t\tif (option === undefined || option === null || option === '') {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tconst attendee = { ...option }\n\t\t\tthis.attendeesOptions.push(attendee)\n\t\t\tthis.attendeesList.push(attendee)\n\t\t},\n\t\tremoveAttendee(option) {\n\t\t\tthis.attendeesList = this.attendeesList.filter(\n\t\t\t\tattendee => attendee.email !== option.email,\n\t\t\t)\n\t\t},\n\t\tasync generateEventData() {\n\t\t\tif (!this.llmProcessingEnabled) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tthis.generatingData = true\n\n\t\t\t\tconst { summary, description } = await generateEventData(this.envelope.databaseId)\n\t\t\t\tthis.eventTitle = summary\n\t\t\t\tthis.description = description\n\t\t\t} finally {\n\t\t\t\tthis.generatingData = false\n\t\t\t}\n\t\t},\n\t\tcreateRecipientOption(value) {\n\t\t\treturn { email: value, displayName: value }\n\t\t},\n\t\tonClose() {\n\t\t\tthis.$emit('close')\n\t\t},\n\t\tasync onSave() {\n\t\t\tthis.saving = true\n\n\t\t\ttry {\n\t\t\t\tlogger.debug('create event', {\n\t\t\t\t\tcalendar: this.selectedCalendar,\n\t\t\t\t\teventTitle: this.eventTitle,\n\t\t\t\t\tstartDate: this.startDate,\n\t\t\t\t\tstartTimezone: this.startTimezoneId,\n\t\t\t\t\tendTimezone: this.endTimezoneId,\n\t\t\t\t\tdescription: this.description,\n\t\t\t\t})\n\n\t\t\t\tconst timezoneManager = getTimezoneManager()\n\t\t\t\t// TODO: only do this once\n\t\t\t\ttimezoneManager.registerDefaultTimezones()\n\t\t\t\tconst startTimezone = timezoneManager.getTimezoneForId(this.startTimezoneId)\n\t\t\t\tconst startDateTime = DateTimeValue\n\t\t\t\t\t.fromJSDate(this.startDate, true)\n\t\t\t\t\t.getInTimezone(startTimezone)\n\t\t\t\tconst endTimezone = timezoneManager.getTimezoneForId(this.endTimezoneId)\n\t\t\t\tconst endDateTime = DateTimeValue\n\t\t\t\t\t.fromJSDate(this.endDate, true)\n\t\t\t\t\t.getInTimezone(endTimezone)\n\t\t\t\tif (this.isAllDay) {\n\t\t\t\t\tstartDateTime.isDate = true\n\t\t\t\t\tendDateTime.isDate = true\n\t\t\t\t}\n\n\t\t\t\tconst calendar = createEvent(startDateTime, endDateTime)\n\t\t\t\tconst event = calendar.getFirstComponent('VEVENT')\n\t\t\t\tevent.addProperty(new TextProperty('SUMMARY', this.eventTitle))\n\t\t\t\tif (this.description) {\n\t\t\t\t\tevent.addProperty(new TextProperty('DESCRIPTION', this.description))\n\t\t\t\t}\n\n\t\t\t\tconst organizerEmail = this.organizerEmail?.toLowerCase() || ''\n\n\t\t\t\tif (organizerEmail && this.attendeesList.length > 0) {\n\t\t\t\t\tconst filteredAttendees = this.attendeesList\n\t\t\t\t\t\t.map(a => a.email || a.displayName)\n\t\t\t\t\t\t.filter(email => email && email.toLowerCase() !== organizerEmail)\n\n\t\t\t\t\tfilteredAttendees.forEach(att => {\n\t\t\t\t\t\tevent.addProperty(new AttendeeProperty('ATTENDEE', `mailto:${att}`))\n\t\t\t\t\t})\n\n\t\t\t\t\tevent.addProperty(new AttendeeProperty('ORGANIZER', organizerEmail))\n\t\t\t\t}\n\n\t\t\t\tfor (const vObject of calendar.getVObjectIterator()) {\n\t\t\t\t\tvObject.undirtify()\n\t\t\t\t}\n\t\t\t\tlogger.debug('calendar object created', { calendar, event })\n\n\t\t\t\tawait importCalendarEvent(\n\t\t\t\t\tthis.selectedCalendar.url,\n\t\t\t\t\tcalendar.toICS(),\n\t\t\t\t)\n\n\t\t\t\tshowSuccess(t('mail', 'Event created'))\n\t\t\t\tthis.onClose()\n\t\t\t} catch (error) {\n\t\t\t\tshowError(t('mail', 'Could not create event'))\n\t\t\t\tlogger.error('Creating event from message failed', { error })\n\t\t\t} finally {\n\t\t\t\tthis.saving = false\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n:deep(.modal-wrapper .modal-container) {\n\twidth: calc(100vw - 120px) !important;\n\theight: calc(100vh - 120px) !important;\n\tmax-width: 590px !important;\n\tmax-height: 600px !important;\n}\n\n.modal-content {\n\tpadding: 10px 30px 20px !important;\n\n\t&__calendar-picker {\n\t\tdisplay: block;\n\t}\n\t&__description-input {\n\t\twidth: 100%;\n\t\tresize: vertical;\n\t}\n}\n\ninput {\n\twidth: 100%;\n}\n\n:deep(input[type='text']) {\n\tpadding: 0 !important;\n}\n\n.all-day {\n\tmargin-inline-start: -1px;\n\tmargin-top: 5px;\n\tmargin-bottom: 5px;\n}\n\n.eventTitle {\n\tmargin-bottom: 5px;\n}\n\n.primary {\n\tfloat: inline-end;\n}\n\n:deep(.mx-datepicker) {\n\twidth: 213px;\n}\n\n.vs__search {\n\twidth: 100%;\n}\n\n.attendees-disabled-msg {\n\tdisplay: inline-block;\n}\n\n.attendees-field {\n\tpadding-bottom: 10px;\n}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventModal.vue?vue&type=style&index=0&id=f171dd56&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventModal.vue?vue&type=style&index=0&id=f171dd56&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./EventModal.vue?vue&type=template&id=f171dd56&scoped=true\"\nimport script from \"./EventModal.vue?vue&type=script&lang=js\"\nexport * from \"./EventModal.vue?vue&type=script&lang=js\"\nimport style0 from \"./EventModal.vue?vue&type=style&index=0&id=f171dd56&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f171dd56\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Modal',{on:{\"close\":_vm.onClose}},[_c('div',{staticClass:\"modal-content\"},[_c('h2',[_vm._v(_vm._s(_vm.t('mail', 'Create task')))]),_vm._v(\" \"),_c('div',{staticClass:\"taskTitle\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.taskTitle),expression:\"taskTitle\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.taskTitle)},on:{\"input\":function($event){if($event.target.composing)return;_vm.taskTitle=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"all-day\"},[_c('DatetimePicker',{attrs:{\"format\":_vm.dateFormat,\"clearable\":false,\"minute-step\":5,\"show-second\":false,\"type\":_vm.datePickerType,\"show-timezone-select\":true,\"timezone-id\":_vm.startTimezoneId},model:{value:(_vm.startDate),callback:function ($$v) {_vm.startDate=$$v},expression:\"startDate\"}}),_vm._v(\" \"),_c('DatetimePicker',{attrs:{\"format\":_vm.dateFormat,\"clearable\":false,\"minute-step\":5,\"show-second\":false,\"type\":_vm.datePickerType,\"show-timezone-select\":true,\"timezone-id\":_vm.endTimezoneId},model:{value:(_vm.endDate),callback:function ($$v) {_vm.endDate=$$v},expression:\"endDate\"}})],1),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"note\"}},[_vm._v(_vm._s(_vm.t('mail', 'Description')))]),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.note),expression:\"note\"}],attrs:{\"id\":\"note\",\"rows\":\"7\"},domProps:{\"value\":(_vm.note)},on:{\"input\":function($event){if($event.target.composing)return;_vm.note=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticClass:\"all-day\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.isAllDay),expression:\"isAllDay\"}],staticClass:\"checkbox\",attrs:{\"id\":\"allDay\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.isAllDay)?_vm._i(_vm.isAllDay,null)>-1:(_vm.isAllDay)},on:{\"change\":function($event){var $$a=_vm.isAllDay,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.isAllDay=$$a.concat([$$v]))}else{$$i>-1&&(_vm.isAllDay=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.isAllDay=$$c}}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"allDay\"}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'All day'))+\"\\n\\t\\t\\t\")])]),_vm._v(\" \"),_c('NcSelect',{attrs:{\"label\":\"displayname\",\"input-id\":\"url\",\"placeholder\":_vm.t('mail', 'Select calendar'),\"aria-label-combobox\":_vm.t('mail', 'Select calendar'),\"allow-empty\":false,\"options\":_vm.calendarChoices},scopedSlots:_vm._u([{key:\"option\",fn:function({ id }){return [_c('CalendarPickerOption',{attrs:{\"color\":_vm.getCalendarById(id).color,\"displayname\":_vm.getCalendarById(id).displayname}})]}},{key:\"selected-option\",fn:function({ id }){return [_c('CalendarPickerOption',{attrs:{\"color\":_vm.getCalendarById(id).color,\"displayname\":_vm.getCalendarById(id).displayname,\"display-icon\":_vm.getCalendarById(id).displayIcon}})]}},{key:\"no-options\",fn:function(){return [_c('span',[_vm._v(_vm._s(_vm.t('mail', 'No calendars with task list support')))])]},proxy:true}]),model:{value:(_vm.selectedCalendarChoice),callback:function ($$v) {_vm.selectedCalendarChoice=$$v},expression:\"selectedCalendarChoice\"}}),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('button',{staticClass:\"primary\",attrs:{\"disabled\":_vm.disabled},on:{\"click\":_vm.onSave}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Create'))+\"\\n\\t\\t\")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n *\n * Nextcloud - Tasks\n */\nimport moment from '@nextcloud/moment'\n\nimport { v4 as uuid } from 'uuid'\nimport ICAL from 'ical.js'\n\nexport default class Task {\n\n\t/**\n\t * Creates an instance of Task\n\t *\n\t * @param {string} vcalendar the vcalendar data as string with proper new lines\n\t * @param {object} calendar the calendar which the task belongs to\n\t * @memberof Task\n\t */\n\tconstructor(vcalendar, calendar) {\n\t\tif (typeof vcalendar !== 'string' || vcalendar.length === 0) {\n\t\t\tthrow new Error('Invalid vCalendar')\n\t\t}\n\n\t\tconst jCal = ICAL.parse(vcalendar)\n\t\tif (jCal[0] !== 'vcalendar') {\n\t\t\tthrow new Error('Only one task is allowed in the vCalendar data')\n\t\t}\n\n\t\tthis.jCal = jCal\n\t\tthis.calendar = calendar\n\t\tthis.vCalendar = new ICAL.Component(this.jCal)\n\n\t\tthis.subTasks = {}\n\n\t\t// used to state a task is not up to date with\n\t\t// the server and cannot be pushed (etag)\n\t\tthis.conflict = false\n\n\t\tthis.initTodo()\n\n\t\tthis.syncStatus = null\n\n\t\t// Time in seconds before the task is going to be deleted\n\t\tthis.deleteCountdown = null\n\t}\n\n\tinitTodo() {\n\t\t// if no uid set, create one\n\t\tthis.vtodo = this.vCalendar.getFirstSubcomponent('vtodo')\n\n\t\tif (!this.vtodo) {\n\t\t\tthis.vtodo = new ICAL.Component('vtodo')\n\t\t\tthis.vCalendar.addSubcomponent(this.vtodo)\n\t\t}\n\n\t\tif (!this.vtodo.hasProperty('uid')) {\n\t\t\tconsole.debug('This task did not have a proper uid. Setting a new one for ', this)\n\t\t\tthis.vtodo.addPropertyWithValue('uid', uuid())\n\t\t}\n\n\t\t// Define properties, so Vue reacts to changes of them\n\t\tthis._uid = this.vtodo.getFirstPropertyValue('uid') || ''\n\t\tthis._summary = this.vtodo.getFirstPropertyValue('summary') || ''\n\t\tthis._priority = this.vtodo.getFirstPropertyValue('priority') || 0\n\t\tthis._complete = this.vtodo.getFirstPropertyValue('percent-complete') || 0\n\t\tconst comp = this.vtodo.getFirstPropertyValue('completed')\n\t\tthis._completed = !!comp\n\t\tthis._completedDate = comp ? comp.toJSDate() : null\n\t\tthis._completedDateMoment = moment(this._completedDate, 'YYYYMMDDTHHmmss')\n\t\tthis._status = this.vtodo.getFirstPropertyValue('status')\n\t\tthis._note = this.vtodo.getFirstPropertyValue('description') || ''\n\t\tthis._related = this.getParent()?.getFirstValue() || null\n\t\tthis._hideSubtaks = +this.vtodo.getFirstPropertyValue('x-oc-hidesubtasks') || 0\n\t\tthis._hideCompletedSubtaks = +this.vtodo.getFirstPropertyValue('x-oc-hidecompletedsubtasks') || 0\n\t\tthis._start = this.vtodo.getFirstPropertyValue('dtstart')\n\t\tthis._startMoment = moment(this._start, 'YYYYMMDDTHHmmss')\n\t\tthis._due = this.vtodo.getFirstPropertyValue('due')\n\t\tthis._dueMoment = moment(this._due, 'YYYYMMDDTHHmmss')\n\t\tconst start = this.vtodo.getFirstPropertyValue('dtstart')\n\t\tconst due = this.vtodo.getFirstPropertyValue('due')\n\t\tconst d = due || start\n\t\tthis._allDay = d !== null && d.isDate\n\t\tthis._loaded = false\n\t\tthis._tags = this.getTags()\n\t\tthis._modified = this.vtodo.getFirstPropertyValue('last-modified')\n\t\tthis._modifiedMoment = moment(this._modified, 'YYYYMMDDTHHmmss')\n\t\tthis._created = this.vtodo.getFirstPropertyValue('created')\n\t\tthis._createdMoment = moment(this._created, 'YYYYMMDDTHHmmss')\n\t\tthis._class = this.vtodo.getFirstPropertyValue('class') || 'PUBLIC'\n\t\tthis._pinned = this.vtodo.getFirstPropertyValue('x-pinned') === 'true'\n\n\t\tlet sortOrder = this.vtodo.getFirstPropertyValue('x-apple-sort-order')\n\t\tif (sortOrder === null) {\n\t\t\tsortOrder = this.getSortOrder()\n\t\t}\n\t\tthis._sortOrder = +sortOrder\n\n\t\tthis._searchQuery = ''\n\t\tthis._matchesSearchQuery = true\n\t}\n\n\t/**\n\t * Update internal data of this task\n\t *\n\t * @param {jCal} jCal jCal object from ICAL.js\n\t * @memberof Task\n\t */\n\tupdateTask(jCal) {\n\t\tthis.jCal = jCal\n\t\tthis.vCalendar = new ICAL.Component(this.jCal)\n\t\tthis.initTodo()\n\t}\n\n\t/**\n\t * Update linked calendar of this task\n\t *\n\t * @param {object} calendar the calendar\n\t */\n\tupdateCalendar(calendar) {\n\t\tthis.calendar = calendar\n\t}\n\n\t/**\n\t * Ensure we're normalizing the possible arrays\n\t * into a string by taking the first element\n\t * e.g. ORG:ABC\\, Inc.; will output an array because of the semi-colon\n\t *\n\t * @param {Array|string} data the data to normalize\n\t * @return {string}\n\t */\n\tfirstIfArray(data) {\n\t\treturn Array.isArray(data) ? data[0] : data\n\t}\n\n\t/**\n\t * Return the key\n\t *\n\t * @readonly\n\t */\n\tget key() {\n\t\treturn this.uid + '~' + this.calendar.id\n\t}\n\n\t/**\n\t * Return the url\n\t *\n\t * @readonly\n\t */\n\tget url() {\n\t\tif (this.dav) {\n\t\t\treturn this.dav.url\n\t\t}\n\t\treturn ''\n\t}\n\n\t/**\n\t * Return the uri\n\t *\n\t * @readonly\n\t */\n\tget uri() {\n\t\tif (this.dav) {\n\t\t\treturn this.dav.url.slice(this.dav.url.lastIndexOf('/') + 1)\n\t\t}\n\t\treturn ''\n\t}\n\n\t/**\n\t * Return the uid\n\t *\n\t * @readonly\n\t */\n\tget uid() {\n\t\treturn this._uid\n\t}\n\n\t/**\n\t * Set the uid\n\t *\n\t * @param {string} uid the uid to set\n\t */\n\tset uid(uid) {\n\t\tthis.vtodo.updatePropertyWithValue('uid', uid)\n\t\tthis._uid = this.vtodo.getFirstPropertyValue('uid') || ''\n\t}\n\n\t/**\n\t * Return the first summary\n\t *\n\t * @readonly\n\t */\n\tget summary() {\n\t\treturn this._summary\n\t}\n\n\t/**\n\t * Set the summary\n\t *\n\t * @param {string} summary the summary\n\t */\n\tset summary(summary) {\n\t\tthis.vtodo.updatePropertyWithValue('summary', summary)\n\t\tthis.updateLastModified()\n\t\tthis._summary = this.vtodo.getFirstPropertyValue('summary') || ''\n\t}\n\n\tget priority() {\n\t\treturn Number(this._priority)\n\t}\n\n\tset priority(priority) {\n\t\t// TODO: check that priority is >= 0 and <10\n\t\tif (priority === null || priority === 0) {\n\t\t\tthis.vtodo.removeProperty('priority')\n\t\t} else {\n\t\t\tthis.vtodo.updatePropertyWithValue('priority', priority)\n\t\t}\n\t\tthis.updateLastModified()\n\t\tthis._priority = this.vtodo.getFirstPropertyValue('priority') || 0\n\t}\n\n\tget closed() {\n\t\treturn this._completed || this._status === 'CANCELLED'\n\t}\n\n\tget complete() {\n\t\treturn Number(this._complete)\n\t}\n\n\tset complete(complete) {\n\t\tthis.setComplete(complete)\n\t\t// Make complete a number\n\t\tcomplete = +complete\n\t\tif (complete < 100) {\n\t\t\tthis.setCompleted(false)\n\t\t\tif (complete === 0) {\n\t\t\t\tthis.setStatus('NEEDS-ACTION')\n\t\t\t} else {\n\t\t\t\tthis.setStatus('IN-PROCESS')\n\t\t\t}\n\t\t} else {\n\t\t\tthis.setCompleted(true)\n\t\t\tthis.setStatus('COMPLETED')\n\t\t}\n\t}\n\n\tsetComplete(complete) {\n\t\tif (complete === null || complete === 0) {\n\t\t\tthis.vtodo.removeProperty('percent-complete')\n\t\t} else {\n\t\t\tthis.vtodo.updatePropertyWithValue('percent-complete', complete)\n\t\t}\n\t\tthis.updateLastModified()\n\t\tthis._complete = this.vtodo.getFirstPropertyValue('percent-complete') || 0\n\t}\n\n\tget completed() {\n\t\treturn this._completed\n\t}\n\n\tset completed(completed) {\n\t\tthis.setCompleted(completed)\n\t\tif (completed) {\n\t\t\tthis.setComplete(100)\n\t\t\tthis.setStatus('COMPLETED')\n\t\t} else {\n\t\t\tif (this.complete === 100) {\n\t\t\t\tthis.setComplete(99)\n\t\t\t\tthis.setStatus('IN-PROCESS')\n\t\t\t}\n\t\t}\n\t}\n\n\tsetCompleted(completed) {\n\t\tif (completed) {\n\t\t\tthis.vtodo.updatePropertyWithValue('completed', ICAL.Time.now())\n\t\t} else {\n\t\t\tthis.vtodo.removeProperty('completed')\n\t\t}\n\t\tthis.updateLastModified()\n\t\tconst comp = this.vtodo.getFirstPropertyValue('completed')\n\t\tthis._completed = !!comp\n\t\tthis._completedDate = comp ? comp.toJSDate() : null\n\t\tthis._completedDateMoment = moment(this._completedDate, 'YYYYMMDDTHHmmss')\n\t}\n\n\tget completedDate() {\n\t\treturn this._completedDate\n\t}\n\n\tget completedDateMoment() {\n\t\treturn this._completedDateMoment.clone()\n\t}\n\n\tget status() {\n\t\treturn this._status\n\t}\n\n\tset status(status) {\n\t\tthis.setStatus(status)\n\t\tif (status === 'COMPLETED') {\n\t\t\tthis.setComplete(100)\n\t\t\tthis.setCompleted(true)\n\t\t} else if (status === 'IN-PROCESS') {\n\t\t\tthis.setCompleted(false)\n\t\t\tif (this.complete === 100) {\n\t\t\t\tthis.setComplete(99)\n\t\t\t} else if (this.complete === 0) {\n\t\t\t\tthis.setComplete(1)\n\t\t\t}\n\t\t} else if (status === 'NEEDS-ACTION' || status === null) {\n\t\t\tthis.setComplete(0)\n\t\t\tthis.setCompleted(false)\n\t\t}\n\t}\n\n\tsetStatus(status) {\n\t\tif (status === null) {\n\t\t\tthis.vtodo.removeProperty('status')\n\t\t} else {\n\t\t\tthis.vtodo.updatePropertyWithValue('status', status)\n\t\t}\n\t\tthis.updateLastModified()\n\t\tthis._status = this.vtodo.getFirstPropertyValue('status')\n\t}\n\n\tget note() {\n\t\treturn this._note\n\t}\n\n\tset note(note) {\n\t\t// Delete custom description property\n\t\tthis.vtodo.removeProperty('x-alt-desc')\n\t\t// To avoid inconsistent property parameters (bug #3863 in nextcloud/calendar), delete the property, then recreate\n\t\tthis.vtodo.removeProperty('description')\n\t\tthis.vtodo.addPropertyWithValue('description', note)\n\t\tthis.updateLastModified()\n\t\tthis._note = this.vtodo.getFirstPropertyValue('description') || ''\n\t}\n\n\tget related() {\n\t\treturn this._related\n\t}\n\n\tset related(related) {\n\t\tconst parent = this.getParent()\n\t\t// If a parent already exists, update or remove it\n\t\tif (parent) {\n\t\t\tif (related) {\n\t\t\t\tparent.setValue(related)\n\t\t\t} else {\n\t\t\t\tthis.vtodo.removeProperty(parent)\n\t\t\t}\n\t\t// Otherwise create a new property, so we don't overwrite RELTYPE=CHILD/SIBLING entries.\n\t\t} else {\n\t\t\tif (related) {\n\t\t\t\tthis.vtodo.addPropertyWithValue('related-to', related)\n\t\t\t}\n\t\t}\n\t\tthis.updateLastModified()\n\t\tthis._related = this.getParent()?.getFirstValue() || null\n\t}\n\n\tgetParent() {\n\t\tconst related = this.vtodo.getAllProperties('related-to')\n\t\t// Return only the first parent for now\n\t\treturn related.find(related => {\n\t\t\treturn related.getFirstParameter('reltype') === 'PARENT' || related.getFirstParameter('reltype') === undefined\n\t\t})\n\t}\n\n\tget pinned() {\n\t\treturn this._pinned\n\t}\n\n\tset pinned(pinned) {\n\t\tif (pinned === true) {\n\t\t\tthis.vtodo.updatePropertyWithValue('x-pinned', 'true')\n\t\t} else {\n\t\t\tthis.vtodo.removeProperty('x-pinned')\n\t\t}\n\t\tthis.updateLastModified()\n\t\tthis._pinned = this.vtodo.getFirstPropertyValue('x-pinned') === 'true'\n\t}\n\n\tget hideSubtasks() {\n\t\treturn this._hideSubtaks\n\t}\n\n\tset hideSubtasks(hide) {\n\t\tthis.vtodo.updatePropertyWithValue('x-oc-hidesubtasks', +hide)\n\t\tthis.updateLastModified()\n\t\tthis._hideSubtaks = +this.vtodo.getFirstPropertyValue('x-oc-hidesubtasks') || 0\n\t}\n\n\tget hideCompletedSubtasks() {\n\t\treturn this._hideCompletedSubtaks\n\t}\n\n\tset hideCompletedSubtasks(hide) {\n\t\tthis.vtodo.updatePropertyWithValue('x-oc-hidecompletedsubtasks', +hide)\n\t\tthis.updateLastModified()\n\t\tthis._hideCompletedSubtaks = +this.vtodo.getFirstPropertyValue('x-oc-hidecompletedsubtasks') || 0\n\t}\n\n\tget start() {\n\t\treturn this._start\n\t}\n\n\tset start(start) {\n\t\tif (start) {\n\t\t\tthis.vtodo.updatePropertyWithValue('dtstart', start)\n\t\t} else {\n\t\t\tthis.vtodo.removeProperty('dtstart')\n\t\t}\n\t\tthis.updateLastModified()\n\t\tthis._start = this.vtodo.getFirstPropertyValue('dtstart')\n\t\tthis._startMoment = moment(this._start, 'YYYYMMDDTHHmmss')\n\t\t// Check all day setting\n\t\tconst d = this._due || this._start\n\t\tthis._allDay = d !== null && d.isDate\n\t}\n\n\tget startMoment() {\n\t\treturn this._startMoment.clone()\n\t}\n\n\tget due() {\n\t\treturn this._due\n\t}\n\n\tset due(due) {\n\t\tif (due) {\n\t\t\tthis.vtodo.updatePropertyWithValue('due', due)\n\t\t} else {\n\t\t\tthis.vtodo.removeProperty('due')\n\t\t}\n\t\tthis.updateLastModified()\n\t\tthis._due = this.vtodo.getFirstPropertyValue('due')\n\t\tthis._dueMoment = moment(this._due, 'YYYYMMDDTHHmmss')\n\t\t// Check all day setting\n\t\tconst d = this._due || this._start\n\t\tthis._allDay = d !== null && d.isDate\n\t}\n\n\tget dueMoment() {\n\t\treturn this._dueMoment.clone()\n\t}\n\n\tget allDay() {\n\t\treturn this._allDay\n\t}\n\n\tset allDay(allDay) {\n\t\tlet start = this.vtodo.getFirstPropertyValue('dtstart')\n\t\tif (start) {\n\t\t\tstart.isDate = allDay\n\t\t\tthis.vtodo.updatePropertyWithValue('dtstart', start)\n\t\t}\n\t\tlet due = this.vtodo.getFirstPropertyValue('due')\n\t\tif (due) {\n\t\t\tdue.isDate = allDay\n\t\t\tthis.vtodo.updatePropertyWithValue('due', due)\n\t\t}\n\t\tthis.updateLastModified()\n\t\tstart = this.vtodo.getFirstPropertyValue('dtstart')\n\t\tdue = this.vtodo.getFirstPropertyValue('due')\n\t\tconst d = due || start\n\t\tthis._allDay = d !== null && d.isDate\n\t}\n\n\tget comments() {\n\t\treturn null\n\t}\n\n\tget loadedCompleted() {\n\t\treturn this._loaded\n\t}\n\n\tset loadedCompleted(loadedCompleted) {\n\t\tthis._loaded = loadedCompleted\n\t}\n\n\tget reminder() {\n\t\treturn null\n\t}\n\n\t/**\n\t * Return the tags\n\t *\n\t * @readonly\n\t * @memberof Task\n\t */\n\tget tags() {\n\t\treturn this._tags\n\t}\n\n\tgetTags() {\n\t\tlet tags = []\n\t\tfor (const t of this.vtodo.getAllProperties('categories')) {\n\t\t\tif (t) {\n\t\t\t\ttags = tags.concat(t.getValues())\n\t\t\t}\n\t\t}\n\t\treturn tags\n\t}\n\n\t/**\n\t * Set the tags\n\t *\n\t * @param {string} newTags The tags\n\t * @memberof Task\n\t */\n\tset tags(newTags) {\n\t\tif (newTags.length > 0) {\n\t\t\tlet tags = this.vtodo.getAllProperties('categories')\n\t\t\t// If there are no tags set yet, just set them\n\t\t\tif (tags.length < 1) {\n\t\t\t\tconst prop = new ICAL.Property('categories')\n\t\t\t\tprop.setValues(newTags)\n\t\t\t\ttags = this.vtodo.addProperty(prop)\n\t\t\t// If there is only one tags property, overwrite it\n\t\t\t} else if (tags.length < 2) {\n\t\t\t\ttags[0].setValues(newTags)\n\t\t\t// If there are multiple tags properties, we have to iterate over all\n\t\t\t// and remove unwanted tags and add new ones\n\t\t\t} else {\n\t\t\t\tconst toRemove = this._tags.filter(c => !newTags.includes(c))\n\t\t\t\tconst toAdd = newTags.filter(c => !this._tags.includes(c))\n\t\t\t\t// Remove all unwanted tags\n\t\t\t\tfor (const ts of tags) {\n\t\t\t\t\tconst t = ts.getValues().filter(c => !toRemove.includes(c))\n\t\t\t\t\tif (t.length) {\n\t\t\t\t\t\tts.setValues(t)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.vtodo.removeProperty(ts)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Add new tags\n\t\t\t\ttags[0].setValues(tags[0].getValues().concat(toAdd))\n\t\t\t}\n\t\t} else {\n\t\t\tthis.vtodo.removeAllProperties('categories')\n\t\t}\n\t\tthis.updateLastModified()\n\t\tthis._tags = this.getTags()\n\t}\n\n\tupdateLastModified() {\n\t\tconst now = ICAL.Time.now()\n\t\tthis.vtodo.updatePropertyWithValue('last-modified', now)\n\t\tthis.vtodo.updatePropertyWithValue('dtstamp', now)\n\t\tthis._modified = now\n\t\tthis._modifiedMoment = moment(this._modified, 'YYYYMMDDTHHmmss')\n\t}\n\n\tget modified() {\n\t\treturn this._modified\n\t}\n\n\tget modifiedMoment() {\n\t\treturn this._modifiedMoment.clone()\n\t}\n\n\tget created() {\n\t\treturn this._created\n\t}\n\n\tget createdMoment() {\n\t\treturn this._createdMoment.clone()\n\t}\n\n\tset created(createdDate) {\n\t\tthis.vtodo.updatePropertyWithValue('created', createdDate)\n\t\tthis.updateLastModified()\n\t\tthis._created = this.vtodo.getFirstPropertyValue('created')\n\t\tthis._createdMoment = moment(this._created, 'YYYYMMDDTHHmmss')\n\t\t// Update the sortorder if necessary\n\t\tif (this.vtodo.getFirstPropertyValue('x-apple-sort-order') === null) {\n\t\t\tthis._sortOrder = this.getSortOrder()\n\t\t}\n\t}\n\n\tget class() {\n\t\treturn this._class\n\t}\n\n\tset class(classification) {\n\t\tif (classification) {\n\t\t\tthis.vtodo.updatePropertyWithValue('class', classification)\n\t\t} else {\n\t\t\tthis.vtodo.removeProperty('class')\n\t\t}\n\t\tthis.updateLastModified()\n\t\tthis._class = this.vtodo.getFirstPropertyValue('class') || 'PUBLIC'\n\t}\n\n\tget sortOrder() {\n\t\treturn this._sortOrder\n\t}\n\n\tset sortOrder(sortOrder) {\n\t\t// We expect a number for the sort order.\n\t\tsortOrder = parseInt(sortOrder)\n\t\tif (isNaN(sortOrder)) {\n\t\t\tthis.vtodo.removeProperty('x-apple-sort-order')\n\t\t\t// Get the default sort order.\n\t\t\tsortOrder = this.getSortOrder()\n\t\t} else {\n\t\t\tthis.vtodo.updatePropertyWithValue('x-apple-sort-order', sortOrder)\n\t\t}\n\t\tthis.updateLastModified()\n\t\tthis._sortOrder = sortOrder\n\t}\n\n\t/**\n\t * Construct the default value for the sort order\n\t * from the created date.\n\t *\n\t * @return {number} The sort order\n\t */\n\tgetSortOrder() {\n\t\t// If there is no created date we return 0.\n\t\tif (this._created === null) {\n\t\t\treturn 0\n\t\t}\n\t\treturn this._created.subtractDate(\n\t\t\tnew ICAL.Time({\n\t\t\t\tyear: 2001,\n\t\t\t\tmonth: 1,\n\t\t\t\tday: 1,\n\t\t\t\thour: 0,\n\t\t\t\tminute: 0,\n\t\t\t\tsecond: 0,\n\t\t\t\tisDate: false,\n\t\t\t}),\n\t\t).toSeconds()\n\t}\n\n\t/**\n\t * Checks if the task matches the search query\n\t *\n\t * @param {string} searchQuery The search string\n\t * @return {boolean} If the task matches\n\t */\n\tmatches(searchQuery) {\n\t\t// If the search query maches the previous search, we don't have to search again.\n\t\tif (this._searchQuery === searchQuery) {\n\t\t\treturn this._matchesSearchQuery\n\t\t}\n\t\t// We cache the current search query for faster future comparison.\n\t\tthis._searchQuery = searchQuery\n\t\t// If the search query is empty, the task matches by default.\n\t\tif (!searchQuery) {\n\t\t\tthis._matchesSearchQuery = true\n\t\t\treturn this._matchesSearchQuery\n\t\t}\n\t\t// We search in these task properties\n\t\tconst keys = ['summary', 'note', 'tags']\n\t\t// Make search case-insensitive.\n\t\tsearchQuery = searchQuery.toLowerCase()\n\t\tfor (const key of keys) {\n\t\t\t// For the tags search the array\n\t\t\tif (key === 'tags') {\n\t\t\t\tfor (const tag of this[key]) {\n\t\t\t\t\tif (tag.toLowerCase().indexOf(searchQuery) > -1) {\n\t\t\t\t\t\tthis._matchesSearchQuery = true\n\t\t\t\t\t\treturn this._matchesSearchQuery\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this[key].toLowerCase().indexOf(searchQuery) > -1) {\n\t\t\t\t\tthis._matchesSearchQuery = true\n\t\t\t\t\treturn this._matchesSearchQuery\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis._matchesSearchQuery = false\n\t\treturn this._matchesSearchQuery\n\t}\n\n}\n","<!--\n  - SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<Modal @close=\"onClose\">\n\t\t<div class=\"modal-content\">\n\t\t\t<h2>{{ t('mail', 'Create task') }}</h2>\n\t\t\t<div class=\"taskTitle\">\n\t\t\t\t<input v-model=\"taskTitle\" type=\"text\">\n\t\t\t</div>\n\t\t\t<div class=\"all-day\">\n\t\t\t\t<DatetimePicker v-model=\"startDate\"\n\t\t\t\t\t:format=\"dateFormat\"\n\t\t\t\t\t:clearable=\"false\"\n\t\t\t\t\t:minute-step=\"5\"\n\t\t\t\t\t:show-second=\"false\"\n\t\t\t\t\t:type=\"datePickerType\"\n\t\t\t\t\t:show-timezone-select=\"true\"\n\t\t\t\t\t:timezone-id=\"startTimezoneId\" />\n\t\t\t\t<DatetimePicker v-model=\"endDate\"\n\t\t\t\t\t:format=\"dateFormat\"\n\t\t\t\t\t:clearable=\"false\"\n\t\t\t\t\t:minute-step=\"5\"\n\t\t\t\t\t:show-second=\"false\"\n\t\t\t\t\t:type=\"datePickerType\"\n\t\t\t\t\t:show-timezone-select=\"true\"\n\t\t\t\t\t:timezone-id=\"endTimezoneId\" />\n\t\t\t</div>\n\t\t\t<label for=\"note\">{{ t('mail', 'Description') }}</label>\n\t\t\t<textarea id=\"note\" v-model=\"note\" rows=\"7\" />\n\t\t\t<div class=\"all-day\">\n\t\t\t\t<input id=\"allDay\"\n\t\t\t\t\tv-model=\"isAllDay\"\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tclass=\"checkbox\">\n\t\t\t\t<label for=\"allDay\">\n\t\t\t\t\t{{ t('mail', 'All day') }}\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<!-- FIXME: is broken due to upstream select component serializing options to JSON -->\n\t\t\t<NcSelect v-model=\"selectedCalendarChoice\"\n\t\t\t\tlabel=\"displayname\"\n\t\t\t\tinput-id=\"url\"\n\t\t\t\t:placeholder=\"t('mail', 'Select calendar')\"\n\t\t\t\t:aria-label-combobox=\"t('mail', 'Select calendar')\"\n\t\t\t\t:allow-empty=\"false\"\n\t\t\t\t:options=\"calendarChoices\">\n\t\t\t\t<template #option=\"{ id }\">\n\t\t\t\t\t<CalendarPickerOption :color=\"getCalendarById(id).color\"\n\t\t\t\t\t\t:displayname=\"getCalendarById(id).displayname\" />\n\t\t\t\t</template>\n\t\t\t\t<template #selected-option=\"{ id }\">\n\t\t\t\t\t<CalendarPickerOption :color=\"getCalendarById(id).color\"\n\t\t\t\t\t\t:displayname=\"getCalendarById(id).displayname\"\n\t\t\t\t\t\t:display-icon=\"getCalendarById(id).displayIcon\" />\n\t\t\t\t</template>\n\t\t\t\t<template #no-options>\n\t\t\t\t\t<span>{{ t('mail', 'No calendars with task list support') }}</span>\n\t\t\t\t</template>\n\t\t\t</NcSelect>\n\t\t\t<br>\n\t\t\t<button class=\"primary\" :disabled=\"disabled\" @click=\"onSave\">\n\t\t\t\t{{ t('mail', 'Create') }}\n\t\t\t</button>\n\t\t</div>\n\t</Modal>\n</template>\n\n<script>\nimport { NcDateTimePicker as DatetimePicker, NcModal as Modal, NcSelect } from '@nextcloud/vue'\nimport jstz from 'jstz'\n\nimport logger from '../logger.js'\nimport ICAL from 'ical.js'\nimport Task from '../task.js'\nimport CalendarPickerOption from './CalendarPickerOption.vue'\nimport { showError, showSuccess } from '@nextcloud/dialogs'\nimport moment from '@nextcloud/moment'\nimport { mapStores } from 'pinia'\nimport useMainStore from '../store/mainStore.js'\n\nexport default {\n\tname: 'TaskModal',\n\tcomponents: {\n\t\tCalendarPickerOption,\n\t\tDatetimePicker,\n\t\tModal,\n\t\tNcSelect,\n\t},\n\tprops: {\n\t\tenvelope: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\t// Try to determine the current timezone, and fall back to UTC otherwise\n\t\tconst defaultTimezone = jstz.determine()\n\t\tconst defaultTimezoneId = defaultTimezone ? defaultTimezone.name() : 'UTC'\n\n\t\treturn {\n\n\t\t\ttaskTitle: this.envelope.subject,\n\t\t\tstartDate: null,\n\t\t\tendDate: null,\n\t\t\tisAllDay: true,\n\t\t\tstartTimezoneId: defaultTimezoneId,\n\t\t\tendTimezoneId: defaultTimezoneId,\n\t\t\tsaving: false,\n\t\t\tselectedCalendarChoice: undefined,\n\t\t\tnote: this.envelope.previewText,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t\tdisabled() {\n\t\t\treturn this.saving || this.calendars.length === 0\n\t\t},\n\t\tdateFormat() {\n\t\t\treturn this.isAllDay ? 'YYYY-MM-DD' : 'YYYY-MM-DD HH:mm'\n\t\t},\n\t\tdatePickerType() {\n\t\t\treturn this.isAllDay ? 'date' : 'datetime'\n\t\t},\n\t\ttags() {\n\t\t\treturn this.mainStore.getAllTags\n\t\t},\n\t\tcalendars() {\n\t\t\treturn this.mainStore.getTaskCalendarsForCurrentUser\n\t\t},\n\t\tcalendarChoices() {\n\t\t\treturn this.calendars.map(calendar => ({\n\t\t\t\tid: calendar.id,\n\t\t\t\tcolor: calendar.color,\n\t\t\t\tdisplayname: calendar.displayname,\n\t\t\t}))\n\t\t},\n\t\tselectedCalendar() {\n\t\t\tif (!this.selectedCalendarChoice) {\n\t\t\t\treturn undefined\n\t\t\t}\n\n\t\t\treturn this.calendars.find((cal) => cal.id === this.selectedCalendarChoice.id)\n\t\t},\n\t},\n\tcreated() {\n\t\tlogger.debug('creating task from envelope', {\n\t\t\tenvelope: this.envelope,\n\t\t})\n\t},\n\tasync mounted() {\n\t\tif (this.calendars.length) {\n\t\t\tthis.selectedCalendarChoice = this.calendarChoices[0]\n\t\t}\n\t},\n\tmethods: {\n\t\t/**\n\t\t * @param {string} id The calendar id\n\t\t * @return {object|undefined} The calendar object (if it exists)\n\t\t */\n\t\tgetCalendarById(id) {\n\t\t\treturn this.calendars.find((cal) => cal.id === id)\n\t\t},\n\n\t\tonClose() {\n\t\t\tthis.$emit('close')\n\t\t},\n\t\tasync createTask(taskData) {\n\t\t\tconst task = new Task('BEGIN:VCALENDAR\\nVERSION:2.0\\nPRODID:-//Nextcloud Mail v' + this.mainStore.getAppVersion + '\\nEND:VCALENDAR', taskData.calendar)\n\t\t\ttask.created = ICAL.Time.now()\n\t\t\ttask.summary = taskData.summary\n\t\t\ttask.hidesubtasks = 0\n\t\t\tif (taskData.priority) {\n\t\t\t\ttask.priority = taskData.priority\n\t\t\t}\n\t\t\tif (taskData.complete) {\n\t\t\t\ttask.complete = taskData.complete\n\t\t\t}\n\t\t\tif (taskData.note) {\n\t\t\t\ttask.note = taskData.note\n\t\t\t}\n\t\t\tif (taskData.due) {\n\t\t\t\ttask.due = taskData.due\n\t\t\t}\n\t\t\tif (taskData.start) {\n\t\t\t\ttask.start = taskData.start\n\t\t\t}\n\t\t\tif (taskData.allDay) {\n\t\t\t\ttask.allDay = taskData.allDay\n\t\t\t}\n\t\t\tconst vData = ICAL.stringify(task.jCal)\n\n\t\t\tawait task.calendar.dav.createVObject(vData)\n\n\t\t\treturn task\n\n\t\t},\n\t\tasync onSave() {\n\t\t\tthis.saving = true\n\n\t\t\tconst taskData = {\n\t\t\t\tsummary: this.taskTitle,\n\t\t\t\tcalendar: this.selectedCalendar,\n\t\t\t\tstart: this.startDate ? moment(this.startDate).format().toString() : null,\n\t\t\t\tdue: this.endDate ? moment(this.endDate).set().format().toString() : null,\n\t\t\t\tallDay: this.isAllDay,\n\t\t\t\tnote: this.note,\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tlogger.debug('create task', taskData)\n\n\t\t\t\tawait this.createTask(taskData)\n\n\t\t\t\tshowSuccess(t('mail', 'Task created'))\n\n\t\t\t\tthis.onClose()\n\t\t\t} catch (error) {\n\t\t\t\tshowError(t('mail', 'Could not create task'))\n\n\t\t\t\tlogger.error('Creating event from message failed', { error })\n\t\t\t} finally {\n\t\t\t\tthis.saving = false\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n:deep(.modal-wrapper .modal-container) {\n\twidth: calc(100vw - 120px) !important;\n\theight: calc(100vh - 120px) !important;\n\tmax-width: 490px !important;\n\tmax-height: 500px !important;\n}\n\n:deep(.calendar-picker-option__color-indicator){\n    margin-inline-start: 10px !important;\n}\n\n.modal-content {\n\tpadding: 30px 30px 20px !important;\n}\n\ninput , textarea {\n\twidth: 100%;\n}\n\n:deep(input[type='text']) {\n\tpadding: 0 !important;\n}\n\n.all-day {\n\tmargin-inline-start: -1px;\n\tmargin-top: 5px;\n\tmargin-bottom: 5px;\n}\n\n.taskTitle {\n\tmargin-bottom: 5px;\n}\n\n.primary {\n\theight: 44px !important;\n\tfloat: inline-end;\n}\n\n:deep(.mx-datepicker) {\n\twidth: 213px;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskModal.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskModal.vue?vue&type=style&index=0&id=444bd1f3&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskModal.vue?vue&type=style&index=0&id=444bd1f3&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./TaskModal.vue?vue&type=template&id=444bd1f3&scoped=true\"\nimport script from \"./TaskModal.vue?vue&type=script&lang=js\"\nexport * from \"./TaskModal.vue?vue&type=script&lang=js\"\nimport style0 from \"./TaskModal.vue?vue&type=style&index=0&id=444bd1f3&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"444bd1f3\",\n  null\n  \n)\n\nexport default component.exports","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EnvelopePrimaryActions.vue?vue&type=style&index=0&id=f3851d80&prod&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EnvelopePrimaryActions.vue?vue&type=style&index=0&id=f3851d80&prod&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./EnvelopePrimaryActions.vue?vue&type=template&id=f3851d80\"\nimport script from \"./EnvelopePrimaryActions.vue?vue&type=script&lang=js\"\nexport * from \"./EnvelopePrimaryActions.vue?vue&type=script&lang=js\"\nimport style0 from \"./EnvelopePrimaryActions.vue?vue&type=style&index=0&id=f3851d80&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<ul class=\"list-item-content__actions--primary\">\n\t\t<slot />\n\t</ul>\n</template>\n\n<script>\nexport default {\n\tname: 'EnvelopePrimaryActions',\n}\n</script>\n\n<style>\n.list-item-content__actions--primary {\n\tdisplay: flex;\n\tjustify-content: space-between;\n}\n\n.list-item-content__actions--primary .action--primary .action-button {\n\talign-items: center;\n\tflex-direction: column;\n\tpadding: 10px 10px 0 10px;\n\tgap: 10px;\n\n\t.material-design-icon {\n\t\tmargin-bottom: -15px;\n\t}\n}\n\n.list-item-content__actions--primary .action--primary .action-button__text,\n.list-item-content__actions--primary .action--primary .action-button__icon {\n\theight: auto;\n}\n</style>\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('ul',{staticClass:\"list-item-content__actions--primary\"},[_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<EnvelopeSkeleton v-draggable-envelope=\"{\n\t\t\taccountId: data.accountId ? data.accountId : mailbox.accountId,\n\t\t\tmailboxId: data.mailboxId,\n\t\t\tdatabaseId: data.databaseId,\n\t\t\tdraggableLabel,\n\t\t\tselectedEnvelopes,\n\t\t\tisDraggable,\n\t\t}\"\n\t\tclass=\"list-item-style envelope\"\n\t\t:class=\"{seen: data.flags.seen, draft, selected: selected}\"\n\t\t:to=\"link\"\n\t\t:exact=\"true\"\n\t\t:data-envelope-id=\"data.databaseId\"\n\t\t:name=\"addresses\"\n\t\t:details=\"formatted()\"\n\t\t:one-line=\"oneLineLayout\"\n\t\t:is-read=\"showImportantIconVariant\"\n\t\t:is-important=\"isImportant\"\n\t\t@click.exact=\"onClick\"\n\t\t@click.ctrl.exact.prevent=\"toggleSelected\"\n\t\t@click.shift.exact.prevent=\"onSelectMultiple\"\n\t\t@delete=\"onDelete\"\n\t\t@toggle-important=\"onToggleImportant\"\n\t\t@toggle-seen=\"onToggleSeen\"\n\t\t@update:menuOpen=\"closeMoreAndSnoozeOptions\">\n\t\t<template #icon>\n\t\t\t<Star v-if=\"data.flags.flagged\"\n\t\t\t\tfill-color=\"#f9cf3d\"\n\t\t\t\t:size=\"18\"\n\t\t\t\tclass=\"app-content-list-item-star favorite-icon-style\"\n\t\t\t\t:class=\"{ 'one-line': oneLineLayout, 'favorite-icon-style': !oneLineLayout }\"\n\t\t\t\t:data-starred=\"data.flags.flagged ? 'true' : 'false'\"\n\t\t\t\t@click.prevent=\"hasWriteAcl ? onToggleFlagged() : false\" />\n\t\t\t<ImportantIcon v-if=\"isImportant\"\n\t\t\t\t:size=\"18\"\n\t\t\t\tclass=\"app-content-list-item-star icon-important\"\n\t\t\t\t:class=\"{ 'important-one-line': oneLineLayout, 'icon-important': !oneLineLayout }\"\n\t\t\t\tdata-starred=\"true\" />\n\t\t\t<JunkIcon v-if=\"data.flags.$junk\"\n\t\t\t\t:size=\"18\"\n\t\t\t\tclass=\"app-content-list-item-star junk-icon-style\"\n\t\t\t\t:class=\"{ 'one-line': oneLineLayout, 'junk-icon-style': !oneLineLayout }\"\n\t\t\t\t:data-starred=\"data.flags.$junk ? 'true' : 'false'\"\n\t\t\t\t@click.prevent=\"hasWriteAcl ? onToggleJunk() : false\" />\n\t\t\t<div class=\"hovering-status\"\n\t\t\t\t:class=\"{ 'hover-active': hoveringAvatar && !selected }\"\n\t\t\t\t@mouseenter=\"hoveringAvatar = true\"\n\t\t\t\t@mouseleave=\"hoveringAvatar = false\"\n\t\t\t\t@click.stop.exact.prevent=\"toggleSelected\"\n\t\t\t\t@click.shift.exact.prevent=\"onSelectMultiple\">\n\t\t\t\t<template v-if=\"hoveringAvatar || selected\">\n\t\t\t\t\t<CheckIcon :size=\"28\" class=\"check-icon\" :class=\"{ 'app-content-list-item-avatar-selected': selected }\" />\n\t\t\t\t</template>\n\t\t\t\t<template v-else>\n\t\t\t\t\t<Avatar :display-name=\"addresses\"\n\t\t\t\t\t\t:email=\"avatarEmail\"\n\t\t\t\t\t\t:fetch-avatar=\"data.fetchAvatarFromClient\"\n\t\t\t\t\t\t:avatar=\"data.avatar\" />\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t</template>\n\t\t<template #subname>\n\t\t\t<div class=\"line-two\"\n\t\t\t\t:class=\"{ 'one-line': oneLineLayout }\">\n\t\t\t\t<div class=\"envelope__subtitle\">\n\t\t\t\t\t<Reply v-if=\"data.flags.answered\"\n\t\t\t\t\t\tclass=\"seen-icon-style\"\n\t\t\t\t\t\t:size=\"18\" />\n\t\t\t\t\t<IconAttachment v-if=\"data.flags.hasAttachments === true\"\n\t\t\t\t\t\tclass=\"attachment-icon-style\"\n\t\t\t\t\t\t:size=\"18\" />\n\t\t\t\t\t<span class=\"envelope__subtitle__subject\"\n\t\t\t\t\t\t:class=\"{'one-line': oneLineLayout }\"\n\t\t\t\t\t\tdir=\"auto\">\n\t\t\t\t\t\t<span class=\"envelope__subtitle__subject__text\" :class=\"{'one-line': oneLineLayout, draft }\" v-html=\"subjectForSubtitle\" />\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div v-if=\"data.encrypted || data.previewText\"\n\t\t\t\t\tclass=\"envelope__preview-text\"\n\t\t\t\t\t:title=\"data.summary ? t('mail', 'This summary was AI generated') : null\">\n\t\t\t\t\t<NcAssistantIcon v-if=\"data.summary\" :size=\"15\" class=\"envelope__preview-text__icon\" />\n\t\t\t\t\t{{ isEncrypted ? t('mail', 'Encrypted message') : data.summary ? data.summary.trim() : data.previewText.trim() }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t\t<template #indicator>\n\t\t\t<!-- Color dot -->\n\t\t\t<IconBullet v-if=\"!data.flags.seen\"\n\t\t\t\t:size=\"20\"\n\t\t\t\t:aria-hidden=\"false\"\n\t\t\t\t:aria-label=\"t('mail', 'This message is unread')\"\n\t\t\t\tfill-color=\"var(--color-primary-element)\" />\n\t\t</template>\n\t\t<template #actions>\n\t\t\t<EnvelopePrimaryActions v-if=\"!moreActionsOpen && !snoozeOptions\" id=\"primary-actions\">\n\t\t\t\t<ActionButton v-if=\"hasWriteAcl\"\n\t\t\t\t\tclass=\"action--primary\"\n\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t@click.prevent=\"onToggleFlagged\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<StarOutline v-if=\"showFavoriteIconVariant\"\n\t\t\t\t\t\t\t:size=\"24\" />\n\t\t\t\t\t\t<Star v-else\n\t\t\t\t\t\t\t:size=\"24\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{\n\t\t\t\t\t\tdata.flags.flagged ? t('mail', 'Unfavorite') : t('mail', 'Favorite')\n\t\t\t\t\t}}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton v-if=\"hasSeenAcl\"\n\t\t\t\t\tclass=\"action--primary\"\n\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t@click.prevent=\"onToggleSeen\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<EmailUnread v-if=\"showImportantIconVariant\"\n\t\t\t\t\t\t\t:size=\"24\" />\n\t\t\t\t\t\t<EmailRead v-else\n\t\t\t\t\t\t\t:size=\"24\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{\n\t\t\t\t\t\tdata.flags.seen ? t('mail', 'Unread') : t('mail', 'Read')\n\t\t\t\t\t}}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton v-if=\"hasWriteAcl\"\n\t\t\t\t\tclass=\"action--primary\"\n\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t@click.prevent=\"onToggleImportant\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<ImportantIcon v-if=\"isImportant\" :size=\"24\" />\n\t\t\t\t\t\t<ImportantOutlineIcon v-else :size=\"24\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{\n\t\t\t\t\t\tisImportant ? t('mail', 'Unimportant') : t('mail', 'Important')\n\t\t\t\t\t}}\n\t\t\t\t</ActionButton>\n\t\t\t</EnvelopePrimaryActions>\n\t\t\t<template v-if=\"!moreActionsOpen && !snoozeOptions && !quickActionMenu\">\n\t\t\t\t<ActionText>\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<ClockOutlineIcon :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{\n\t\t\t\t\t\tmessageLongDate\n\t\t\t\t\t}}\n\t\t\t\t</ActionText>\n\t\t\t\t<NcActionSeparator />\n\t\t\t\t<ActionButton :is-menu=\"true\" @click=\"showQuickActionsMenu\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconEmailFast :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Quick actions') }}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton v-if=\"hasWriteAcl\"\n\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t@click.prevent=\"onToggleJunk\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<AlertOctagonIcon :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{\n\t\t\t\t\t\tdata.flags.$junk ? t('mail', 'Mark not spam') : t('mail', 'Mark as spam')\n\t\t\t\t\t}}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton v-if=\"hasWriteAcl\"\n\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t@click.prevent=\"onOpenTagModal\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<TagIcon :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Edit tags') }}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton v-if=\"!isSnoozeDisabled && !isSnoozedMailbox\"\n\t\t\t\t\t:close-after-click=\"false\"\n\t\t\t\t\t@click=\"showSnoozeOptions\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<AlarmIcon :title=\"t('mail', 'Snooze')\"\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{\n\t\t\t\t\t\tt('mail', 'Snooze')\n\t\t\t\t\t}}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton v-if=\"!isSnoozeDisabled && isSnoozedMailbox\"\n\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t@click=\"onUnSnooze\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<AlarmIcon :title=\"t('mail', 'Unsnooze')\"\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Unsnooze') }}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton v-if=\"hasDeleteAcl\"\n\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t@click.prevent=\"onOpenMoveModal\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<OpenInNewIcon :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-if=\"layoutMessageViewThreaded\">\n\t\t\t\t\t\t{{ t('mail', 'Move thread') }}\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t{{ t('mail', 'Move Message') }}\n\t\t\t\t\t</template>\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton v-if=\"showArchiveButton && hasArchiveAcl\"\n\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t:disabled=\"disableArchiveButton\"\n\t\t\t\t\t@click.prevent=\"onArchive\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<ArchiveIcon :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-if=\"layoutMessageViewThreaded\">\n\t\t\t\t\t\t{{ t('mail', 'Archive thread') }}\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t{{ t('mail', 'Archive message') }}\n\t\t\t\t\t</template>\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton v-if=\"hasDeleteAcl\"\n\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t@click.prevent=\"onDelete\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<DeleteIcon :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-if=\"layoutMessageViewThreaded\">\n\t\t\t\t\t\t{{ t('mail', 'Delete thread') }}\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t{{ t('mail', 'Delete message') }}\n\t\t\t\t\t</template>\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton :close-after-click=\"false\"\n\t\t\t\t\t@click=\"showMoreActionOptions\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<DotsHorizontalIcon :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'More actions') }}\n\t\t\t\t</ActionButton>\n\t\t\t</template>\n\t\t\t<template v-if=\"snoozeOptions\">\n\t\t\t\t<ActionButton :close-after-click=\"false\"\n\t\t\t\t\t@click=\"snoozeOptions = false\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<ChevronLeft :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{\n\t\t\t\t\t\tt('mail', 'Back')\n\t\t\t\t\t}}\n\t\t\t\t</ActionButton>\n\n\t\t\t\t<NcActionSeparator />\n\n\t\t\t\t<ActionButton v-for=\"option in reminderOptions\"\n\t\t\t\t\t:key=\"option.key\"\n\t\t\t\t\t:aria-label=\"option.ariaLabel\"\n\t\t\t\t\tclose-after-click\n\t\t\t\t\t@click.stop=\"onSnooze(option.timestamp)\">\n\t\t\t\t\t{{ option.label }}\n\t\t\t\t</ActionButton>\n\n\t\t\t\t<NcActionSeparator />\n\n\t\t\t\t<NcActionInput type=\"datetime-local\"\n\t\t\t\t\tis-native-picker\n\t\t\t\t\t:value=\"customSnoozeDateTime\"\n\t\t\t\t\t:min=\"new Date()\"\n\t\t\t\t\t@change=\"setCustomSnoozeDateTime\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<CalendarClock :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t</NcActionInput>\n\n\t\t\t\t<ActionButton :aria-label=\"t('mail', 'Set custom snooze')\"\n\t\t\t\t\tclose-after-click\n\t\t\t\t\t@click.stop=\"setCustomSnooze(customSnoozeDateTime)\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<CheckIcon :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Set custom snooze') }}\n\t\t\t\t</ActionButton>\n\t\t\t</template>\n\t\t\t<template v-if=\"moreActionsOpen\">\n\t\t\t\t<ActionButton :close-after-click=\"false\"\n\t\t\t\t\t@click=\"moreActionsOpen=false\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<ChevronLeft :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'More actions') }}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton :close-after-click=\"true\"\n\t\t\t\t\t@click.prevent=\"onOpenEditAsNew\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<PlusIcon :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Edit as new message') }}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton :close-after-click=\"true\"\n\t\t\t\t\t@click.prevent=\"showEventModal = true\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconCreateEvent :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Reply with meeting') }}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton :close-after-click=\"true\"\n\t\t\t\t\t@click.prevent=\"showTaskModal = true\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<TaskIcon :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Create task') }}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionLink :close-after-click=\"true\"\n\t\t\t\t\t:href=\"exportMessageLink\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<DownloadIcon :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Download message') }}\n\t\t\t\t</ActionLink>\n\t\t\t</template>\n\t\t\t<template v-if=\"quickActionMenu\">\n\t\t\t\t<ActionButton :close-after-click=\"false\"\n\t\t\t\t\t@click=\"closeQuickActionsMenu()\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<ChevronLeft :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Back to all actions') }}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton v-for=\"action in filteredQuickActions\"\n\t\t\t\t\t:key=\"action.id\"\n\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t@click=\"executeQuickAction(action)\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<Icon :action=\"action?.icon\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ action.name }}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton :close-after-click=\"true\" @click=\"$emit('open:quick-actions-settings')\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<CogIcon :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Manage quick actions') }}\n\t\t\t\t</ActionButton>\n\t\t\t</template>\n\t\t</template>\n\t\t<template #tags>\n\t\t\t<div v-for=\"tag in tags\"\n\t\t\t\t:key=\"tag.id\"\n\t\t\t\tclass=\"tag-group\">\n\t\t\t\t<div class=\"tag-group__bg\"\n\t\t\t\t\t:style=\"{'background-color': tag.color}\" />\n\t\t\t\t<span class=\"tag-group__label\"\n\t\t\t\t\t:style=\"{color: tag.color}\">\n\t\t\t\t\t{{ translateTagDisplayName(tag) }}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<MoveModal v-if=\"showMoveModal\"\n\t\t\t\t:account=\"account\"\n\t\t\t\t:envelopes=\"[data]\"\n\t\t\t\t:move-thread=\"listViewThreaded\"\n\t\t\t\t@move=\"onMove\"\n\t\t\t\t@close=\"onCloseMoveModal\" />\n\t\t\t<EventModal v-if=\"showEventModal\"\n\t\t\t\t:envelope=\"data\"\n\t\t\t\t@close=\"showEventModal = false\" />\n\t\t\t<TaskModal v-if=\"showTaskModal\"\n\t\t\t\t:envelope=\"data\"\n\t\t\t\t@close=\"showTaskModal = false\" />\n\t\t\t<TagModal v-if=\"showTagModal\"\n\t\t\t\t:account=\"account\"\n\t\t\t\t:envelopes=\"[data]\"\n\t\t\t\t@close=\"onCloseTagModal\" />\n\t\t</template>\n\t</EnvelopeSkeleton>\n</template>\n<script>\nimport {\n\tNcActionButton as ActionButton,\n\tNcActionLink as ActionLink,\n\tNcActionSeparator,\n\tNcActionInput,\n\tNcActionText as ActionText, NcAssistantIcon,\n} from '@nextcloud/vue'\nimport EnvelopeSkeleton from './EnvelopeSkeleton.vue'\nimport AlertOctagonIcon from 'vue-material-design-icons/AlertOctagonOutline.vue'\nimport Avatar from './Avatar.vue'\nimport IconCreateEvent from 'vue-material-design-icons/CalendarOutline.vue'\nimport ClockOutlineIcon from 'vue-material-design-icons/ClockOutline.vue'\nimport CheckIcon from 'vue-material-design-icons/Check.vue'\nimport ChevronLeft from 'vue-material-design-icons/ChevronLeft.vue'\nimport DeleteIcon from 'vue-material-design-icons/TrashCanOutline.vue'\nimport ArchiveIcon from 'vue-material-design-icons/ArchiveArrowDownOutline.vue'\nimport TaskIcon from 'vue-material-design-icons/CheckboxMarkedCirclePlusOutline.vue'\nimport CogIcon from 'vue-material-design-icons/CogOutline.vue'\nimport DotsHorizontalIcon from 'vue-material-design-icons/DotsHorizontal.vue'\nimport ImportantIcon from 'vue-material-design-icons/LabelVariant.vue'\nimport ImportantOutlineIcon from 'vue-material-design-icons/LabelVariantOutline.vue'\nimport IconEmailFast from 'vue-material-design-icons/EmailFastOutline.vue'\nimport { DraggableEnvelopeDirective } from '../directives/drag-and-drop/draggable-envelope/index.js'\nimport { buildRecipients as buildReplyRecipients } from '../ReplyBuilder.js'\nimport { shortRelativeDatetime, messageDateTime } from '../util/shortRelativeDatetime.js'\nimport { showError, showSuccess, showWarning } from '@nextcloud/dialogs'\nimport NoTrashMailboxConfiguredError\n\tfrom '../errors/NoTrashMailboxConfiguredError.js'\nimport logger from '../logger.js'\nimport { matchError } from '../errors/match.js'\nimport MoveModal from './MoveModal.vue'\nimport OpenInNewIcon from 'vue-material-design-icons/OpenInNew.vue'\nimport StarOutline from 'vue-material-design-icons/StarOutline.vue'\nimport Star from 'vue-material-design-icons/Star.vue'\nimport Reply from 'vue-material-design-icons/ReplyOutline.vue'\nimport EmailRead from 'vue-material-design-icons/EmailOpenOutline.vue'\nimport EmailUnread from 'vue-material-design-icons/EmailOutline.vue'\nimport IconAttachment from 'vue-material-design-icons/Paperclip.vue'\nimport IconBullet from 'vue-material-design-icons/CheckboxBlankCircle.vue'\nimport JunkIcon from './icons/JunkIcon.vue'\nimport PlusIcon from 'vue-material-design-icons/Plus.vue'\nimport TagIcon from 'vue-material-design-icons/TagOutline.vue'\nimport TagModal from './TagModal.vue'\nimport EventModal from './EventModal.vue'\nimport TaskModal from './TaskModal.vue'\nimport EnvelopePrimaryActions from './EnvelopePrimaryActions.vue'\nimport escapeHtml from 'escape-html'\nimport { hiddenTags } from './tags.js'\nimport { generateUrl } from '@nextcloud/router'\nimport { isPgpText } from '../crypto/pgp.js'\nimport { mailboxHasRights } from '../util/acl.js'\nimport DownloadIcon from 'vue-material-design-icons/TrayArrowDown.vue'\nimport CalendarClock from 'vue-material-design-icons/CalendarClockOutline.vue'\nimport AlarmIcon from 'vue-material-design-icons/Alarm.vue'\nimport moment from '@nextcloud/moment'\nimport { mapState, mapStores } from 'pinia'\nimport useMainStore from '../store/mainStore.js'\nimport { FOLLOW_UP_TAG_LABEL } from '../store/constants.js'\nimport { translateTagDisplayName } from '../util/tag.js'\nimport { findAllStepsForAction } from '../service/QuickActionsService.js'\nimport Icon from './quickActions/Icon.vue'\nimport { isRTL } from '@nextcloud/l10n'\n\nexport default {\n\tname: 'Envelope',\n\tcomponents: {\n\t\tAlertOctagonIcon,\n\t\tAvatar,\n\t\tIconCreateEvent,\n\t\tCheckIcon,\n\t\tChevronLeft,\n\t\tDeleteIcon,\n\t\tArchiveIcon,\n\t\tTaskIcon,\n\t\tDotsHorizontalIcon,\n\t\tEnvelopePrimaryActions,\n\t\tEventModal,\n\t\tImportantIcon,\n\t\tImportantOutlineIcon,\n\t\tTaskModal,\n\t\tEnvelopeSkeleton,\n\t\tJunkIcon,\n\t\tActionButton,\n\t\tMoveModal,\n\t\tOpenInNewIcon,\n\t\tPlusIcon,\n\t\tTagIcon,\n\t\tTagModal,\n\t\tStar,\n\t\tStarOutline,\n\t\tEmailRead,\n\t\tEmailUnread,\n\t\tIconAttachment,\n\t\tIconBullet,\n\t\tReply,\n\t\tActionLink,\n\t\tActionText,\n\t\tDownloadIcon,\n\t\tClockOutlineIcon,\n\t\tNcActionSeparator,\n\t\tNcActionInput,\n\t\tCalendarClock,\n\t\tAlarmIcon,\n\t\tNcAssistantIcon,\n\t\tCogIcon,\n\t\tIconEmailFast,\n\t\tIcon,\n\t},\n\tdirectives: {\n\t\tdraggableEnvelope: DraggableEnvelopeDirective,\n\t},\n\tprops: {\n\t\twithReply: {\n\t\t\t// \"Reply\" action should only appear in envelopes from the envelope list\n\t\t\t// (Because in thread envelopes, this action is already set as primary button of this menu)\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tdata: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tmailbox: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tselectMode: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tselected: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tselectedEnvelopes: {\n\t\t\ttype: Array,\n\t\t\trequired: false,\n\t\t\tdefault: () => [],\n\t\t},\n\t\thasMultipleAccounts: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tshowMoveModal: false,\n\t\t\tshowEventModal: false,\n\t\t\tshowTaskModal: false,\n\t\t\tshowTagModal: false,\n\t\t\tmoreActionsOpen: false,\n\t\t\tsnoozeOptions: false,\n\t\t\tquickActionMenu: false,\n\t\t\tcustomSnoozeDateTime: new Date(moment().add(2, 'hours').minute(0).second(0).valueOf()),\n\t\t\toverwriteOneLineMobile: false,\n\t\t\thoveringAvatar: false,\n\t\t\tfilteredQuickActions: [],\n\t\t\tquickActionLoading: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t\t...mapState(useMainStore, [\n\t\t\t'isSnoozeDisabled',\n\t\t]),\n\t\tisRTL() {\n\t\t\treturn isRTL()\n\t\t},\n\t\tmessageLongDate() {\n\t\t\treturn messageDateTime(new Date(this.data.dateInt))\n\t\t},\n\t\toneLineLayout() {\n\t\t\treturn this.overwriteOneLineMobile ? false : this.mainStore.getPreference('layout-mode', 'vertical-split') === 'no-split'\n\t\t},\n\t\tlayoutMessageViewThreaded() {\n\t\t\treturn this.mainStore.getPreference('layout-message-view', 'threaded') === 'threaded'\n\t\t},\n\t\thasMultipleRecipients() {\n\t\t\tif (!this.account) {\n\t\t\t\tconsole.error('account is undefined', {\n\t\t\t\t\taccountId: this.data.accountId,\n\t\t\t\t})\n\t\t\t}\n\t\t\tconst recipients = buildReplyRecipients(this.envelope, {\n\t\t\t\tlabel: this.account.name,\n\t\t\t\temail: this.account.emailAddress,\n\t\t\t})\n\t\t\treturn recipients.to.concat(recipients.cc).length > 1\n\t\t},\n\t\tdraft() {\n\t\t\treturn this.data.flags.draft\n\t\t},\n\t\taccount() {\n\t\t\tconst accountId = this.data.accountId\n\t\t\treturn this.mainStore.getAccount(accountId)\n\t\t},\n\t\tlink() {\n\t\t\tif (this.draft) {\n\t\t\t\treturn undefined\n\t\t\t} else {\n\t\t\t\treturn {\n\t\t\t\t\tname: 'message',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tmailboxId: this.$route.params.mailboxId,\n\t\t\t\t\t\tfilter: this.$route.params.filter ? this.$route.params.filter : undefined,\n\t\t\t\t\t\tthreadId: this.data.databaseId,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\taddresses() {\n\t\t\t// Show recipients' label/address in a sent mailbox\n\t\t\tif (this.mailbox.specialRole === 'sent' || this.account.sentMailboxId === this.mailbox.databaseId) {\n\t\t\t\tconst recipients = [this.data.to, this.data.cc].flat().map(function(recipient) {\n\t\t\t\t\treturn recipient.label ? recipient.label : recipient.email\n\t\t\t\t})\n\t\t\t\treturn recipients.length > 0 ? recipients.join(', ') : t('mail', 'Blind copy recipients only')\n\t\t\t}\n\t\t\t// Show sender label/address in other mailbox types\n\t\t\treturn this.data.from[0]?.label ?? this.data.from[0]?.email ?? '?'\n\t\t},\n\t\tavatarEmail() {\n\t\t\t// Show first recipients' avatar in a sent mailbox (or undefined when sent to Bcc only)\n\t\t\tif (this.mailbox.specialRole === 'sent') {\n\t\t\t\tconst recipients = [this.data.to, this.data.cc].flat().map(function(recipient) {\n\t\t\t\t\treturn recipient.email\n\t\t\t\t})\n\t\t\t\treturn recipients.length > 0 ? recipients[0] : ''\n\t\t\t}\n\n\t\t\t// Show sender avatar in other mailbox types\n\t\t\tif (this.data.from.length > 0) {\n\t\t\t\treturn this.data.from[0].email\n\t\t\t} else {\n\t\t\t\treturn ''\n\t\t\t}\n\t\t},\n\t\tshowArchiveButton() {\n\t\t\treturn this.account.archiveMailboxId !== null\n\t\t},\n\t\tdisableArchiveButton() {\n\t\t\treturn this.account.archiveMailboxId !== null\n\t\t\t\t&& this.account.archiveMailboxId === this.mailbox.databaseId\n\t\t},\n\t\tshowFavoriteIconVariant() {\n\t\t\treturn !this.data.flags.flagged\n\t\t},\n\t\tshowImportantIconVariant() {\n\t\t\treturn this.data.flags.seen\n\t\t},\n\t\tisEncrypted() {\n\t\t\treturn this.data.encrypted // S/MIME\n\t\t\t\t|| (this.data.previewText && isPgpText(this.data.previewText)) // PGP/Mailvelope\n\t\t},\n\t\tisImportant() {\n\t\t\treturn this.mainStore\n\t\t\t\t.getEnvelopeTags(this.data.databaseId)\n\t\t\t\t.some((tag) => tag.imapLabel === '$label1')\n\t\t},\n\t\ttags() {\n\t\t\tlet tags = this.mainStore.getEnvelopeTags(this.data.databaseId).filter(\n\t\t\t\t(tag) => tag.imapLabel && tag.imapLabel !== '$label1' && !(tag.displayName.toLowerCase() in hiddenTags),\n\t\t\t)\n\n\t\t\t// Don't show follow-up tag in unified mailbox as it has its own section at the top\n\t\t\tif (this.mailbox.isUnified) {\n\t\t\t\ttags = tags.filter((tag) => tag.imapLabel !== FOLLOW_UP_TAG_LABEL)\n\t\t\t}\n\n\t\t\treturn tags\n\t\t},\n\t\tdraggableLabel() {\n\t\t\tlet label = this.data.subject\n\t\t\tconst sender = this.data.from[0]?.label ?? this.data.from[0]?.email\n\t\t\tif (sender) {\n\t\t\t\tlabel += ` (${sender})`\n\t\t\t}\n\t\t\treturn label\n\t\t},\n\t\tisDraggable() {\n\t\t\treturn mailboxHasRights(this.mailbox, 'te')\n\t\t},\n\t\t/**\n\t\t * Subject of envelope or \"No Subject\".\n\t\t *\n\t\t * @return {string}\n\t\t */\n\t\tsubjectForSubtitle() {\n\t\t\tconst subject = this.data.subject || this.t('mail', 'No subject')\n\t\t\tif (this.draft) {\n\t\t\t\treturn this.t('mail', '{markup-start}Draft:{markup-end} {subject}', {\n\t\t\t\t\t'markup-start': '<em>',\n\t\t\t\t\t'markup-end': '</em>',\n\t\t\t\t\tsubject: escapeHtml(subject),\n\t\t\t\t}, {\n\t\t\t\t\tescape: false,\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn subject\n\t\t},\n\t\tstoreActions() {\n\t\t\treturn this.mainStore.getQuickActions()\n\t\t},\n\t\t/**\n\t\t * Link to download the whole message (.eml).\n\t\t *\n\t\t * @return {string}\n\t\t */\n\t\texportMessageLink() {\n\t\t\treturn generateUrl('/apps/mail/api/messages/{id}/export', {\n\t\t\t\tid: this.data.databaseId,\n\t\t\t})\n\t\t},\n\t\thasSeenAcl() {\n\t\t\treturn mailboxHasRights(this.mailbox, 's')\n\t\t},\n\t\thasArchiveAcl() {\n\t\t\tconst hasDeleteSourceAcl = () => {\n\t\t\t\treturn mailboxHasRights(this.mailbox, 'te')\n\t\t\t}\n\t\t\tconst hasCreateDestinationAcl = () => {\n\t\t\t\treturn mailboxHasRights(this.archiveMailbox, 'i')\n\n\t\t\t}\n\t\t\treturn hasDeleteSourceAcl() && hasCreateDestinationAcl()\n\t\t},\n\t\thasDeleteAcl() {\n\t\t\treturn mailboxHasRights(this.mailbox, 'te')\n\t\t},\n\t\thasWriteAcl() {\n\t\t\treturn mailboxHasRights(this.mailbox, 'w')\n\t\t},\n\t\tarchiveMailbox() {\n\t\t\treturn this.mainStore.getMailbox(this.account.archiveMailboxId)\n\t\t},\n\t\tisSnoozedMailbox() {\n\t\t\treturn this.mailbox.databaseId === this.account.snoozeMailboxId\n\t\t},\n\t\treminderOptions() {\n\t\t\tconst currentDateTime = moment()\n\n\t\t\t// Same day 18:00 PM (hidden if after 17:00 PM now)\n\t\t\tconst laterTodayTime = (currentDateTime.hour() < 17)\n\t\t\t\t? moment().hour(18)\n\t\t\t\t: null\n\n\t\t\t// Tomorrow 08:00 AM\n\t\t\tconst tomorrowTime = moment().add(1, 'days').hour(8)\n\n\t\t\t// Saturday 08:00 AM (hidden if Friday, Saturday or Sunday now)\n\t\t\tconst thisWeekendTime = (currentDateTime.day() > 0 && currentDateTime.day() < 5)\n\t\t\t\t? moment().day(6).hour(8)\n\t\t\t\t: null\n\n\t\t\t// Next Monday 08:00 AM (hidden if Sunday now)\n\t\t\tconst nextWeekTime = (currentDateTime.day() !== 0)\n\t\t\t\t? moment().add(1, 'weeks').day(1).hour(8)\n\t\t\t\t: null\n\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tkey: 'laterToday',\n\t\t\t\t\ttimestamp: this.getTimestamp(laterTodayTime),\n\t\t\t\t\tlabel: t('spreed', 'Later today – {timeLocale}', { timeLocale: laterTodayTime?.format('LT') }),\n\t\t\t\t\tariaLabel: t('spreed', 'Set reminder for later today'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'tomorrow',\n\t\t\t\t\ttimestamp: this.getTimestamp(tomorrowTime),\n\t\t\t\t\tlabel: t('spreed', 'Tomorrow – {timeLocale}', { timeLocale: tomorrowTime?.format('ddd LT') }),\n\t\t\t\t\tariaLabel: t('spreed', 'Set reminder for tomorrow'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'thisWeekend',\n\t\t\t\t\ttimestamp: this.getTimestamp(thisWeekendTime),\n\t\t\t\t\tlabel: t('spreed', 'This weekend – {timeLocale}', { timeLocale: thisWeekendTime?.format('ddd LT') }),\n\t\t\t\t\tariaLabel: t('spreed', 'Set reminder for this weekend'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'nextWeek',\n\t\t\t\t\ttimestamp: this.getTimestamp(nextWeekTime),\n\t\t\t\t\tlabel: t('spreed', 'Next week – {timeLocale}', { timeLocale: nextWeekTime?.format('ddd LT') }),\n\t\t\t\t\tariaLabel: t('spreed', 'Set reminder for next week'),\n\t\t\t\t},\n\t\t\t].filter(option => option.timestamp !== null)\n\t\t},\n\t},\n\t watch: {\n\t\tstoreActions() {\n\t\t\tthis.filterAndEnrichQuickActions()\n\t\t},\n\t},\n\tasync mounted() {\n\t\tthis.onWindowResize()\n\t\twindow.addEventListener('resize', this.onWindowResize)\n\t\tif (this.filteredQuickActions.length === 0) {\n\t\t\tawait this.filterAndEnrichQuickActions()\n\t\t}\n\t},\n\tmethods: {\n\t\ttranslateTagDisplayName,\n\t\tsetSelected(value) {\n\t\t\tif (this.selected !== value) {\n\t\t\t\tthis.$emit('update:selected', value)\n\t\t\t}\n\t\t},\n\t\tformatted() {\n\t\t\treturn shortRelativeDatetime(new Date(this.data.dateInt * 1000))\n\t\t},\n\t\tasync filterAndEnrichQuickActions() {\n\t\t\tthis.filteredQuickActions = []\n\t\t\tconst quickActions = this.mainStore.getQuickActions().filter(action => action.accountId === this.data.accountId)\n\t\t\tfor (const action of quickActions) {\n\t\t\t\tconst steps = await findAllStepsForAction(action.id)\n\t\t\t\tconst check = steps.every(step => {\n\t\t\t\t\tif (['markAsSpam', 'applyTag', 'markAsImportant', 'markAsFavorite'].includes(step.type) && !this.hasWriteAcl) {\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\t\t\t\t\tif (['markAsRead', 'markAsUnread'].includes(step.type) && !this.hasSeenAcl) {\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\t\t\t\t\tif (['moveThread', 'deleteThread'].includes(step.type) && !this.hasDeleteAcl) {\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\t\t\t\t\treturn true\n\t\t\t\t})\n\t\t\t\tif (check) {\n\t\t\t\t\tthis.filteredQuickActions.push({\n\t\t\t\t\t\t...action,\n\t\t\t\t\t\tsteps,\n\t\t\t\t\t\ticon: steps[0]?.name,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tasync executeQuickAction(action) {\n\t\t\tthis.closeQuickActionsMenu()\n\t\t\tthis.quickActionLoading = true\n\t\t\ttry {\n\t\t\t\tfor (const step of action.steps) {\n\t\t\t\t\tswitch (step.name) {\n\t\t\t\t\tcase 'markAsSpam':\n\t\t\t\t\t\tawait this.onToggleJunk()\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'applyTag':\n\t\t\t\t\t\tif (step?.tagId) {\n\t\t\t\t\t\t\tawait this.setTag(step.tagId)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// usually happens when the tag was deleted in the meantime\n\t\t\t\t\t\t\tshowWarning(t('mail', 'Could not apply tag, configured tag not found'))\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'markAsImportant':\n\t\t\t\t\t\tif (!this.isImportant) {\n\t\t\t\t\t\t\tthis.onToggleImportant()\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'markAsFavorite':\n\t\t\t\t\t\tif (!this.data.flags.flagged) {\n\t\t\t\t\t\t\tthis.onToggleFlagged()\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'markAsRead':\n\t\t\t\t\t\tif (!this.data.flags.seen) {\n\t\t\t\t\t\t\tthis.onToggleSeen()\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'markAsUnread':\n\t\t\t\t\t\tif (this.data.flags.seen) {\n\t\t\t\t\t\t\tthis.onToggleSeen()\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'moveThread':\n\t\t\t\t\t\tif (step.mailboxId) {\n\t\t\t\t\t\t\tawait this.moveThread(step.mailboxId)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// usually happens when the mailbox was deleted in the meantime\n\t\t\t\t\t\t\tshowWarning(t('mail', 'Could not move thread, destination mailbox not found'))\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'deleteThread':\n\t\t\t\t\t\tthis.onDelete()\n\t\t\t\t\t\tbreak\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tlogger.warn(`Unknown quick action step type: ${step.type}`)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('Could not execute quick action', error)\n\t\t\t\tshowError(t('mail', 'Could not execute quick action'))\n\t\t\t\tthis.quickActionLoading = false\n\t\t\t\treturn\n\t\t\t}\n\t\t\tshowSuccess(t('mail', 'Quick action executed'))\n\t\t\tthis.quickActionLoading = false\n\n\t\t},\n\t\tasync setTag(tagId) {\n\t\t\tconst tag = this.mainStore.getTag(tagId)\n\t\t\tconst threadEnvelopes = this.layoutMessageViewThreaded\n\t\t\t\t? this.mainStore.getEnvelopesByThreadRootId(this.data.accountId, this.data.threadRootId)\n\t\t\t\t: [this.data]\n\t\t\tif (!tag) {\n\t\t\t\tshowWarning(t('mail', 'Could not apply tag, configured tag not found'))\n\t\t\t\treturn\n\t\t\t}\n\t\t\tfor (const envelope of threadEnvelopes) {\n\t\t\t\tawait this.mainStore.addEnvelopeTag({ envelope, imapLabel: tag.imapLabel })\n\t\t\t}\n\t\t},\n\t\tunselect() {\n\t\t\tif (this.selected) {\n\t\t\t\tthis.$emit('update:selected', false)\n\t\t\t}\n\t\t},\n\t\ttoggleSelected() {\n\t\t\tthis.$emit('update:selected', !this.selected)\n\t\t},\n\t\tasync onClick(event) {\n\t\t\tif (!event.ctrlKey && this.draft && !event.defaultPrevented) {\n\t\t\t\tawait this.mainStore.startComposerSession({\n\t\t\t\t\tdata: {\n\t\t\t\t\t\t...this.data,\n\t\t\t\t\t\tdraftId: this.data.databaseId,\n\t\t\t\t\t},\n\t\t\t\t\ttemplateMessageId: this.data.databaseId,\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tonSelectMultiple() {\n\t\t\tthis.$emit('select-multiple')\n\t\t},\n\t\tonToggleImportant() {\n\t\t\tthis.mainStore.toggleEnvelopeImportant(this.data)\n\t\t},\n\t\tonToggleFlagged() {\n\t\t\tthis.mainStore.toggleEnvelopeFlagged(this.data)\n\t\t},\n\t\tonToggleSeen() {\n\t\t\tthis.mainStore.toggleEnvelopeSeen({ envelope: this.data })\n\t\t},\n\t\tasync onToggleJunk() {\n\t\t\tconst removeEnvelope = await this.mainStore.moveEnvelopeToJunk(this.data)\n\n\t\t\tif (this.isImportant) {\n\t\t\t\tawait this.mainStore.toggleEnvelopeImportant(this.data)\n\t\t\t}\n\n\t\t\tif (!this.data.flags.seen) {\n\t\t\t\tawait this.mainStore.toggleEnvelopeSeen({ envelope: this.data })\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * moveEnvelopeToJunk returns true if the envelope should be moved to a different mailbox.\n\t\t\t *\n\t\t\t * Our backend (MessageMapper.move) implemented move as copy and delete.\n\t\t\t * The message is copied to another mailbox and gets a new UID; the message in the current folder is deleted.\n\t\t\t *\n\t\t\t * Trigger the delete event here to open the next envelope and remove the current envelope from the list.\n\t\t\t * The delete event bubbles up to Mailbox.onDelete to the actual implementation.\n\t\t\t *\n\t\t\t * In Mailbox.onDelete, fetchNextEnvelopes requires the current envelope to find the next envelope.\n\t\t\t * Therefore, it must run before removing the envelope.\n\t\t\t */\n\n\t\t\tif (removeEnvelope) {\n\t\t\t\tawait this.$emit('delete', this.data.databaseId)\n\t\t\t}\n\n\t\t\tawait this.mainStore.toggleEnvelopeJunk({\n\t\t\t\tenvelope: this.data,\n\t\t\t\tremoveEnvelope,\n\t\t\t})\n\t\t},\n\t\tasync onDelete() {\n\t\t\t// Remove from selection first\n\t\t\tthis.setSelected(false)\n\t\t\t// Delete\n\t\t\tthis.$emit('delete', this.data.databaseId)\n\n\t\t\ttry {\n\t\t\t\tif (this.layoutMessageViewThreaded) {\n\t\t\t\t\tawait this.mainStore.deleteThread({\n\t\t\t\t\t\tenvelope: this.data,\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tawait this.mainStore.deleteMessage({\n\t\t\t\t\t\tid: this.data.databaseId,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tshowError(await matchError(error, {\n\t\t\t\t\t[NoTrashMailboxConfiguredError.getName()]() {\n\t\t\t\t\t\treturn t('mail', 'No trash folder configured')\n\t\t\t\t\t},\n\t\t\t\t\tdefault(error) {\n\t\t\t\t\t\tlogger.error('could not delete message', error)\n\t\t\t\t\t\treturn t('mail', 'Could not delete message')\n\t\t\t\t\t},\n\t\t\t\t}))\n\t\t\t}\n\t\t},\n\t\tshowMoreActionOptions() {\n\t\t\tthis.snoozeOptions = false\n\t\t\tthis.moreActionsOpen = true\n\t\t},\n\t\tshowSnoozeOptions() {\n\t\t\tthis.snoozeOptions = true\n\t\t\tthis.moreActionsOpen = false\n\t\t},\n\t\tcloseMoreAndSnoozeOptions() {\n\t\t\tthis.snoozeOptions = false\n\t\t\tthis.moreActionsOpen = false\n\t\t},\n\t\tshowQuickActionsMenu() {\n\t\t\tthis.snoozeOptions = false\n\t\t\tthis.moreActionsOpen = false\n\t\t\tthis.quickActionMenu = true\n\t\t},\n\t\tcloseQuickActionsMenu() {\n\t\t\tthis.quickActionMenu = false\n\t\t},\n\t\tasync onArchive() {\n\t\t\t// Remove from selection first\n\t\t\tthis.setSelected(false)\n\t\t\t// Archive\n\t\t\tthis.$emit('archive', this.data.databaseId)\n\n\t\t\ttry {\n\t\t\t\tif (this.layoutMessageViewThreaded) {\n\t\t\t\t\tawait this.mainStore.moveThread({\n\t\t\t\t\t\tenvelope: this.data,\n\t\t\t\t\t\tdestMailboxId: this.account.archiveMailboxId,\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tawait this.mainStore.moveMessage({\n\t\t\t\t\t\tid: this.data.databaseId,\n\t\t\t\t\t\tdestMailboxId: this.account.archiveMailboxId,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('could not archive message', error)\n\t\t\t\tshowError(t('mail', 'Could not archive message'))\n\t\t\t}\n\t\t},\n\t\tasync onSnooze(timestamp) {\n\t\t\t// Remove from selection first\n\t\t\tthis.setSelected(false)\n\n\t\t\tif (!this.account.snoozeMailboxId) {\n\t\t\t\tawait this.mainStore.createAndSetSnoozeMailbox(this.account)\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tif (this.layoutMessageViewThreaded) {\n\t\t\t\t\tawait this.mainStore.snoozeThread({\n\t\t\t\t\t\tenvelope: this.data,\n\t\t\t\t\t\tunixTimestamp: timestamp / 1000,\n\t\t\t\t\t\tdestMailboxId: this.account.snoozeMailboxId,\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tawait this.mainStore.snoozeMessage({\n\t\t\t\t\t\tid: this.data.databaseId,\n\t\t\t\t\t\tunixTimestamp: timestamp / 1000,\n\t\t\t\t\t\tdestMailboxId: this.account.snoozeMailboxId,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tshowSuccess(t('mail', 'Thread was snoozed'))\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('could not snooze thread', error)\n\t\t\t\tshowError(t('mail', 'Could not snooze thread'))\n\t\t\t}\n\t\t},\n\t\tasync onUnSnooze() {\n\t\t\t// Remove from selection first\n\t\t\tthis.setSelected(false)\n\n\t\t\ttry {\n\t\t\t\tif (this.layoutMessageViewThreaded) {\n\t\t\t\t\tawait this.mainStore.unSnoozeThread({\n\t\t\t\t\t\tenvelope: this.data,\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tawait this.mainStore.unSnoozeMessage({\n\t\t\t\t\t\tid: this.data.databaseId,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tshowSuccess(t('mail', 'Thread was unsnoozed'))\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('Could not unsnooze thread', error)\n\t\t\t\tshowError(t('mail', 'Could not unsnooze thread'))\n\t\t\t}\n\t\t},\n\t\tasync onOpenEditAsNew() {\n\t\t\tawait this.mainStore.startComposerSession({\n\t\t\t\ttemplateMessageId: this.data.databaseId,\n\t\t\t\tdata: this.data,\n\t\t\t})\n\t\t},\n\t\tonOpenMoveModal() {\n\t\t\tthis.showMoveModal = true\n\t\t},\n\t\tonOpenEventModal() {\n\t\t\tthis.showEventModal = true\n\t\t},\n\t\tonMove() {\n\t\t\tthis.$emit('move')\n\t\t},\n\t\tasync moveThread(destMailboxId) {\n\t\t\tif (this.layoutMessageViewThreaded) {\n\t\t\t\tawait this.mainStore.moveThread({\n\t\t\t\t\tenvelope: this.data,\n\t\t\t\t\tdestMailboxId,\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tawait this.mainStore.moveMessage({\n\t\t\t\t\tid: this.data.databaseId,\n\t\t\t\t\tdestMailboxId,\n\t\t\t\t})\n\t\t\t}\n\t\t\tthis.onMove()\n\n\t\t},\n\t\tonCloseMoveModal() {\n\t\t\tthis.showMoveModal = false\n\t\t},\n\t\tonOpenTagModal() {\n\t\t\tthis.showTagModal = true\n\t\t},\n\t\tonCloseTagModal() {\n\t\t\tthis.showTagModal = false\n\t\t},\n\t\tgetTimestamp(momentObject) {\n\t\t\treturn momentObject?.minute(0).second(0).millisecond(0).valueOf() || null\n\t\t},\n\t\tsetCustomSnoozeDateTime(event) {\n\t\t\tthis.customSnoozeDateTime = new Date(event.target.value)\n\t\t},\n\t\tsetCustomSnooze() {\n\t\t\tthis.onSnooze(this.customSnoozeDateTime.valueOf())\n\t\t},\n\t\tonWindowResize() {\n\t\t\tconst widthOutput = window.innerWidth\n\n\t\t\tif (widthOutput <= 700) {\n\t\t\t\tthis.overwriteOneLineMobile = true\n\t\t\t} else {\n\t\t\t\tthis.overwriteOneLineMobile = false\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n<style lang=\"scss\" scoped>\n.mail-message-account-color {\n\tposition: absolute;\n\tinset-inline-start: 0px;\n\twidth: 2px;\n\theight: 69px;\n\tz-index: 1;\n}\n\n.envelope {\n\t.app-content-list-item-icon {\n\t\theight: 40px; // To prevent some unexpected spacing below the avatar\n\t}\n\n\t&__subtitle {\n\t\tdisplay: flex;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t\talign-items: center;\n\t\t&__subject {\n\t\t\tflex: 1;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t\twhite-space: nowrap;\n\t\t\tline-height: var(--default-line-height);\n\t\t\t&__text {\n\t\t\t\t&.draft {\n\t\t\t\t\tline-height: 130%;\n\t\t\t\t\t/* deep because there is no data attribute for the em rendered from JS output */\n\t\t\t\t\t:deep(em) {\n\t\t\t\t\t\tfont-style: italic;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t&__preview-text {\n\t\tcolor: var(--color-text-maxcontrast);\n\t\toverflow: hidden;\n\t\tfont-weight: initial;\n\t\tmax-height: calc(var(--default-font-size) * var(--default-line-height) * 2);\n\n\t\t/* Weird CSS hacks to make text ellipsize without white-space: nowrap */\n\t\tdisplay: -webkit-box;\n\t\t-webkit-line-clamp: 2;\n\t\t-webkit-box-orient: vertical;\n\n\t\t.material-design-icon {\n\t\t\tdisplay: inline;\n\n\t\t\tposition: relative;\n\t\t\ttop: 2px;\n\t\t}\n\t\t&__icon {\n\t\t\tdisplay: inline;\n\t\t}\n\t}\n}\n\n.list-item__wrapper--active {\n\tdiv, :deep(.list-item-content__inner__details__details) {\n\t\tcolor: var(--color-primary-element-text) !important;\n\t}\n}\n\n.icon-important {\n\t:deep(path) {\n\t\tfill: #ffcc00;\n\t\tstroke: var(--color-main-background);\n\t\tstroke-width: 2;\n\t}\n\t.list-item:hover &,\n\t.list-item:focus &,\n\t.list-item.active & {\n\t\t:deep(path) {\n\t\t\tstroke: var(--color-background-dark);\n\t\t}\n\t}\n\n\t// In message list, but not the one in the action menu\n\t&.app-content-list-item-star {\n\t\tbackground-image: none;\n\t\tinset-inline-start: 1px;\n\t\ttop: 8px;\n\t\topacity: 1;\n\t}\n}\n\n.important-one-line.app-content-list-item-star:deep() {\n\ttop: 4px !important;\n\tinset-inline-start: 2px;\n}\n\n.app-content-list-item-select-checkbox {\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\tposition: absolute;\n\tinset-inline-start: 33px;\n\ttop: 35px;\n\tz-index: 50; // same as icon-starred\n}\n\n.list-item-style:not(.seen) {\n\tfont-weight: bold;\n}\n\n.junk-icon-style {\n\topacity: .2;\n\tdisplay: flex;\n\ttop: 32px;\n\tinset-inline-start: 32px;\n\tbackground-size: 16px;\n\theight: 20px;\n\twidth: 20px;\n\tmargin: 0;\n\tpadding: 0;\n\tposition: absolute;\n\tz-index: 2;\n\t&:hover {\n\t\topacity: .1;\n\t}\n}\n\n.one-line.junk-icon-style {\n\ttop: 36px;\n}\n\n.icon-attachment {\n\t-ms-filter: 'progid:DXImageTransform.Microsoft.Alpha(Opacity=25)';\n\topacity: 0.25;\n}\n\n:deep(.action--primary) {\n\t.material-design-icon {\n\t\tmargin-bottom: -14px;\n\t}\n}\n\n.tag-group__label {\n\tmargin: 0 7px;\n\tz-index: 2;\n\tfont-size: calc(var(--default-font-size) * 0.8);\n\tfont-weight: bold;\n\tpadding-inline: 2px;\n\twhite-space: nowrap;\n}\n\n.tag-group__bg {\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\ttop: 0;\n\tinset-inline-start: 0;\n\topacity: 15%;\n}\n\n.tag-group {\n\tdisplay: inline-block;\n\tborder-radius: var(--border-radius-pill);\n\tposition: relative;\n\tmargin-inline-end: 1px;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.list-item__wrapper:deep() {\n\tlist-style: none;\n}\n\n.icon-important.app-content-list-item-star:deep() {\n\tposition: absolute;\n\ttop: 3px;\n\tz-index: 1;\n\tstroke: var(--color-main-background);\n\tstroke-width: 2;\n}\n\n.app-content-list-item-star.favorite-icon-style {\n\tdisplay: inline-block;\n\tposition: absolute;\n\ttop: 3px;\n\tinset-inline-start: 30px;\n\tcursor: pointer;\n\tstroke: var(--color-main-background);\n\tstroke-width: 2;\n\tz-index: 1;\n\t&:hover {\n\t\topacity: .4;\n\t}\n}\n\n.one-line.favorite-icon-style {\n\ttop: 3px;\n\tinset-inline-start: 31px;\n}\n\n.seen-icon-style,\n.attachment-icon-style  {\n\topacity: .6;\n\tdisplay: inline-flex;\n\talign-items: center;\n\tmargin-inline-end: 5px;\n}\n\n:deep(.list-item__anchor) {\n\tmargin-top: 6px;\n\tmargin-bottom: 6px;\n}\n\n:deep(.line-two__subtitle) {\n\tdisplay: flex;\n\tflex-basis: 100%;\n\tpadding-inline-start: 40px;\n\twidth: 450px;\n}\n\n:deep(.line-one__title) {\n\tflex-direction: row;\n\tdisplay: flex;\n\twidth: 200px;\n}\n\n.line-two.one-line {\n\tdisplay: flex;\n\toverflow: hidden;\n\talign-items: center;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.quick-actions-button{\n\twidth: 100%;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n}\n\n.envelope__subtitle__subject.one-line {\n\tdisplay: flex;\n\talign-items: center;\n\theight: calc(var(--default-font-size) * var(--default-line-height));\n\n\t&::after {\n\t\tcontent: '\\00B7';\n\t\tmargin: 12px;\n\t}\n}\n\n.envelope__subtitle__subject__text.one-line {\n\tmax-width: 300px;\n\tdisplay: inline-block;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.app-content-list-item-avatar-selected {\n\tbackground-color: var(--color-primary-element);\n\tcolor: var(--color-primary-light);\n\tborder-radius: 32px;\n\t&:hover {\n\t\tbackground-color: var(--color-primary-element);\n\t\tcolor: var(--color-primary-light);\n\t\tborder-radius: 32px;\n\t}\n}\n\n.hover-active {\n\t&:hover {\n\t\tcolor: var(--color-primary-hover);\n\t\tbackground-color: var(--color-primary-light-hover);\n\t\tborder-radius: 32px;\n\t}\n}\n\n.hovering-status {\n\t// Needs to be the same height as the check-icon and the avatar to prevent automatic resizing\n\t// and height differences between hover state and normal state\n\theight: calc(var(--default-grid-baseline) * 10);\n}\n\n.check-icon {\n\tborder-radius: 32px;\n\twidth: calc(var(--default-grid-baseline) * 10);\n\theight: calc(var(--default-grid-baseline) * 10);\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Envelope.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Envelope.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Envelope.vue?vue&type=style&index=0&id=cf5ba508&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Envelope.vue?vue&type=style&index=0&id=cf5ba508&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Envelope.vue?vue&type=template&id=cf5ba508&scoped=true\"\nimport script from \"./Envelope.vue?vue&type=script&lang=js\"\nexport * from \"./Envelope.vue?vue&type=script&lang=js\"\nimport style0 from \"./Envelope.vue?vue&type=style&index=0&id=cf5ba508&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cf5ba508\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('EnvelopeSkeleton',{directives:[{name:\"draggable-envelope\",rawName:\"v-draggable-envelope\",value:({\n\t\taccountId: _vm.data.accountId ? _vm.data.accountId : _vm.mailbox.accountId,\n\t\tmailboxId: _vm.data.mailboxId,\n\t\tdatabaseId: _vm.data.databaseId,\n\t\tdraggableLabel: _vm.draggableLabel,\n\t\tselectedEnvelopes: _vm.selectedEnvelopes,\n\t\tisDraggable: _vm.isDraggable,\n\t}),expression:\"{\\n\\t\\taccountId: data.accountId ? data.accountId : mailbox.accountId,\\n\\t\\tmailboxId: data.mailboxId,\\n\\t\\tdatabaseId: data.databaseId,\\n\\t\\tdraggableLabel,\\n\\t\\tselectedEnvelopes,\\n\\t\\tisDraggable,\\n\\t}\"}],staticClass:\"list-item-style envelope\",class:{seen: _vm.data.flags.seen, draft: _vm.draft, selected: _vm.selected},attrs:{\"to\":_vm.link,\"exact\":true,\"data-envelope-id\":_vm.data.databaseId,\"name\":_vm.addresses,\"details\":_vm.formatted(),\"one-line\":_vm.oneLineLayout,\"is-read\":_vm.showImportantIconVariant,\"is-important\":_vm.isImportant},on:{\"click\":[function($event){if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey)return null;return _vm.onClick.apply(null, arguments)},function($event){if(!$event.ctrlKey)return null;if($event.shiftKey||$event.altKey||$event.metaKey)return null;$event.preventDefault();return _vm.toggleSelected.apply(null, arguments)},function($event){if(!$event.shiftKey)return null;if($event.ctrlKey||$event.altKey||$event.metaKey)return null;$event.preventDefault();return _vm.onSelectMultiple.apply(null, arguments)}],\"delete\":_vm.onDelete,\"toggle-important\":_vm.onToggleImportant,\"toggle-seen\":_vm.onToggleSeen,\"update:menuOpen\":_vm.closeMoreAndSnoozeOptions},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.data.flags.flagged)?_c('Star',{staticClass:\"app-content-list-item-star favorite-icon-style\",class:{ 'one-line': _vm.oneLineLayout, 'favorite-icon-style': !_vm.oneLineLayout },attrs:{\"fill-color\":\"#f9cf3d\",\"size\":18,\"data-starred\":_vm.data.flags.flagged ? 'true' : 'false'},on:{\"click\":function($event){$event.preventDefault();_vm.hasWriteAcl ? _vm.onToggleFlagged() : false}}}):_vm._e(),_vm._v(\" \"),(_vm.isImportant)?_c('ImportantIcon',{staticClass:\"app-content-list-item-star icon-important\",class:{ 'important-one-line': _vm.oneLineLayout, 'icon-important': !_vm.oneLineLayout },attrs:{\"size\":18,\"data-starred\":\"true\"}}):_vm._e(),_vm._v(\" \"),(_vm.data.flags.$junk)?_c('JunkIcon',{staticClass:\"app-content-list-item-star junk-icon-style\",class:{ 'one-line': _vm.oneLineLayout, 'junk-icon-style': !_vm.oneLineLayout },attrs:{\"size\":18,\"data-starred\":_vm.data.flags.$junk ? 'true' : 'false'},on:{\"click\":function($event){$event.preventDefault();_vm.hasWriteAcl ? _vm.onToggleJunk() : false}}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"hovering-status\",class:{ 'hover-active': _vm.hoveringAvatar && !_vm.selected },on:{\"mouseenter\":function($event){_vm.hoveringAvatar = true},\"mouseleave\":function($event){_vm.hoveringAvatar = false},\"click\":[function($event){$event.stopPropagation();if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey)return null;$event.preventDefault();return _vm.toggleSelected.apply(null, arguments)},function($event){if(!$event.shiftKey)return null;if($event.ctrlKey||$event.altKey||$event.metaKey)return null;$event.preventDefault();return _vm.onSelectMultiple.apply(null, arguments)}]}},[(_vm.hoveringAvatar || _vm.selected)?[_c('CheckIcon',{staticClass:\"check-icon\",class:{ 'app-content-list-item-avatar-selected': _vm.selected },attrs:{\"size\":28}})]:[_c('Avatar',{attrs:{\"display-name\":_vm.addresses,\"email\":_vm.avatarEmail,\"fetch-avatar\":_vm.data.fetchAvatarFromClient,\"avatar\":_vm.data.avatar}})]],2)]},proxy:true},{key:\"subname\",fn:function(){return [_c('div',{staticClass:\"line-two\",class:{ 'one-line': _vm.oneLineLayout }},[_c('div',{staticClass:\"envelope__subtitle\"},[(_vm.data.flags.answered)?_c('Reply',{staticClass:\"seen-icon-style\",attrs:{\"size\":18}}):_vm._e(),_vm._v(\" \"),(_vm.data.flags.hasAttachments === true)?_c('IconAttachment',{staticClass:\"attachment-icon-style\",attrs:{\"size\":18}}):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"envelope__subtitle__subject\",class:{'one-line': _vm.oneLineLayout },attrs:{\"dir\":\"auto\"}},[_c('span',{staticClass:\"envelope__subtitle__subject__text\",class:{'one-line': _vm.oneLineLayout, draft: _vm.draft },domProps:{\"innerHTML\":_vm._s(_vm.subjectForSubtitle)}})])],1),_vm._v(\" \"),(_vm.data.encrypted || _vm.data.previewText)?_c('div',{staticClass:\"envelope__preview-text\",attrs:{\"title\":_vm.data.summary ? _vm.t('mail', 'This summary was AI generated') : null}},[(_vm.data.summary)?_c('NcAssistantIcon',{staticClass:\"envelope__preview-text__icon\",attrs:{\"size\":15}}):_vm._e(),_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.isEncrypted ? _vm.t('mail', 'Encrypted message') : _vm.data.summary ? _vm.data.summary.trim() : _vm.data.previewText.trim())+\"\\n\\t\\t\\t\")],1):_vm._e()])]},proxy:true},{key:\"indicator\",fn:function(){return [(!_vm.data.flags.seen)?_c('IconBullet',{attrs:{\"size\":20,\"aria-hidden\":false,\"aria-label\":_vm.t('mail', 'This message is unread'),\"fill-color\":\"var(--color-primary-element)\"}}):_vm._e()]},proxy:true},{key:\"actions\",fn:function(){return [(!_vm.moreActionsOpen && !_vm.snoozeOptions)?_c('EnvelopePrimaryActions',{attrs:{\"id\":\"primary-actions\"}},[(_vm.hasWriteAcl)?_c('ActionButton',{staticClass:\"action--primary\",attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.onToggleFlagged.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.showFavoriteIconVariant)?_c('StarOutline',{attrs:{\"size\":24}}):_c('Star',{attrs:{\"size\":24}})]},proxy:true}],null,false,2798023345)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.data.flags.flagged ? _vm.t('mail', 'Unfavorite') : _vm.t('mail', 'Favorite'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.hasSeenAcl)?_c('ActionButton',{staticClass:\"action--primary\",attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.onToggleSeen.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.showImportantIconVariant)?_c('EmailUnread',{attrs:{\"size\":24}}):_c('EmailRead',{attrs:{\"size\":24}})]},proxy:true}],null,false,3941285336)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.data.flags.seen ? _vm.t('mail', 'Unread') : _vm.t('mail', 'Read'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.hasWriteAcl)?_c('ActionButton',{staticClass:\"action--primary\",attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.onToggleImportant.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.isImportant)?_c('ImportantIcon',{attrs:{\"size\":24}}):_c('ImportantOutlineIcon',{attrs:{\"size\":24}})]},proxy:true}],null,false,18687750)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.isImportant ? _vm.t('mail', 'Unimportant') : _vm.t('mail', 'Important'))+\"\\n\\t\\t\\t\")]):_vm._e()],1):_vm._e(),_vm._v(\" \"),(!_vm.moreActionsOpen && !_vm.snoozeOptions && !_vm.quickActionMenu)?[_c('ActionText',{scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ClockOutlineIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,3746947659)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.messageLongDate)+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('NcActionSeparator'),_vm._v(\" \"),_c('ActionButton',{attrs:{\"is-menu\":true},on:{\"click\":_vm.showQuickActionsMenu},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconEmailFast',{attrs:{\"size\":20}})]},proxy:true}],null,false,643169775)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Quick actions'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),(_vm.hasWriteAcl)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.onToggleJunk.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('AlertOctagonIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,4042396370)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.data.flags.$junk ? _vm.t('mail', 'Mark not spam') : _vm.t('mail', 'Mark as spam'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.hasWriteAcl)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.onOpenTagModal.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('TagIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,3295128625)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Edit tags'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.isSnoozeDisabled && !_vm.isSnoozedMailbox)?_c('ActionButton',{attrs:{\"close-after-click\":false},on:{\"click\":_vm.showSnoozeOptions},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('AlarmIcon',{attrs:{\"title\":_vm.t('mail', 'Snooze'),\"size\":20}})]},proxy:true}],null,false,42024148)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Snooze'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.isSnoozeDisabled && _vm.isSnoozedMailbox)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":_vm.onUnSnooze},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('AlarmIcon',{attrs:{\"title\":_vm.t('mail', 'Unsnooze'),\"size\":20}})]},proxy:true}],null,false,2733502479)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Unsnooze'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.hasDeleteAcl)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.onOpenMoveModal.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('OpenInNewIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,1266168172)},[_vm._v(\" \"),(_vm.layoutMessageViewThreaded)?[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Move thread'))+\"\\n\\t\\t\\t\\t\")]:[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Move Message'))+\"\\n\\t\\t\\t\\t\")]],2):_vm._e(),_vm._v(\" \"),(_vm.showArchiveButton && _vm.hasArchiveAcl)?_c('ActionButton',{attrs:{\"close-after-click\":true,\"disabled\":_vm.disableArchiveButton},on:{\"click\":function($event){$event.preventDefault();return _vm.onArchive.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ArchiveIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,2152228161)},[_vm._v(\" \"),(_vm.layoutMessageViewThreaded)?[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Archive thread'))+\"\\n\\t\\t\\t\\t\")]:[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Archive message'))+\"\\n\\t\\t\\t\\t\")]],2):_vm._e(),_vm._v(\" \"),(_vm.hasDeleteAcl)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.onDelete.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('DeleteIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,1311746650)},[_vm._v(\" \"),(_vm.layoutMessageViewThreaded)?[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Delete thread'))+\"\\n\\t\\t\\t\\t\")]:[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Delete message'))+\"\\n\\t\\t\\t\\t\")]],2):_vm._e(),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":false},on:{\"click\":_vm.showMoreActionOptions},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('DotsHorizontalIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,1700783217)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'More actions'))+\"\\n\\t\\t\\t\")])]:_vm._e(),_vm._v(\" \"),(_vm.snoozeOptions)?[_c('ActionButton',{attrs:{\"close-after-click\":false},on:{\"click\":function($event){_vm.snoozeOptions = false}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ChevronLeft',{attrs:{\"size\":20}})]},proxy:true}],null,false,3117353720)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Back'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('NcActionSeparator'),_vm._v(\" \"),_vm._l((_vm.reminderOptions),function(option){return _c('ActionButton',{key:option.key,attrs:{\"aria-label\":option.ariaLabel,\"close-after-click\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.onSnooze(option.timestamp)}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(option.label)+\"\\n\\t\\t\\t\")])}),_vm._v(\" \"),_c('NcActionSeparator'),_vm._v(\" \"),_c('NcActionInput',{attrs:{\"type\":\"datetime-local\",\"is-native-picker\":\"\",\"value\":_vm.customSnoozeDateTime,\"min\":new Date()},on:{\"change\":_vm.setCustomSnoozeDateTime},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('CalendarClock',{attrs:{\"size\":20}})]},proxy:true}],null,false,1325980530)}),_vm._v(\" \"),_c('ActionButton',{attrs:{\"aria-label\":_vm.t('mail', 'Set custom snooze'),\"close-after-click\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.setCustomSnooze(_vm.customSnoozeDateTime)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('CheckIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,2630571749)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Set custom snooze'))+\"\\n\\t\\t\\t\")])]:_vm._e(),_vm._v(\" \"),(_vm.moreActionsOpen)?[_c('ActionButton',{attrs:{\"close-after-click\":false},on:{\"click\":function($event){_vm.moreActionsOpen=false}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ChevronLeft',{attrs:{\"size\":20}})]},proxy:true}],null,false,3117353720)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'More actions'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.onOpenEditAsNew.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('PlusIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,2953566425)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Edit as new message'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();_vm.showEventModal = true}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconCreateEvent',{attrs:{\"size\":20}})]},proxy:true}],null,false,1015012555)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Reply with meeting'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();_vm.showTaskModal = true}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('TaskIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,1424835118)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Create task'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('ActionLink',{attrs:{\"close-after-click\":true,\"href\":_vm.exportMessageLink},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('DownloadIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,2598526839)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Download message'))+\"\\n\\t\\t\\t\")])]:_vm._e(),_vm._v(\" \"),(_vm.quickActionMenu)?[_c('ActionButton',{attrs:{\"close-after-click\":false},on:{\"click\":function($event){return _vm.closeQuickActionsMenu()}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ChevronLeft',{attrs:{\"size\":20}})]},proxy:true}],null,false,3117353720)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Back to all actions'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_vm._l((_vm.filteredQuickActions),function(action){return _c('ActionButton',{key:action.id,attrs:{\"close-after-click\":true},on:{\"click\":function($event){return _vm.executeQuickAction(action)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('Icon',{attrs:{\"action\":action?.icon}})]},proxy:true}],null,true)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(action.name)+\"\\n\\t\\t\\t\")])}),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){return _vm.$emit('open:quick-actions-settings')}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('CogIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,1255914024)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Manage quick actions'))+\"\\n\\t\\t\\t\")])]:_vm._e()]},proxy:true},{key:\"tags\",fn:function(){return [_vm._l((_vm.tags),function(tag){return _c('div',{key:tag.id,staticClass:\"tag-group\"},[_c('div',{staticClass:\"tag-group__bg\",style:({'background-color': tag.color})}),_vm._v(\" \"),_c('span',{staticClass:\"tag-group__label\",style:({color: tag.color})},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.translateTagDisplayName(tag))+\"\\n\\t\\t\\t\")])])}),_vm._v(\" \"),(_vm.showMoveModal)?_c('MoveModal',{attrs:{\"account\":_vm.account,\"envelopes\":[_vm.data],\"move-thread\":_vm.listViewThreaded},on:{\"move\":_vm.onMove,\"close\":_vm.onCloseMoveModal}}):_vm._e(),_vm._v(\" \"),(_vm.showEventModal)?_c('EventModal',{attrs:{\"envelope\":_vm.data},on:{\"close\":function($event){_vm.showEventModal = false}}}):_vm._e(),_vm._v(\" \"),(_vm.showTaskModal)?_c('TaskModal',{attrs:{\"envelope\":_vm.data},on:{\"close\":function($event){_vm.showTaskModal = false}}}):_vm._e(),_vm._v(\" \"),(_vm.showTagModal)?_c('TagModal',{attrs:{\"account\":_vm.account,\"envelopes\":[_vm.data]},on:{\"close\":_vm.onCloseTagModal}}):_vm._e()]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div>\n\t\t<transition name=\"multiselect-header\">\n\t\t\t<div v-if=\"selectMode\" key=\"multiselect-header\" class=\"multiselect-header\">\n\t\t\t\t<div class=\"action-buttons\">\n\t\t\t\t\t<NcButton v-if=\"isAtLeastOneSelectedUnread\"\n\t\t\t\t\t\ttype=\"tertiary\"\n\t\t\t\t\t\t:title=\"n('mail', 'Mark {number} read', 'Mark {number} read', selection.length, { number: selection.length })\"\n\t\t\t\t\t\t@click.prevent=\"markSelectedRead\">\n\t\t\t\t\t\t<EmailRead :size=\"20\" />\n\t\t\t\t\t</NcButton>\n\n\t\t\t\t\t<NcButton v-if=\"isAtLeastOneSelectedRead\"\n\t\t\t\t\t\ttype=\"tertiary\"\n\t\t\t\t\t\t:title=\"n('mail', 'Mark {number} unread', 'Mark {number} unread', selection.length, { number: selection.length })\"\n\t\t\t\t\t\t@click.prevent=\"markSelectedUnread\">\n\t\t\t\t\t\t<EmailUnread :size=\"20\" />\n\t\t\t\t\t</NcButton>\n\n\t\t\t\t\t<NcButton v-if=\"isAtLeastOneSelectedUnimportant\"\n\t\t\t\t\t\ttype=\"tertiary\"\n\t\t\t\t\t\t:title=\"n('mail', 'Mark {number} as important', 'Mark {number} as important', selection.length, { number: selection.length })\"\n\t\t\t\t\t\t@click.prevent=\"markSelectionImportant\">\n\t\t\t\t\t\t<ImportantIcon :size=\"20\" />\n\t\t\t\t\t</NcButton>\n\n\t\t\t\t\t<NcButton v-if=\"isAtLeastOneSelectedImportant\"\n\t\t\t\t\t\ttype=\"tertiary\"\n\t\t\t\t\t\t:title=\"n('mail', 'Mark {number} as unimportant', 'Mark {number} as unimportant', selection.length, { number: selection.length })\"\n\t\t\t\t\t\t@click.prevent=\"markSelectionUnimportant\">\n\t\t\t\t\t\t<ImportantOutlineIcon :size=\"20\" />\n\t\t\t\t\t</NcButton>\n\n\t\t\t\t\t<NcButton v-if=\"isAtLeastOneSelectedFavorite\"\n\t\t\t\t\t\ttype=\"tertiary\"\n\t\t\t\t\t\t:title=\"n('mail', 'Unfavorite {number}', 'Unfavorite {number}', selection.length, { number: selection.length })\"\n\t\t\t\t\t\t@click.prevent=\"favoriteAll\">\n\t\t\t\t\t\t<IconUnFavorite :size=\"20\" />\n\t\t\t\t\t</NcButton>\n\n\t\t\t\t\t<NcButton v-if=\"isAtLeastOneSelectedUnFavorite\"\n\t\t\t\t\t\ttype=\"tertiary\"\n\t\t\t\t\t\t:title=\"n('mail', 'Favorite {number}', 'Favorite {number}', selection.length, { number: selection.length })\"\n\t\t\t\t\t\t@click.prevent=\"unFavoriteAll\">\n\t\t\t\t\t\t<IconFavorite :size=\"20\" />\n\t\t\t\t\t</NcButton>\n\n\t\t\t\t\t<NcButton type=\"tertiary\"\n\t\t\t\t\t\t:title=\"n('mail', 'Unselect {number}', 'Unselect {number}', selection.length, { number: selection.length })\"\n\t\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t\t@click.prevent=\"unselectAll\">\n\t\t\t\t\t\t<IconSelect :size=\"20\" />\n\t\t\t\t\t</NcButton>\n\t\t\t\t\t<NcButton type=\"tertiary\"\n\t\t\t\t\t\t:title=\"n(\n\t\t\t\t\t\t\t'mail',\n\t\t\t\t\t\t\t'Delete {number} thread',\n\t\t\t\t\t\t\t'Delete {number} threads',\n\t\t\t\t\t\t\tselection.length,\n\t\t\t\t\t\t\t{ number: selection.length }\n\t\t\t\t\t\t)\"\n\t\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t\t@click.prevent=\"deleteAllSelected\">\n\t\t\t\t\t\t<IconDelete :size=\"20\" />\n\t\t\t\t\t</NcButton>\n\t\t\t\t</div>\n\n\t\t\t\t<Actions class=\"app-content-list-item-menu\" menu-align=\"right\">\n\t\t\t\t\t<ActionButton v-if=\"isAtLeastOneSelectedNotJunk\"\n\t\t\t\t\t\t@click.prevent=\"markSelectionJunk\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<AlertOctagonIcon :size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ n('mail', 'Mark {number} as spam', 'Mark {number} as spam', selection.length, { number: selection.length }) }}\n\t\t\t\t\t</ActionButton>\n\t\t\t\t\t<ActionButton v-if=\"isAtLeastOneSelectedJunk\"\n\t\t\t\t\t\t@click.prevent=\"markSelectionNotJunk\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<AlertOctagonIcon :size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ n('mail', 'Mark {number} as not spam', 'Mark {number} as not spam', selection.length, { number: selection.length }) }}\n\t\t\t\t\t</ActionButton>\n\t\t\t\t\t<ActionButton :close-after-click=\"true\" @click.prevent=\"onOpenTagModal\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<TagIcon :size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ n('mail', 'Edit tags for {number}', 'Edit tags for {number}', selection.length, { number: selection.length }) }}\n\t\t\t\t\t</ActionButton>\n\t\t\t\t\t<ActionButton v-if=\"!account.isUnified\" :close-after-click=\"true\" @click.prevent=\"onOpenMoveModal\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<OpenInNewIcon :size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ n('mail', 'Move {number} thread', 'Move {number} threads', selection.length, { number: selection.length }) }}\n\t\t\t\t\t</ActionButton>\n\t\t\t\t\t<ActionButton :close-after-click=\"true\" @click.prevent=\"forwardSelectedAsAttachment\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<ShareIcon :size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ n('mail', 'Forward {number} as attachment', 'Forward {number} as attachment', selection.length, { number: selection.length }) }}\n\t\t\t\t\t</ActionButton>\n\t\t\t\t</Actions>\n\t\t\t\t<MoveModal v-if=\"showMoveModal\"\n\t\t\t\t\t:account=\"account\"\n\t\t\t\t\t:envelopes=\"selectedEnvelopes\"\n\t\t\t\t\t:move-thread=\"true\"\n\t\t\t\t\t@close=\"onCloseMoveModal\" />\n\t\t\t</div>\n\t\t</transition>\n\n\t\t<transition-group :name=\"listTransitionName\">\n\t\t\t<Envelope v-for=\"(env, index) in sortedEnvelops\"\n\t\t\t\t:key=\"env.databaseId\"\n\t\t\t\t:data=\"env\"\n\t\t\t\t:mailbox=\"mailbox\"\n\t\t\t\t:selected=\"selection.includes(env.databaseId)\"\n\t\t\t\t:select-mode=\"selectMode\"\n\t\t\t\t:has-multiple-accounts=\"hasMultipleAccounts\"\n\t\t\t\t:selected-envelopes=\"selectedEnvelopes\"\n\t\t\t\t@delete=\"$emit('delete', env.databaseId)\"\n\t\t\t\t@update:selected=\"onEnvelopeSelectToggle(env, index, $event)\"\n\t\t\t\t@select-multiple=\"onEnvelopeSelectMultiple(env, index)\"\n\t\t\t\t@open:quick-actions-settings=\"showQuickActionsSettings = true\" />\n\t\t\t<div v-if=\"loadMoreButton && !loadingMore\"\n\t\t\t\t:key=\"'list-collapse-' + searchQuery\"\n\t\t\t\tclass=\"load-more\"\n\t\t\t\t@click=\"$emit('load-more')\">\n\t\t\t\t<AddIcon :size=\"16\" />\n\t\t\t\t{{ loadMoreLabel }}\n\t\t\t</div>\n\t\t\t<div id=\"load-more-mail-messages\" key=\"loadingMore\" :class=\"{'icon-loading-small': loadingMore}\" />\n\t\t</transition-group>\n\n\t\t<TagModal v-if=\"showTagModal\"\n\t\t\t:account=\"account\"\n\t\t\t:envelopes=\"selectedEnvelopes\"\n\t\t\t@close=\"onCloseTagModal\" />\n\n\t\t<NcDialog v-if=\"showQuickActionsSettings\"\n\t\t\t:name=\"t('mail', 'Manage quick actions')\"\n\t\t\t@closing=\"showQuickActionsSettings = false\">\n\t\t\t<Settings :account=\"account\" />\n\t\t</NcDialog>\n\t</div>\n</template>\n\n<script>\nimport { NcActions as Actions, NcActionButton as ActionButton, NcButton, NcDialog } from '@nextcloud/vue'\nimport { showError } from '@nextcloud/dialogs'\nimport Envelope from './Envelope.vue'\nimport IconDelete from 'vue-material-design-icons/TrashCanOutline.vue'\nimport ImportantOutlineIcon from 'vue-material-design-icons/LabelVariantOutline.vue'\nimport IconUnFavorite from 'vue-material-design-icons/StarOutline.vue'\nimport IconSelect from 'vue-material-design-icons/CloseThick.vue'\nimport AddIcon from 'vue-material-design-icons/Plus.vue'\nimport IconFavorite from 'vue-material-design-icons/Star.vue'\nimport logger from '../logger.js'\nimport MoveModal from './MoveModal.vue'\nimport { matchError } from '../errors/match.js'\nimport NoTrashMailboxConfiguredError\n\tfrom '../errors/NoTrashMailboxConfiguredError.js'\nimport { differenceWith } from 'ramda'\nimport dragEventBus from '../directives/drag-and-drop/util/dragEventBus.js'\nimport OpenInNewIcon from 'vue-material-design-icons/OpenInNew.vue'\nimport ShareIcon from 'vue-material-design-icons/ShareOutline.vue'\nimport AlertOctagonIcon from 'vue-material-design-icons/AlertOctagonOutline.vue'\nimport TagIcon from 'vue-material-design-icons/TagOutline.vue'\nimport TagModal from './TagModal.vue'\nimport Settings from '../components/quickActions/Settings.vue'\nimport EmailRead from 'vue-material-design-icons/EmailOpenOutline.vue'\nimport EmailUnread from 'vue-material-design-icons/EmailOutline.vue'\nimport useMainStore from '../store/mainStore.js'\nimport { mapStores } from 'pinia'\n\nexport default {\n\tname: 'EnvelopeList',\n\tcomponents: {\n\t\tIconUnFavorite,\n\t\tEmailUnread,\n\t\tEmailRead,\n\t\tActions,\n\t\tAddIcon,\n\t\tNcButton,\n\t\tNcDialog,\n\t\tActionButton,\n\t\tEnvelope,\n\t\tIconDelete,\n\t\tImportantOutlineIcon,\n\t\tIconFavorite,\n\t\tIconSelect,\n\t\tMoveModal,\n\t\tOpenInNewIcon,\n\t\tShareIcon,\n\t\tAlertOctagonIcon,\n\t\tTagIcon,\n\t\tTagModal,\n\t\tSettings,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tloadMoreLabel: {\n\t\t\ttype: String,\n\t\t\tdefault: t('mail', 'Load more'),\n\t\t},\n\t\tmailbox: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tenvelopes: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tsearchQuery: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: undefined,\n\t\t},\n\t\tloadingMore: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t\tloadMoreButton: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false,\n\t\t},\n\t\tskipTransition: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tselection: [],\n\t\t\tshowMoveModal: false,\n\t\t\tshowTagModal: false,\n\t\t\tlastToggledIndex: undefined,\n\t\t\tdefaultView: false,\n\t\t\tshowQuickActionsSettings: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t\tsortOrder() {\n\t\t\treturn this.mainStore.getPreference('sort-order', 'newest')\n\t\t},\n\t\tsortedEnvelops() {\n\t\t\tif (this.sortOrder === 'oldest') {\n\t\t\t\treturn [...this.envelopes].sort((a, b) => {\n\t\t\t\t\treturn a.dateInt < b.dateInt ? -1 : 1\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn [...this.envelopes]\n\t\t},\n\t\tselectMode() {\n\t\t\t// returns true when in selection mode (where the user selects several emails at once)\n\t\t\treturn this.selection.length > 0\n\t\t},\n\t\tisAtLeastOneSelectedRead() {\n\t\t\treturn this.selectedEnvelopes.some((env) => env.flags.seen === true)\n\t\t},\n\t\tisAtLeastOneSelectedUnread() {\n\t\t\treturn this.selectedEnvelopes.some((env) => env.flags.seen === false)\n\t\t},\n\t\tisAtLeastOneSelectedImportant() {\n\t\t\t// returns true if at least one selected message is marked as important\n\t\t\treturn this.selectedEnvelopes.some((env) => {\n\t\t\t\treturn this.mainStore\n\t\t\t\t\t.getEnvelopeTags(env.databaseId)\n\t\t\t\t\t.some((tag) => tag.imapLabel === '$label1')\n\t\t\t})\n\t\t},\n\t\tisAtLeastOneSelectedUnimportant() {\n\t\t\t// returns true if at least one selected message is not marked as important\n\t\t\treturn this.selectedEnvelopes.some((env) => {\n\t\t\t\treturn !this.mainStore\n\t\t\t\t\t.getEnvelopeTags(env.databaseId)\n\t\t\t\t\t.some((tag) => tag.imapLabel === '$label1')\n\t\t\t})\n\t\t},\n\t\tisAtLeastOneSelectedJunk() {\n\t\t\t// returns true if at least one selected message is marked as junk\n\t\t\treturn this.selectedEnvelopes.some((env) => {\n\t\t\t\treturn env.flags.$junk\n\t\t\t})\n\t\t},\n\t\tisAtLeastOneSelectedNotJunk() {\n\t\t\t// returns true if at least one selected message is not marked as not junk\n\t\t\treturn this.selectedEnvelopes.some((env) => {\n\t\t\t\treturn !env.flags.$junk\n\t\t\t})\n\t\t},\n\t\tisAtLeastOneSelectedFavorite() {\n\t\t\treturn this.selectedEnvelopes.some((env) => env.flags.flagged)\n\t\t},\n\t\tisAtLeastOneSelectedUnFavorite() {\n\t\t\treturn this.selectedEnvelopes.some((env) => !env.flags.flagged)\n\t\t},\n\t\tselectedEnvelopes() {\n\t\t\treturn this.sortedEnvelops.filter((env) => this.selection.includes(env.databaseId))\n\t\t},\n\t\thasMultipleAccounts() {\n\t\t\tconst mailboxIds = this.sortedEnvelops.map(envelope => envelope.mailboxId)\n\t\t\treturn Array.from(new Set(mailboxIds)).length > 1\n\t\t},\n\t\tlistTransitionName() {\n\t\t\treturn this.skipTransition ? 'disabled' : 'list'\n\t\t},\n\t},\n\twatch: {\n\t\tsortedEnvelops(newVal, oldVal) {\n\t\t\t// Unselect vanished envelopes\n\t\t\tconst newIds = newVal.map((env) => env.databaseId)\n\t\t\tthis.selection = this.selection.filter((id) => newIds.includes(id))\n\t\t\tdifferenceWith((a, b) => a.databaseId === b.databaseId, oldVal, newVal)\n\t\t\t\t.forEach((env) => {\n\t\t\t\t\tenv.flags.selected = false\n\t\t\t\t})\n\t\t},\n\t},\n\tmounted() {\n\t\tdragEventBus.on('envelopes-dropped', this.unselectAll)\n\t},\n\tbeforeDestroy() {\n\t\tdragEventBus.off('envelopes-dropped', this.unselectAll)\n\t},\n\tmethods: {\n\t\tisEnvelopeSelected(idx) {\n\t\t\tif (this.selection.length === 0) {\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\treturn this.selection.includes(idx)\n\t\t},\n\t\tmarkSelectedRead() {\n\t\t\tthis.selectedEnvelopes.forEach((envelope) => {\n\t\t\t\tthis.mainStore.toggleEnvelopeSeen({\n\t\t\t\t\tenvelope,\n\t\t\t\t\tseen: true,\n\t\t\t\t})\n\t\t\t})\n\t\t\tthis.unselectAll()\n\t\t},\n\t\tmarkSelectedUnread() {\n\t\t\tthis.selectedEnvelopes.forEach((envelope) => {\n\t\t\t\tthis.mainStore.toggleEnvelopeSeen({\n\t\t\t\t\tenvelope,\n\t\t\t\t\tseen: false,\n\t\t\t\t})\n\t\t\t})\n\t\t\tthis.unselectAll()\n\t\t},\n\t\tmarkSelectionImportant() {\n\t\t\tthis.selectedEnvelopes.forEach((envelope) => {\n\t\t\t\tthis.mainStore.markEnvelopeImportantOrUnimportant({\n\t\t\t\t\tenvelope,\n\t\t\t\t\taddTag: true,\n\t\t\t\t})\n\t\t\t})\n\t\t\tthis.unselectAll()\n\t\t},\n\t\tmarkSelectionUnimportant() {\n\t\t\tthis.selectedEnvelopes.forEach((envelope) => {\n\t\t\t\tthis.mainStore.markEnvelopeImportantOrUnimportant({\n\t\t\t\t\tenvelope,\n\t\t\t\t\taddTag: false,\n\t\t\t\t})\n\t\t\t})\n\t\t\tthis.unselectAll()\n\t\t},\n\t\tasync markSelectionJunk() {\n\t\t\tfor (const envelope of this.selectedEnvelopes) {\n\t\t\t\tif (!envelope.flags.$junk) {\n\t\t\t\t\tawait this.mainStore.toggleEnvelopeJunk({\n\t\t\t\t\t\tenvelope,\n\t\t\t\t\t\tremoveEnvelope: await this.mainStore.moveEnvelopeToJunk(envelope),\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.unselectAll()\n\t\t},\n\t\tasync markSelectionNotJunk() {\n\t\t\tfor (const envelope of this.selectedEnvelopes) {\n\t\t\t\tif (envelope.flags.$junk) {\n\t\t\t\t\tawait this.mainStore.toggleEnvelopeJunk({\n\t\t\t\t\t\tenvelope,\n\t\t\t\t\t\tremoveEnvelope: await this.mainStore.moveEnvelopeToJunk(envelope),\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.unselectAll()\n\t\t},\n\t\tfavoriteAll() {\n\t\t\tconst favFlag = !this.isAtLeastOneSelectedUnFavorite\n\t\t\tthis.selectedEnvelopes.forEach((envelope) => {\n\t\t\t\tthis.mainStore.markEnvelopeFavoriteOrUnfavorite({\n\t\t\t\t\tenvelope,\n\t\t\t\t\tfavFlag,\n\t\t\t\t})\n\t\t\t})\n\t\t\tthis.unselectAll()\n\t\t},\n\t\tunFavoriteAll() {\n\t\t\tconst favFlag = !this.isAtLeastOneSelectedFavorite\n\t\t\tthis.selectedEnvelopes.forEach((envelope) => {\n\t\t\t\tthis.mainStore.markEnvelopeFavoriteOrUnfavorite({\n\t\t\t\t\tenvelope,\n\t\t\t\t\tfavFlag,\n\t\t\t\t})\n\t\t\t})\n\t\t\tthis.unselectAll()\n\t\t},\n\t\tasync deleteAllSelected() {\n\t\t\tlet nextEnvelopeToNavigate\n\t\t\tlet isAllSelected\n\n\t\t\tif (this.selectedEnvelopes.length === this.sortedEnvelops.length) {\n\t\t\t\tisAllSelected = true\n\t\t\t} else {\n\t\t\t\tconst indexSelectedEnvelope = this.selectedEnvelopes.findIndex((selectedEnvelope) =>\n\t\t\t\t\tselectedEnvelope.databaseId === this.$route.params.threadId)\n\n\t\t\t\t// one of threads is selected\n\t\t\t\tif (indexSelectedEnvelope !== -1) {\n\t\t\t\t\tconst lastSelectedEnvelope = this.selectedEnvelopes[this.selectedEnvelopes.length - 1]\n\t\t\t\t\tconst diff = this.sortedEnvelops.filter(envelope => envelope === lastSelectedEnvelope || !this.selectedEnvelopes.includes(envelope))\n\t\t\t\t\tconst lastIndex = diff.indexOf(lastSelectedEnvelope)\n\t\t\t\t\tnextEnvelopeToNavigate = diff[lastIndex === 0 ? 1 : lastIndex - 1]\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tawait Promise.all(this.selectedEnvelopes.map(async (envelope) => {\n\t\t\t\tlogger.info(`deleting thread ${envelope.threadRootId}`)\n\t\t\t\tawait this.mainStore.deleteThread({\n\t\t\t\t\tenvelope,\n\t\t\t\t})\n\t\t\t})).catch(async error => {\n\t\t\t\tshowError(await matchError(error, {\n\t\t\t\t\t[NoTrashMailboxConfiguredError.getName()]() {\n\t\t\t\t\t\treturn t('mail', 'No trash folder configured')\n\t\t\t\t\t},\n\t\t\t\t\tdefault(error) {\n\t\t\t\t\t\tlogger.error('could not delete message', error)\n\t\t\t\t\t\treturn t('mail', 'Could not delete message')\n\t\t\t\t\t},\n\t\t\t\t}))\n\t\t\t})\n\t\t\tif (nextEnvelopeToNavigate) {\n\t\t\t\tawait this.$router.push({\n\t\t\t\t\tname: 'message',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tmailboxId: this.$route.params.mailboxId,\n\t\t\t\t\t\tthreadId: nextEnvelopeToNavigate.databaseId,\n\t\t\t\t\t},\n\t\t\t\t})\n\n\t\t\t\t// Get new messages\n\t\t\t\tawait this.mainStore.fetchNextEnvelopes({\n\t\t\t\t\tmailboxId: this.mailbox.databaseId,\n\t\t\t\t\tquery: this.searchQuery,\n\t\t\t\t\tquantity: this.selectedEnvelopes.length,\n\t\t\t\t})\n\t\t\t} else if (isAllSelected) {\n\t\t\t\tawait this.$router.push({\n\t\t\t\t\tname: 'mailbox',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tmailboxId: this.$route.params.mailboxId,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t}\n\t\t\tthis.unselectAll()\n\t\t},\n\t\tsetEnvelopeSelected(envelope, selected) {\n\t\t\tconst alreadySelected = this.selection.includes(envelope.databaseId)\n\t\t\tif (selected && !alreadySelected) {\n\t\t\t\tenvelope.flags.selected = true\n\t\t\t\tthis.selection.push(envelope.databaseId)\n\t\t\t} else if (!selected && alreadySelected) {\n\t\t\t\tenvelope.flags.selected = false\n\t\t\t\tthis.selection.splice(this.selection.indexOf(envelope.databaseId), 1)\n\t\t\t}\n\t\t},\n\t\tonEnvelopeSelectToggle(envelope, index, selected) {\n\t\t\tthis.lastToggledIndex = index\n\t\t\tthis.setEnvelopeSelected(envelope, selected)\n\t\t},\n\t\tonEnvelopeSelectMultiple(envelope, index) {\n\t\t\tconst lastToggledIndex = this.lastToggledIndex\n\t\t\t\t?? this.findSelectionIndex(parseInt(this.$route.params.threadId))\n\t\t\t\t?? undefined\n\t\t\tif (lastToggledIndex === undefined) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst start = Math.min(lastToggledIndex, index)\n\t\t\tconst end = Math.max(lastToggledIndex, index)\n\t\t\tconst selected = this.selection.includes(envelope.databaseId)\n\t\t\tfor (let i = start; i <= end; i++) {\n\t\t\t\tthis.setEnvelopeSelected(this.sortedEnvelops[i], !selected)\n\t\t\t}\n\t\t\tthis.lastToggledIndex = index\n\t\t},\n\t\tunselectAll() {\n\t\t\tthis.sortedEnvelops.forEach((env) => {\n\t\t\t\tenv.flags.selected = false\n\t\t\t})\n\t\t\tthis.selection = []\n\t\t},\n\t\tonOpenMoveModal() {\n\t\t\tthis.showMoveModal = true\n\t\t},\n\t\tonOpenTagModal() {\n\t\t\tthis.showTagModal = true\n\t\t},\n\t\tonCloseTagModal() {\n\t\t\tthis.showTagModal = false\n\t\t},\n\t\tasync forwardSelectedAsAttachment() {\n\t\t\tawait this.mainStore.startComposerSession({\n\t\t\t\tforwardedMessages: [...this.selection],\n\t\t\t})\n\t\t\tthis.unselectAll()\n\t\t},\n\t\tonCloseMoveModal() {\n\t\t\tthis.showMoveModal = false\n\t\t\tthis.unselectAll()\n\t\t},\n\t\t/**\n\t\t * Find the envelope list index of a given envelope's database id.\n\t\t *\n\t\t * @param {number} databaseId of the given envelope\n\t\t * @return {number|undefined} Index or undefined if not found in the envelope list\n\t\t */\n\t\tfindSelectionIndex(databaseId) {\n\t\t\tfor (const [index, envelope] of this.sortedEnvelops.entries()) {\n\t\t\t\tif (envelope.databaseId === databaseId) {\n\t\t\t\t\treturn index\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn undefined\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\ndiv {\n\t// So we can align the loading spinner in the Priority inbox\n\tposition: relative;\n}\n\n.load-more {\n\ttext-align: center;\n\tmargin-top: 10px;\n\tcursor: pointer;\n\tmargin-inline-start: 28px;\n\tcolor: var(--color-text-maxcontrast);\n\tdisplay: inline-flex;\n\tgap: 12px;\n\t.plus-icon{\n\t\ttransform: translateX(-8px);\n\t}\n}\n\n.multiselect-header {\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tjustify-content: center;\n\tbackground-color: var(--color-main-background-translucent);\n\tposition: sticky;\n\ttop: 0;\n\theight: 48px;\n\tz-index: 100;\n\t.action-buttons {\n\t\tdisplay: flex;\n\t}\n}\n\n#load-more-mail-messages {\n\tbackground-position: 9px center;\n}\n\n.multiselect-header-enter-active,\n.multiselect-header-leave-active,\n.list-enter-active,\n.list-leave-active {\n\ttransition: all calc(var(--animation-slow) / 2);\n}\n\n.multiselect-header-enter,\n.multiselect-header-leave-to,\n.list-enter,\n.list-leave-to {\n\topacity: 0;\n\theight: 0;\n\ttransform: scaleY(0);\n}\n\n#action-label {\n\tvertical-align: middle;\n}\n@media only screen and (min-width: 600px) {\n\t#action-label {\n\t\tdisplay: block;\n\t}\n}\n\n:deep(.button-vue--text-only) {\n\tpadding: 0 !important;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EnvelopeList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EnvelopeList.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EnvelopeList.vue?vue&type=style&index=0&id=78a42752&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EnvelopeList.vue?vue&type=style&index=0&id=78a42752&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./EnvelopeList.vue?vue&type=template&id=78a42752&scoped=true\"\nimport script from \"./EnvelopeList.vue?vue&type=script&lang=js\"\nexport * from \"./EnvelopeList.vue?vue&type=script&lang=js\"\nimport style0 from \"./EnvelopeList.vue?vue&type=style&index=0&id=78a42752&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"78a42752\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingSkeleton.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingSkeleton.vue?vue&type=script&lang=js\"","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div>\n\t\t<div v-for=\"i in numberOfLines\" :key=\"i\" class=\"item-list__entry\">\n\t\t\t<div v-if=\"withAvatar\"\n\t\t\t\tclass=\"item-avatar\" />\n\t\t\t<div class=\"item__details\">\n\t\t\t\t<h3>&nbsp;</h3>\n\t\t\t\t<p class=\"message\">\n\t\t\t\t\t&nbsp;\n\t\t\t\t</p>\n\t\t\t\t<p class=\"message-preview\">\n\t\t\t\t\t&nbsp;\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\nexport default {\n\tname: 'LoadingSkeleton',\n\tprops: {\n\t\tnumberOfLines: {\n\t\t\ttype: Number,\n\t\t\tdefault: 10,\n\t\t},\n\t\twithAvatar: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n/* skeleton */\n.item-list__entry {\n\tdisplay: flex;\n\talign-items: flex-start;\n\tpadding: 8px;\n\t.item-avatar {\n\t\tposition: relative;\n\t\ttop: 4px;\n\t\tborder-radius: 50px;\n\t\twidth: 44px;\n\t\theight: 44px;\n\t\tbackground: linear-gradient(-45deg, var(--color-background-hover), var(--color-background-dark), var(--color-background-darker), var(--color-placeholder-light));\n\t\tbackground-size: 400% 400%;\n\t\tanimation: gradient 3s ease-in infinite;\n\t}\n\t.item__details {\n\t\tpadding-inline-start: 8px;\n\t\tmax-height: 70px;\n\t\tflex-grow: 1;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\th3,\n\t\t.message.message-preview {\n\t\t\twhite-space: nowrap;\n\t\t\tbackground-color: var(--color-background-hover);\n\t\t}\n\t\th3 {\n\t\t\tfont-size: 100%;\n\t\t\tmargin: 0;\n\t\t\tbackground: linear-gradient(-45deg, var(--color-background-hover), var(--color-background-dark), var(--color-background-darker), var(--color-placeholder-light));\n\t\t\tbackground-size: 400% 400%;\n\t\t\tanimation: gradient 3s ease-in infinite;\n\t\t\twidth: 40%;\n\t\t\theight: 15px;\n\t\t}\n\t\t.message-preview {\n\t\t\twidth: 100%;\n\t\t\theight: 15px;\n\t\t\tmargin-top: 5px;\n\t\t\tbackground: linear-gradient(-45deg, var(--color-background-hover), var(--color-background-dark), var(--color-background-darker), var(--color-placeholder-light));\n\t\t\tbackground-size: 400% 400%;\n\t\t\tanimation: gradient 3s ease-in infinite;\n\t\t}\n\t\t.message {\n\t\t\twidth: 70%;\n\t\t\theight: 15px;\n\t\t\tmargin-top: 5px;\n\t\t\tbackground: linear-gradient(-45deg, var(--color-background-hover), var(--color-background-dark), var(--color-background-darker), var(--color-placeholder-light));\n\t\t\tbackground-size: 400% 400%;\n\t\t\tanimation: gradient 3s ease-in infinite;\n\t\t}\n\t}\n\t@keyframes gradient {\n\t\t0% {\n\t\t\tbackground-position: 0% 50%;\n\t\t}\n\t\t50% {\n\t\t\tbackground-position: 100% 50%;\n\t\t}\n\t\t100% {\n\t\t\tbackground-position: 0% 50%;\n\t\t}\n\t}\n}\n\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingSkeleton.vue?vue&type=style&index=0&id=42cebb20&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingSkeleton.vue?vue&type=style&index=0&id=42cebb20&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./LoadingSkeleton.vue?vue&type=template&id=42cebb20&scoped=true\"\nimport script from \"./LoadingSkeleton.vue?vue&type=script&lang=js\"\nexport * from \"./LoadingSkeleton.vue?vue&type=script&lang=js\"\nimport style0 from \"./LoadingSkeleton.vue?vue&type=style&index=0&id=42cebb20&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"42cebb20\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',_vm._l((_vm.numberOfLines),function(i){return _c('div',{key:i,staticClass:\"item-list__entry\"},[(_vm.withAvatar)?_c('div',{staticClass:\"item-avatar\"}):_vm._e(),_vm._v(\" \"),_vm._m(0,true)])}),0)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"item__details\"},[_c('h3',[_vm._v(\" \")]),_vm._v(\" \"),_c('p',{staticClass:\"message\"},[_vm._v(\"\\n\\t\\t\\t\\t \\n\\t\\t\\t\")]),_vm._v(\" \"),_c('p',{staticClass:\"message-preview\"},[_vm._v(\"\\n\\t\\t\\t\\t \\n\\t\\t\\t\")])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('NcEmptyContent',{staticClass:\"mail-error\",class:{ 'mail-error--auto-margin': _vm.autoMargin },attrs:{\"name\":_vm.error,\"description\":_vm.message},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('AlertCircleIcon')]},proxy:true},(_vm.data && _vm.data.debug)?{key:\"action\",fn:function(){return [_c('NcButton',{attrs:{\"aria-label\":_vm.t('mail', 'Report this bug'),\"href\":_vm.reportUrl}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Report this bug'))+\"\\n\\t\\t\")])]},proxy:true}:null],null,true)})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<NcEmptyContent :name=\"error\"\n\t\t:description=\"message\"\n\t\tclass=\"mail-error\"\n\t\t:class=\"{ 'mail-error--auto-margin': autoMargin }\">\n\t\t<template #icon>\n\t\t\t<AlertCircleIcon />\n\t\t</template>\n\t\t<template v-if=\"data && data.debug\" #action>\n\t\t\t<NcButton :aria-label=\"t('mail', 'Report this bug')\"\n\t\t\t\t:href=\"reportUrl\">\n\t\t\t\t{{ t('mail', 'Report this bug') }}\n\t\t\t</NcButton>\n\t\t</template>\n\t</NcEmptyContent>\n</template>\n\n<script>\nimport { getReportUrl } from '../util/CrashReport.js'\nimport NcEmptyContent from '@nextcloud/vue/components/NcEmptyContent'\nimport NcButton from '@nextcloud/vue/components/NcButton'\nimport AlertCircleIcon from 'vue-material-design-icons/AlertCircleOutline.vue'\n\nexport default {\n\tname: 'Error',\n\tcomponents: {\n\t\tNcEmptyContent,\n\t\tNcButton,\n\t\tAlertCircleIcon,\n\t},\n\tprops: {\n\t\terror: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tmessage: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tdata: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => undefined,\n\t\t},\n\t\tautoMargin: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tcomputed: {\n\t\treportUrl() {\n\t\t\treturn getReportUrl(this.data)\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.mail-error {\n\theight: 100%;\n\tdisplay: flex;\n\t&--auto-margin {\n\t\tmargin: auto 0;\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Error.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Error.vue?vue&type=script&lang=js\"","/**\n * SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport IssueTemplateBuilder from 'nextcloud_issuetemplate_builder'\n\nconst flattenError = (error) => {\n\tlet text = ''\n\tif (error.type) {\n\t\ttext += error.type + ': '\n\t}\n\ttext += error.message\n\ttext += '\\n'\n\tif (error.trace) {\n\t\ttext += flattenTrace(error.trace)\n\t}\n\tif (error.stack) {\n\t\ttext += error.stack\n\t}\n\treturn text\n}\n\nconst flattenTrace = (trace) => {\n\treturn trace.reduce(function(acc, entry) {\n\t\tlet text = ''\n\t\tif (entry.class) {\n\t\t\ttext += '  at ' + entry.class + '::' + entry.function\n\t\t} else {\n\t\t\ttext += '  at ' + entry.function\n\t\t}\n\t\tif (entry.file) {\n\t\t\ttext += '\\n     ' + entry.file + ', line ' + entry.line\n\t\t}\n\t\treturn acc + text + '\\n'\n\t}, '')\n}\n\nexport const getReportUrl = (error) => {\n\tconsole.error(error)\n\tlet message = error.message || 'An unkown error occurred.'\n\tif (!message.endsWith('.')) {\n\t\tmessage += '.'\n\t}\n\tconst builder = new IssueTemplateBuilder()\n\tconst template = builder\n\t\t.addEmptyStepsToReproduce()\n\t\t.addExpectedActualBehaviour()\n\t\t.addLogs('Error', flattenError(error))\n\t\t.render()\n\n\treturn (\n\t\t'https://github.com/nextcloud/mail/issues/new'\n\t\t+ '?title='\n\t\t+ encodeURIComponent(message)\n\t\t+ '&body='\n\t\t+ encodeURIComponent(template)\n\t)\n}\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Error.vue?vue&type=style&index=0&id=3011b3b6&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Error.vue?vue&type=style&index=0&id=3011b3b6&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Error.vue?vue&type=template&id=3011b3b6&scoped=true\"\nimport script from \"./Error.vue?vue&type=script&lang=js\"\nexport * from \"./Error.vue?vue&type=script&lang=js\"\nimport style0 from \"./Error.vue?vue&type=style&index=0&id=3011b3b6&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3011b3b6\",\n  null\n  \n)\n\nexport default component.exports","<!--\n  - SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div class=\"wrapper\">\n\t\t<EmptyContent v-if=\"hint\"\n\t\t\tclass=\"empty-content\"\n\t\t\t:name=\"hint\">\n\t\t\t<template #icon>\n\t\t\t\t<IconLoading />\n\t\t\t</template>\n\t\t\t<transition name=\"fade\">\n\t\t\t\t<em v-if=\"slowHint && slow\">{{ slowHint }}</em>\n\t\t\t</transition>\n\t\t</EmptyContent>\n\t\t<IconLoading v-else class=\"container\" />\n\t</div>\n</template>\n\n<script>\nimport { NcLoadingIcon as IconLoading, NcEmptyContent as EmptyContent } from '@nextcloud/vue'\nexport default {\n\tname: 'Loading',\n\tcomponents: {\n\t\tIconLoading,\n\t\tEmptyContent,\n\t},\n\tprops: {\n\t\thint: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t\trequired: false,\n\t\t},\n\t\tslowHint: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t\trequired: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tslow: false,\n\t\t\tslowTimer: undefined,\n\t\t}\n\t},\n\tmounted() {\n\t\tclearTimeout(this.slowTimer)\n\n\t\tthis.slowTimer = setTimeout(() => {\n\t\t\tthis.slow = true\n\t\t}, 3500)\n\t},\n\tbeforeDestroy() {\n\t\tclearTimeout(this.slowTimer)\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.fade-enter-active,\n.fade-leave-active {\n\ttransition: opacity 0.5s;\n}\n\n.fade-enter,\n.fade-leave-to {\n\topacity: 0;\n}\n\n.empty-content {\n\theight: 100%;\n\tdisplay: flex;\n}\n\n.wrapper {\n\tdisplay: flex;\n\tjustify-content: center;\n\tflex-direction: column;\n\tflex: 1 auto;\n\talign-items: center;\n\theight: 100vh;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=style&index=0&id=25fa7340&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=style&index=0&id=25fa7340&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Loading.vue?vue&type=template&id=25fa7340&scoped=true\"\nimport script from \"./Loading.vue?vue&type=script&lang=js\"\nexport * from \"./Loading.vue?vue&type=script&lang=js\"\nimport style0 from \"./Loading.vue?vue&type=style&index=0&id=25fa7340&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"25fa7340\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"wrapper\"},[(_vm.hint)?_c('EmptyContent',{staticClass:\"empty-content\",attrs:{\"name\":_vm.hint},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconLoading')]},proxy:true}],null,false,3686341390)},[_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.slowHint && _vm.slow)?_c('em',[_vm._v(_vm._s(_vm.slowHint))]):_vm._e()])],1):_c('IconLoading',{staticClass:\"container\"})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<NcEmptyContent class=\"empty-content\" :name=\"t('mail', 'No messages')\">\n\t\t<template #icon>\n\t\t\t<IconMail />\n\t\t</template>\n\t</NcEmptyContent>\n</template>\n\n<script>\nimport IconMail from 'vue-material-design-icons/EmailOutline.vue'\nimport NcEmptyContent from '@nextcloud/vue/components/NcEmptyContent'\nexport default {\n\tname: 'EmptyMailboxSection',\n\tcomponents: {\n\t\tIconMail,\n\t\tNcEmptyContent,\n\t},\n}\n</script>\n<style lang=\"scss\" scoped>\n.empty-content {\n\theight: 100%;\n\tdisplay: flex;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmptyMailboxSection.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmptyMailboxSection.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmptyMailboxSection.vue?vue&type=style&index=0&id=0d4d556e&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmptyMailboxSection.vue?vue&type=style&index=0&id=0d4d556e&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./EmptyMailboxSection.vue?vue&type=template&id=0d4d556e&scoped=true\"\nimport script from \"./EmptyMailboxSection.vue?vue&type=script&lang=js\"\nexport * from \"./EmptyMailboxSection.vue?vue&type=script&lang=js\"\nimport style0 from \"./EmptyMailboxSection.vue?vue&type=style&index=0&id=0d4d556e&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0d4d556e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Mailbox.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Mailbox.vue?vue&type=script&lang=js\"","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div :class=\"{'empty-content': (!hasMessages && !loadingEnvelopes) || error}\">\n\t\t<Error v-if=\"error\"\n\t\t\t:error=\"t('mail', 'Could not open folder')\"\n\t\t\tmessage=\"\"\n\t\t\trole=\"alert\" />\n\t\t<LoadingSkeleton v-else-if=\"loadingEnvelopes\" :number-of-lines=\"20\" />\n\t\t<Loading v-else-if=\"loadingCacheInitialization\"\n\t\t\t:hint=\"t('mail', 'Loading messages …')\"\n\t\t\t:slow-hint=\"t('mail', 'Indexing your messages. This can take a bit longer for larger folders.')\" />\n\t\t<EmptyMailboxSection v-else-if=\"isPriorityInbox && !hasMessages\" key=\"empty\" />\n\t\t<EmptyMailbox v-else-if=\"!hasMessages\" key=\"empty\" />\n\t\t<template v-else-if=\"hasGroupedEnvelopes && !isPriorityInbox\">\n\t\t\t<div v-for=\"[label, group] in Object.entries(groupEnvelopes)\" :key=\"label\">\n\t\t\t\t<SectionTitle class=\"section-title\" :name=\"getLabelForGroup(label)\" />\n\t\t\t\t<EnvelopeList :account=\"account\"\n\t\t\t\t\t:mailbox=\"mailbox\"\n\t\t\t\t\t:search-query=\"searchQuery\"\n\t\t\t\t\t:envelopes=\"group\"\n\t\t\t\t\t:loading-more=\"false\"\n\t\t\t\t\t:load-more-button=\"false\"\n\t\t\t\t\t:skip-transition=\"skipListTransition\"\n\t\t\t\t\t@delete=\"onDelete\" />\n\t\t\t</div>\n\t\t</template>\n\t\t<EnvelopeList v-else\n\t\t\t:account=\"account\"\n\t\t\t:load-more-label=\"loadMoreLabel\"\n\t\t\t:mailbox=\"mailbox\"\n\t\t\t:search-query=\"searchQuery\"\n\t\t\t:envelopes=\"envelopesToShow\"\n\t\t\t:loading-more=\"loadingMore\"\n\t\t\t:load-more-button=\"showLoadMore\"\n\t\t\t:skip-transition=\"skipListTransition\"\n\t\t\t@delete=\"onDelete\"\n\t\t\t@load-more=\"loadMore\" />\n\t</div>\n</template>\n\n<script>\nimport EmptyMailbox from './EmptyMailbox.vue'\nimport SectionTitle from './SectionTitle.vue'\nimport EnvelopeList from './EnvelopeList.vue'\nimport LoadingSkeleton from './LoadingSkeleton.vue'\nimport Error from './Error.vue'\nimport { findIndex, propEq } from 'ramda'\nimport isMobile from '@nextcloud/vue/dist/Mixins/isMobile.js'\nimport Loading from './Loading.vue'\nimport logger from '../logger.js'\nimport MailboxLockedError from '../errors/MailboxLockedError.js'\nimport MailboxNotCachedError from '../errors/MailboxNotCachedError.js'\nimport { matchError } from '../errors/match.js'\nimport { wait } from '../util/wait.js'\nimport { mailboxHasRights } from '../util/acl.js'\nimport EmptyMailboxSection from './EmptyMailboxSection.vue'\nimport { showError, showWarning } from '@nextcloud/dialogs'\nimport NoTrashMailboxConfiguredError\n\tfrom '../errors/NoTrashMailboxConfiguredError.js'\nimport { mapStores } from 'pinia'\nimport useMainStore from '../store/mainStore.js'\n\nexport default {\n\tname: 'Mailbox',\n\tcomponents: {\n\t\tEmptyMailboxSection,\n\t\tEmptyMailbox,\n\t\tEnvelopeList,\n\t\tError,\n\t\tLoading,\n\t\tLoadingSkeleton,\n\t\tSectionTitle,\n\t},\n\tmixins: [isMobile],\n\tprops: {\n\t\tgroupEnvelopes: {\n\t\t\ttype: Object,\n\t\t\trequired: false,\n\t\t\tdefault: null,\n\t\t},\n\t\tloadMoreLabel: {\n\t\t\ttype: String,\n\t\t\tdefault: undefined,\n\t\t},\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tmailbox: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tbus: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tpaginate: {\n\t\t\ttype: String,\n\t\t\tdefault: 'scroll',\n\t\t},\n\t\tinitialPageSize: {\n\t\t\ttype: Number,\n\t\t\tdefault: 20,\n\t\t},\n\t\tsearchQuery: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: undefined,\n\t\t},\n\t\tisPriorityInbox: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\terror: false,\n\t\t\trefreshing: false,\n\t\t\tloadingMore: false,\n\t\t\tloadingEnvelopes: false,\n\t\t\tloadingCacheInitialization: false,\n\t\t\tloadMailboxInterval: undefined,\n\t\t\texpanded: false,\n\t\t\tendReached: false,\n\t\t\tsyncedMailboxes: new Set(),\n\t\t\tskipListTransition: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t\tsortOrder() {\n\t\t\treturn this.mainStore.getPreference('sort-order', 'newest')\n\t\t},\n\t\tenvelopes() {\n\t\t\treturn this.mainStore.getEnvelopes(this.mailbox.databaseId, this.searchQuery)\n\t\t},\n\t\tenvelopesToShow() {\n\t\t\tif (this.paginate === 'manual' && !this.expanded) {\n\t\t\t\treturn this.envelopes.slice(0, this.initialPageSize)\n\t\t\t}\n\t\t\treturn this.envelopes\n\t\t},\n\t\thasGroupedEnvelopes() {\n\t\t\treturn this.groupEnvelopes && Object.keys(this.groupEnvelopes).length > 0\n\t\t},\n\t\thasMessages() {\n\t\t\tif (this.hasGroupedEnvelopes) {\n\t\t\t\treturn Object.values(this.groupEnvelopes).some(group => group.length > 0)\n\t\t\t}\n\t\t\treturn this.envelopesToShow?.length > 0\n\t\t},\n\t\tshowLoadMore() {\n\t\t\treturn !this.endReached && this.paginate === 'manual'\n\t\t},\n\t},\n\twatch: {\n\t\tmailbox() {\n\t\t\tthis.loadEnvelopes()\n\t\t\t\t.then(() => {\n\t\t\t\t\tlogger.debug(`syncing mailbox ${this.mailbox.databaseId} (${this.query}) after folder change`)\n\t\t\t\t\tthis.sync(false)\n\t\t\t\t})\n\t\t},\n\t\tsearchQuery() {\n\t\t\tthis.loadEnvelopes()\n\t\t},\n\t\tsortOrder() {\n\t\t\tthis.loadEnvelopes()\n\t\t},\n\t},\n\tcreated() {\n\t\tthis.bus.on('load-more', this.onScroll)\n\t\tthis.bus.on('delete', this.onDelete)\n\t\tthis.bus.on('archive', this.onArchive)\n\t\tthis.bus.on('shortcut', this.handleShortcut)\n\t\tthis.loadMailboxInterval = setInterval(this.loadMailbox, 60000)\n\t},\n\tasync mounted() {\n\t\tif (this.mainStore.hasFetchedInitialEnvelopes) {\n\t\t\treturn\n\t\t}\n\n\t\tawait this.loadEnvelopes()\n\t\tlogger.debug(`syncing folder ${this.mailbox.databaseId} (${this.searchQuery}) after mount`)\n\t\tawait this.sync(false)\n\n\t\tawait this.prefetchOtherMailboxes()\n\n\t\tthis.mainStore.setHasFetchedInitialEnvelopesMutation(true)\n\t},\n\tdestroyed() {\n\t\tthis.bus.off('load-more', this.onScroll)\n\t\tthis.bus.off('delete', this.onDelete)\n\t\tthis.bus.off('archive', this.onArchive)\n\t\tthis.bus.off('shortcut', this.handleShortcut)\n\t\tthis.stopInterval()\n\t},\n\tmethods: {\n\t\tinitializeCache() {\n\t\t\tthis.loadingCacheInitialization = true\n\t\t\tthis.error = false\n\n\t\t\tlogger.debug(`syncing folder ${this.mailbox.databaseId} (${this.query}) during cache initalization`)\n\t\t\tthis.sync(true)\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.loadingCacheInitialization = false\n\n\t\t\t\t\treturn this.loadEnvelopes()\n\t\t\t\t})\n\t\t},\n\t\tasync loadEnvelopes() {\n\t\t\tlogger.debug(`Fetching envelopes for folder ${this.mailbox.databaseId} (${this.searchQuery})`, this.mailbox)\n\t\t\tif (!this.syncedMailboxes.has(this.mailbox.databaseId)) {\n\t\t\t\t// Only trigger skeleton if we didn't sync envelopes yet\n\t\t\t\tthis.loadingEnvelopes = true\n\t\t\t} else {\n\t\t\t\tthis.skipListTransition = true\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tthis.skipListTransition = false\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tthis.loadingCacheInitialization = false\n\t\t\tthis.error = false\n\n\t\t\ttry {\n\t\t\t\tconst envelopes = await this.mainStore.fetchEnvelopes({\n\t\t\t\t\tmailboxId: this.mailbox.databaseId,\n\t\t\t\t\tquery: this.searchQuery,\n\t\t\t\t\tlimit: this.initialPageSize,\n\t\t\t\t})\n\n\t\t\t\tlogger.debug(envelopes.length + ' envelopes fetched', { envelopes })\n\n\t\t\t\tthis.syncedMailboxes.add(this.mailbox.databaseId)\n\t\t\t\tthis.loadingEnvelopes = false\n\t\t\t} catch (error) {\n\t\t\t\tawait matchError(error, {\n\t\t\t\t\t[MailboxLockedError.getName()]: async (error) => {\n\t\t\t\t\t\tlogger.info(`Mailbox ${this.mailbox.databaseId} (${this.searchQuery}) is locked`, { error })\n\t\t\t\t\t\tawait wait(15 * 1000)\n\t\t\t\t\t\t// Keep trying\n\t\t\t\t\t\tawait this.loadEnvelopes()\n\t\t\t\t\t},\n\t\t\t\t\t[MailboxNotCachedError.getName()]: async (error) => {\n\t\t\t\t\t\tlogger.info(`Mailbox ${this.mailbox.databaseId} (${this.searchQuery}) not cached. Triggering initialization`, { error })\n\t\t\t\t\t\tthis.loadingEnvelopes = false\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait this.initializeCache()\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\tlogger.error(`Could not initialize cache of folder ${this.mailbox.databaseId} (${this.searchQuery})`, { error })\n\t\t\t\t\t\t\tthis.error = error\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tdefault: (error) => {\n\t\t\t\t\t\tlogger.error(`Could not fetch envelopes of folder ${this.mailbox.databaseId} (${this.searchQuery})`, { error })\n\t\t\t\t\t\tthis.loadingEnvelopes = false\n\t\t\t\t\t\tthis.error = error\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tasync loadMore() {\n\t\t\tif (!this.expanded && this.envelopesToShow.length < this.envelopes.length) {\n\t\t\t\tlogger.debug('expanding envelope list')\n\t\t\t\tthis.expanded = true\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tlogger.debug('fetching next envelope page')\n\t\t\tthis.loadingMore = true\n\n\t\t\ttry {\n\t\t\t\tconst envelopes = await this.mainStore.fetchNextEnvelopePage({\n\t\t\t\t\tmailboxId: this.mailbox.databaseId,\n\t\t\t\t\tquery: this.searchQuery,\n\t\t\t\t})\n\t\t\t\tif (envelopes.length === 0) {\n\t\t\t\t\tlogger.info('envelope list end reached')\n\t\t\t\t\tthis.endReached = true\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('could not fetch next envelope page', { error })\n\t\t\t} finally {\n\t\t\t\tthis.loadingMore = false\n\t\t\t}\n\t\t},\n\t\tasync prefetchOtherMailboxes() {\n\t\t\tfor (const mailbox of this.mainStore.getRecursiveMailboxIterator(this.account.id)) {\n\t\t\t\tif (mailbox.databaseId === this.mailbox.databaseId) {\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\n\t\t\t\tif (!mailbox.isSubscribed) {\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tconst envelopes = await this.mainStore.fetchEnvelopes({\n\t\t\t\t\t\tmailboxId: mailbox.databaseId,\n\t\t\t\t\t\tlimit: this.initialPageSize,\n\t\t\t\t\t\tincludeCacheBuster: true,\n\t\t\t\t\t})\n\t\t\t\t\tthis.syncedMailboxes.add(mailbox.databaseId)\n\t\t\t\t\tlogger.debug(`Prefetched ${envelopes.length} envelopes for folder ${mailbox.displayName} (${mailbox.databaseId})`)\n\t\t\t\t} catch (error) {\n\t\t\t\t\tif (error instanceof MailboxNotCachedError) {\n\t\t\t\t\t\t// Just ignore\n\t\t\t\t\t\tcontinue\n\t\t\t\t\t}\n\n\t\t\t\t\tlogger.error(`Failed to prefetch envelopes for folder ${mailbox.displayName} (${mailbox.databaseId}): ${error}`, {\n\t\t\t\t\t\terror,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thasDeleteAcl() {\n\t\t\treturn mailboxHasRights(this.mailbox, 'x')\n\t\t},\n\t\thasSeenAcl() {\n\t\t\treturn mailboxHasRights(this.mailbox, 's')\n\t\t},\n\t\thasArchiveAcl() {\n\t\t\treturn mailboxHasRights(this.mailbox, 'te')\n\t\t},\n\t\tasync handleShortcut(e) {\n\t\t\tconst envelopes = this.envelopes\n\t\t\tconst currentId = parseInt(this.$route.params.threadId, 10)\n\n\t\t\tconst env = envelopes.find((e) => e.databaseId === currentId)\n\t\t\tconst idx = envelopes.indexOf(env)\n\t\t\tlet next\n\n\t\t\tif (e.srcKey !== 'refresh' && !env) {\n\t\t\t\tlogger.debug('envelope is not in the list, ignoring shortcut', {\n\t\t\t\t\tsrcKey: e.srcKey,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tswitch (e.srcKey) {\n\t\t\tcase 'next':\n\t\t\tcase 'prev':\n\t\t\t\tif (e.srcKey === 'next') {\n\t\t\t\t\tnext = envelopes[idx + 1]\n\t\t\t\t} else {\n\t\t\t\t\tnext = envelopes[idx - 1]\n\t\t\t\t}\n\n\t\t\t\tif (!next) {\n\t\t\t\t\tlogger.debug('ignoring shortcut: head or tail of envelope list reached', {\n\t\t\t\t\t\tenvelopes,\n\t\t\t\t\t\tidx,\n\t\t\t\t\t\tsrcKey: e.srcKey,\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\t// Keep the selected account-mailbox combination, but navigate to a different message\n\t\t\t\t// (it's not a bug that we don't use next.accountId and next.mailboxId here)\n\t\t\t\tthis.$router.push({\n\t\t\t\t\tname: 'message',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tmailboxId: this.$route.params.mailboxId,\n\t\t\t\t\t\tfilter: this.$route.params.filter ? this.$route.params.filter : undefined,\n\t\t\t\t\t\tthreadId: next.databaseId,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\tbreak\n\t\t\tcase 'del':\n\t\t\t\tif (!this.hasDeleteAcl()) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tlogger.debug('deleting', { env })\n\t\t\t\tthis.onDelete(env.databaseId)\n\t\t\t\ttry {\n\t\t\t\t\tawait this.mainStore.deleteThread({\n\t\t\t\t\t\tenvelope: env,\n\t\t\t\t\t})\n\t\t\t\t} catch (error) {\n\t\t\t\t\tlogger.error('could not delete envelope', {\n\t\t\t\t\t\tenv,\n\t\t\t\t\t\terror,\n\t\t\t\t\t})\n\n\t\t\t\t\tshowError(await matchError(error, {\n\t\t\t\t\t\t[NoTrashMailboxConfiguredError.getName()]() {\n\t\t\t\t\t\t\treturn t('mail', 'No trash folder configured')\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdefault() {\n\t\t\t\t\t\t\treturn t('mail', 'Could not delete message')\n\t\t\t\t\t\t},\n\t\t\t\t\t}))\n\t\t\t\t}\n\n\t\t\t\tbreak\n\t\t\tcase 'arch':\n\t\t\t\tlogger.debug('archiving via shortcut')\n\n\t\t\t\tif (this.account.archiveMailboxId === null) {\n\t\t\t\t\tshowWarning(t('mail', 'To archive a message please configure an archive folder in account settings'))\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tif (!this.hasArchiveAcl()) {\n\t\t\t\t\tshowWarning(t('mail', 'You are not allowed to move this message to the archive folder and/or delete this message from the current folder'))\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tif (env.mailboxId === this.account.archiveMailboxId) {\n\t\t\t\t\tlogger.debug('message is already in archive folder')\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tlogger.debug('archiving', { env })\n\t\t\t\tthis.onDelete(env.databaseId)\n\t\t\t\ttry {\n\t\t\t\t\tawait this.mainStore.moveThread({\n\t\t\t\t\t\tenvelope: env,\n\t\t\t\t\t\tdestMailboxId: this.account.archiveMailboxId,\n\t\t\t\t\t})\n\t\t\t\t} catch (error) {\n\t\t\t\t\tlogger.error('could not archive envelope', {\n\t\t\t\t\t\tenv,\n\t\t\t\t\t\terror,\n\t\t\t\t\t})\n\n\t\t\t\t\tshowError(t('mail', 'Could not archive message'))\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\tcase 'flag':\n\t\t\t\tlogger.debug('flagging envelope via shortkey', { env })\n\t\t\t\tthis.mainStore.toggleEnvelopeFlagged(env).catch((error) =>\n\t\t\t\t\tlogger.error('could not flag envelope via shortkey', {\n\t\t\t\t\t\tenv,\n\t\t\t\t\t\terror,\n\t\t\t\t\t}),\n\t\t\t\t)\n\t\t\t\tbreak\n\t\t\tcase 'refresh':\n\t\t\t\tlogger.debug(`syncing folder ${this.mailbox.databaseId} (${this.searchQuery}) per shortcut`)\n\t\t\t\tthis.sync(false)\n\n\t\t\t\tbreak\n\t\t\tcase 'unseen':\n\t\t\t\tlogger.debug('marking as seen/unseen via shortcut')\n\n\t\t\t\tif (!this.hasSeenAcl()) {\n\t\t\t\t\tshowWarning(t('mail', 'Your IMAP server does not support storing the seen/unseen state.'))\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tlogger.debug('marking as seen/unseen', { env })\n\t\t\t\ttry {\n\t\t\t\t\tawait this.mainStore.toggleEnvelopeSeen({ envelope: env })\n\t\t\t\t} catch (error) {\n\t\t\t\t\tlogger.error('could not mark envelope as seen/unseen via shortkey', {\n\t\t\t\t\t\tenv,\n\t\t\t\t\t\terror,\n\t\t\t\t\t})\n\t\t\t\t\tshowError(t('mail', 'Could not mark message as seen/unseen'))\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tlogger.warn('shortcut ' + e.srcKey + ' is unknown. ignoring.')\n\t\t\t}\n\t\t},\n\t\tasync sync(init = false) {\n\t\t\tif (this.refreshing) {\n\t\t\t\tlogger.debug(`already sync'ing folder ${this.mailbox.databaseId} (${this.searchQuery}), aborting`, { init })\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.refreshing = true\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.syncEnvelopes({\n\t\t\t\t\tmailboxId: this.mailbox.databaseId,\n\t\t\t\t\tquery: this.searchQuery,\n\t\t\t\t\tinit,\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tmatchError(error, {\n\t\t\t\t\t[MailboxLockedError.getName()](error) {\n\t\t\t\t\t\tlogger.info('Background sync failed because the folder is locked', {\n\t\t\t\t\t\t\terror,\n\t\t\t\t\t\t\tinit,\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tdefault(error) {\n\t\t\t\t\t\tlogger.error('Could not sync envelopes: ' + error.message, {\n\t\t\t\t\t\t\terror,\n\t\t\t\t\t\t\tinit,\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\tthrow error\n\t\t\t} finally {\n\t\t\t\tthis.refreshing = false\n\t\t\t\tlogger.debug(`finished sync'ing folder ${this.mailbox.databaseId} (${this.searchQuery})`, { init })\n\n\t\t\t\tthis.mainStore.updateSyncTimestamp()\n\t\t\t}\n\t\t},\n\t\t// onDelete(id): Load more message and navigate to other message if needed\n\t\t// id: The id of the message being delete\n\t\tonDelete(id) {\n\t\t\t// Get a new message\n\t\t\tthis.mainStore.fetchNextEnvelopes({\n\t\t\t\tmailboxId: this.mailbox.databaseId,\n\t\t\t\tquery: this.searchQuery,\n\t\t\t\tquantity: 1,\n\t\t\t})\n\t\t\tconst idx = findIndex(propEq(id, 'databaseId'), this.envelopes)\n\t\t\tif (idx === -1) {\n\t\t\t\tlogger.debug('envelope to delete does not exist in envelope list')\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif (id !== this.$route.params.threadId) {\n\t\t\t\tlogger.debug('other message open, not jumping to the next/previous message')\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst next = this.envelopes[idx === 0 ? 1 : idx - 1]\n\t\t\tif (!next) {\n\t\t\t\tlogger.debug('no next/previous envelope, not navigating')\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// Keep the selected mailbox, but navigate to a different message\n\t\t\t// (it's not a bug that we don't use next.mailboxId here)\n\t\t\tthis.$router.push({\n\t\t\t\tname: 'message',\n\t\t\t\tparams: {\n\t\t\t\t\tmailboxId: this.$route.params.mailboxId,\n\t\t\t\t\tfilter: this.$route.params.filter ? this.$route.params.filter : undefined,\n\t\t\t\t\tthreadId: next.databaseId,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\tonScroll() {\n\t\t\tif (this.paginate !== 'scroll') {\n\t\t\t\tlogger.debug('ignoring scroll pagination')\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.loadMore()\n\t\t},\n\t\tasync loadMailbox() {\n\t\t\t// When the account is unified or inbox, return nothing, else sync the mailbox\n\t\t\tif (this.account.isUnified || this.mailbox.specialRole === 'inbox') {\n\t\t\t\treturn\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tlogger.debug(`syncing folder ${this.mailbox.databaseId} (${this.searchQuery}) in background`)\n\t\t\t\tawait this.sync(false)\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('Background sync failed: ' + error.message, { error })\n\t\t\t}\n\t\t},\n\t\tstopInterval() {\n\t\t\tclearInterval(this.loadMailboxInterval)\n\t\t\tthis.loadMailboxInterval = undefined\n\t\t},\n\t\tgetLabelForGroup(group) {\n\t\t\tswitch (group) {\n\t\t\tcase 'lastHour':\n\t\t\t\treturn t('mail', 'Last hour')\n\t\t\tcase 'today':\n\t\t\t\treturn t('mail', 'Today')\n\t\t\tcase 'yesterday':\n\t\t\t\treturn t('mail', 'Yesterday')\n\t\t\tcase 'lastWeek':\n\t\t\t\treturn t('mail', 'Last week')\n\t\t\tcase 'lastMonth':\n\t\t\t\treturn t('mail', 'Last month')\n\t\t\t}\n\t\t\treturn t('mail', 'Older')\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n// Fix vertical space between sections in priority inbox\n.nameimportant {\n\t:deep(#load-more-mail-messages) {\n\t\tmargin-top: 0;\n\t}\n}\n\n.empty-content {\n\theight: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n}\n</style>\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('NcEmptyContent',{staticClass:\"empty-content\",attrs:{\"name\":_vm.t('mail', 'No messages')},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconMail')]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Mailbox.vue?vue&type=style&index=0&id=6982650e&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Mailbox.vue?vue&type=style&index=0&id=6982650e&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Mailbox.vue?vue&type=template&id=6982650e&scoped=true\"\nimport script from \"./Mailbox.vue?vue&type=script&lang=js\"\nexport * from \"./Mailbox.vue?vue&type=script&lang=js\"\nimport style0 from \"./Mailbox.vue?vue&type=style&index=0&id=6982650e&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6982650e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{class:{'empty-content': (!_vm.hasMessages && !_vm.loadingEnvelopes) || _vm.error}},[(_vm.error)?_c('Error',{attrs:{\"error\":_vm.t('mail', 'Could not open folder'),\"message\":\"\",\"role\":\"alert\"}}):(_vm.loadingEnvelopes)?_c('LoadingSkeleton',{attrs:{\"number-of-lines\":20}}):(_vm.loadingCacheInitialization)?_c('Loading',{attrs:{\"hint\":_vm.t('mail', 'Loading messages …'),\"slow-hint\":_vm.t('mail', 'Indexing your messages. This can take a bit longer for larger folders.')}}):(_vm.isPriorityInbox && !_vm.hasMessages)?_c('EmptyMailboxSection',{key:\"empty\"}):(!_vm.hasMessages)?_c('EmptyMailbox',{key:\"empty\"}):(_vm.hasGroupedEnvelopes && !_vm.isPriorityInbox)?_vm._l((Object.entries(_vm.groupEnvelopes)),function([label, group]){return _c('div',{key:label},[_c('SectionTitle',{staticClass:\"section-title\",attrs:{\"name\":_vm.getLabelForGroup(label)}}),_vm._v(\" \"),_c('EnvelopeList',{attrs:{\"account\":_vm.account,\"mailbox\":_vm.mailbox,\"search-query\":_vm.searchQuery,\"envelopes\":group,\"loading-more\":false,\"load-more-button\":false,\"skip-transition\":_vm.skipListTransition},on:{\"delete\":_vm.onDelete}})],1)}):_c('EnvelopeList',{attrs:{\"account\":_vm.account,\"load-more-label\":_vm.loadMoreLabel,\"mailbox\":_vm.mailbox,\"search-query\":_vm.searchQuery,\"envelopes\":_vm.envelopesToShow,\"loading-more\":_vm.loadingMore,\"load-more-button\":_vm.showLoadMore,\"skip-transition\":_vm.skipListTransition},on:{\"delete\":_vm.onDelete,\"load-more\":_vm.loadMore}})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"search-messages\"},[_c('div',{staticClass:\"search-messages__input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.query),expression:\"query\"}],staticClass:\"search-messages--input\",attrs:{\"type\":\"text\",\"placeholder\":_vm.t('mail', 'Search in folder'),\"aria-label\":_vm.t('mail', 'Search in folder')},domProps:{\"value\":(_vm.query)},on:{\"focus\":function($event){_vm.showButtons = true},\"blur\":_vm.hideButtonsWithDelay,\"input\":function($event){if($event.target.composing)return;_vm.query=$event.target.value}}}),_vm._v(\" \"),_c('NcButton',{staticClass:\"search-messages--filter\",attrs:{\"type\":\"tertiary\",\"aria-label\":_vm.t('mail', 'Open search modal')},on:{\"click\":function($event){_vm.moreSearchActions = true}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('FilterVariantIcon',{attrs:{\"size\":20}})]},proxy:true}])}),_vm._v(\" \"),(_vm.filterChanged)?_c('NcButton',{staticClass:\"search-messages--close\",attrs:{\"aria-label\":_vm.t('mail', 'Close')},on:{\"click\":function($event){return _vm.resetFilter()}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('Close',{attrs:{\"size\":24}})]},proxy:true}],null,false,1411281818)}):_vm._e(),_vm._v(\" \"),(_vm.filterChanged)?_c('span',{staticClass:\"filter-changed\"}):_vm._e(),_vm._v(\" \"),(_vm.moreSearchActions)?_c('NcDialog',{staticClass:\"search-modal\",attrs:{\"name\":_vm.t('mail', 'Search parameters'),\"size\":\"normal\",\"buttons\":_vm.dialogButtons},on:{\"closing\":_vm.closeSearchModal}},[_c('div',{staticClass:\"modal-inner--content\"},[_c('div',{staticClass:\"modal-inner--field\"},[_c('label',{staticClass:\"modal-inner--label\",attrs:{\"for\":\"subjectId\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail','Subject'))+\"\\n\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner--container\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchInSubject),expression:\"searchInSubject\"}],staticClass:\"search-input\",attrs:{\"id\":\"subjectId\",\"type\":\"text\",\"placeholder\":_vm.t('mail', 'Search subject')},domProps:{\"value\":(_vm.searchInSubject)},on:{\"input\":function($event){if($event.target.composing)return;_vm.searchInSubject=$event.target.value}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner--field\"},[_c('label',{staticClass:\"modal-inner--label\",attrs:{\"for\":\"bodyId\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail','Body'))+\"\\n\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner--container\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchInMessageBody),expression:\"searchInMessageBody\"}],staticClass:\"search-input\",attrs:{\"id\":\"bodyId\",\"type\":\"text\",\"placeholder\":_vm.t('mail', 'Search body')},domProps:{\"value\":(_vm.searchInMessageBody)},on:{\"input\":function($event){if($event.target.composing)return;_vm.searchInMessageBody=$event.target.value}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner--field\"},[_c('label',{staticClass:\"modal-inner--label\",attrs:{\"for\":\"fromId\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Date'))+\"\\n\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner--container range\"},[_c('div',{staticClass:\"modal-inner-inline\"},[_c('NcDateTimePickerNative',{attrs:{\"type\":\"date\",\"label\":_vm.t('mail', 'Pick a start date'),\"confirm\":\"\"},model:{value:(_vm.startDate),callback:function ($$v) {_vm.startDate=$$v},expression:\"startDate\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner-inline\"},[_c('NcDateTimePickerNative',{attrs:{\"type\":\"date\",\"disabled\":_vm.startDate === null,\"label\":_vm.t('mail', 'Pick an end date'),\"confirm\":\"\"},model:{value:(_vm.endDate),callback:function ($$v) {_vm.endDate=$$v},expression:\"endDate\"}})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner--field\"},[_c('label',{staticClass:\"modal-inner--label\",attrs:{\"for\":\"fromId\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'From'))+\"\\n\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner--container\"},[_c('NcSelect',{staticClass:\"modal-inner--container__select\",attrs:{\"id\":\"fromId\",\"label\":\"label\",\"track-by\":\"email\",\"options\":_vm.autocompleteRecipients,\"value\":_vm.searchInFrom,\"placeholder\":_vm.t('mail', 'Select senders'),\"aria-label-combobox\":_vm.t('mail', 'Select senders'),\"multiple\":true,\"taggable\":true,\"close-on-select\":true,\"show-no-options\":false,\"preserve-search\":true,\"max\":1},on:{\"option:selecting\":function($event){return _vm.addTag($event,'from')},\"option:deselecting\":function($event){return _vm.removeTag($event,'from')},\"search\":function($event){return _vm.searchRecipients($event)}}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner--field\"},[_c('label',{staticClass:\"modal-inner--label\",attrs:{\"for\":\"toId\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'To'))+\"\\n\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner--container\"},[_c('NcSelect',{staticClass:\"modal-inner--container__select\",attrs:{\"id\":\"toId\",\"label\":\"label\",\"track-by\":\"email\",\"options\":_vm.autocompleteRecipients,\"value\":_vm.searchInTo,\"placeholder\":_vm.t('mail', 'Select recipients'),\"aria-label-combobox\":_vm.t('mail', 'Select recipients'),\"multiple\":true,\"taggable\":true,\"close-on-select\":true,\"show-no-options\":false,\"preserve-search\":true},on:{\"option:selecting\":function($event){return _vm.addTag($event,'to')},\"option:deselecting\":function($event){return _vm.removeTag($event,'to')},\"search\":function($event){return _vm.searchRecipients($event)}}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner--field\"},[_c('label',{staticClass:\"modal-inner--label\",attrs:{\"for\":\"ccId\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Cc'))+\"\\n\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner--container\"},[_c('NcSelect',{staticClass:\"modal-inner--container__select\",attrs:{\"id\":\"ccId\",\"label\":\"label\",\"track-by\":\"email\",\"options\":_vm.autocompleteRecipients,\"value\":_vm.searchInCc,\"placeholder\":_vm.t('mail', 'Select CC recipients'),\"aria-label-combobox\":_vm.t('mail', 'Select CC recipients'),\"multiple\":true,\"taggable\":true,\"close-on-select\":true,\"show-no-options\":false,\"preserve-search\":true},on:{\"option:selecting\":function($event){return _vm.addTag($event,'cc')},\"option:deselecting\":function($event){return _vm.removeTag($event,'cc')},\"search\":function($event){return _vm.searchRecipients($event)}}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner--field\"},[_c('label',{staticClass:\"modal-inner--label\",attrs:{\"for\":\"bccId\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Bcc'))+\"\\n\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner--container\"},[_c('NcSelect',{staticClass:\"modal-inner--container__select\",attrs:{\"id\":\"bccId\",\"label\":\"label\",\"track-by\":\"email\",\"options\":_vm.autocompleteRecipients,\"value\":_vm.searchInBcc,\"placeholder\":_vm.t('mail', 'Select BCC recipients'),\"aria-label-combobox\":_vm.t('mail', 'Select BCC recipients'),\"multiple\":true,\"taggable\":true,\"close-on-select\":true,\"show-no-options\":false,\"preserve-search\":true},on:{\"option:selecting\":function($event){return _vm.addTag($event,'bcc')},\"option:deselecting\":function($event){return _vm.removeTag($event,'bcc')},\"search\":function($event){return _vm.searchRecipients($event)}}})],1)]),_vm._v(\" \"),(_vm.tags.length > 0)?_c('div',{staticClass:\"modal-inner--field\"},[_c('label',{attrs:{\"for\":\"tagsId\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Tags'))+\"\\n\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner--container\"},[(_vm.tags.length > 0)?_c('NcSelect',{staticClass:\"multiselect-search-tags\",attrs:{\"id\":\"tagsId\",\"options\":_vm.tags,\"label\":\"displayName\",\"value\":_vm.selectedTags,\"placeholder\":_vm.t('mail', 'Select tags'),\"aria-label-combobox\":_vm.t('mail', 'Select tags'),\"track-by\":\"displayName\",\"multiple\":true,\"auto-limit\":false,\"close-on-select\":false},scopedSlots:_vm._u([{key:\"selected-option\",fn:function(option){return [_c('div',{staticClass:\"tag-group__search\"},[_c('div',{staticClass:\"tag-group__bg\",style:('background-color:' +\n\t\t\t\t\t\t\t\t\t\t\t\t(option.color !== '#fff'\n\t\t\t\t\t\t\t\t\t\t\t\t\t? option.color\n\t\t\t\t\t\t\t\t\t\t\t\t\t: '#333'))}),_vm._v(\" \"),_c('div',{staticClass:\"tag-group__label\",style:('color:' + option.color)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(option.displayName)+\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\")])])]}},{key:\"option\",fn:function(option){return [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(option.displayName)+\"\\n\\t\\t\\t\\t\\t\\t\\t\")]}}],null,false,2268980641),model:{value:(_vm.selectedTags),callback:function ($$v) {_vm.selectedTags=$$v},expression:\"selectedTags\"}}):_vm._e()],1)]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner--field\"},[_c('label',{staticClass:\"modal-inner--label\",attrs:{\"for\":\"fromId\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Marked as'))+\"\\n\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner--container marked-as\"},[_c('div',{staticClass:\"modal-inner-inline\"},[_c('NcCheckboxRadioSwitch',{attrs:{\"checked\":_vm.searchFlags,\"value\":\"is_important\",\"name\":\"flags[]\",\"type\":\"checkbox\"},on:{\"update:checked\":function($event){_vm.searchFlags=$event}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Important'))+\"\\n\\t\\t\\t\\t\\t\\t\\t\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner-inline\"},[_c('NcCheckboxRadioSwitch',{attrs:{\"checked\":_vm.searchFlags,\"value\":\"starred\",\"name\":\"flags[]\",\"type\":\"checkbox\"},on:{\"update:checked\":function($event){_vm.searchFlags=$event}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Favorite'))+\"\\n\\t\\t\\t\\t\\t\\t\\t\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner-inline\"},[_c('NcCheckboxRadioSwitch',{attrs:{\"checked\":_vm.searchFlags,\"value\":\"unread\",\"name\":\"flags[]\",\"type\":\"checkbox\"},on:{\"update:checked\":function($event){_vm.searchFlags=$event}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Unread'))+\"\\n\\t\\t\\t\\t\\t\\t\\t\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner-inline\"},[_c('NcCheckboxRadioSwitch',{attrs:{\"checked\":_vm.searchFlags,\"value\":\"attachments\",\"name\":\"flags[]\",\"type\":\"checkbox\"},on:{\"update:checked\":function($event){_vm.searchFlags=$event}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Has attachments'))+\"\\n\\t\\t\\t\\t\\t\\t\\t\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner-inline\"},[_c('NcCheckboxRadioSwitch',{attrs:{\"checked\":_vm.mentionsMe},on:{\"update:checked\":function($event){_vm.mentionsMe=$event}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Mentions me'))+\"\\n\\t\\t\\t\\t\\t\\t\\t\")])],1)])])])]):_vm._e()],1),_vm._v(\" \"),(_vm.showButtons)?_c('div',{staticClass:\"filter-buttons\"},[_c('NcButton',{staticClass:\"shortcut\",attrs:{\"type\":\"secondary\",\"aria-label\":_vm.t('mail', 'Has attachment'),\"title\":_vm.t('mail', 'Has attachment'),\"pressed\":_vm.hasAttachmentActive},on:{\"update:pressed\":function($event){_vm.hasAttachmentActive = !_vm.hasAttachmentActive},\"click\":_vm.toggleGetAttachments}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Has attachment'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('NcButton',{staticClass:\"shortcut\",attrs:{\"type\":\"secondary\",\"pressed\":_vm.hasLast7daysActive,\"aria-label\":_vm.t('mail', 'Last 7 days'),\"title\":_vm.t('mail', 'Last 7 days')},on:{\"update:pressed\":function($event){_vm.hasLast7daysActive = !_vm.hasLast7daysActive},\"click\":_vm.toggleLastWeekFilter}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Last 7 days'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('NcButton',{staticClass:\"shortcut\",attrs:{\"type\":\"secondary\",\"pressed\":_vm.hasFromMeActive,\"aria-label\":_vm.t('mail', 'From me'),\"title\":_vm.t('mail', 'From me')},on:{\"update:pressed\":function($event){_vm.hasFromMeActive = !_vm.hasFromMeActive},\"click\":_vm.toggleCurrentUser}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'From me'))+\"\\n\\t\\t\")])],1):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div class=\"search-messages\">\n\t\t<div class=\"search-messages__input\">\n\t\t\t<input v-model=\"query\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tclass=\"search-messages--input\"\n\t\t\t\t:placeholder=\"t('mail', 'Search in folder')\"\n\t\t\t\t:aria-label=\"t('mail', 'Search in folder')\"\n\t\t\t\t@focus=\"showButtons = true\"\n\t\t\t\t@blur=\"hideButtonsWithDelay\">\n\t\t\t<NcButton type=\"tertiary\"\n\t\t\t\t:aria-label=\"t('mail', 'Open search modal')\"\n\t\t\t\tclass=\"search-messages--filter\"\n\t\t\t\t@click=\"moreSearchActions = true\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<FilterVariantIcon :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t</NcButton>\n\t\t\t<NcButton v-if=\"filterChanged\"\n\t\t\t\t:aria-label=\"t('mail', 'Close')\"\n\t\t\t\tclass=\"search-messages--close\"\n\t\t\t\t@click=\"resetFilter()\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<Close :size=\"24\" />\n\t\t\t\t</template>\n\t\t\t</NcButton>\n\n\t\t\t<span v-if=\"filterChanged\"\n\t\t\t\tclass=\"filter-changed\" />\n\n\t\t\t<NcDialog v-if=\"moreSearchActions\"\n\t\t\t\t:name=\"t('mail', 'Search parameters')\"\n\t\t\t\tsize=\"normal\"\n\t\t\t\tclass=\"search-modal\"\n\t\t\t\t:buttons=\"dialogButtons\"\n\t\t\t\t@closing=\"closeSearchModal\">\n\t\t\t\t<div class=\"modal-inner--content\">\n\t\t\t\t\t<div class=\"modal-inner--field\">\n\t\t\t\t\t\t<label class=\"modal-inner--label\" for=\"subjectId\">\n\t\t\t\t\t\t\t{{ t('mail','Subject') }}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<div class=\"modal-inner--container\">\n\t\t\t\t\t\t\t<input id=\"subjectId\"\n\t\t\t\t\t\t\t\tv-model=\"searchInSubject\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclass=\"search-input\"\n\t\t\t\t\t\t\t\t:placeholder=\"t('mail', 'Search subject')\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"modal-inner--field\">\n\t\t\t\t\t\t<label class=\"modal-inner--label\" for=\"bodyId\">\n\t\t\t\t\t\t\t{{ t('mail','Body') }}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<div class=\"modal-inner--container\">\n\t\t\t\t\t\t\t<input id=\"bodyId\"\n\t\t\t\t\t\t\t\tv-model=\"searchInMessageBody\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclass=\"search-input\"\n\t\t\t\t\t\t\t\t:placeholder=\"t('mail', 'Search body')\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"modal-inner--field\">\n\t\t\t\t\t\t<label class=\"modal-inner--label\" for=\"fromId\">\n\t\t\t\t\t\t\t{{ t('mail', 'Date') }}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<div class=\"modal-inner--container range\">\n\t\t\t\t\t\t\t<div class=\"modal-inner-inline\">\n\t\t\t\t\t\t\t\t<NcDateTimePickerNative v-model=\"startDate\"\n\t\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\t\t:label=\"t('mail', 'Pick a start date')\"\n\t\t\t\t\t\t\t\t\tconfirm />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"modal-inner-inline\">\n\t\t\t\t\t\t\t\t<NcDateTimePickerNative v-model=\"endDate\"\n\t\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\t\t:disabled=\"startDate === null\"\n\t\t\t\t\t\t\t\t\t:label=\"t('mail', 'Pick an end date')\"\n\t\t\t\t\t\t\t\t\tconfirm />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"modal-inner--field\">\n\t\t\t\t\t\t<label class=\"modal-inner--label\" for=\"fromId\">\n\t\t\t\t\t\t\t{{ t('mail', 'From') }}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<div class=\"modal-inner--container\">\n\t\t\t\t\t\t\t<NcSelect id=\"fromId\"\n\t\t\t\t\t\t\t\tclass=\"modal-inner--container__select\"\n\t\t\t\t\t\t\t\tlabel=\"label\"\n\t\t\t\t\t\t\t\ttrack-by=\"email\"\n\t\t\t\t\t\t\t\t:options=\"autocompleteRecipients\"\n\t\t\t\t\t\t\t\t:value=\"searchInFrom\"\n\t\t\t\t\t\t\t\t:placeholder=\"t('mail', 'Select senders')\"\n\t\t\t\t\t\t\t\t:aria-label-combobox=\"t('mail', 'Select senders')\"\n\t\t\t\t\t\t\t\t:multiple=\"true\"\n\t\t\t\t\t\t\t\t:taggable=\"true\"\n\t\t\t\t\t\t\t\t:close-on-select=\"true\"\n\t\t\t\t\t\t\t\t:show-no-options=\"false\"\n\t\t\t\t\t\t\t\t:preserve-search=\"true\"\n\t\t\t\t\t\t\t\t:max=\"1\"\n\t\t\t\t\t\t\t\t@option:selecting=\"addTag($event,'from')\"\n\t\t\t\t\t\t\t\t@option:deselecting=\"removeTag($event,'from')\"\n\t\t\t\t\t\t\t\t@search=\"searchRecipients($event)\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"modal-inner--field\">\n\t\t\t\t\t\t<label class=\"modal-inner--label\" for=\"toId\">\n\t\t\t\t\t\t\t{{ t('mail', 'To') }}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<div class=\"modal-inner--container\">\n\t\t\t\t\t\t\t<NcSelect id=\"toId\"\n\t\t\t\t\t\t\t\tclass=\"modal-inner--container__select\"\n\t\t\t\t\t\t\t\tlabel=\"label\"\n\t\t\t\t\t\t\t\ttrack-by=\"email\"\n\t\t\t\t\t\t\t\t:options=\"autocompleteRecipients\"\n\t\t\t\t\t\t\t\t:value=\"searchInTo\"\n\t\t\t\t\t\t\t\t:placeholder=\"t('mail', 'Select recipients')\"\n\t\t\t\t\t\t\t\t:aria-label-combobox=\"t('mail', 'Select recipients')\"\n\t\t\t\t\t\t\t\t:multiple=\"true\"\n\t\t\t\t\t\t\t\t:taggable=\"true\"\n\t\t\t\t\t\t\t\t:close-on-select=\"true\"\n\t\t\t\t\t\t\t\t:show-no-options=\"false\"\n\t\t\t\t\t\t\t\t:preserve-search=\"true\"\n\t\t\t\t\t\t\t\t@option:selecting=\"addTag($event,'to')\"\n\t\t\t\t\t\t\t\t@option:deselecting=\"removeTag($event,'to')\"\n\t\t\t\t\t\t\t\t@search=\"searchRecipients($event)\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"modal-inner--field\">\n\t\t\t\t\t\t<label class=\"modal-inner--label\" for=\"ccId\">\n\t\t\t\t\t\t\t{{ t('mail', 'Cc') }}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<div class=\"modal-inner--container\">\n\t\t\t\t\t\t\t<NcSelect id=\"ccId\"\n\t\t\t\t\t\t\t\tclass=\"modal-inner--container__select\"\n\t\t\t\t\t\t\t\tlabel=\"label\"\n\t\t\t\t\t\t\t\ttrack-by=\"email\"\n\t\t\t\t\t\t\t\t:options=\"autocompleteRecipients\"\n\t\t\t\t\t\t\t\t:value=\"searchInCc\"\n\t\t\t\t\t\t\t\t:placeholder=\"t('mail', 'Select CC recipients')\"\n\t\t\t\t\t\t\t\t:aria-label-combobox=\"t('mail', 'Select CC recipients')\"\n\t\t\t\t\t\t\t\t:multiple=\"true\"\n\t\t\t\t\t\t\t\t:taggable=\"true\"\n\t\t\t\t\t\t\t\t:close-on-select=\"true\"\n\t\t\t\t\t\t\t\t:show-no-options=\"false\"\n\t\t\t\t\t\t\t\t:preserve-search=\"true\"\n\t\t\t\t\t\t\t\t@option:selecting=\"addTag($event,'cc')\"\n\t\t\t\t\t\t\t\t@option:deselecting=\"removeTag($event,'cc')\"\n\t\t\t\t\t\t\t\t@search=\"searchRecipients($event)\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"modal-inner--field\">\n\t\t\t\t\t\t<label class=\"modal-inner--label\" for=\"bccId\">\n\t\t\t\t\t\t\t{{ t('mail', 'Bcc') }}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<div class=\"modal-inner--container\">\n\t\t\t\t\t\t\t<NcSelect id=\"bccId\"\n\t\t\t\t\t\t\t\tclass=\"modal-inner--container__select\"\n\t\t\t\t\t\t\t\tlabel=\"label\"\n\t\t\t\t\t\t\t\ttrack-by=\"email\"\n\t\t\t\t\t\t\t\t:options=\"autocompleteRecipients\"\n\t\t\t\t\t\t\t\t:value=\"searchInBcc\"\n\t\t\t\t\t\t\t\t:placeholder=\"t('mail', 'Select BCC recipients')\"\n\t\t\t\t\t\t\t\t:aria-label-combobox=\"t('mail', 'Select BCC recipients')\"\n\t\t\t\t\t\t\t\t:multiple=\"true\"\n\t\t\t\t\t\t\t\t:taggable=\"true\"\n\t\t\t\t\t\t\t\t:close-on-select=\"true\"\n\t\t\t\t\t\t\t\t:show-no-options=\"false\"\n\t\t\t\t\t\t\t\t:preserve-search=\"true\"\n\t\t\t\t\t\t\t\t@option:selecting=\"addTag($event,'bcc')\"\n\t\t\t\t\t\t\t\t@option:deselecting=\"removeTag($event,'bcc')\"\n\t\t\t\t\t\t\t\t@search=\"searchRecipients($event)\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div v-if=\"tags.length > 0\" class=\"modal-inner--field\">\n\t\t\t\t\t\t<label for=\"tagsId\">\n\t\t\t\t\t\t\t{{ t('mail', 'Tags') }}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<div class=\"modal-inner--container\">\n\t\t\t\t\t\t\t<NcSelect v-if=\"tags.length > 0\"\n\t\t\t\t\t\t\t\tid=\"tagsId\"\n\t\t\t\t\t\t\t\tv-model=\"selectedTags\"\n\t\t\t\t\t\t\t\tclass=\"multiselect-search-tags \"\n\t\t\t\t\t\t\t\t:options=\"tags\"\n\t\t\t\t\t\t\t\tlabel=\"displayName\"\n\t\t\t\t\t\t\t\t:value=\"selectedTags\"\n\t\t\t\t\t\t\t\t:placeholder=\"t('mail', 'Select tags')\"\n\t\t\t\t\t\t\t\t:aria-label-combobox=\"t('mail', 'Select tags')\"\n\t\t\t\t\t\t\t\ttrack-by=\"displayName\"\n\t\t\t\t\t\t\t\t:multiple=\"true\"\n\t\t\t\t\t\t\t\t:auto-limit=\"false\"\n\t\t\t\t\t\t\t\t:close-on-select=\"false\">\n\t\t\t\t\t\t\t\t<template #selected-option=\"option\">\n\t\t\t\t\t\t\t\t\t<div class=\"tag-group__search\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"tag-group__bg\"\n\t\t\t\t\t\t\t\t\t\t\t:style=\"\n\t\t\t\t\t\t\t\t\t\t\t\t'background-color:' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t(option.color !== '#fff'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? option.color\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: '#333')\" />\n\t\t\t\t\t\t\t\t\t\t<div class=\"tag-group__label\"\n\t\t\t\t\t\t\t\t\t\t\t:style=\"'color:' + option.color\">\n\t\t\t\t\t\t\t\t\t\t\t{{ option.displayName }}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<template #option=\"option\">\n\t\t\t\t\t\t\t\t\t{{ option.displayName }}\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</NcSelect>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"modal-inner--field\">\n\t\t\t\t\t\t<label class=\"modal-inner--label\" for=\"fromId\">\n\t\t\t\t\t\t\t{{ t('mail', 'Marked as') }}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<div class=\"modal-inner--container marked-as\">\n\t\t\t\t\t\t\t<div class=\"modal-inner-inline\">\n\t\t\t\t\t\t\t\t<NcCheckboxRadioSwitch :checked.sync=\"searchFlags\"\n\t\t\t\t\t\t\t\t\tvalue=\"is_important\"\n\t\t\t\t\t\t\t\t\tname=\"flags[]\"\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\">\n\t\t\t\t\t\t\t\t\t{{ t('mail', 'Important') }}\n\t\t\t\t\t\t\t\t</NcCheckboxRadioSwitch>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"modal-inner-inline\">\n\t\t\t\t\t\t\t\t<NcCheckboxRadioSwitch :checked.sync=\"searchFlags\"\n\t\t\t\t\t\t\t\t\tvalue=\"starred\"\n\t\t\t\t\t\t\t\t\tname=\"flags[]\"\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\">\n\t\t\t\t\t\t\t\t\t{{ t('mail', 'Favorite') }}\n\t\t\t\t\t\t\t\t</NcCheckboxRadioSwitch>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"modal-inner-inline\">\n\t\t\t\t\t\t\t\t<NcCheckboxRadioSwitch :checked.sync=\"searchFlags\"\n\t\t\t\t\t\t\t\t\tvalue=\"unread\"\n\t\t\t\t\t\t\t\t\tname=\"flags[]\"\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\">\n\t\t\t\t\t\t\t\t\t{{ t('mail', 'Unread') }}\n\t\t\t\t\t\t\t\t</NcCheckboxRadioSwitch>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"modal-inner-inline\">\n\t\t\t\t\t\t\t\t<NcCheckboxRadioSwitch :checked.sync=\"searchFlags\"\n\t\t\t\t\t\t\t\t\tvalue=\"attachments\"\n\t\t\t\t\t\t\t\t\tname=\"flags[]\"\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\">\n\t\t\t\t\t\t\t\t\t{{ t('mail', 'Has attachments') }}\n\t\t\t\t\t\t\t\t</NcCheckboxRadioSwitch>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"modal-inner-inline\">\n\t\t\t\t\t\t\t\t<NcCheckboxRadioSwitch :checked.sync=\"mentionsMe\">\n\t\t\t\t\t\t\t\t\t{{ t('mail', 'Mentions me') }}\n\t\t\t\t\t\t\t\t</NcCheckboxRadioSwitch>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</NcDialog>\n\t\t</div>\n\t\t<!-- Filter buttons -->\n\t\t<div v-if=\"showButtons\" class=\"filter-buttons\">\n\t\t\t<NcButton type=\"secondary\"\n\t\t\t\tclass=\"shortcut\"\n\t\t\t\t:aria-label=\"t('mail', 'Has attachment')\"\n\t\t\t\t:title=\"t('mail', 'Has attachment')\"\n\t\t\t\t:pressed=\"hasAttachmentActive\"\n\t\t\t\t@update:pressed=\"hasAttachmentActive = !hasAttachmentActive\"\n\t\t\t\t@click=\"toggleGetAttachments\">\n\t\t\t\t{{ t('mail', 'Has attachment') }}\n\t\t\t</NcButton>\n\t\t\t<NcButton type=\"secondary\"\n\t\t\t\tclass=\"shortcut\"\n\t\t\t\t:pressed=\"hasLast7daysActive\"\n\t\t\t\t:aria-label=\"t('mail', 'Last 7 days')\"\n\t\t\t\t:title=\"t('mail', 'Last 7 days')\"\n\t\t\t\t@update:pressed=\"hasLast7daysActive = !hasLast7daysActive\"\n\t\t\t\t@click=\"toggleLastWeekFilter\">\n\t\t\t\t{{ t('mail', 'Last 7 days') }}\n\t\t\t</NcButton>\n\t\t\t<NcButton type=\"secondary\"\n\t\t\t\tclass=\"shortcut\"\n\t\t\t\t:pressed=\"hasFromMeActive\"\n\t\t\t\t:aria-label=\"t('mail', 'From me')\"\n\t\t\t\t:title=\"t('mail', 'From me')\"\n\t\t\t\t@update:pressed=\"hasFromMeActive = !hasFromMeActive\"\n\t\t\t\t@click=\"toggleCurrentUser\">\n\t\t\t\t{{ t('mail', 'From me') }}\n\t\t\t</NcButton>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport moment from '@nextcloud/moment'\n\nimport NcDialog from '@nextcloud/vue/components/NcDialog'\nimport NcSelect from '@nextcloud/vue/components/NcSelect'\nimport NcDateTimePickerNative from '@nextcloud/vue/components/NcDateTimePickerNative'\nimport NcButton from '@nextcloud/vue/components/NcButton'\nimport NcCheckboxRadioSwitch\n\tfrom '@nextcloud/vue/components/NcCheckboxRadioSwitch'\nimport FilterVariantIcon from 'vue-material-design-icons/FilterVariant.vue'\nimport Close from 'vue-material-design-icons/Close.vue'\nimport IconClose from '@mdi/svg/svg/close.svg'\nimport IconMagnify from '@mdi/svg/svg/magnify.svg'\nimport { translate as t } from '@nextcloud/l10n'\n\nimport debouncePromise from 'debounce-promise'\nimport { findRecipient } from '../service/AutocompleteService.js'\nimport uniqBy from 'lodash/fp/uniqBy.js'\nimport { hiddenTags } from './tags.js'\nimport { mapStores } from 'pinia'\nimport useMainStore from '../store/mainStore.js'\n\nconst debouncedSearch = debouncePromise(findRecipient, 500)\n\nexport default {\n\tname: 'SearchMessages',\n\tcomponents: {\n\t\tNcDialog,\n\t\tNcSelect,\n\t\tNcDateTimePickerNative,\n\t\tNcButton,\n\t\tNcCheckboxRadioSwitch,\n\t\tFilterVariantIcon,\n\t\tClose,\n\t},\n\tprops: {\n\t\tmailbox: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\taccountId: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tshowButtons: false,\n\t\t\tmatch: 'allof',\n\t\t\tquery: '',\n\t\t\tdebouncedSearchQuery: debouncePromise(this.sendQueryEvent, 700),\n\t\t\tautocompleteRecipients: [],\n\t\t\tselectedTags: [],\n\t\t\tmoreSearchActions: false,\n\t\t\tsearchInFrom: [],\n\t\t\tsearchInTo: [],\n\t\t\tsearchInCc: [],\n\t\t\tsearchInBcc: [],\n\t\t\tsearchInSubject: null,\n\t\t\tsearchInMessageBody: null,\n\t\t\tsearchFlags: [],\n\t\t\tmentionsMe: false,\n\t\t\thasAttachmentActive: false,\n\t\t\thasLast7daysActive: false,\n\t\t\thasFromMeActive: false,\n\t\t\tstartDate: null,\n\t\t\tendDate: null,\n\t\t\tdialogButtons: [\n\t\t\t\t{\n\t\t\t\t\tlabel: t('mail', 'Clear'),\n\t\t\t\t\tcallback: () => this.resetFilter(),\n\t\t\t\t\ttype: 'secondary',\n\t\t\t\t\ticon: IconClose,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: t('mail', 'Search'),\n\t\t\t\t\tcallback: () => this.closeSearchModal(),\n\t\t\t\t\ttype: 'primary',\n\t\t\t\t\ticon: IconMagnify,\n\t\t\t\t},\n\t\t\t],\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t\ttags() {\n\t\t\treturn this.mainStore.getTags.filter((tag) => !(tag.displayName.toLowerCase() in hiddenTags)).sort((a, b) => {\n\t\t\t\tif (a.isDefaultTag && !b.isDefaultTag) {\n\t\t\t\t\treturn -1\n\t\t\t\t}\n\t\t\t\tif (b.isDefaultTag && !a.isDefaultTag) {\n\t\t\t\t\treturn 1\n\t\t\t\t}\n\t\t\t\tif (a.isDefaultTag && b.isDefaultTag) {\n\t\t\t\t\tif (a.displayName < b.displayName) {\n\t\t\t\t\t\treturn 1\n\t\t\t\t\t}\n\t\t\t\t\treturn -1\n\t\t\t\t}\n\t\t\t\treturn a.displayName.localeCompare(b.displayName)\n\t\t\t})\n\t\t},\n\t\tfilterChanged() {\n\t\t\treturn Object.entries(this.filterData).filter(([key, val]) => {\n\t\t\t\treturn val !== '' && val !== null && val.length > 0\n\t\t\t}).length > 0\n\t\t},\n\t\tsearchBody() {\n\t\t\treturn this.mainStore.getAccount(this.accountId)?.searchBody || (this.mailbox.databaseId === 'priority' && this.mainStore.getPreference('search-priority-body', 'false') === 'true')\n\t\t},\n\t\taccount() {\n\t\t\treturn this.mainStore.getAccount(this.accountId)\n\t\t},\n\t\tfilterData() {\n\t\t\treturn {\n\t\t\t\tto: this.searchInTo.length > 0 ? this.searchInTo.map(address => address.email) : null,\n\t\t\t\tfrom: this.searchInFrom.length > 0 ? this.searchInFrom.map(address => address.email) : null,\n\t\t\t\tcc: this.searchInCc.length > 0 ? this.searchInCc.map(address => address.email) : null,\n\t\t\t\tbcc: this.searchInBcc.length > 0 ? this.searchInBcc.map(address => address.email) : null,\n\t\t\t\tsubject: this.searchInSubject !== null && this.searchInSubject.length > 1 ? this.searchInSubject : '',\n\t\t\t\tbody: this.searchInMessageBody !== null && this.searchInMessageBody.length > 1 ? this.searchInMessageBody : '',\n\t\t\t\ttags: this.selectedTags.length > 0 ? this.selectedTags.map(item => item.id) : '',\n\t\t\t\tflags: this.searchFlags.length > 0 ? this.searchFlags.map(item => item) : '',\n\t\t\t\tmentions: this.mentionsMe,\n\t\t\t\tstart: this.prepareStart(),\n\t\t\t\tend: this.prepareEnd(),\n\t\t\t}\n\t\t},\n\t\tsearchQuery() {\n\t\t\tlet _search = ''\n\t\t\tObject.entries(this.filterData).filter(([key, val]) => {\n\t\t\t\tif (['to', 'from', 'cc', 'bcc'].includes(key)) {\n\t\t\t\t\tval?.forEach((address) => {\n\t\t\t\t\t\t_search += `${key}:${encodeURI(address)} `\n\t\t\t\t\t})\n\t\t\t\t} else if (key === 'body') {\n\t\t\t\t\tval.split(' ').forEach((word) => {\n\t\t\t\t\t\tif (word !== '' && val !== null) {\n\t\t\t\t\t\t\t_search += `${key}:${encodeURI(word)} `\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} else if (val !== '' && val !== null) {\n\t\t\t\t\t_search += `${key}:${encodeURI(val)} `\n\t\t\t\t}\n\t\t\t\treturn val\n\t\t\t})\n\t\t\t_search += `match:${encodeURI(this.match)} `\n\n\t\t\treturn _search.trim()\n\t\t},\n\t},\n\twatch: {\n\t\tquery() {\n\t\t\tif (this.query.length === 0) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.match = 'anyof'\n\t\t\tthis.searchInMessageBody = this.searchBody ? this.query : null\n\t\t\tthis.searchInSubject = this.query\n\t\t\tthis.searchInFrom = [{ email: this.query, label: this.query }]\n\t\t\tthis.searchInTo = [{ email: this.query, label: this.query }]\n\t\t\tthis.debouncedSearchQuery()\n\t\t},\n\t},\n\tmethods: {\n\t\thideButtonsWithDelay() {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.showButtons = false\n\t\t\t}, 100)\n\t\t},\n\t\ttoggleGetAttachments() {\n\t\t\tif (this.hasAttachmentActive) {\n\t\t\t\tthis.searchFlags.push('attachments')\n\t\t\t} else {\n\t\t\t\tthis.searchFlags = this.searchFlags.filter((flag) => flag !== 'attachments')\n\t\t\t}\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.sendQueryEvent()\n\t\t\t})\n\t\t},\n\t\ttoggleCurrentUser() {\n\t\t\tif (this.hasFromMeActive) {\n\t\t\t\tthis.searchInFrom = [{\n\t\t\t\t\temail: this.account.emailAddress,\n\t\t\t\t\tlabel: this.account.emailAddress,\n\t\t\t\t}]\n\t\t\t} else {\n\t\t\t\tthis.searchInFrom = null\n\t\t\t}\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.sendQueryEvent()\n\t\t\t})\n\t\t},\n\t\ttoggleLastWeekFilter() {\n\t\t\tif (this.hasLast7daysActive) {\n\t\t\t\tconst endDate = new Date()\n\t\t\t\tconst startDate = new Date()\n\t\t\t\tstartDate.setDate(startDate.getDate() - 7)\n\n\t\t\t\tthis.startDate = startDate\n\t\t\t\tthis.endDate = endDate\n\t\t\t} else {\n\t\t\t\tthis.startDate = null\n\t\t\t\tthis.endDate = null\n\t\t\t}\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.sendQueryEvent()\n\t\t\t})\n\t\t},\n\t\tprepareStart() {\n\t\t\tif (this.startDate !== null) {\n\t\t\t\tif (this.endDate !== null && this.startDate > this.endDate) {\n\t\t\t\t\tthis.endDate = this.startDate\n\t\t\t\t}\n\t\t\t\treturn moment(this.startDate).unix().toString()\n\t\t\t}\n\t\t\treturn ''\n\t\t},\n\t\tprepareEnd() {\n\t\t\treturn this.endDate !== null ? moment(this.endDate).add(1, 'days').unix().toString() : ''\n\t\t},\n\t\tcloseSearchModal() {\n\t\t\tthis.moreSearchActions = false\n\t\t\tthis.match = 'allof'\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.sendQueryEvent()\n\t\t\t})\n\t\t},\n\t\tsendQueryEvent() {\n\t\t\tthis.$emit('search-changed', this.searchQuery)\n\t\t},\n\t\tsearchRecipients(term) {\n\t\t\tif (term === undefined || term === '') {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tdebouncedSearch(term).then(results => {\n\t\t\t\tthis.autocompleteRecipients = uniqBy('email')(\n\t\t\t\t\tthis.autocompleteRecipients.concat(results),\n\t\t\t\t)\n\t\t\t})\n\t\t},\n\t\tresetFilter() {\n\t\t\tthis.match = 'allof'\n\t\t\tthis.query = ''\n\t\t\tthis.selectedTags = []\n\t\t\tthis.moreSearchActions = false\n\t\t\tthis.searchInFrom = []\n\t\t\tthis.searchInTo = []\n\t\t\tthis.searchInCc = []\n\t\t\tthis.searchInBcc = []\n\t\t\tthis.searchInSubject = null\n\t\t\tthis.searchInMessageBody = null\n\t\t\tthis.searchFlags = []\n\t\t\tthis.startDate = null\n\t\t\tthis.endDate = null\n\t\t\tthis.mentionsMe = false\n\t\t\tthis.sendQueryEvent()\n\t\t},\n\t\taddTag(tag, type) {\n\t\t\tif (typeof tag === 'string') {\n\t\t\t\ttag = { email: tag, label: tag }\n\t\t\t}\n\t\t\tswitch (type) {\n\t\t\tcase 'to':\n\t\t\t\tthis.searchInTo.push(tag)\n\t\t\t\tbreak\n\t\t\tcase 'from':\n\t\t\t\tthis.searchInFrom.push(tag)\n\t\t\t\tbreak\n\t\t\tcase 'cc':\n\t\t\t\tthis.searchInCc.push(tag)\n\t\t\t\tbreak\n\t\t\tcase 'bcc':\n\t\t\t\tthis.searchInBcc.push(tag)\n\t\t\t\tbreak\n\t\t\t}\n\t\t},\n\t\tremoveTag(tag, type) {\n\t\t\tswitch (type) {\n\t\t\tcase 'to':\n\t\t\t\tthis.searchInTo = this.removeAddress(tag, this.searchInTo)\n\t\t\t\tbreak\n\t\t\tcase 'from':\n\t\t\t\tthis.searchInFrom = this.removeAddress(tag, this.searchInFrom)\n\t\t\t\tbreak\n\t\t\tcase 'cc':\n\t\t\t\tthis.searchInCc = this.removeAddress(tag, this.searchInCc)\n\t\t\t\tbreak\n\t\t\tcase 'bcc':\n\t\t\t\tthis.searchInBcc = this.removeAddress(tag, this.searchInBcc)\n\t\t\t\tbreak\n\t\t\t}\n\t\t},\n\t\tremoveAddress(tag, addresses) {\n\t\t\treturn addresses.filter((address) => address.email !== tag.email)\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\">\n.search-messages {\n\tborder-bottom: 1px solid var(--color-border);\n\tposition: sticky;\n\ttop: 0;\n\tz-index: 10;\n\theight: 52px;\n\tbackground-color: var(--color-main-background);\n\t&__input {\n\t\tmin-height: 52px;\n\t\tmargin-inline-start: calc(var(--app-navigation-padding) * 2 + var(--default-clickable-area));\n\t\tpadding-inline-end: 3px; /* matches .app-content-list */\n\t\tposition: relative;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\t//important info icon overlaps it while scrolling\n\t\tz-index: 1;\n\n\t\tinput {\n\t\t\tflex-grow: 1;\n\t\t}\n\n\t\t.action-item--single {\n\t\t\tborder: none;\n\t\t\tbackground: none;\n\t\t\ttransition: 0.4s;\n\t\t}\n\n\t\t.action-item--single:hover {\n\t\t\ttransition: 0.4s;\n\t\t\tbackground: var(--color-primary-element);\n\t\t}\n\t}\n}\n\n.search-input {\n\twidth: 100%;\n}\n\n.checkbox-radio-switch__label {\n\tbackground: none !important;\n\tpadding: 0 !important;\n\tmargin: 0 !important;\n}\n\n.tag-group__search {\n\tbox-sizing: border-box;\n\tposition: relative;\n\tmargin: 3px 3px;\n\tpadding: 0 6px;\n}\n\n.tag-group__bg {\n\tposition: absolute;\n\tinset-inline: 0;\n\tbottom: 0;\n\ttop: 0;\n\topacity: 0.4;\n\tborder-radius: 14px;\n\tz-index: 1;\n}\n\n.tag-group__label {\n\tfont-weight: bold;\n\tfont-size: 12px;\n\tposition: relative;\n\tz-index: 2;\n}\n\n.search-modal {\n\t.modal-inner--content {\n\t\tpadding: 16px 0 36px 0;\n\t\toverflow-y: scroll;\n\t\twidth: calc(100% - 2px);\n\n\t\t.marked-as .modal-inner-inline {\n\t\t\tdisplay: inline-block;\n\t\t\twidth: 32%;\n\n\t\t}\n\t\t.range {\n\t\t\tdisplay: flex;\n\t\t\tflex-wrap: wrap;\n\n\t\t\t.modal-inner-inline {\n\t\t\t\twidth: calc(50% - 5px);\n\t\t\t\t&:first-child {\n\t\t\t\t\tmargin-inline-end: 5px;\n\t\t\t\t}\n\t\t\t\t&:last-child {\n\t\t\t\t\tmargin-inline-start: 5px;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n@media (max-width: 420px) {\n\t.modal-inner--container {\n\t\twidth: 100%;\n\t\tflex-wrap: nowrap;\n\t\tflex-direction: column;\n\t}\n}\n@media (max-width: 420px) {\n\t.search-modal .modal-inner--content .range {\n\t\tflex-direction: row;\n\t}\n}\n\n.multiselect-search-tags {\n\twidth: 100%;\n}\n\n.multiselect-search-tags .multiselect__tags .multiselect__tags-wrap {\n\tflex-wrap: wrap !important;\n}\n\n.modal-inner-field--right {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: flex-end;\n\tpadding: 0 33px;\n\tmargin-top: 15px;\n}\n\n.modal-inner--field {\n\tdisplay: flex;\n\talign-items: center;\n\tflex-wrap: wrap;\n\tjustify-content: space-between;\n\tmargin-bottom: 15px;\n\tpadding: 0 12px 0 30px;\n\n\t.checkbox-radio-switch {\n\t\tmargin: 0 8px 0 0;\n\t}\n\n\t& > label {\n\t\tfont-weight: bold;\n\t\twidth: 120px;\n\t}\n\n\t.modal-inner--container {\n\t\twidth: calc(100% - 120px);\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\n\t\t.select {\n\t\t\twidth: 100%;\n\t\t}\n\t}\n}\n\n.modal-wrapper--normal .modal-container {\n\tposition: relative\n}\n\n.button-vue.search-messages--filter.button-vue--icon-only {\n\tposition: absolute;\n\twidth: auto;\n\theight: auto;\n\tz-index: 5;\n\tinset-inline-end: 7px; /* same spacing to the input border as top/bottom */\n\tinset-inline-start: auto;\n\tbox-shadow: none !important;\n\tbackground: transparent !important;\n\tborder: none !important;\n\tpadding: 0 !important;\n}\n\n.button-vue.search-messages--close.button-vue--icon-only {\n\tposition: absolute;\n\twidth: auto;\n\theight: auto;\n\tz-index: 5;\n\tinset-inline-end: 35px;\n\tinset-inline-start: auto;\n\tbox-shadow: none !important;\n\tbackground: transparent !important;\n\tborder: none !important;\n\tpadding: 0 !important;\n}\n\n.button-reset-filter {\n\tmargin-inline-end: 10px;\n}\n\n.filter-changed {\n\twidth: 6px;\n\theight: 6px;\n\tbackground: var(--color-error);\n\tposition: absolute;\n\tz-index: 10;\n\tinset-inline-end: 12px;\n\tborder-radius: 50%;\n\ttop: 12px;\n}\n\n.mx-datepicker {\n\twidth:100%;\n}\n\n.filter-buttons {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex-wrap: nowrap;\n\tgap: 4px;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tpadding: 0 5px 5px 5px;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchMessages.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchMessages.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchMessages.vue?vue&type=style&index=0&id=10bea686&prod&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchMessages.vue?vue&type=style&index=0&id=10bea686&prod&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./SearchMessages.vue?vue&type=template&id=10bea686\"\nimport script from \"./SearchMessages.vue?vue&type=script&lang=js\"\nexport * from \"./SearchMessages.vue?vue&type=script&lang=js\"\nimport style0 from \"./SearchMessages.vue?vue&type=style&index=0&id=10bea686&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('AppContentDetails',{staticClass:\"app-content no-message-selected\",class:{ 'no-message-selected--themed': _vm.isThemed, },style:({ 'backgroundImage': _vm.isThemed ? undefined: _vm.backgroundImgSrc, })},[_c('div',{staticClass:\"no-message-selected__heading\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Welcome to {productName} Mail', { productName: _vm.productName }, null, {escape: false}))+\"\\n\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"no-message-selected__text\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Start writing a message by clicking below or select an existing message to display its contents'))+\"\\n\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"no-message-selected__action\"},[_c('NewMessageButtonHeader',{attrs:{\"show-refresh\":false}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<AppContentDetails class=\"app-content no-message-selected\"\n\t\t:class=\"{ 'no-message-selected--themed': isThemed, }\"\n\t\t:style=\"{ 'backgroundImage': isThemed ? undefined: backgroundImgSrc, }\">\n\t\t<div class=\"no-message-selected__heading\">\n\t\t\t{{ t('mail', 'Welcome to {productName} Mail', { productName }, null, {escape: false}) }}\n\t\t</div>\n\t\t<div class=\"no-message-selected__text\">\n\t\t\t{{ t('mail', 'Start writing a message by clicking below or select an existing message to display its contents') }}\n\t\t</div>\n\t\t<div class=\"no-message-selected__action\">\n\t\t\t<NewMessageButtonHeader :show-refresh=\"false\" />\n\t\t</div>\n\t</AppContentDetails>\n</template>\n\n<script>\nimport { generateFilePath } from '@nextcloud/router'\nimport { useIsDarkTheme } from '@nextcloud/vue/composables/useIsDarkTheme'\nimport { NcAppContentDetails as AppContentDetails } from '@nextcloud/vue'\n\nimport NewMessageButtonHeader from './NewMessageButtonHeader.vue'\n\nexport default {\n\tname: 'NoMessageSelected',\n\tcomponents: {\n\t\tNewMessageButtonHeader,\n\t\tAppContentDetails,\n\t},\n\n\tsetup() {\n\t\treturn {\n\t\t\tisDarkTheme: useIsDarkTheme(),\n\t\t}\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tbackgroundImgSrc: this.isDarkTheme\n\t\t\t\t? 'url(\"' + generateFilePath('mail', 'img', 'welcome-connection-dark.png') + '\")'\n\t\t\t\t: 'url(\"' + generateFilePath('mail', 'img', 'welcome-connection-light.png') + '\")',\n\t\t\tisThemed: this.isDarkTheme\n\t\t\t\t? window.getComputedStyle(document.body).getPropertyValue('--color-primary-element') !== '#0091f2'\n\t\t\t\t: window.getComputedStyle(document.body).getPropertyValue('--color-primary-element') !== '#00679e',\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tproductName() {\n\t\t\treturn window?.OC?.theme?.name ?? 'Nextcloud'\n\t\t},\n\t},\n}\n</script>\n<style lang=\"scss\" scoped>\n@use '../../css/fluid';\n\n.no-message-selected {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: flex-start;\n\tjustify-content: center;\n\tgap: calc(var(--default-grid-baseline, 4px) * 2);\n\tpadding-inline-start: 50px;\n\theight: 100%;\n\tmax-width: 100% !important; /* restricted otherwise by stronger selector */\n\n\t@include fluid.background;\n\n\t/** fallback gradient when the theme color isn't standard blue */\n\t&--themed {\n\t\t@include fluid.gradient-background;\n\t}\n\n\t&__heading {\n\t\tfont-weight: bold;\n\t\tfont-size: 20px;\n\t\tline-height: 30px;\n\t}\n\n\t&__text {\n\t\ttext-wrap-style: balance;\n\t\tmax-width: 50%;\n\t}\n\n\t&__action {\n\t\t:deep(button) {\n\t\t\tbox-shadow: 0 2px 10px rgba(0, 0, 0, 0.2)\n\t\t}\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NoMessageSelected.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NoMessageSelected.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NoMessageSelected.vue?vue&type=style&index=0&id=7bdf7289&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NoMessageSelected.vue?vue&type=style&index=0&id=7bdf7289&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./NoMessageSelected.vue?vue&type=template&id=7bdf7289&scoped=true\"\nimport script from \"./NoMessageSelected.vue?vue&type=script&lang=js\"\nexport * from \"./NoMessageSelected.vue?vue&type=script&lang=js\"\nimport style0 from \"./NoMessageSelected.vue?vue&type=style&index=0&id=7bdf7289&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7bdf7289\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('AppContentDetails',{attrs:{\"id\":\"mail-message\"}},[(_vm.loading && _vm.thread.length === 0)?_c('Loading',{attrs:{\"hint\":_vm.t('mail', 'Loading thread')}}):(_vm.error)?_c('Error',{attrs:{\"error\":_vm.error && _vm.error.message ? _vm.error.message : _vm.t('mail', 'Not found'),\"message\":_vm.errorMessage}}):[_c('div',{attrs:{\"id\":\"mail-thread-header\"}},[_c('div',{attrs:{\"id\":\"mail-thread-header-fields\"}},[_c('h2',{attrs:{\"dir\":\"auto\",\"title\":_vm.threadSubject}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.threadSubject)+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),(_vm.thread.length)?_c('div',{ref:\"avatarHeader\",staticClass:\"avatar-header\"},[_vm._l((_vm.threadParticipants.slice(0, _vm.participantsToDisplay)),function(participant){return _c('RecipientBubble',{key:participant.email,attrs:{\"email\":participant.email,\"label\":participant.label}})}),_vm._v(\" \"),(_vm.threadParticipants.length > _vm.participantsToDisplay)?_c('Popover',{staticClass:\"avatar-more\",scopedSlots:_vm._u([{key:\"trigger\",fn:function(){return [_c('span',{staticClass:\"avatar-more\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.moreParticipantsString)+\"\\n\\t\\t\\t\\t\\t\\t\\t\")])]},proxy:true}],null,false,184353592)},[_vm._v(\" \"),_vm._l((_vm.threadParticipants.slice(_vm.participantsToDisplay)),function(participant){return _c('RecipientBubble',{key:participant.email,attrs:{\"title\":participant.email,\"email\":participant.email,\"label\":participant.label}})})],2):_vm._e(),_vm._v(\" \"),_vm._l((_vm.threadParticipants.slice(_vm.participantsToDisplay)),function(participant){return _c('RecipientBubble',{key:participant.email,staticClass:\"avatar-hidden\",attrs:{\"email\":participant.email,\"label\":participant.label}})})],2):_vm._e()])]),_vm._v(\" \"),(_vm.showSummaryBox)?_c('ThreadSummary',{attrs:{\"loading\":_vm.summaryLoading,\"summary\":_vm.summaryText}}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.thread),function(env,index){return _c('ThreadEnvelope',{key:env.databaseId,attrs:{\"envelope\":env,\"mailbox-id\":_vm.$route.params.mailboxId,\"thread-subject\":_vm.threadSubject,\"expanded\":_vm.expandedThreads.includes(env.databaseId),\"full-height\":_vm.thread.length === 1,\"thread-index\":index},on:{\"delete\":function($event){return _vm.$emit('delete', env.databaseId)},\"loaded\":_vm.addLoadedThread,\"move\":function($event){return _vm.onMove(env.databaseId)},\"toggle-expand\":function($event){return _vm.toggleExpand(env.databaseId)},\"print\":_vm.print}})})]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-only\n */\nimport { translate as t } from '@nextcloud/l10n'\n\nconst smileys = [':-(', ':-/', ':-\\\\', ':-|', \":'-(\", \":'-/\", \":'-\\\\\", \":'-|\"]\n\nconst getRandomSmiley = () => {\n\treturn smileys[Math.floor(Math.random() * smileys.length)]\n}\n\n/**\n * @param {object} folder a folder\n * @return {string}\n */\nexport const getRandomFolderErrorMessage = (folder) => {\n\tconst folderName = folder.get('name')\n\tconst rawTexts = [\n\t\tt('mail', 'Could not load {tag}{name}{endtag}', {\n\t\t\tname: folderName,\n\t\t}),\n\t\tt('mail', 'Could not load {tag}{name}{endtag}', {\n\t\t\tname: folderName,\n\t\t}),\n\t\tt('mail', 'There was a problem loading {tag}{name}{endtag}', {\n\t\t\tname: folderName,\n\t\t}),\n\t]\n\tconst texts = rawTexts.map((text) => text.replace('{tag}', '<strong>').replace('{endtag}', '</strong>'))\n\tconst text = texts[Math.floor(Math.random() * texts.length)]\n\treturn text + ' ' + getRandomSmiley()\n}\n\n/**\n * @return {string}\n */\nexport const getRandomMessageErrorMessage = () => {\n\tconst texts = [\n\t\tt('mail', 'Could not load your message'),\n\t\tt('mail', 'Could not load the desired message'),\n\t\tt('mail', 'Could not load the message'),\n\t]\n\tconst text = texts[Math.floor(Math.random() * texts.length)]\n\treturn text + ' ' + getRandomSmiley()\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Popover',{staticClass:\"contact-popover\",attrs:{\"popup-role\":\"dialog\"},scopedSlots:_vm._u([{key:\"trigger\",fn:function({ attrs }){return [_c('UserBubble',_vm._b({attrs:{\"display-name\":_vm.label,\"size\":26,\"avatar-image\":_vm.avatarUrlAbsolute},on:{\"click\":_vm.onClickOpenContactDialog}},'UserBubble',attrs,false))]}}])},[_vm._v(\" \"),[_c('div',{staticClass:\"contact-wrapper\"},[_c('p',{staticClass:\"contact-popover__email\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.email)+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),(_vm.contactsWithEmail && _vm.contactsWithEmail.length > 0)?_c('ButtonVue',{staticClass:\"contact-existing\",attrs:{\"type\":\"tertiary-no-background\",\"aria-label\":_vm.t('mail', 'Contacts with this address')},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconDetails',{attrs:{\"size\":20}})]},proxy:true}],null,false,2417736673)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Contacts with this address'))+\": \"+_vm._s(_vm.contactsWithEmailComputed)+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.selection === _vm.ContactSelectionStateEnum.select)?_c('div',{staticClass:\"contact-menu\"},[_c('ButtonVue',{attrs:{\"aria-label\":_vm.t('mail', 'Reply'),\"type\":\"tertiary-no-background\"},on:{\"click\":_vm.onClickReply},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconReply',{attrs:{\"size\":20}})]},proxy:true}],null,false,806667217)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Reply'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('ButtonVue',{attrs:{\"type\":\"tertiary-no-background\",\"aria-label\":_vm.t('mail', 'Add to Contact')},on:{\"click\":function($event){_vm.selection = _vm.ContactSelectionStateEnum.existing}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconUser',{attrs:{\"size\":20}})]},proxy:true}],null,false,207893778)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Add to Contact'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('ButtonVue',{attrs:{\"type\":\"tertiary-no-background\",\"aria-label\":_vm.t('mail', 'New Contact')},on:{\"click\":function($event){_vm.selection = _vm.ContactSelectionStateEnum.new}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconAdd',{attrs:{\"size\":20}})]},proxy:true}],null,false,2388353250)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'New Contact'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('ButtonVue',{attrs:{\"type\":\"tertiary-no-background\",\"aria-label\":_vm.t('mail', 'Copy to clipboard')},on:{\"click\":_vm.onClickCopyToClipboard},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconClipboard',{attrs:{\"size\":20}})]},proxy:true}],null,false,1207266895)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Copy to clipboard'))+\"\\n\\t\\t\\t\\t\")])],1):_c('div',{staticClass:\"contact-input-wrapper\"},[(_vm.selection === _vm.ContactSelectionStateEnum.existing)?_c('NcSelect',{ref:\"contact-selection-label\",attrs:{\"id\":\"contact-selection\",\"options\":_vm.selectableContacts,\"taggable\":true,\"track-by\":\"label\",\"multiple\":false,\"placeholder\":_vm.t('name', 'Contact name …'),\"clear-search-on-select\":true,\"show-no-options\":false,\"append-to-body\":false},on:{\"search\":_vm.onAutocomplete},model:{value:(_vm.selectedContact),callback:function ($$v) {_vm.selectedContact=$$v},expression:\"selectedContact\"}}):(_vm.selection === _vm.ContactSelectionStateEnum.new)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newContactName),expression:\"newContactName\"}],domProps:{\"value\":(_vm.newContactName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.newContactName=$event.target.value}}}):_vm._e()],1),_vm._v(\" \"),(_vm.selection !== _vm.ContactSelectionStateEnum.select)?_c('div',[_c('ButtonVue',{attrs:{\"type\":\"tertiary-no-background\",\"aria-label\":_vm.t('mail', 'Go back')},on:{\"click\":function($event){_vm.selection = _vm.ContactSelectionStateEnum.select}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconClose',{attrs:{\"size\":20}})]},proxy:true}],null,false,2888946197)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Go back'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('ButtonVue',{directives:[{name:\"close-popover\",rawName:\"v-close-popover\"}],attrs:{\"disabled\":_vm.addButtonDisabled,\"type\":\"tertiary-no-background\",\"aria-label\":_vm.t('mail', 'Add')},on:{\"click\":_vm.onClickAddToContact},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconCheck',{attrs:{\"size\":20}})]},proxy:true}],null,false,905113861)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Add'))+\"\\n\\t\\t\\t\\t\")])],1):_vm._e()],1)]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<Popover popup-role=\"dialog\" class=\"contact-popover\">\n\t\t<template #trigger=\"{ attrs }\">\n\t\t\t<UserBubble v-bind=\"attrs\"\n\t\t\t\t:display-name=\"label\"\n\t\t\t\t:size=\"26\"\n\t\t\t\t:avatar-image=\"avatarUrlAbsolute\"\n\t\t\t\t@click=\"onClickOpenContactDialog\" />\n\t\t</template>\n\t\t<template>\n\t\t\t<div class=\"contact-wrapper\">\n\t\t\t\t<p class=\"contact-popover__email\">\n\t\t\t\t\t{{ email }}\n\t\t\t\t</p>\n\t\t\t\t<ButtonVue v-if=\"contactsWithEmail && contactsWithEmail.length > 0\"\n\t\t\t\t\ttype=\"tertiary-no-background\"\n\t\t\t\t\t:aria-label=\"t('mail', 'Contacts with this address')\"\n\t\t\t\t\tclass=\"contact-existing\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconDetails :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Contacts with this address') }}: {{ contactsWithEmailComputed }}\n\t\t\t\t</ButtonVue>\n\t\t\t\t<div v-if=\"selection === ContactSelectionStateEnum.select\" class=\"contact-menu\">\n\t\t\t\t\t<ButtonVue :aria-label=\"t('mail', 'Reply')\"\n\t\t\t\t\t\ttype=\"tertiary-no-background\"\n\t\t\t\t\t\t@click=\"onClickReply\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<IconReply :size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ t('mail', 'Reply') }}\n\t\t\t\t\t</ButtonVue>\n\t\t\t\t\t<ButtonVue type=\"tertiary-no-background\"\n\t\t\t\t\t\t:aria-label=\"t('mail', 'Add to Contact')\"\n\t\t\t\t\t\t@click=\"selection = ContactSelectionStateEnum.existing\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<IconUser :size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ t('mail', 'Add to Contact') }}\n\t\t\t\t\t</ButtonVue>\n\t\t\t\t\t<ButtonVue type=\"tertiary-no-background\"\n\t\t\t\t\t\t:aria-label=\"t('mail', 'New Contact')\"\n\t\t\t\t\t\t@click=\"selection = ContactSelectionStateEnum.new\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<IconAdd :size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ t('mail', 'New Contact') }}\n\t\t\t\t\t</ButtonVue>\n\t\t\t\t\t<ButtonVue type=\"tertiary-no-background\"\n\t\t\t\t\t\t:aria-label=\"t('mail', 'Copy to clipboard')\"\n\t\t\t\t\t\t@click=\"onClickCopyToClipboard\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<IconClipboard :size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ t('mail', 'Copy to clipboard') }}\n\t\t\t\t\t</ButtonVue>\n\t\t\t\t</div>\n\t\t\t\t<div v-else class=\"contact-input-wrapper\">\n\t\t\t\t\t<NcSelect v-if=\"selection === ContactSelectionStateEnum.existing\"\n\t\t\t\t\t\tid=\"contact-selection\"\n\t\t\t\t\t\tref=\"contact-selection-label\"\n\t\t\t\t\t\tv-model=\"selectedContact\"\n\t\t\t\t\t\t:options=\"selectableContacts\"\n\t\t\t\t\t\t:taggable=\"true\"\n\t\t\t\t\t\ttrack-by=\"label\"\n\t\t\t\t\t\t:multiple=\"false\"\n\t\t\t\t\t\t:placeholder=\"t('name', 'Contact name …')\"\n\t\t\t\t\t\t:clear-search-on-select=\"true\"\n\t\t\t\t\t\t:show-no-options=\"false\"\n\t\t\t\t\t\t:append-to-body=\"false\"\n\t\t\t\t\t\t@search=\"onAutocomplete\" />\n\n\t\t\t\t\t<input v-else-if=\"selection === ContactSelectionStateEnum.new\" v-model=\"newContactName\">\n\t\t\t\t</div>\n\t\t\t\t<div v-if=\"selection !== ContactSelectionStateEnum.select\">\n\t\t\t\t\t<ButtonVue type=\"tertiary-no-background\"\n\t\t\t\t\t\t:aria-label=\"t('mail', 'Go back')\"\n\t\t\t\t\t\t@click=\"selection = ContactSelectionStateEnum.select\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<IconClose :size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ t('mail', 'Go back') }}\n\t\t\t\t\t</ButtonVue>\n\n\t\t\t\t\t<ButtonVue v-close-popover\n\t\t\t\t\t\t:disabled=\"addButtonDisabled\"\n\t\t\t\t\t\ttype=\"tertiary-no-background\"\n\t\t\t\t\t\t:aria-label=\"t('mail', 'Add')\"\n\t\t\t\t\t\t@click=\"onClickAddToContact\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<IconCheck :size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ t('mail', 'Add') }}\n\t\t\t\t\t</ButtonVue>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t</Popover>\n</template>\n\n<script>\nimport { generateUrl } from '@nextcloud/router'\n\nimport { NcUserBubble as UserBubble, NcPopover as Popover, NcSelect, NcButton as ButtonVue } from '@nextcloud/vue'\n\nimport IconReply from 'vue-material-design-icons/ReplyOutline.vue'\nimport IconAdd from 'vue-material-design-icons/Plus.vue'\nimport IconClose from 'vue-material-design-icons/CloseOutline.vue'\nimport IconClipboard from 'vue-material-design-icons/ClipboardTextOutline.vue'\nimport IconDetails from 'vue-material-design-icons/InformationOutline.vue'\nimport IconCheck from 'vue-material-design-icons/Check.vue'\nimport IconUser from 'vue-material-design-icons/AccountOutline.vue'\nimport { fetchAvatarUrlMemoized } from '../service/AvatarService.js'\nimport { addToContact, findMatches, newContact, autoCompleteByName } from '../service/ContactIntegrationService.js'\nimport uniqBy from 'lodash/fp/uniqBy.js'\nimport debouncePromise from 'debounce-promise'\nimport { showError, showSuccess } from '@nextcloud/dialogs'\n\nconst debouncedSearch = debouncePromise(autoCompleteByName, 500)\n\nconst ContactSelectionStateEnum = Object.freeze({ new: 1, existing: 2, select: 3 })\n\nexport default {\n\tname: 'RecipientBubble',\n\tcomponents: {\n\t\tButtonVue,\n\t\tUserBubble,\n\t\tPopover,\n\t\tNcSelect,\n\t\tIconReply,\n\t\tIconUser,\n\t\tIconAdd,\n\t\tIconClose,\n\t\tIconClipboard,\n\t\tIconDetails,\n\t\tIconCheck,\n\t},\n\tprops: {\n\t\temail: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tlabel: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tavatarUrl: undefined,\n\t\t\tloadingContacts: false,\n\t\t\tcontactsWithEmail: [],\n\t\t\tautoCompleteContacts: [],\n\t\t\tselectedContact: null,\n\t\t\tnewContactName: '',\n\t\t\tContactSelectionStateEnum,\n\t\t\tselection: ContactSelectionStateEnum.select,\n\t\t\tisContactPopoverOpen: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\tavatarUrlAbsolute() {\n\t\t\tif (!this.avatarUrl) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif (this.avatarUrl.startsWith('http')) {\n\t\t\t\treturn this.avatarUrl\n\t\t\t}\n\n\t\t\t// Make it an absolute URL because the user bubble component doesn't work with relative URLs\n\t\t\treturn window.location.protocol + '//' + window.location.host + generateUrl(this.avatarUrl)\n\t\t},\n\t\tselectableContacts() {\n\t\t\treturn this.autoCompleteContacts\n\t\t\t\t.map((contact) => ({ ...contact, label: contact.label }))\n\t\t},\n\t\tcontactsWithEmailComputed() {\n\t\t\tlet additional = ''\n\t\t\tif (this.contactsWithEmail && this.contactsWithEmail.length > 3) {\n\t\t\t\tadditional = ` + ${this.contactsWithEmail.length - 3}`\n\t\t\t}\n\t\t\treturn this.contactsWithEmail.slice(0, 3).map(e => e.label).join(', ').concat(additional)\n\t\t},\n\t\taddButtonDisabled() {\n\t\t\treturn !((this.selection === ContactSelectionStateEnum.existing && this.selectedContact)\n\t\t\t\t\t|| (this.selection === ContactSelectionStateEnum.new && this.newContactName.trim() !== ''))\n\t\t},\n\t},\n\tasync mounted() {\n\t\ttry {\n\t\t\tthis.avatarUrl = await fetchAvatarUrlMemoized(this.email)\n\t\t} catch (error) {\n\t\t\tconsole.debug('no avatar for ' + this.email, {\n\t\t\t\terror,\n\t\t\t})\n\t\t}\n\t\tthis.newContactName = this.label\n\t},\n\tmethods: {\n\t\tasync onClickCopyToClipboard() {\n\t\t\ttry {\n\t\t\t\tawait navigator.clipboard.writeText(this.email)\n\t\t\t\tshowSuccess(t('mail', 'Copied email address to clipboard'))\n\t\t\t} catch (e) {\n\t\t\t\tshowError(t('mail', 'Could not copy email address to clipboard'))\n\t\t\t}\n\t\t},\n\t\tonClickReply() {\n\t\t\tthis.$router.push({\n\t\t\t\tname: 'message',\n\t\t\t\tparams: {\n\t\t\t\t\tmailboxId: this.$route.params.mailboxId,\n\t\t\t\t\tthreadId: 'mailto',\n\t\t\t\t},\n\t\t\t\tquery: {\n\t\t\t\t\tto: this.email,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\tonClickOpenContactDialog() {\n\t\t\tif (this.contactsWithEmail.length === 0) { // TODO fix me\n\t\t\t\tfindMatches(this.email).then(res => {\n\t\t\t\t\tif (res && res.length > 0) {\n\t\t\t\t\t\tthis.contactsWithEmail = res\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tonClickAddToContact() {\n\t\t\tif (this.selection === ContactSelectionStateEnum.new) {\n\t\t\t\tif (this.newContactName !== '') {\n\t\t\t\t\tnewContact(this.newContactName.trim(), this.email).then(res => console.debug('ContactIntegration', res))\n\t\t\t\t}\n\t\t\t} else if (this.selection === ContactSelectionStateEnum.existing) {\n\t\t\t\tif (this.selectedContact) {\n\t\t\t\t\taddToContact(this.selectedContact.id, this.email).then(res => console.debug('ContactIntegration', res))\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonAutocomplete(term) {\n\t\t\tif (term === undefined || term === '') {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tdebouncedSearch(term).then((results) => {\n\t\t\t\tthis.autoCompleteContacts = uniqBy('id')(this.autoCompleteContacts.concat(results))\n\t\t\t})\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.user-bubble__title {\n\tmax-width: 30vw;\n}\n\n.contact-menu {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n}\n\n.contact-popover {\n\tdisplay: flex;\n\n\t&__email {\n\t\ttext-align: center;\n\t}\n}\n\n.contact-wrapper {\n\tpadding:10px;\n\tmin-width: 300px;\n\n\ta {\n\t\topacity: 0.7;\n\t}\n\ta:hover {\n\t\topacity: 1;\n\t}\n}\n\n.contact-input-wrapper {\n\tmargin-top: 10px;\n    margin-bottom: 10px;\n\tinput {\n\t\twidth: 100%;\n\t}\n}\n\n.contact-existing {\n\tfont-size: small !important;\n}\n\n:deep(.button-vue__text) {\n\tfont-weight: normal !important;\n}\n\n:deep(.vs__dropdown-menu) {\n\t// Make the dropdown scrollable\n\tmax-height: 100px;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecipientBubble.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecipientBubble.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecipientBubble.vue?vue&type=style&index=0&id=ede1b5f6&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecipientBubble.vue?vue&type=style&index=0&id=ede1b5f6&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./RecipientBubble.vue?vue&type=template&id=ede1b5f6&scoped=true\"\nimport script from \"./RecipientBubble.vue?vue&type=script&lang=js\"\nexport * from \"./RecipientBubble.vue?vue&type=script&lang=js\"\nimport style0 from \"./RecipientBubble.vue?vue&type=style&index=0&id=ede1b5f6&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ede1b5f6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"envelope\",staticClass:\"envelope\",class:{'envelope--expanded' : _vm.expanded }},[(_vm.showFollowUpHeader)?_c('div',{staticClass:\"envelope__follow-up-header\"},[_c('span',{staticClass:\"envelope__follow-up-header__date\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', \"You've sent this message on {date}\", { date: _vm.formattedSentAt }))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"envelope__follow-up-header__actions\"},[_c('NcButton',{on:{\"click\":_vm.onDisableFollowUpReminder}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Disable reminder'))+\"\\n\\t\\t\\t\")])],1)]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"envelope__header\"},[_c('div',{staticClass:\"envelope__header__avatar\"},[(_vm.envelope.from && _vm.envelope.from[0])?_c('Avatar',{staticClass:\"envelope__header__avatar-avatar\",attrs:{\"email\":_vm.envelope.from[0].email,\"display-name\":_vm.envelope.from[0].label,\"disable-tooltip\":true,\"size\":40,\"fetch-avatar\":_vm.envelope.fetchAvatarFromClient,\"avatar\":_vm.envelope.avatar}}):_vm._e(),_vm._v(\" \"),(_vm.isImportant)?_c('div',{staticClass:\"app-content-list-item-star icon-important\",attrs:{\"data-starred\":_vm.isImportant ? 'true' : 'false'},domProps:{\"innerHTML\":_vm._s(_vm.importantSvg)},on:{\"click\":function($event){$event.preventDefault();_vm.hasWriteAcl ? _vm.onToggleImportant() : false}}}):_vm._e(),_vm._v(\" \"),(_vm.envelope.flags.flagged)?_c('IconFavorite',{staticClass:\"app-content-list-item-star favorite-icon-style\",attrs:{\"fill-color\":\"#f9cf3d\",\"size\":18,\"data-starred\":_vm.envelope.flags.flagged ? 'true' : 'false'},on:{\"click\":function($event){$event.preventDefault();_vm.hasWriteAcl ? _vm.onToggleFlagged() : false}}}):_vm._e(),_vm._v(\" \"),(_vm.envelope.flags.$junk)?_c('JunkIcon',{staticClass:\"app-content-list-item-star junk-icon-style\",attrs:{\"size\":18,\"data-starred\":_vm.envelope.flags.$junk ? 'true' : 'false'},on:{\"click\":function($event){$event.preventDefault();_vm.hasWriteAcl ? _vm.onToggleJunk() : false}}}):_vm._e()],1),_vm._v(\" \"),_c('router-link',{staticClass:\"left\",class:{seen: _vm.envelope.flags.seen},attrs:{\"to\":_vm.route,\"event\":\"\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.$emit('toggle-expand', $event)}}},[_c('div',{staticClass:\"envelope__header__left__sender-subject-tags\"},[_c('div',{staticClass:\"sender\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.envelope.from && _vm.envelope.from[0] ? _vm.envelope.from[0].label : '')+\"\\n\\t\\t\\t\\t\\t\"),_c('p',{staticClass:\"sender__email\",style:({ 'color': _vm.senderEmailColor })},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.envelope.from && _vm.envelope.from[0] ? _vm.envelope.from[0].email : '')+\"\\n\\t\\t\\t\\t\\t\")])]),_vm._v(\" \"),(_vm.hasChangedSubject)?_c('div',{staticClass:\"subline\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.cleanSubject)+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.showSubline)?_c('div',{staticClass:\"subline\"},[_c('span',{staticClass:\"preview\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.isEncrypted ? _vm.t('mail', 'Encrypted message') : _vm.envelope.previewText)+\"\\n\\t\\t\\t\\t\\t\")])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"tagline\"},_vm._l((_vm.tags),function(tag){return _c('div',{key:tag.id,staticClass:\"tag-group\"},[_c('div',{staticClass:\"tag-group__bg\",style:({'background-color': tag.color})}),_vm._v(\" \"),_c('span',{staticClass:\"tag-group__label\",style:({color: tag.color})},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.translateTagDisplayName(tag))+\"\\n\\t\\t\\t\\t\\t\\t\")])])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"envelope__header__left__unsubscribe\"},[(_vm.message && _vm.message.dkimValid && (_vm.message.unsubscribeUrl || _vm.message.unsubscribeMailto))?_c('NcButton',{staticClass:\"envelope__header__unsubscribe\",attrs:{\"type\":\"tertiary\"},on:{\"click\":function($event){_vm.showListUnsubscribeConfirmation = true}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Unsubscribe'))+\"\\n\\t\\t\\t\\t\")]):_vm._e()],1)]),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_c('Moment',{staticClass:\"timestamp\",attrs:{\"timestamp\":_vm.envelope.dateInt}}),_vm._v(\" \"),(_vm.expanded)?[(_vm.smimeData.isSigned || _vm.smimeData.isEncrypted)?_c('NcActions',{scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.smimeData.isEncrypted)?_c('LockPlusIcon',{attrs:{\"size\":20,\"fill-color\":\"#008000\"}}):(_vm.smimeData.signatureIsValid)?_c('LockIcon',{attrs:{\"size\":20,\"fill-color\":\"#008000\"}}):_c('LockOffIcon',{attrs:{\"size\":20,\"fill-color\":\"red\"}})]},proxy:true}],null,false,3711721427)},[_vm._v(\" \"),_c('NcActionText',{staticClass:\"smime-text\",attrs:{\"name\":_vm.smimeHeading}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.smimeMessage)+\"\\n\\t\\t\\t\\t\\t\")])],1):_vm._e(),_vm._v(\" \"),_c('NcActions',{attrs:{\"inline\":_vm.inlineMenuSize}},[_c('NcActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){return _vm.onReply('', false)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.hasMultipleRecipients)?_c('ReplyAllIcon',{attrs:{\"title\":_vm.t('mail', 'Reply all'),\"size\":20}}):_c('ReplyIcon',{attrs:{\"title\":_vm.t('mail', 'Reply'),\"size\":20}})]},proxy:true}],null,false,1812719128)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Reply'))+\"\\n\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),(_vm.hasMultipleRecipients)?_c('NcActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){return _vm.onReply('', false, true)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ReplyIcon',{attrs:{\"title\":_vm.t('mail', 'Reply to sender only'),\"size\":20}})]},proxy:true}],null,false,1847095553)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Reply to sender only'))+\"\\n\\t\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.hasWriteAcl && (_vm.inlineMenuSize >= 2 || !_vm.moreActionsOpen))?_c('NcActionButton',{staticClass:\"action--primary\",attrs:{\"type\":\"tertiary-no-background\",\"aria-label\":_vm.envelope.flags.flagged ? _vm.t('mail', 'Mark as unfavorite') : _vm.t('mail', 'Mark as favorite'),\"name\":_vm.envelope.flags.flagged ? _vm.t('mail', 'Mark as unfavorite') : _vm.t('mail', 'Mark as favorite'),\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.onToggleFlagged.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.showFavoriteIconVariant)?_c('IconFavorite',{attrs:{\"size\":20}}):_c('StarOutline',{attrs:{\"size\":20}})]},proxy:true}],null,false,2036330618)}):_vm._e(),_vm._v(\" \"),(_vm.hasSeenAcl && (_vm.inlineMenuSize >= 3 || !_vm.moreActionsOpen))?_c('NcActionButton',{staticClass:\"action--primary\",attrs:{\"type\":\"tertiary-no-background\",\"aria-label\":_vm.envelope.flags.seen ? _vm.t('mail', 'Mark as unread') : _vm.t('mail', 'Mark as read'),\"name\":_vm.envelope.flags.seen ? _vm.t('mail', 'Mark as unread') : _vm.t('mail', 'Mark as read'),\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.onToggleSeen.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.showImportantIconVariant)?_c('EmailRead',{attrs:{\"size\":20}}):_c('EmailUnread',{attrs:{\"size\":20}})]},proxy:true}],null,false,939729496)}):_vm._e(),_vm._v(\" \"),(_vm.showArchiveButton && _vm.hasArchiveAcl && (_vm.inlineMenuSize >= 4 || !_vm.moreActionsOpen))?_c('NcActionButton',{attrs:{\"close-after-click\":true,\"name\":_vm.t('mail', 'Archive message'),\"disabled\":_vm.disableArchiveButton,\"aria-label\":_vm.t('mail', 'Archive message'),\"type\":\"tertiary-no-background\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onArchive.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ArchiveIcon',{attrs:{\"title\":_vm.t('mail', 'Archive message'),\"size\":20}})]},proxy:true}],null,false,3586051918)}):_vm._e(),_vm._v(\" \"),(_vm.hasDeleteAcl && (_vm.inlineMenuSize >= 5 || !_vm.moreActionsOpen))?_c('NcActionButton',{attrs:{\"close-after-click\":true,\"name\":_vm.t('mail', 'Delete message'),\"aria-label\":_vm.t('mail', 'Delete message'),\"type\":\"tertiary-no-background\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onDelete.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('DeleteIcon',{attrs:{\"title\":_vm.t('mail', 'Delete message'),\"size\":20}})]},proxy:true}],null,false,698101614)}):_vm._e(),_vm._v(\" \"),_c('MenuEnvelope',{staticClass:\"app-content-list-item-menu\",attrs:{\"envelope\":_vm.envelope,\"mailbox\":_vm.mailbox,\"with-select\":false,\"with-show-source\":true,\"more-actions-open\":_vm.moreActionsOpen},on:{\"update:moreActionsOpen\":function($event){_vm.moreActionsOpen=$event},\"update:more-actions-open\":function($event){_vm.moreActionsOpen=$event},\"reply\":function($event){return _vm.onReply('', false, false)},\"delete\":function($event){return _vm.$emit('delete',_vm.envelope.databaseId)},\"show-source-modal\":_vm.onShowSourceModal,\"open-tag-modal\":_vm.onOpenTagModal,\"open-move-modal\":_vm.onOpenMoveModal,\"open-event-modal\":_vm.onOpenEventModal,\"open-task-modal\":_vm.onOpenTaskModal,\"open-translation-modal\":_vm.onOpenTranslationModal,\"open-mail-filter-from-envelope\":function($event){_vm.showMailFilterFromEnvelope = true},\"print\":_vm.onPrint}})],1),_vm._v(\" \"),(_vm.showSourceModal)?_c('SourceModal',{attrs:{\"raw-message\":_vm.rawMessage},on:{\"close\":_vm.onCloseSourceModal}}):_vm._e(),_vm._v(\" \"),(_vm.showMoveModal)?_c('MoveModal',{attrs:{\"account\":_vm.account,\"envelopes\":[_vm.envelope]},on:{\"move\":_vm.onMove,\"close\":_vm.onCloseMoveModal}}):_vm._e(),_vm._v(\" \"),(_vm.showEventModal)?_c('EventModal',{attrs:{\"envelope\":_vm.envelope},on:{\"close\":_vm.onCloseEventModal}}):_vm._e(),_vm._v(\" \"),(_vm.showTaskModal)?_c('TaskModal',{attrs:{\"envelope\":_vm.envelope},on:{\"close\":_vm.onCloseTaskModal}}):_vm._e(),_vm._v(\" \"),(_vm.showTagModal)?_c('TagModal',{attrs:{\"account\":_vm.account,\"envelopes\":[_vm.envelope]},on:{\"close\":_vm.onCloseTagModal}}):_vm._e(),_vm._v(\" \"),(_vm.showTranslationModal)?_c('TranslationModal',{attrs:{\"rich-parameters\":{},\"message\":_vm.plainTextBody},on:{\"close\":_vm.onCloseTranslationModal}}):_vm._e(),_vm._v(\" \"),(_vm.showMailFilterFromEnvelope)?_c('MailFilterFromEnvelope',{attrs:{\"account\":_vm.account,\"envelope\":_vm.envelope},on:{\"close\":function($event){_vm.showMailFilterFromEnvelope = false}}}):_vm._e()]:_vm._e()],2)],1),_vm._v(\" \"),(_vm.loading === _vm.Loading.Skeleton)?_c('MessageLoadingSkeleton'):_vm._e(),_vm._v(\" \"),(_vm.message)?_c('Message',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading === _vm.Loading.Done),expression:\"loading === Loading.Done\"}],attrs:{\"envelope\":_vm.envelope,\"message\":_vm.message,\"full-height\":_vm.fullHeight,\"smart-replies\":_vm.showFollowUpHeader ? [] : _vm.smartReplies,\"reply-button-label\":_vm.replyButtonLabel},on:{\"load\":_vm.onMessageLoaded,\"translate\":_vm.onOpenTranslationModal,\"reply\":(body) => _vm.onReply(body, _vm.showFollowUpHeader)}}):(_vm.error)?_c('Error',{attrs:{\"error\":_vm.error.message || _vm.t('mail', 'Not found'),\"message\":\"\",\"data\":_vm.error,\"auto-margin\":true,\"role\":\"alert\"}}):_vm._e(),_vm._v(\" \"),(_vm.message && _vm.message.unsubscribeUrl && _vm.message.isOneClickUnsubscribe && _vm.showListUnsubscribeConfirmation)?_c('ConfirmModal',{attrs:{\"confirm-text\":_vm.t('mail', 'Unsubscribe'),\"title\":_vm.t('mail', 'Unsubscribe via link')},on:{\"cancel\":function($event){_vm.showListUnsubscribeConfirmation = false},\"confirm\":_vm.unsubscribeViaOneClick}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Unsubscribing will stop all messages from the mailing list {sender}', { sender: _vm.from }))+\"\\n\\t\")]):(_vm.message && _vm.message.unsubscribeUrl && _vm.showListUnsubscribeConfirmation)?_c('ConfirmModal',{attrs:{\"confirm-text\":_vm.t('mail', 'Unsubscribe'),\"confirm-url\":_vm.message.unsubscribeUrl,\"title\":_vm.t('mail', 'Unsubscribe via link')},on:{\"cancel\":function($event){_vm.showListUnsubscribeConfirmation = false},\"confirm\":function($event){_vm.showListUnsubscribeConfirmation = false}}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Unsubscribing will stop all messages from the mailing list {sender}', { sender: _vm.from }))+\"\\n\\t\")]):(_vm.message && _vm.message.unsubscribeMailto && _vm.showListUnsubscribeConfirmation)?_c('ConfirmModal',{attrs:{\"confirm-text\":_vm.t('mail', 'Send unsubscribe email'),\"title\":_vm.t('mail', 'Unsubscribe via email'),\"disabled\":_vm.unsubscribing},on:{\"cancel\":function($event){_vm.showListUnsubscribeConfirmation = false},\"confirm\":_vm.unsubscribeViaMailto}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Unsubscribing will stop all messages from the mailing list {sender}', { sender: _vm.from }))+\"\\n\\t\")]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageLoadingSkeleton.vue?vue&type=style&index=0&id=f20a6902&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageLoadingSkeleton.vue?vue&type=style&index=0&id=f20a6902&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./MessageLoadingSkeleton.vue?vue&type=template&id=f20a6902&scoped=true\"\nimport script from \"./MessageLoadingSkeleton.vue?vue&type=script&lang=js\"\nexport * from \"./MessageLoadingSkeleton.vue?vue&type=script&lang=js\"\nimport style0 from \"./MessageLoadingSkeleton.vue?vue&type=style&index=0&id=f20a6902&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f20a6902\",\n  null\n  \n)\n\nexport default component.exports","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div class=\"message-loading-skeleton\">\n\t\t<div class=\"message-loading-skeleton__body\">\n\t\t\t<div class=\"message-loading-skeleton__body__line-one\">\n\t\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t\t<div class=\"message-loading-skeleton__body__line-two\">\n\t\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t\t<div class=\"message-loading-skeleton__body__line-three\">\n\t\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t\t<div class=\"message-loading-skeleton__body__line-four\">\n\t\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t\t<div class=\"message-loading-skeleton__body__line-five\">\n\t\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t\t<div class=\"message-loading-skeleton__body__line-six\">\n\t\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\nexport default {\n\tname: 'MessageLoadingSkeleton',\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n/* skeleton */\n.message-loading-skeleton {\n\tdisplay: flex;\n\tflex-grow: 1;\n\talign-items: flex-start;\n\tpadding: 8px;\n\twidth: 100%;\n\t&__body {\n\t\tmax-height: 500px;\n\t\tmax-width: 1200px;\n\t\tflex: 1 1 100%;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tmargin-inline-start: 50px;\n\t\t&__line-one,\n\t\t&__line-two,\n\t\t&__line-three,\n\t\t&__line-four,\n\t\t&__line-five,\n\t\t&__line-six {\n\t\t\twhite-space: nowrap;\n\t\t\theight: 13px;\n\t\t\tbackground: linear-gradient(-45deg, var(--color-background-hover), var(--color-background-dark), var(--color-background-darker), var(--color-placeholder-light));\n\t\t\tbackground-size: 400% 400%;\n\t\t\tanimation: gradient 3s ease-in infinite;\n\t\t}\n\t\t&__line-one {\n\t\t\twidth: 10%;\n\t\t\tmargin-bottom: 25px;\n\t\t}\n\t\t&__line-two {\n\t\t\twidth: 80%;\n\t\t\tmargin-bottom: 6px;\n\t\t}\n\t\t&__line-three {\n\t\t\twidth: 50%;\n\t\t\tmargin-bottom: 6px;\n\t\t}\n\t\t&__line-four {\n\t\t\twidth: 70%;\n\t\t\tmargin-bottom: 6px;\n\t\t}\n\t\t&__line-five {\n\t\t\twidth: 40%;\n\t\t\tmargin-bottom: 25px;\n\t\t}\n\t\t&__line-six {\n\t\t\twidth: 30%;\n\t\t}\n\t}\n\t@keyframes gradient {\n\t\t 0% {\n\t\t\t background-position: 0% 50%;\n\t\t }\n\t\t 50% {\n\t\t\t background-position: 100% 50%;\n\t\t }\n\t\t 100% {\n\t\t\t background-position: 0% 50%;\n\t\t }\n\t }\n}\n\n</style>\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _vm._m(0)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"message-loading-skeleton\"},[_c('div',{staticClass:\"message-loading-skeleton__body\"},[_c('div',{staticClass:\"message-loading-skeleton__body__line-one\"},[_vm._v(\"\\n\\t\\t\\t\\t \\n\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"message-loading-skeleton__body__line-two\"},[_vm._v(\"\\n\\t\\t\\t\\t \\n\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"message-loading-skeleton__body__line-three\"},[_vm._v(\"\\n\\t\\t\\t\\t \\n\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"message-loading-skeleton__body__line-four\"},[_vm._v(\"\\n\\t\\t\\t\\t \\n\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"message-loading-skeleton__body__line-five\"},[_vm._v(\"\\n\\t\\t\\t\\t \\n\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"message-loading-skeleton__body__line-six\"},[_vm._v(\"\\n\\t\\t\\t\\t \\n\\t\\t\")])])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{class:[_vm.message.hasHtmlBody ? 'mail-message-body mail-message-body-html' : 'mail-message-body'],attrs:{\"role\":\"region\",\"aria-label\":_vm.t('mail','Message body')}},[(_vm.message.phishingDetails.warning)?_c('PhishingWarning',{attrs:{\"phishing-data\":_vm.message.phishingDetails.checks}}):_vm._e(),_vm._v(\" \"),(_vm.message.smime.isSigned && !_vm.message.smime.signatureIsValid)?_c('div',{staticClass:\"invalid-signature-warning\"},[_c('LockOffIcon',{staticClass:\"invalid-signature-warning__icon\",attrs:{\"size\":20,\"fill-color\":\"red\"}}),_vm._v(\" \"),_c('p',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Warning: The S/MIME signature of this message is  unverified. The sender might be impersonating someone!'))+\"\\n\\t\\t\")])],1):_vm._e(),_vm._v(\" \"),(_vm.itineraries.length > 0)?_c('div',{staticClass:\"message-itinerary\"},[_c('Itinerary',{attrs:{\"entries\":_vm.itineraries,\"message-id\":_vm.message.messageId}})],1):_vm._e(),_vm._v(\" \"),(_vm.hasCurrentUserPrincipalAndCollections && _vm.message.scheduling.length > 0)?_c('div',{staticClass:\"message-imip\"},_vm._l((_vm.message.scheduling),function(scheduling){return _c('Imip',{key:scheduling.id,attrs:{\"scheduling\":scheduling}})}),1):_vm._e(),_vm._v(\" \"),(_vm.message.hasHtmlBody)?_c('MessageHTMLBody',{attrs:{\"url\":_vm.htmlUrl,\"message\":_vm.message,\"full-height\":_vm.fullHeight},on:{\"load\":function($event){return _vm.$emit('load', $event)},\"translate\":function($event){return _vm.$emit('translate')}}}):(_vm.isEncrypted || _vm.isPgpMimeEncrypted)?_c('MessageEncryptedBody',{attrs:{\"body\":_vm.message.body,\"from\":_vm.from,\"message\":_vm.message}}):_c('MessagePlainTextBody',{attrs:{\"body\":_vm.message.body,\"signature\":_vm.message.signature,\"message\":_vm.message},on:{\"translate\":function($event){return _vm.$emit('translate')}}}),_vm._v(\" \"),_c('MessageAttachments',{attrs:{\"attachments\":_vm.message.attachments,\"envelope\":_vm.envelope}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"reply-composer\"}}),_vm._v(\" \"),_c('div',{staticClass:\"reply-buttons\"},[(_vm.smartReplies.length > 0)?_c('div',{staticClass:\"reply-buttons__suggested\"},_vm._l((_vm.smartReplies),function(reply,index){return _c('NcAssistantButton',{key:index,staticClass:\"reply-buttons__suggested__button\",attrs:{\"type\":\"secondary\"},on:{\"click\":function($event){return _vm.onReply(reply)}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(reply)+\"\\n\\t\\t\\t\")])}),1):_vm._e(),_vm._v(\" \"),_c('NcButton',{staticClass:\"reply-buttons__notsuggested\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onReply('')}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ReplyIcon')]},proxy:true}])},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.replyButtonLabel)+\"\\n\\t\\t\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<Actions v-if=\"calendars.length\">\n\t\t<template #icon>\n\t\t\t<IconAdd :size=\"20\" />\n\t\t</template>\n\t\t<ActionButton v-for=\"(calendar, idx) in cals\"\n\t\t\t:key=\"idx\"\n\t\t\t@click=\"onImport(calendar)\">\n\t\t\t<template #icon>\n\t\t\t\t<IconLoading v-if=\"calendar.loading\" :size=\"20\" />\n\t\t\t\t<IconAdd v-else :size=\"20\" />\n\t\t\t</template>\n\t\t\t{{ t('mail', 'Import into {calendar}', {calendar: calendar.displayname}) }}\n\t\t</ActionButton>\n\t</Actions>\n</template>\n\n<script>\n\nimport { NcActions as Actions, NcActionButton as ActionButton, NcLoadingIcon as IconLoading } from '@nextcloud/vue'\n\nimport IconAdd from 'vue-material-design-icons/Plus.vue'\nimport ical from 'ical.js'\nimport moment from '@nextcloud/moment'\n\nexport default {\n\tname: 'CalendarImport',\n\tcomponents: {\n\t\tActions,\n\t\tActionButton,\n\t\tIconAdd,\n\t\tIconLoading,\n\t},\n\tprops: {\n\t\tcalendars: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\thandler: {\n\t\t\ttype: Function,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\tcals() {\n\t\t\treturn this.calendars.map((original) => {\n\t\t\t\tthis.$set(original, 'loading', false)\n\t\t\t\treturn original\n\t\t\t})\n\t\t},\n\t},\n\tmethods: {\n\t\tonImport(calendar) {\n\t\t\tcalendar.loading = true\n\n\t\t\tthis.handler(calendar)\n\t\t\t\t.catch(console.error.bind(this))\n\t\t\t\t.then(() => {\n\t\t\t\t\tcalendar.loading = false\n\t\t\t\t})\n\t\t},\n\t},\n\n\titineraryDateTime(dt) {\n\t\tif (typeof dt === 'string') {\n\t\t\treturn dt\n\t\t}\n\t\treturn dt['@value']\n\t},\n\n\taddIcalTimeProperty(icalEvent, itineraryDt, icalPropertyName) {\n\t\tconst t = moment(this.itineraryDateTime(itineraryDt)).format()\n\t\tconst prop = icalEvent.updatePropertyWithValue(icalPropertyName, ical.Time.fromDateTimeString(t))\n\t\tif (typeof itineraryDt !== 'string') {\n\t\t\tprop.setParameter('TZID', itineraryDt.timezone)\n\t\t}\n\t},\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarImport.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarImport.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CalendarImport.vue?vue&type=template&id=7c4ac1c0\"\nimport script from \"./CalendarImport.vue?vue&type=script&lang=js\"\nexport * from \"./CalendarImport.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.calendars.length)?_c('Actions',{scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconAdd',{attrs:{\"size\":20}})]},proxy:true}],null,false,2388353250)},[_vm._v(\" \"),_vm._l((_vm.cals),function(calendar,idx){return _c('ActionButton',{key:idx,on:{\"click\":function($event){return _vm.onImport(calendar)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(calendar.loading)?_c('IconLoading',{attrs:{\"size\":20}}):_c('IconAdd',{attrs:{\"size\":20}})]},proxy:true}],null,true)},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Import into {calendar}', {calendar: calendar.displayname}))+\"\\n\\t\")])})],2):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventReservation.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventReservation.vue?vue&type=script&lang=js\"","<!--\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div class=\"reservation\">\n\t\t<div class=\"event\">\n\t\t\t<div class=\"event-name\">\n\t\t\t\t{{ eventName }}\n\t\t\t</div>\n\t\t\t<div v-if=\"location\" class=\"venue\">\n\t\t\t\t{{ location }}\n\t\t\t</div>\n\t\t\t<div v-if=\"date\">\n\t\t\t\t{{ date }}\n\t\t\t</div>\n\t\t\t<div v-if=\"time\">\n\t\t\t\t{{ time }}\n\t\t\t</div>\n\t\t</div>\n\t\t<CalendarImport v-if=\"canImport\" :calendars=\"calendars\" :handler=\"handleImport\" />\n\t</div>\n</template>\n\n<script>\nimport ical from 'ical.js'\nimport md5 from 'md5'\nimport moment from '@nextcloud/moment'\nimport { showError, showSuccess } from '@nextcloud/dialogs'\n\nimport CalendarImport from './CalendarImport.vue'\nimport { importCalendarEvent } from '../../service/DAVService.js'\nimport logger from '../../logger.js'\n\nexport default {\n\tname: 'EventReservation',\n\tcomponents: { CalendarImport },\n\tprops: {\n\t\tdata: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tcalendars: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tmessageId: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\teventName() {\n\t\t\treturn this.data.reservationFor.name\n\t\t},\n\t\ttime() {\n\t\t\tif (!('startDate' in this.data.reservationFor)) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.startDate)).format('LT')\n\t\t},\n\t\tdate() {\n\t\t\tif (!('startDate' in this.data.reservationFor)) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.startDate)).format('L')\n\t\t},\n\t\tlocation() {\n\t\t\tif (!('location' in this.data.reservationFor) || !('name' in this.data.reservationFor.location)) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\treturn this.data.reservationFor.location.name\n\t\t},\n\t\tcanImport() {\n\t\t\treturn 'startDate' in this.data.reservationFor\n\t\t},\n\t},\n\tmethods: {\n\t\tgetEndDateTime(event) {\n\t\t\tif ('endDate' in this.data.reservationFor) {\n\t\t\t\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.endDate)).format()\n\t\t\t} else if ('startDate' in this.data.reservationFor) {\n\t\t\t\t// Assume it's 2h and user will adjust if necessary\n\t\t\t\t// TODO: handle 'duration' https://schema.org/Event\n\t\t\t\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.startDate)).add(2, 'hours').format()\n\t\t\t}\n\t\t},\n\t\thandleImport(calendar) {\n\t\t\tconst event = new ical.Component('VEVENT')\n\t\t\tevent.updatePropertyWithValue('SUMMARY', this.eventName)\n\n\t\t\tconst start = moment(CalendarImport.itineraryDateTime(this.data.reservationFor.startDate)).format()\n\t\t\tevent.updatePropertyWithValue('DTSTART', ical.Time.fromDateTimeString(start))\n\t\t\tconst end = this.getEndDateTime(this.data.reservationFor)\n\t\t\tevent.updatePropertyWithValue('DTEND', ical.Time.fromDateTimeString(end))\n\n\t\t\tif ('location' in this.data.reservationFor) {\n\t\t\t\tevent.updatePropertyWithValue('LOCATION', this.data.reservationFor.location.name)\n\t\t\t\tif ('geo' in this.data.reservationFor.location) {\n\t\t\t\t\t// https://www.kanzaki.com/docs/ical/geo.html\n\t\t\t\t\tevent.updatePropertyWithValue(\n\t\t\t\t\t\t'GEO',\n\t\t\t\t\t\t`${this.data.reservationFor.location.geo.latitude};${this.data.reservationFor.location.geo.longitude}`,\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// TODO: read version from package.json\n\t\t\tevent.updatePropertyWithValue('PRODID', 'Nextcloud Mail')\n\n\t\t\t// TODO: is this free of collisions? the bug reports will tell us!\n\t\t\tevent.updatePropertyWithValue('UID', md5(this.messageId + this.eventName))\n\n\t\t\tconst cal = new ical.Component('VCALENDAR')\n\t\t\tcal.addSubcomponent(event)\n\t\t\tlogger.debug('generated calendar event from event reservation data', { ical: cal.toString() })\n\t\t\treturn importCalendarEvent(calendar.url)(cal.toString())\n\t\t\t\t.then(() => {\n\t\t\t\t\tlogger.debug('event successfully imported')\n\t\t\t\t\tshowSuccess(t('mail', 'Event imported into {calendar}', { calendar: calendar.displayname }))\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tlogger.error('Could not import event', { error })\n\t\t\t\t\tshowError(t('mail', 'Could not create event'))\n\t\t\t\t})\n\t\t},\n\t},\n}\n</script>\n\n<style scoped>\n.reservation {\n\tdisplay: flex;\n\tflex-direction: row;\n\tmargin: 30px 38px;\n\tborder: 1px solid var(--color-border);\n\tborder-radius: var(--border-radius);\n\tpadding: 20px;\n\talign-items: center;\n}\n\n.event {\n\tflex-grow: 1;\n}\n\n.event-name {\n\tfont-size: larger;\n\tfont-weight: bold;\n}\n</style>\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventReservation.vue?vue&type=style&index=0&id=6b4c380e&prod&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventReservation.vue?vue&type=style&index=0&id=6b4c380e&prod&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./EventReservation.vue?vue&type=template&id=6b4c380e&scoped=true\"\nimport script from \"./EventReservation.vue?vue&type=script&lang=js\"\nexport * from \"./EventReservation.vue?vue&type=script&lang=js\"\nimport style0 from \"./EventReservation.vue?vue&type=style&index=0&id=6b4c380e&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6b4c380e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"reservation\"},[_c('div',{staticClass:\"event\"},[_c('div',{staticClass:\"event-name\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.eventName)+\"\\n\\t\\t\")]),_vm._v(\" \"),(_vm.location)?_c('div',{staticClass:\"venue\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.location)+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.date)?_c('div',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.date)+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.time)?_c('div',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.time)+\"\\n\\t\\t\")]):_vm._e()]),_vm._v(\" \"),(_vm.canImport)?_c('CalendarImport',{attrs:{\"calendars\":_vm.calendars,\"handler\":_vm.handleImport}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"reservation\"},[_c('div',{staticClass:\"departure\"},[_c('div',{staticClass:\"iata\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.data.reservationFor.departureAirport.iataCode)+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"airport\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.data.reservationFor.departureAirport.name)+\"\\n\\t\\t\")]),_vm._v(\" \"),(_vm.departureDate)?_c('div',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.departureDate)+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.departureTime)?_c('div',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.departureTime)+\"\\n\\t\\t\")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"connection\"},[_c('div',[_c('AirplaneIcon',{attrs:{\"title\":_vm.t('mail', 'Airplane')}})],1),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.flightNumber))]),_vm._v(\" \"),(_vm.reservation)?_c('div',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Reservation {id}', {id: _vm.reservation}))+\"\\n\\t\\t\")]):_c('div',[_c('ArrowIcon',{attrs:{\"decorative\":\"\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"arrival\"},[_c('div',{staticClass:\"iata\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.data.reservationFor.arrivalAirport.iataCode)+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"airport\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.data.reservationFor.arrivalAirport.name)+\"\\n\\t\\t\")]),_vm._v(\" \"),(_vm.arrivalDate)?_c('div',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.arrivalDate)+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.arrivalTime)?_c('div',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.arrivalTime)+\"\\n\\t\\t\")]):_vm._e()]),_vm._v(\" \"),_c('CalendarImport',{attrs:{\"calendars\":_vm.calendars,\"handler\":_vm.handleImport}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div class=\"reservation\">\n\t\t<div class=\"departure\">\n\t\t\t<div class=\"iata\">\n\t\t\t\t{{ data.reservationFor.departureAirport.iataCode }}\n\t\t\t</div>\n\t\t\t<div class=\"airport\">\n\t\t\t\t{{ data.reservationFor.departureAirport.name }}\n\t\t\t</div>\n\t\t\t<div v-if=\"departureDate\">\n\t\t\t\t{{ departureDate }}\n\t\t\t</div>\n\t\t\t<div v-if=\"departureTime\">\n\t\t\t\t{{ departureTime }}\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"connection\">\n\t\t\t<div><AirplaneIcon :title=\"t('mail', 'Airplane')\" /></div>\n\t\t\t<div>{{ flightNumber }}</div>\n\t\t\t<div v-if=\"reservation\">\n\t\t\t\t{{ t('mail', 'Reservation {id}', {id: reservation}) }}\n\t\t\t</div>\n\t\t\t<div v-else>\n\t\t\t\t<ArrowIcon decorative />\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"arrival\">\n\t\t\t<div class=\"iata\">\n\t\t\t\t{{ data.reservationFor.arrivalAirport.iataCode }}\n\t\t\t</div>\n\t\t\t<div class=\"airport\">\n\t\t\t\t{{ data.reservationFor.arrivalAirport.name }}\n\t\t\t</div>\n\t\t\t<div v-if=\"arrivalDate\">\n\t\t\t\t{{ arrivalDate }}\n\t\t\t</div>\n\t\t\t<div v-if=\"arrivalTime\">\n\t\t\t\t{{ arrivalTime }}\n\t\t\t</div>\n\t\t</div>\n\t\t<CalendarImport :calendars=\"calendars\" :handler=\"handleImport\" />\n\t</div>\n</template>\n\n<script>\nimport AirplaneIcon from 'vue-material-design-icons/Airplane.vue'\nimport ArrowIcon from 'vue-material-design-icons/ArrowRight.vue'\nimport ical from 'ical.js'\nimport md5 from 'md5'\nimport moment from '@nextcloud/moment'\nimport { showError, showSuccess } from '@nextcloud/dialogs'\n\nimport CalendarImport from './CalendarImport.vue'\nimport { importCalendarEvent } from '../../service/DAVService.js'\nimport logger from '../../logger.js'\n\nexport default {\n\tname: 'FlightReservation',\n\tcomponents: {\n\t\tAirplaneIcon,\n\t\tArrowIcon,\n\t\tCalendarImport,\n\t},\n\tprops: {\n\t\tdata: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tcalendars: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tmessageId: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\tdepartureTime() {\n\t\t\tif (!('departureTime' in this.data.reservationFor)) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.departureTime)).format('LT')\n\t\t},\n\t\tdepartureDate() {\n\t\t\tif (!('departureTime' in this.data.reservationFor)) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.departureTime)).format('L')\n\t\t},\n\t\tarrivalTime() {\n\t\t\tif (!('arrivalTime' in this.data.reservationFor)) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.arrivalTime)).format('LT')\n\t\t},\n\t\tarrivalDate() {\n\t\t\tif (!('arrivalTime' in this.data.reservationFor)) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.arrivalTime)).format('L')\n\t\t},\n\t\tflightNumber() {\n\t\t\treturn this.data.reservationFor.airline.iataCode + this.data.reservationFor.flightNumber\n\t\t},\n\t\treservation() {\n\t\t\tif (!('reservationNumber' in this.data)) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\treturn this.data.reservationNumber\n\t\t},\n\t\tcanImport() {\n\t\t\treturn 'departureTime' in this.data.reservationFor && 'arrivalTime' in this.data.reservationFor\n\t\t},\n\t},\n\tmethods: {\n\t\thandleImport(calendar) {\n\t\t\tconst event = new ical.Component('VEVENT')\n\t\t\tevent.updatePropertyWithValue(\n\t\t\t\t'SUMMARY',\n\t\t\t\tt('mail', 'Flight {flightNr} from {depAirport} to {arrAirport}', {\n\t\t\t\t\tflightNr: this.flightNumber,\n\t\t\t\t\tdepAirport: this.data.reservationFor.departureAirport.iataCode,\n\t\t\t\t\tarrAirport: this.data.reservationFor.arrivalAirport.iataCode,\n\t\t\t\t}),\n\t\t\t)\n\n\t\t\tCalendarImport.addIcalTimeProperty(event, this.data.reservationFor.departureTime, 'DTSTART')\n\t\t\tCalendarImport.addIcalTimeProperty(event, this.data.reservationFor.arrivalTime, 'DTEND')\n\n\t\t\t// TODO: read version from package.json\n\t\t\tevent.updatePropertyWithValue('PRODID', 'Nextcloud Mail')\n\n\t\t\t// TODO: is this free of collisions? the bug reports will tell us!\n\t\t\tevent.updatePropertyWithValue('UID', md5(this.messageId + this.flightNumber))\n\n\t\t\tconst cal = new ical.Component('VCALENDAR')\n\t\t\tcal.addSubcomponent(event)\n\t\t\tlogger.debug('generated calendar event from flight reservation data', { ical: cal.toString() })\n\n\t\t\treturn importCalendarEvent(calendar.url)(cal.toString())\n\t\t\t\t.then(() => {\n\t\t\t\t\tlogger.debug('event successfully imported')\n\t\t\t\t\tshowSuccess(t('mail', 'Event imported into {calendar}', { calendar: calendar.displayname }))\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tlogger.error('Could not import event', { error })\n\t\t\t\t\tshowError(t('mail', 'Could not create event'))\n\t\t\t\t})\n\t\t},\n\t},\n}\n</script>\n\n<style scoped>\n.reservation {\n\tdisplay: flex;\n\tflex-direction: row;\n\tmargin: 30px 38px;\n\tborder: 1px solid var(--color-border);\n\tborder-radius: var(--border-radius);\n\tpadding: 20px;\n\talign-items: center;\n}\n\n.departure,\n.arrival {\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-grow: 1;\n}\n\n.departure,\n.arrival,\n.connection {\n\tjustify-content: center;\n}\n\n.iata {\n\tfont-size: larger;\n\tfont-weight: bold;\n}\n\n.airport {\n\tfont-size: large;\n}\n\n.departure {\n\ttext-align: end;\n}\n\n.connection {\n\ttext-align: center;\n\tpadding: 0 40px;\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FlightReservation.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FlightReservation.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FlightReservation.vue?vue&type=style&index=0&id=43311de6&prod&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FlightReservation.vue?vue&type=style&index=0&id=43311de6&prod&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./FlightReservation.vue?vue&type=template&id=43311de6&scoped=true\"\nimport script from \"./FlightReservation.vue?vue&type=script&lang=js\"\nexport * from \"./FlightReservation.vue?vue&type=script&lang=js\"\nimport style0 from \"./FlightReservation.vue?vue&type=style&index=0&id=43311de6&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"43311de6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"reservation\"},[_c('div',{staticClass:\"departure\"},[_c('div',{staticClass:\"station\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.data.reservationFor.departureStation.name)+\"\\n\\t\\t\")]),_vm._v(\" \"),(_vm.departureDate)?_c('div',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.departureDate)+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.departureTime)?_c('div',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.departureTime)+\"\\n\\t\\t\")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"connection\"},[_c('div',[_c('TrainIcon',{attrs:{\"title\":_vm.t('mail', 'Train')}})],1),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.trainNumber))]),_vm._v(\" \"),_c('div',[_c('ArrowIcon',{attrs:{\"decorative\":\"\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"arrival\"},[_c('div',{staticClass:\"station\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.data.reservationFor.arrivalStation.name)+\"\\n\\t\\t\")]),_vm._v(\" \"),(_vm.arrivalDate)?_c('div',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.arrivalDate)+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.arrivalTime)?_c('div',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.arrivalTime)+\"\\n\\t\\t\")]):_vm._e()]),_vm._v(\" \"),(_vm.canImport)?_c('CalendarImport',{attrs:{\"calendars\":_vm.calendars,\"handler\":_vm.handleImport}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div class=\"reservation\">\n\t\t<div class=\"departure\">\n\t\t\t<div class=\"station\">\n\t\t\t\t{{ data.reservationFor.departureStation.name }}\n\t\t\t</div>\n\t\t\t<div v-if=\"departureDate\">\n\t\t\t\t{{ departureDate }}\n\t\t\t</div>\n\t\t\t<div v-if=\"departureTime\">\n\t\t\t\t{{ departureTime }}\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"connection\">\n\t\t\t<div><TrainIcon :title=\"t('mail', 'Train')\" /></div>\n\t\t\t<div>{{ trainNumber }}</div>\n\t\t\t<div><ArrowIcon decorative /></div>\n\t\t</div>\n\t\t<div class=\"arrival\">\n\t\t\t<div class=\"station\">\n\t\t\t\t{{ data.reservationFor.arrivalStation.name }}\n\t\t\t</div>\n\t\t\t<div v-if=\"arrivalDate\">\n\t\t\t\t{{ arrivalDate }}\n\t\t\t</div>\n\t\t\t<div v-if=\"arrivalTime\">\n\t\t\t\t{{ arrivalTime }}\n\t\t\t</div>\n\t\t</div>\n\t\t<CalendarImport v-if=\"canImport\" :calendars=\"calendars\" :handler=\"handleImport\" />\n\t</div>\n</template>\n\n<script>\nimport ArrowIcon from 'vue-material-design-icons/ArrowRight.vue'\nimport ical from 'ical.js'\nimport md5 from 'md5'\nimport moment from '@nextcloud/moment'\nimport { showError, showSuccess } from '@nextcloud/dialogs'\nimport TrainIcon from 'vue-material-design-icons/Train.vue'\n\nimport CalendarImport from './CalendarImport.vue'\nimport { importCalendarEvent } from '../../service/DAVService.js'\nimport logger from '../../logger.js'\n\nexport default {\n\tname: 'TrainReservation',\n\tcomponents: {\n\t\tArrowIcon,\n\t\tCalendarImport,\n\t\tTrainIcon,\n\t},\n\tprops: {\n\t\tdata: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tcalendars: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tmessageId: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\tdepartureTime() {\n\t\t\tif (!('departureTime' in this.data.reservationFor)) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.departureTime)).format('LT')\n\t\t},\n\t\tdepartureDate() {\n\t\t\tif ('departureTime' in this.data.reservationFor) {\n\t\t\t\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.departureTime)).format('L')\n\t\t\t}\n\t\t\tif ('departureDay' in this.data.reservationFor) {\n\t\t\t\treturn moment(this.data.reservationFor.departureDay).format('L')\n\t\t\t}\n\t\t\treturn undefined\n\t\t},\n\t\tarrivalTime() {\n\t\t\tif (!('arrivalTime' in this.data.reservationFor)) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.arrivalTime)).format('LT')\n\t\t},\n\t\tarrivalDate() {\n\t\t\tif (!('arrivalTime' in this.data.reservationFor)) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.arrivalTime)).format('L')\n\t\t},\n\t\ttrainNumber() {\n\t\t\treturn this.data.reservationFor.trainNumber\n\t\t},\n\t\tcanImport() {\n\t\t\treturn (\n\t\t\t\t('departureTime' in this.data.reservationFor && 'arrivalTime' in this.data.reservationFor)\n\t\t\t\t|| 'departureDay' in this.data.reservationFor\n\t\t\t)\n\t\t},\n\t},\n\tmethods: {\n\t\thandleImport(calendar) {\n\t\t\tconst event = new ical.Component('VEVENT')\n\t\t\tif ('trainNumber' in this.data.reservationFor) {\n\t\t\t\tevent.updatePropertyWithValue(\n\t\t\t\t\t'SUMMARY',\n\t\t\t\t\tt('mail', '{trainNr} from {depStation} to {arrStation}', {\n\t\t\t\t\t\ttrainNr: this.data.reservationFor.trainNumber,\n\t\t\t\t\t\tdepStation: this.data.reservationFor.departureStation.name,\n\t\t\t\t\t\tarrStation: this.data.reservationFor.arrivalStation.name,\n\t\t\t\t\t}),\n\t\t\t\t)\n\t\t\t} else {\n\t\t\t\tevent.updatePropertyWithValue(\n\t\t\t\t\t'SUMMARY',\n\t\t\t\t\tt('mail', 'Train from {depStation} to {arrStation}', {\n\t\t\t\t\t\tdepStation: this.data.reservationFor.departureStation.name,\n\t\t\t\t\t\tarrStation: this.data.reservationFor.arrivalStation.name,\n\t\t\t\t\t}),\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tif ('departureTime' in this.data.reservationFor && 'arrivalTime' in this.data.reservationFor) {\n\t\t\t\tCalendarImport.addIcalTimeProperty(event, this.data.reservationFor.departureTime, 'DTSTART')\n\t\t\t\tCalendarImport.addIcalTimeProperty(event, this.data.reservationFor.arrivalTime, 'DTEND')\n\t\t\t} else if ('departureDay' in this.data.reservationFor) {\n\t\t\t\tconst date = moment(this.data.reservationFor.departureDay).format()\n\t\t\t\tevent.updatePropertyWithValue('DTSTART', ical.Time.fromDateTimeString(date))\n\t\t\t}\n\n\t\t\t// TODO: read version from package.json\n\t\t\tevent.updatePropertyWithValue('PRODID', 'Nextcloud Mail')\n\n\t\t\t// TODO: is this free of collisions? the bug reports will tell us!\n\t\t\tevent.updatePropertyWithValue('UID', md5(this.messageId + this.departureTime))\n\n\t\t\tconst cal = new ical.Component('VCALENDAR')\n\t\t\tcal.addSubcomponent(event)\n\t\t\tlogger.debug('generated calendar event from train reservation data', { ical: cal.toString() })\n\n\t\t\treturn importCalendarEvent(calendar.url)(cal.toString())\n\t\t\t\t.then(() => {\n\t\t\t\t\tlogger.debug('event successfully imported')\n\t\t\t\t\tshowSuccess(t('mail', 'Event imported into {calendar}', { calendar: calendar.displayname }))\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tlogger.error('Could not import event', { error })\n\t\t\t\t\tshowError(t('mail', 'Could not create event'))\n\t\t\t\t})\n\t\t},\n\t},\n}\n</script>\n\n<style scoped>\n.reservation {\n\tdisplay: flex;\n\tflex-direction: row;\n\tmargin: 30px 38px;\n\tborder: 1px solid var(--color-border);\n\tborder-radius: var(--border-radius);\n\tpadding: 20px;\n\talign-items: center;\n}\n\n.departure,\n.arrival {\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-grow: 1;\n}\n\n.departure,\n.arrival,\n.connection {\n\tjustify-content: center;\n}\n\n.station {\n\tfont-size: larger;\n\tfont-weight: bold;\n}\n\n.departure {\n\ttext-align: end;\n}\n\n.connection {\n\ttext-align: center;\n\tpadding: 0 40px;\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrainReservation.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrainReservation.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrainReservation.vue?vue&type=style&index=0&id=50bfccc8&prod&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrainReservation.vue?vue&type=style&index=0&id=50bfccc8&prod&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./TrainReservation.vue?vue&type=template&id=50bfccc8&scoped=true\"\nimport script from \"./TrainReservation.vue?vue&type=script&lang=js\"\nexport * from \"./TrainReservation.vue?vue&type=script&lang=js\"\nimport style0 from \"./TrainReservation.vue?vue&type=style&index=0&id=50bfccc8&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"50bfccc8\",\n  null\n  \n)\n\nexport default component.exports","<!--\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div>\n\t\t<template v-for=\"(entry, idx) in entries\">\n\t\t\t<EventReservation v-if=\"entry['@type'] === 'EventReservation'\"\n\t\t\t\t:key=\"idx\"\n\t\t\t\t:data=\"entry\"\n\t\t\t\t:calendars=\"calendars\"\n\t\t\t\t:message-id=\"messageId\" />\n\t\t\t<FlightReservation v-else-if=\"entry['@type'] === 'FlightReservation'\"\n\t\t\t\t:key=\"idx\"\n\t\t\t\t:data=\"entry\"\n\t\t\t\t:calendars=\"calendars\"\n\t\t\t\t:message-id=\"messageId\" />\n\t\t\t<TrainReservation v-else-if=\"entry['@type'] === 'TrainReservation'\"\n\t\t\t\t:key=\"idx\"\n\t\t\t\t:data=\"entry\"\n\t\t\t\t:calendars=\"calendars\"\n\t\t\t\t:message-id=\"messageId\" />\n\t\t\t<span v-else :key=\"idx\">{{\n\t\t\t\tt('mail', 'Itinerary for {type} is not supported yet', {type: entry['@type']})\n\t\t\t}}</span>\n\t\t</template>\n\t</div>\n</template>\n\n<script>\nimport once from 'lodash/fp/once.js'\n\nimport { getUserCalendars } from '../service/DAVService.js'\nimport logger from '../logger.js'\nimport EventReservation from './itinerary/EventReservation.vue'\nimport FlightReservation from './itinerary/FlightReservation.vue'\nimport TrainReservation from './itinerary/TrainReservation.vue'\n\nconst getUserCalendarsOnce = once(getUserCalendars)\n\nexport default {\n\tname: 'Itinerary',\n\tcomponents: {\n\t\tEventReservation,\n\t\tFlightReservation,\n\t\tTrainReservation,\n\t},\n\tprops: {\n\t\tentries: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tmessageId: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcalendars: [],\n\t\t}\n\t},\n\tmounted() {\n\t\tgetUserCalendarsOnce()\n\t\t\t.then((calendars) => (this.calendars = calendars))\n\t\t\t.catch((error) => logger.error('Could not load calendars', { error }))\n\t},\n}\n</script>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Itinerary.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Itinerary.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Itinerary.vue?vue&type=template&id=484b8400\"\nimport script from \"./Itinerary.vue?vue&type=script&lang=js\"\nexport * from \"./Itinerary.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_vm._l((_vm.entries),function(entry,idx){return [(entry['@type'] === 'EventReservation')?_c('EventReservation',{key:idx,attrs:{\"data\":entry,\"calendars\":_vm.calendars,\"message-id\":_vm.messageId}}):(entry['@type'] === 'FlightReservation')?_c('FlightReservation',{key:idx,attrs:{\"data\":entry,\"calendars\":_vm.calendars,\"message-id\":_vm.messageId}}):(entry['@type'] === 'TrainReservation')?_c('TrainReservation',{key:idx,attrs:{\"data\":entry,\"calendars\":_vm.calendars,\"message-id\":_vm.messageId}}):_c('span',{key:idx},[_vm._v(_vm._s(_vm.t('mail', 'Itinerary for {type} is not supported yet', {type: entry['@type']})))])]})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.attachments.length > 0)?_c('div',{staticClass:\"mail-message-attachments\",class:_vm.hasNextLine ? 'has-next-line' : ''},[_c('div',{staticClass:\"mail-message-attachments--wrapper\",class:(_vm.hasNextLine === true && _vm.isToggled === true) ? 'hide' : ''},[_c('div',{staticClass:\"attachments\"},_vm._l((_vm.attachments),function(attachment,idx){return _c('MessageAttachment',{key:attachment.id,ref:\"attachments\",refInFor:true,attrs:{\"id\":attachment.id,\"file-name\":attachment.fileName,\"size\":attachment.size,\"url\":attachment.downloadUrl,\"is-image\":attachment.isImage,\"is-calendar-event\":attachment.isCalendarEvent,\"mime\":attachment.mime,\"mime-url\":attachment.mimeUrl,\"can-preview\":_vm.canPreview(_vm.fileInfos[idx])},on:{\"open\":function($event){return _vm.showViewer(_vm.fileInfos[idx])}}})}),1)]),_vm._v(\" \"),(_vm.hasNextLine)?_c('div',{staticClass:\"show-more-attachments\",on:{\"click\":function($event){_vm.isToggled = !_vm.isToggled}}},[(_vm.isToggled)?_c('ChevronDown',{attrs:{\"size\":20}}):_vm._e(),_vm._v(\" \"),(!_vm.isToggled)?_c('ChevronUp',{attrs:{\"size\":20}}):_vm._e(),_vm._v(\" \"),(_vm.isToggled)?_c('span',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.n('mail', 'View {count} more attachment', 'View {count} more attachments', (_vm.attachments.length - _vm.visible), { count: _vm.attachments.length - _vm.visible }))+\"\\n\\t\\t\")]):_c('span',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'View fewer attachments'))+\"\\n\\t\\t\")])],1):_vm._e(),_vm._v(\" \"),(_vm.moreThanOne)?_c('p',{staticClass:\"attachments-button-wrapper\"},[(_vm.isFilePickerOpen)?_c('FilePicker',{attrs:{\"name\":_vm.t('mail', 'Choose a folder to store the attachments in'),\"buttons\":_vm.saveAttachementButtons,\"allow-pick-directory\":true,\"multiselect\":false,\"mimetype-filter\":['httpd/unix-directory']},on:{\"close\":()=>_vm.isFilePickerOpen = false}}):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"attachment-link\",attrs:{\"disabled\":_vm.savingToCloud},on:{\"click\":() => _vm.isFilePickerOpen = true}},[(!_vm.savingToCloud)?_c('CloudDownload',{attrs:{\"size\":18}}):_c('IconLoading',{staticClass:\"spin\",attrs:{\"size\":18}}),_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Save all to Files'))+\"\\n\\t\\t\")],1),_vm._v(\" \"),_c('span',{staticClass:\"attachment-link\",on:{\"click\":_vm.downloadZip}},[_c('Download',{attrs:{\"size\":18}}),_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Download Zip'))+\"\\n\\t\\t\")],1)],1):_vm._e()]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div class=\"attachment\" :class=\"{'message-attachment--can-preview': canPreview }\">\n\t\t<div class=\"mail-attachment-img--wrapper\" @click=\"$emit('open', $event)\">\n\t\t\t<img v-if=\"isImage\"\n\t\t\t\tclass=\"mail-attached-image\"\n\t\t\t\t:src=\"url\">\n\t\t\t<img v-else class=\"attachment-icon\" :src=\"mimeUrl\">\n\t\t</div>\n\t\t<div class=\"mail-attached--content\" @click=\"$emit('open', $event)\">\n\t\t\t<span class=\"attachment-name\"\n\t\t\t\t:title=\"label\">{{ name }}\n\t\t\t</span>\n\t\t\t<span class=\"attachment-size\">{{ humanReadable(size) }}</span>\n\t\t</div>\n\t\t<FilePicker v-if=\"isFilePickerOpen\"\n\t\t\t:name=\"t('mail', 'Choose a folder to store the attachment in')\"\n\t\t\t:buttons=\"saveAttachementButtons\"\n\t\t\t:allow-pick-directory=\"true\"\n\t\t\t:multiselect=\"false\"\n\t\t\t:mimetype-filter=\"['httpd/unix-directory']\"\n\t\t\t@close=\"()=>isFilePickerOpen = false\" />\n\t\t<Actions :boundaries-element=\"boundariesElement\">\n\t\t\t<template v-if=\"!showCalendarPopover\">\n\t\t\t\t<ActionButton v-if=\"isCalendarEvent\"\n\t\t\t\t\tclass=\"attachment-import calendar\"\n\t\t\t\t\t:disabled=\"loadingCalendars\"\n\t\t\t\t\t@click.stop=\"loadCalendars\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconAdd v-if=\"!loadingCalendars\" :size=\"20\" />\n\t\t\t\t\t\t<IconLoading v-else-if=\"loadingCalendars\" :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Import into calendar') }}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton class=\"attachment-download\"\n\t\t\t\t\t@click=\"download\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconDownload :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Download attachment') }}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton class=\"attachment-save-to-cloud\"\n\t\t\t\t\t:disabled=\"savingToCloud\"\n\t\t\t\t\t@click.stop=\"()=>isFilePickerOpen = true\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconSave v-if=\"!savingToCloud\" :size=\"20\" />\n\t\t\t\t\t\t<IconLoading v-else-if=\"savingToCloud\" :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Save to Files') }}\n\t\t\t\t</ActionButton>\n\t\t\t</template>\n\t\t\t<template v-else>\n\t\t\t\t<ActionButton @click=\"closeCalendarPopover\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconArrow :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Go back') }}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton v-for=\"entry in calendarMenuEntries\"\n\t\t\t\t\t:key=\"entry.text\"\n\t\t\t\t\t@click=\"entry.action\">\n\t\t\t\t\t{{ entry.text }}\n\t\t\t\t</ActionButton>\n\t\t\t</template>\n\t\t</Actions>\n\t</div>\n</template>\n\n<script>\n\nimport { formatFileSize } from '@nextcloud/files'\nimport { translate as t } from '@nextcloud/l10n'\nimport { showError, showSuccess } from '@nextcloud/dialogs'\nimport { FilePickerVue as FilePicker } from '@nextcloud/dialogs/filepicker.js'\nimport { mixin as onClickOutside } from 'vue-on-click-outside'\n\nimport { NcActions as Actions, NcActionButton as ActionButton, NcLoadingIcon as IconLoading } from '@nextcloud/vue'\n\nimport IconAdd from 'vue-material-design-icons/Plus.vue'\nimport IconArrow from 'vue-material-design-icons/ArrowLeft.vue'\nimport IconSave from 'vue-material-design-icons/FolderOutline.vue'\nimport IconDownload from 'vue-material-design-icons/TrayArrowDown.vue'\nimport Logger from '../logger.js'\n\nimport { downloadAttachment, saveAttachmentToFiles } from '../service/AttachmentService.js'\nimport { getUserCalendars, importCalendarEvent } from '../service/DAVService.js'\n\nexport default {\n\tname: 'MessageAttachment',\n\tcomponents: {\n\t\tFilePicker,\n\t\tActions,\n\t\tActionButton,\n\t\tIconAdd,\n\t\tIconArrow,\n\t\tIconLoading,\n\t\tIconSave,\n\t\tIconDownload,\n\t},\n\tmixins: [onClickOutside],\n\tprops: {\n\t\tid: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tfileName: {\n\t\t\ttype: String,\n\t\t\tdefault: t('mail', 'Unnamed'),\n\t\t\trequired: false,\n\t\t},\n\t\turl: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tsize: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t\tmime: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tmimeUrl: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tisImage: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tisCalendarEvent: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tcanPreview: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tsavingToCloud: false,\n\t\t\tloadingCalendars: false,\n\t\t\tcalendars: [],\n\t\t\tshowCalendarPopover: false,\n\t\t\tsaveAttachementButtons: [\n\t\t\t\t{\n\t\t\t\t\tlabel: t('mail', 'Choose'),\n\t\t\t\t\tcallback: this.saveToCloud,\n\t\t\t\t\ttype: 'primary',\n\t\t\t\t},\n\t\t\t],\n\t\t\tisFilePickerOpen: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\tname() {\n\t\t\tif (this.mime === 'message/rfc822') {\n\t\t\t\treturn t('mail', 'Embedded message')\n\t\t\t}\n\t\t\treturn this.fileName\n\t\t},\n\t\tlabel() {\n\t\t\tif (this.mime === 'message/rfc822') {\n\t\t\t\treturn t('mail', 'Embedded message') + ' (' + formatFileSize(this.size) + ')'\n\t\t\t}\n\t\t\treturn this.fileName + ' (' + formatFileSize(this.size) + ')'\n\t\t},\n\t\tcalendarMenuEntries() {\n\t\t\treturn this.calendars.map((cal) => {\n\t\t\t\treturn {\n\t\t\t\t\ttext: cal.displayname,\n\t\t\t\t\taction: this.importCalendar(cal.url),\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tboundariesElement() {\n\t\t\treturn document.querySelector('#content-vue')\n\t\t},\n\t},\n\tmethods: {\n\t\thumanReadable(size) {\n\t\t\treturn formatFileSize(size)\n\t\t},\n\t\tasync saveToCloud(dest) {\n\t\t\tconst path = dest[0].path\n\t\t\tthis.savingToCloud = true\n\t\t\tconst id = this.$route.params.threadId\n\n\t\t\ttry {\n\t\t\t\tawait saveAttachmentToFiles(id, this.id, path)\n\t\t\t\tLogger.info('saved')\n\t\t\t\tshowSuccess(t('mail', 'Attachment saved to Files'))\n\t\t\t} catch (e) {\n\t\t\t\tLogger.error('not saved', { error: e })\n\t\t\t\tshowError(t('mail', 'Attachment could not be saved'))\n\t\t\t} finally {\n\t\t\t\tthis.savingToCloud = false\n\t\t\t}\n\t\t},\n\t\tdownload() {\n\t\t\twindow.location = this.url\n\t\t},\n\t\tloadCalendars() {\n\t\t\tthis.loadingCalendars = true\n\t\t\tgetUserCalendars().then((calendars) => {\n\t\t\t\tthis.calendars = calendars\n\t\t\t\tthis.showCalendarPopover = true\n\t\t\t\tthis.loadingCalendars = false\n\t\t\t})\n\t\t},\n\t\tcloseCalendarPopover() {\n\t\t\tthis.showCalendarPopover = false\n\t\t},\n\t\timportCalendar(url) {\n\t\t\treturn () => {\n\t\t\t\tdownloadAttachment(this.url)\n\t\t\t\t\t.then(importCalendarEvent(url))\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tshowSuccess(t('mail', 'calendar imported'))\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tLogger.error('Could not import event', { error })\n\t\t\t\t\t\tshowError(t('mail', 'Could not create event'))\n\t\t\t\t\t})\n\t\t\t\t\t.then(() => (this.showCalendarPopover = false))\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n@media screen and (max-width: 1024px) {\n\t.attachment{\n\t\twidth: 100% !important;\n\t}\n}\n\n@media screen and (min-width: 1025px) and (max-width: 1500px) {\n\t.attachment{\n\t\twidth: calc(50% - 4px)!important;\n\t}\n}\n\n.attachment {\n\theight: auto;\n    display: inline-flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n\twidth: calc(33.3334% - 4px);\n    margin: 2px;\n\tpadding: 5px;\n    position: relative;\n    align-items: center;\n\tflex-grow: 1;\n\n\t&:hover {\n\t\tborder-radius: 6px;\n\t}\n}\n\n.attachment:hover,\n.attachment span:hover {\n\tbackground-color: var(--color-background-hover);\n\n\t&.message-attachment--can-preview * {\n\t\tcursor: pointer;\n\t}\n}\n\n.mail-attachment-img--wrapper {\n\theight: 44px;\n\twidth: 44px;\n\toverflow: hidden;\n\tdisplay:flex;\n\tjustify-content: center;\n\tposition: relative;\n\tborder-radius: 6px;\n\n\timg {\n\t\ttransition: 0.3s;\n\t\topacity: 1;\n\t\twidth: 44px;\n\t\theight: 44px;\n\t}\n\n\t.mail-attached-image {\n\t\twidth: 100px;\n\t}\n}\n\n.mail-attached--content {\n\twidth: calc(100% - 100px);\n\tdisplay: flex;\n    flex-direction: column;\n}\n\n.mail-attached-image {\n\tdisplay: block;\n\tmax-width: 100%;\n\tborder-radius: var(--border-radius);\n}\n\n.attachment-import-popover {\n\tinset-inline-end: 32px;\n\ttop: 42px;\n}\n\n.mail-attached-image:hover {\n\topacity: 0.8;\n}\n\n.attachment-name {\n\tdisplay: inline-block;\n\twidth: 100%;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tvertical-align: middle;\n}\n\n/* show attachment size less prominent */\n.attachment-size {\n\t-ms-filter: 'progid:DXImageTransform.Microsoft.Alpha(Opacity=50)';\n\topacity: 0.5;\n\tfont-size: 12px;\n\tline-height: 14px;\n}\n\n.attachment-icon {\n\tvertical-align: middle;\n\ttext-align: start;\n\tmargin-bottom: 20px;\n}\n\n.action-item {\n\ttransition: 0.4s;\n}\n\n.mail-message-attachments {\n\toverflow-x: auto;\n\toverflow-y: auto;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageAttachment.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageAttachment.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageAttachment.vue?vue&type=style&index=0&id=c6e6a8c2&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageAttachment.vue?vue&type=style&index=0&id=c6e6a8c2&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./MessageAttachment.vue?vue&type=template&id=c6e6a8c2&scoped=true\"\nimport script from \"./MessageAttachment.vue?vue&type=script&lang=js\"\nexport * from \"./MessageAttachment.vue?vue&type=script&lang=js\"\nimport style0 from \"./MessageAttachment.vue?vue&type=style&index=0&id=c6e6a8c2&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c6e6a8c2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"attachment\",class:{'message-attachment--can-preview': _vm.canPreview }},[_c('div',{staticClass:\"mail-attachment-img--wrapper\",on:{\"click\":function($event){return _vm.$emit('open', $event)}}},[(_vm.isImage)?_c('img',{staticClass:\"mail-attached-image\",attrs:{\"src\":_vm.url}}):_c('img',{staticClass:\"attachment-icon\",attrs:{\"src\":_vm.mimeUrl}})]),_vm._v(\" \"),_c('div',{staticClass:\"mail-attached--content\",on:{\"click\":function($event){return _vm.$emit('open', $event)}}},[_c('span',{staticClass:\"attachment-name\",attrs:{\"title\":_vm.label}},[_vm._v(_vm._s(_vm.name)+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('span',{staticClass:\"attachment-size\"},[_vm._v(_vm._s(_vm.humanReadable(_vm.size)))])]),_vm._v(\" \"),(_vm.isFilePickerOpen)?_c('FilePicker',{attrs:{\"name\":_vm.t('mail', 'Choose a folder to store the attachment in'),\"buttons\":_vm.saveAttachementButtons,\"allow-pick-directory\":true,\"multiselect\":false,\"mimetype-filter\":['httpd/unix-directory']},on:{\"close\":()=>_vm.isFilePickerOpen = false}}):_vm._e(),_vm._v(\" \"),_c('Actions',{attrs:{\"boundaries-element\":_vm.boundariesElement}},[(!_vm.showCalendarPopover)?[(_vm.isCalendarEvent)?_c('ActionButton',{staticClass:\"attachment-import calendar\",attrs:{\"disabled\":_vm.loadingCalendars},on:{\"click\":function($event){$event.stopPropagation();return _vm.loadCalendars.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(!_vm.loadingCalendars)?_c('IconAdd',{attrs:{\"size\":20}}):(_vm.loadingCalendars)?_c('IconLoading',{attrs:{\"size\":20}}):_vm._e()]},proxy:true}],null,false,3426611203)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Import into calendar'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('ActionButton',{staticClass:\"attachment-download\",on:{\"click\":_vm.download},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconDownload',{attrs:{\"size\":20}})]},proxy:true}],null,false,2487097783)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Download attachment'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('ActionButton',{staticClass:\"attachment-save-to-cloud\",attrs:{\"disabled\":_vm.savingToCloud},on:{\"click\":function($event){$event.stopPropagation();return (()=>_vm.isFilePickerOpen = true).apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(!_vm.savingToCloud)?_c('IconSave',{attrs:{\"size\":20}}):(_vm.savingToCloud)?_c('IconLoading',{attrs:{\"size\":20}}):_vm._e()]},proxy:true}],null,false,3734485603)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Save to Files'))+\"\\n\\t\\t\\t\")])]:[_c('ActionButton',{on:{\"click\":_vm.closeCalendarPopover},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconArrow',{attrs:{\"size\":20}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Go back'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_vm._l((_vm.calendarMenuEntries),function(entry){return _c('ActionButton',{key:entry.text,on:{\"click\":entry.action}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(entry.text)+\"\\n\\t\\t\\t\")])})]],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div v-if=\"attachments.length > 0\" class=\"mail-message-attachments\" :class=\"hasNextLine ? 'has-next-line' : ''\">\n\t\t<div class=\"mail-message-attachments--wrapper\" :class=\"(hasNextLine === true && isToggled === true) ? 'hide' : ''\">\n\t\t\t<div class=\"attachments\">\n\t\t\t\t<MessageAttachment v-for=\"(attachment, idx) in attachments\"\n\t\t\t\t\t:id=\"attachment.id\"\n\t\t\t\t\tref=\"attachments\"\n\t\t\t\t\t:key=\"attachment.id\"\n\t\t\t\t\t:file-name=\"attachment.fileName\"\n\t\t\t\t\t:size=\"attachment.size\"\n\t\t\t\t\t:url=\"attachment.downloadUrl\"\n\t\t\t\t\t:is-image=\"attachment.isImage\"\n\t\t\t\t\t:is-calendar-event=\"attachment.isCalendarEvent\"\n\t\t\t\t\t:mime=\"attachment.mime\"\n\t\t\t\t\t:mime-url=\"attachment.mimeUrl\"\n\t\t\t\t\t:can-preview=\"canPreview(fileInfos[idx])\"\n\t\t\t\t\t@open=\"showViewer(fileInfos[idx])\" />\n\t\t\t</div>\n\t\t</div>\n\t\t<div v-if=\"hasNextLine\"\n\t\t\tclass=\"show-more-attachments\"\n\t\t\t@click=\"isToggled = !isToggled\">\n\t\t\t<ChevronDown v-if=\"isToggled\" :size=\"20\" />\n\t\t\t<ChevronUp v-if=\"!isToggled\" :size=\"20\" />\n\t\t\t<span v-if=\"isToggled\">\n\t\t\t\t{{ n('mail', 'View {count} more attachment', 'View {count} more attachments', (attachments.length - visible), { count: attachments.length - visible }) }}\n\t\t\t</span>\n\t\t\t<span v-else>\n\t\t\t\t{{ t('mail', 'View fewer attachments') }}\n\t\t\t</span>\n\t\t</div>\n\t\t<p v-if=\"moreThanOne\" class=\"attachments-button-wrapper\">\n\t\t\t<FilePicker v-if=\"isFilePickerOpen\"\n\t\t\t\t:name=\"t('mail', 'Choose a folder to store the attachments in')\"\n\t\t\t\t:buttons=\"saveAttachementButtons\"\n\t\t\t\t:allow-pick-directory=\"true\"\n\t\t\t\t:multiselect=\"false\"\n\t\t\t\t:mimetype-filter=\"['httpd/unix-directory']\"\n\t\t\t\t@close=\"()=>isFilePickerOpen = false\" />\n\t\t\t<span class=\"attachment-link\"\n\t\t\t\t:disabled=\"savingToCloud\"\n\t\t\t\t@click=\"() => isFilePickerOpen = true\">\n\t\t\t\t<CloudDownload v-if=\"!savingToCloud\" :size=\"18\" />\n\t\t\t\t<IconLoading v-else class=\"spin\" :size=\"18\" />\n\t\t\t\t{{ t('mail', 'Save all to Files') }}\n\t\t\t</span>\n\t\t\t<span class=\"attachment-link\"\n\t\t\t\t@click=\"downloadZip\">\n\t\t\t\t<Download :size=\"18\" />\n\t\t\t\t{{ t('mail', 'Download Zip') }}\n\t\t\t</span>\n\t\t</p>\n\t</div>\n</template>\n\n<script>\nimport { basename } from '@nextcloud/paths'\nimport { NcLoadingIcon as IconLoading } from '@nextcloud/vue'\nimport { showError, showSuccess } from '@nextcloud/dialogs'\nimport { FilePickerVue as FilePicker } from '@nextcloud/dialogs/filepicker.js'\nimport { generateUrl } from '@nextcloud/router'\nimport { saveAttachmentsToFiles } from '../service/AttachmentService.js'\n\nimport MessageAttachment from './MessageAttachment.vue'\nimport Logger from '../logger.js'\n\nimport Download from 'vue-material-design-icons/TrayArrowDown.vue'\nimport CloudDownload from 'vue-material-design-icons/CloudDownloadOutline.vue'\nimport ChevronDown from 'vue-material-design-icons/ChevronDown.vue'\nimport ChevronUp from 'vue-material-design-icons/ChevronUp.vue'\n\nexport default {\n\tname: 'MessageAttachments',\n\tcomponents: {\n\t\tMessageAttachment,\n\t\tIconLoading,\n\t\tDownload,\n\t\tCloudDownload,\n\t\tChevronDown,\n\t\tChevronUp,\n\t\tFilePicker,\n\t},\n\tprops: {\n\t\tenvelope: {\n\t\t\trequired: true,\n\t\t\ttype: Object,\n\t\t},\n\t\tattachments: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tvisible: 0,\n\t\t\tsavingToCloud: false,\n\t\t\tshowPreview: false,\n\t\t\tattachmentImageURL: '',\n\t\t\thasNextLine: false,\n\t\t\tisToggled: false,\n\t\t\tsaveAttachementButtons: [\n\t\t\t\t{\n\t\t\t\t\tlabel: t('mail', 'Choose'),\n\t\t\t\t\tcallback: this.saveAll,\n\t\t\t\t\ttype: 'primary',\n\t\t\t\t},\n\t\t\t],\n\t\t\tisFilePickerOpen: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\tfileInfos() {\n\t\t\treturn this.attachments.map(attachment => ({\n\t\t\t\tfilename: attachment.downloadUrl,\n\t\t\t\tsource: attachment.downloadUrl,\n\t\t\t\tbasename: basename(attachment.downloadUrl),\n\t\t\t\tmime: attachment.mime,\n\t\t\t\tetag: 'fixme',\n\t\t\t\thasPreview: false,\n\t\t\t\tfileid: parseInt(attachment.id, 10),\n\t\t\t}))\n\t\t},\n\t\tpreviewableFileInfos() {\n\t\t\treturn this.fileInfos.filter(fileInfo => (fileInfo.mime.startsWith('image/')\n\t\t\t\t\t|| fileInfo.mime.startsWith('video/')\n\t\t\t\t\t|| fileInfo.mime.startsWith('audio/')\n\t\t\t\t\t|| fileInfo.mime === 'application/pdf')\n\t\t\t\t&& OCA.Viewer.mimetypes.includes(fileInfo.mime))\n\t\t},\n\t\tmoreThanOne() {\n\t\t\treturn this.attachments.length > 1\n\t\t},\n\t\tzipUrl() {\n\t\t\treturn generateUrl('/apps/mail/api/messages/{id}/attachments', {\n\t\t\t\tid: this.envelope.databaseId,\n\t\t\t})\n\t\t},\n\t},\n\tmounted() {\n\t\tlet prevTop = null\n\t\tthis.visible = 0\n\t\tthis.$nextTick(function() {\n\t\t\tif (this.$refs.attachments) {\n\t\t\t\tthis.$refs.attachments.some((attachment, i) => {\n\t\t\t\t\tconst top = attachment.$el.getBoundingClientRect().top\n\t\t\t\t\tif (prevTop !== null && prevTop !== top) {\n\t\t\t\t\t\tthis.isToggled = true\n\t\t\t\t\t\tthis.hasNextLine = true\n\t\t\t\t\t\treturn true\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprevTop = top\n\t\t\t\t\t\tthis.visible++\n\t\t\t\t\t}\n\t\t\t\t\treturn false\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\n\t},\n\tmethods: {\n\t\tcanPreview(fileInfo) {\n\t\t\treturn this.previewableFileInfos.includes(fileInfo)\n\t\t},\n\t\tsaveAll(dest) {\n\t\t\tconst path = dest[0].path\n\t\t\tthis.savingToCloud = true\n\t\t\tconst id = this.$route.params.threadId\n\n\t\t\tsaveAttachmentsToFiles(id, path).then(() => {\n\t\t\t\tLogger.info('saved')\n\t\t\t\tshowSuccess(t('mail', 'Attachments saved to Files'))\n\t\t\t}).catch((error) => {\n\t\t\t\tLogger.error('not saved', error)\n\t\t\t\tshowError(t('mail', 'Error while saving attachments'))\n\t\t\t}).finally(() => {\n\t\t\t\tthis.savingToCloud = false\n\t\t\t})\n\t\t},\n\t\tdownloadZip() {\n\t\t\twindow.location = this.zipUrl\n\t\t},\n\t\tshowViewer(fileInfo) {\n\t\t\tif (!this.canPreview(fileInfo)) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (this.previewableFileInfos.includes(fileInfo)) {\n\t\t\t\tOCA.Viewer.open({\n\t\t\t\t\tfileInfo,\n\t\t\t\t\tlist: this.previewableFileInfos,\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\">\n.attachments {\n\twidth: 100%;\n    box-sizing: border-box;\n    position: relative;\n    display: flex;\n    flex-wrap: wrap;\n    margin: 10px 0;\n}\n\n/* show icon + text for Download all button\n\t\tas well as when there is only one attachment */\n.attachments-button-wrapper {\n\ttext-align: center;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.show-more-attachments {\n\tdisplay: flex;\n    align-items: center;\n\tcursor: pointer;\n\tpadding: 2px 0;\n\tcolor: var(--color-text-lighter);\n\n\tspan {\n\t\tcursor: pointer;\n\t}\n\n\t&:hover {\n\t\tcolor: var(--color-main-text);\n\t}\n}\n\n@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  50% {\n    transform: rotate(180deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n.spin {\n  animation: spin 1s linear infinite;\n}\n\n.attachment-link {\n\tcursor: pointer;\n\tdisplay:flex;\n\talign-items: center;\n\tcolor: var(--color-text-lighter);\n\n\t&:hover {\n\t\tcolor: var(--color-main-text);\n\t}\n\n\tspan {\n\t\tmargin: 0 4px 0 16px;\n\t}\n}\n\n.oc-dialog {\n\tz-index: 10000000;\n}\n\n.mail-message-attachments {\n\tdisplay:flex;\n\tflex-wrap: wrap;\n\tpadding: 10px 6px 10px 46px;\n\tmargin-top: 4px;\n\tmargin-bottom: 0;\n\tposition:sticky;\n\tbottom:0;\n\tbackground: linear-gradient(0deg, var(--color-main-background), var(--color-main-background) 90%, rgba(255, 255, 255, 0));\n}\n\n.mail-message-attachments--wrapper {\n\tdisplay:flex;\n\twidth:100%;\n\theight:auto;\n\toverflow: hidden;\n\tmax-height: none;\n}\n\n.mail-message-attachments--wrapper.hide {\n\tdisplay:flex;\n\tmax-height: 70px;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageAttachments.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageAttachments.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageAttachments.vue?vue&type=style&index=0&id=4f4221e2&prod&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageAttachments.vue?vue&type=style&index=0&id=4f4221e2&prod&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./MessageAttachments.vue?vue&type=template&id=4f4221e2\"\nimport script from \"./MessageAttachments.vue?vue&type=script&lang=js\"\nexport * from \"./MessageAttachments.vue?vue&type=script&lang=js\"\nimport style0 from \"./MessageAttachments.vue?vue&type=style&index=0&id=4f4221e2&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhishingWarning.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhishingWarning.vue?vue&type=script&lang=js\"","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div class=\"phishing-warning\">\n\t\t<div class=\"phishing-warning__title\">\n\t\t\t<IconAlertOutline :size=\"20\" :title=\"t('mail', 'Phishing email')\" />\n\t\t\t{{ t('mail','This email might be a phishing attempt') }}\n\t\t</div>\n\t\t<ul v-for=\"(warning,index) in warnings\" :key=\"index\" class=\"phishing-warning__list\">\n\t\t\t<li class=\"phishing-warning__list__item\">\n\t\t\t\t{{ warning.message }}\n\t\t\t</li>\n\t\t</ul>\n\t\t<div v-if=\"linkWarning !== undefined\" class=\"phishing-warning__links\">\n\t\t\t<NcButton class=\"warning__links__button\" type=\"tertiary\" @click=\"showMore = !showMore\">\n\t\t\t\t{{ showMore? t('mail','Hide suspicious links') :t('mail','Show suspicious links') }}\n\t\t\t</NcButton>\n\t\t\t<div v-if=\"showMore\">\n\t\t\t\t<ul v-for=\"(link,index) in linkWarning.additionalData\" :key=\"index\" class=\"phishing-warning__list\">\n\t\t\t\t\t<li class=\"phishing-warning__list__item\" dir=\"auto\">\n\t\t\t\t\t\t<b>href: </b>{{ link.href }} <b>{{ t('mail','link text') }}:</b> {{ link.linkText }}\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n<script>\nimport IconAlertOutline from 'vue-material-design-icons/AlertOutline.vue'\nimport { NcButton } from '@nextcloud/vue'\n\nexport default {\n\n\tname: 'PhishingWarning',\n\tcomponents: {\n\t\tIconAlertOutline,\n\t\tNcButton,\n\t},\n\tprops: {\n\t\tphishingData: {\n\t\t\trequired: true,\n\t\t\ttype: Array,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tshowMore: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\twarnings() {\n\t\t\treturn this.phishingData.filter(check => check.isPhishing)\n\t\t},\n\t\tlinkWarning() {\n\t\t\treturn this.phishingData.find(check => check.type === 'Link' && check.isPhishing)\n\t\t},\n\t},\n\n}\n\n</script>\n<style lang=\"scss\" scoped>\n.phishing-warning {\n\tbackground-color:rgba(var(--color-warning-rgb), 0.2);\n    border-radius: var(--border-radius);\n    text-align: start;\n    padding: 8px;\n    margin: calc(var(--default-grid-baseline) * 2);\n\t// To match the html message margin\n\tmargin-inline-start: 50px;\n\t&__title {\n\t\tdisplay: flex;\n\t}\n\t&__list {\n\t\tlist-style-position: inside;\n\t\tlist-style-type: disc;\n\t\t&__item {\n\t\t\tword-wrap: break-word;\n\t\t}\n\t}\n    &__links {\n      margin-top: 10px;\n\t\t&__button{\n\t\t\tmargin-bottom: 10px;\n\t\t}\n    }\n}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhishingWarning.vue?vue&type=style&index=0&id=0378b788&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhishingWarning.vue?vue&type=style&index=0&id=0378b788&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./PhishingWarning.vue?vue&type=template&id=0378b788&scoped=true\"\nimport script from \"./PhishingWarning.vue?vue&type=script&lang=js\"\nexport * from \"./PhishingWarning.vue?vue&type=script&lang=js\"\nimport style0 from \"./PhishingWarning.vue?vue&type=style&index=0&id=0378b788&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0378b788\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"phishing-warning\"},[_c('div',{staticClass:\"phishing-warning__title\"},[_c('IconAlertOutline',{attrs:{\"size\":20,\"title\":_vm.t('mail', 'Phishing email')}}),_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail','This email might be a phishing attempt'))+\"\\n\\t\")],1),_vm._v(\" \"),_vm._l((_vm.warnings),function(warning,index){return _c('ul',{key:index,staticClass:\"phishing-warning__list\"},[_c('li',{staticClass:\"phishing-warning__list__item\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(warning.message)+\"\\n\\t\\t\")])])}),_vm._v(\" \"),(_vm.linkWarning !== undefined)?_c('div',{staticClass:\"phishing-warning__links\"},[_c('NcButton',{staticClass:\"warning__links__button\",attrs:{\"type\":\"tertiary\"},on:{\"click\":function($event){_vm.showMore = !_vm.showMore}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.showMore? _vm.t('mail','Hide suspicious links') :_vm.t('mail','Show suspicious links'))+\"\\n\\t\\t\")]),_vm._v(\" \"),(_vm.showMore)?_c('div',_vm._l((_vm.linkWarning.additionalData),function(link,index){return _c('ul',{key:index,staticClass:\"phishing-warning__list\"},[_c('li',{staticClass:\"phishing-warning__list__item\",attrs:{\"dir\":\"auto\"}},[_c('b',[_vm._v(\"href: \")]),_vm._v(_vm._s(link.href)+\" \"),_c('b',[_vm._v(_vm._s(_vm.t('mail','link text'))+\":\")]),_vm._v(\" \"+_vm._s(link.linkText)+\"\\n\\t\\t\\t\\t\")])])}),0):_vm._e()],1):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.mailvelope)?_c('div',{attrs:{\"id\":\"mail-content\"}},[_c('MdnRequest',{attrs:{\"message\":_vm.message}})],1):_c('span',[_vm._v(_vm._s(_vm.t('mail', 'This message is encrypted with PGP. Install Mailvelope to decrypt it.')))])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div v-if=\"hasMdnRequest && !mdnSent\" class=\"mail-message-has-mdn-request\">\n\t\t{{\n\t\t\tt('mail', 'The sender of this message has asked to be notified when you read this message.')\n\t\t}}\n\t\t<div class=\"notify-button\">\n\t\t\t<NcButton type=\"secondary\" :disabled=\"loading\" @click=\"sendMdn\">\n\t\t\t\t{{ t('mail', 'Notify the sender') }}\n\t\t\t</NcButton>\n\t\t</div>\n\t</div>\n\t<div v-else-if=\"mdnSent\" class=\"mail-message-has-mdn-request\">\n\t\t{{\n\t\t\tt('mail', 'You sent a read confirmation to the sender of this message.')\n\t\t}}\n\t</div>\n</template>\n\n<script>\nimport logger from '../logger.js'\nimport { sendMdn } from '../service/MessageService.js'\nimport { showError } from '@nextcloud/dialogs'\nimport { NcButton } from '@nextcloud/vue'\n\nimport useMainStore from '../store/mainStore.js'\nimport { mapStores } from 'pinia'\n\nexport default {\n\tname: 'MdnRequest',\n\tcomponents: {\n\t\tNcButton,\n\t},\n\tprops: {\n\t\tmessage: {\n\t\t\trequired: true,\n\t\t\ttype: Object,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\thasMdnRequest: this.message.dispositionNotificationTo && this.message.dispositionNotificationTo.length > 0,\n\t\t\tloading: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t\tmdnSent() {\n\t\t\treturn this.message.flags.mdnsent\n\t\t},\n\t},\n\tmethods: {\n\t\tasync sendMdn() {\n\t\t\tthis.loading = true\n\t\t\tlogger.debug('send return receipt')\n\n\t\t\ttry {\n\t\t\t\tawait sendMdn(this.message.databaseId)\n\t\t\t\tthis.mainStore.flagEnvelopeMutation({ envelope: this.message, flag: 'mdnsent', value: true })\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('could not send mdn', error)\n\t\t\t\tshowError(t('mail', 'Could not send mdn'))\n\t\t\t}\n\n\t\t\tthis.loading = false\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.mail-message-has-mdn-request {\n\twhite-space: normal;\n}\n\n.notify-button {\n\tdisplay: inline-block;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MdnRequest.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MdnRequest.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MdnRequest.vue?vue&type=style&index=0&id=240bd3b7&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MdnRequest.vue?vue&type=style&index=0&id=240bd3b7&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./MdnRequest.vue?vue&type=template&id=240bd3b7&scoped=true\"\nimport script from \"./MdnRequest.vue?vue&type=script&lang=js\"\nexport * from \"./MdnRequest.vue?vue&type=script&lang=js\"\nimport style0 from \"./MdnRequest.vue?vue&type=style&index=0&id=240bd3b7&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"240bd3b7\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.hasMdnRequest && !_vm.mdnSent)?_c('div',{staticClass:\"mail-message-has-mdn-request\"},[_vm._v(\"\\n\\t\"+_vm._s(_vm.t('mail', 'The sender of this message has asked to be notified when you read this message.'))+\"\\n\\t\"),_c('div',{staticClass:\"notify-button\"},[_c('NcButton',{attrs:{\"type\":\"secondary\",\"disabled\":_vm.loading},on:{\"click\":_vm.sendMdn}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Notify the sender'))+\"\\n\\t\\t\")])],1)]):(_vm.mdnSent)?_c('div',{staticClass:\"mail-message-has-mdn-request\"},[_vm._v(\"\\n\\t\"+_vm._s(_vm.t('mail', 'You sent a read confirmation to the sender of this message.'))+\"\\n\")]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageEncryptedBody.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageEncryptedBody.vue?vue&type=script&lang=js\"","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div>\n\t\t<div v-if=\"mailvelope\" id=\"mail-content\">\n\t\t\t<MdnRequest :message=\"message\" />\n\t\t</div>\n\t\t<span v-else>{{ t('mail', 'This message is encrypted with PGP. Install Mailvelope to decrypt it.') }}</span>\n\t</div>\n</template>\n\n<script>\nimport { getMailvelope } from '../crypto/mailvelope.js'\nimport MdnRequest from './MdnRequest.vue'\n\nexport default {\n\tname: 'MessageEncryptedBody',\n\tcomponents: { MdnRequest },\n\tprops: {\n\t\tbody: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tfrom: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: undefined,\n\t\t},\n\t\tmessage: {\n\t\t\trequired: true,\n\t\t\ttype: Object,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmailvelope: false,\n\t\t}\n\t},\n\tasync mounted() {\n\t\tthis.mailvelope = await getMailvelope()\n\t\tthis.mailvelope.createDisplayContainer('#mail-content', this.body, undefined, {\n\t\t\tsenderAddress: this.from,\n\t\t})\n\t},\n}\n</script>\n\n<style scoped>\n#mail-content {\n\theight: 450px;\n}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageEncryptedBody.vue?vue&type=style&index=0&id=4cdc070e&prod&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageEncryptedBody.vue?vue&type=style&index=0&id=4cdc070e&prod&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./MessageEncryptedBody.vue?vue&type=template&id=4cdc070e&scoped=true\"\nimport script from \"./MessageEncryptedBody.vue?vue&type=script&lang=js\"\nexport * from \"./MessageEncryptedBody.vue?vue&type=script&lang=js\"\nimport style0 from \"./MessageEncryptedBody.vue?vue&type=style&index=0&id=4cdc070e&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4cdc070e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"html-message-body\"},[_c('MdnRequest',{attrs:{\"message\":_vm.message}}),_vm._v(\" \"),(_vm.needsTranslation)?_c('NeedsTranslationInfo',{attrs:{\"is-html\":true},on:{\"translate\":function($event){return _vm.$emit('translate')}}}):_vm._e(),_vm._v(\" \"),(_vm.hasBlockedContent)?_c('div',{staticStyle:{\"color\":\"#000000\"},attrs:{\"id\":\"mail-message-has-blocked-content\"}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'The images have been blocked to protect your privacy.'))+\"\\n\\t\\t\"),_c('Actions',{attrs:{\"type\":\"tertiary\",\"menu-name\":_vm.t('mail', 'Show images')}},[_c('ActionButton',{on:{\"click\":_vm.displayIframe},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconImage',{attrs:{\"size\":20}})]},proxy:true}],null,false,1558549604)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Show images temporarily'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),(_vm.sender)?_c('ActionButton',{on:{\"click\":_vm.onShowBlockedContent},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconMail',{attrs:{\"size\":20}})]},proxy:true}],null,false,212336778)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Always show images from {sender}', { sender: _vm.sender }))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.domain)?_c('ActionButton',{on:{\"click\":_vm.onShowBlockedContentForDomain},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconDomain',{attrs:{\"size\":20}})]},proxy:true}],null,false,1878072675)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Always show images from {domain}', { domain: _vm.domain }))+\"\\n\\t\\t\\t\")]):_vm._e()],1)],1):_vm._e(),_vm._v(\" \"),_c('div',{class:{scroll: !_vm.fullHeight},attrs:{\"id\":\"message-container\"}},[_c('iframe',{ref:\"iframe\",staticClass:\"message-frame\",attrs:{\"title\":_vm.t('mail', 'Message frame'),\"src\":_vm.url,\"seamless\":\"\"},on:{\"load\":_vm.onMessageFrameLoad}})])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2025 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div class=\"needs-translation-info\"\n\t\t:class=\"{'needs-translation-info--html': isHtml}\">\n\t\t{{ t('mail', 'Translate this message to {language}', { language: localLanguage }) }}\n\t\t<NcButton type=\"tertiary\"\n\t\t\t@click=\"$emit('translate')\">\n\t\t\t{{ t('mail', 'Translate') }}\n\t\t</NcButton>\n\t</div>\n</template>\n\n<script>\nimport { NcButton } from '@nextcloud/vue'\nimport { getLanguage } from '@nextcloud/l10n'\nimport { mapState } from 'pinia'\nimport useMainStore from '../store/mainStore.js'\n\nexport default {\n\tname: 'NeedsTranslationInfo',\n\tcomponents: {\n\t\tNcButton,\n\t},\n\tprops: {\n\t\tisHtml: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\t...mapState(useMainStore, {\n\t\t\tavailableOutputLanguages: 'translationOutputLanguages',\n\t\t}),\n\t\tlocalLanguage() {\n\t\t\treturn this.availableOutputLanguages.find(lang => lang.value === getLanguage())?.name || 'English'\n\t\t},\n\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.needs-translation-info {\n    display: flex;\n\talign-items: center;\n    &--html {\n\t\tmargin-inline-start: 10px;\n\t\tcolor: var(--color-text-maxcontrast) !important;\n    }\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NeedsTranslationInfo.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NeedsTranslationInfo.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NeedsTranslationInfo.vue?vue&type=style&index=0&id=648f74b8&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NeedsTranslationInfo.vue?vue&type=style&index=0&id=648f74b8&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./NeedsTranslationInfo.vue?vue&type=template&id=648f74b8&scoped=true\"\nimport script from \"./NeedsTranslationInfo.vue?vue&type=script&lang=js\"\nexport * from \"./NeedsTranslationInfo.vue?vue&type=script&lang=js\"\nimport style0 from \"./NeedsTranslationInfo.vue?vue&type=style&index=0&id=648f74b8&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"648f74b8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"needs-translation-info\",class:{'needs-translation-info--html': _vm.isHtml}},[_vm._v(\"\\n\\t\"+_vm._s(_vm.t('mail', 'Translate this message to {language}', { language: _vm.localLanguage }))+\"\\n\\t\"),_c('NcButton',{attrs:{\"type\":\"tertiary\"},on:{\"click\":function($event){return _vm.$emit('translate')}}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Translate'))+\"\\n\\t\")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div class=\"html-message-body\">\n\t\t<MdnRequest :message=\"message\" />\n\t\t<NeedsTranslationInfo v-if=\"needsTranslation\"\n\t\t\t:is-html=\"true\"\n\t\t\t@translate=\"$emit('translate')\" />\n\t\t<div v-if=\"hasBlockedContent\" id=\"mail-message-has-blocked-content\" style=\"color: #000000\">\n\t\t\t{{ t('mail', 'The images have been blocked to protect your privacy.') }}\n\t\t\t<Actions type=\"tertiary\" :menu-name=\"t('mail', 'Show images')\">\n\t\t\t\t<ActionButton @click=\"displayIframe\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconImage :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Show images temporarily') }}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton v-if=\"sender\"\n\t\t\t\t\t@click=\"onShowBlockedContent\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconMail :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Always show images from {sender}', { sender }) }}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton v-if=\"domain\"\n\t\t\t\t\t@click=\"onShowBlockedContentForDomain\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconDomain :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Always show images from {domain}', { domain }) }}\n\t\t\t\t</ActionButton>\n\t\t\t</Actions>\n\t\t</div>\n\t\t<div id=\"message-container\" :class=\"{scroll: !fullHeight}\">\n\t\t\t<iframe ref=\"iframe\"\n\t\t\t\tclass=\"message-frame\"\n\t\t\t\t:title=\"t('mail', 'Message frame')\"\n\t\t\t\t:src=\"url\"\n\t\t\t\tseamless\n\t\t\t\t@load=\"onMessageFrameLoad\" />\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport iframeResize from '@iframe-resizer/parent'\nimport PrintScout from 'printscout'\nimport { trustSender } from '../service/TrustedSenderService.js'\nimport NeedsTranslationInfo from './NeedsTranslationInfo.vue'\nimport { NcActionButton as ActionButton, NcActions as Actions } from '@nextcloud/vue'\nimport IconImage from 'vue-material-design-icons/ImageSizeSelectActual.vue'\nimport IconMail from 'vue-material-design-icons/EmailOutline.vue'\nimport IconDomain from 'vue-material-design-icons/Domain.vue'\nimport { needsTranslation } from '../service/AiIntergrationsService.js'\nimport { loadState } from '@nextcloud/initial-state'\n\nimport logger from '../logger.js'\nimport MdnRequest from './MdnRequest.vue'\nconst scout = new PrintScout()\n\nexport default {\n\tname: 'MessageHTMLBody',\n\tcomponents: {\n\t\tMdnRequest,\n\t\tNeedsTranslationInfo,\n\t\tActions,\n\t\tActionButton,\n\t\tIconImage,\n\t\tIconMail,\n\t\tIconDomain,\n\t},\n\tprops: {\n\t\turl: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tfullHeight: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false,\n\t\t},\n\t\tmessage: {\n\t\t\trequired: true,\n\t\t\ttype: Object,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\thasBlockedContent: false,\n\t\t\tisSenderTrusted: this.message.isSenderTrusted,\n\t\t\tneedsTranslation: false,\n\t\t\tenabledFreePrompt: loadState('mail', 'llm_freeprompt_available', false),\n\t\t}\n\t},\n\tcomputed: {\n\t\tsender() {\n\t\t\treturn this.message.from[0]?.email\n\t\t},\n\t\tdomain() {\n\t\t\treturn this.sender?.split('@').pop()\n\t\t},\n\t},\n\tbeforeMount() {\n\t\tscout.on('beforeprint', this.onBeforePrint)\n\t},\n\tasync mounted() {\n\t\tiframeResize({\n\t\t\tlicense: 'GPLv3',\n\t\t\tlog: false,\n\t\t\tscrolling: true,\n\t\t}, this.$refs.iframe)\n\n\t\tif (this.enabledFreePrompt && this.message) {\n\t\t\tthis.needsTranslation = await needsTranslation(this.message.databaseId)\n\t\t}\n\t},\n\tbeforeDestroy() {\n\t\tscout.off('beforeprint', this.onBeforePrint)\n\t\tthis.$refs.iframe.iFrameResizer.close()\n\t},\n\tmethods: {\n\t\tgetIframeDoc() {\n\t\t\tconst iframe = this.$refs.iframe\n\t\t\treturn iframe.contentDocument || iframe.contentWindow.document\n\t\t},\n\t\tonMessageFrameLoad() {\n\t\t\tconst iframeDoc = this.getIframeDoc()\n\t\t\tthis.hasBlockedContent\n\t\t\t\t= iframeDoc.querySelectorAll('[data-original-src]').length > 0\n\t\t\t\t|| iframeDoc.querySelectorAll('[data-original-style]').length > 0\n\t\t\t\t|| iframeDoc.querySelectorAll('style[data-original-content]').length > 0\n\n\t\t\tthis.$emit('load')\n\t\t\tif (this.isSenderTrusted) {\n\t\t\t\tthis.displayIframe()\n\t\t\t}\n\t\t},\n\t\tonBeforePrint() {\n\t\t\t// this.$refs.iframe.style.setProperty('height', `${this.getIframeDoc().body.scrollHeight}px`, 'important')\n\t\t},\n\t\tdisplayIframe() {\n\t\t\tconst iframeDoc = this.getIframeDoc()\n\t\t\tlogger.debug('showing external images')\n\t\t\tiframeDoc.querySelectorAll('[data-original-src]').forEach((node) => {\n\t\t\t\tnode.style.display = null\n\t\t\t\tnode.setAttribute('src', node.getAttribute('data-original-src'))\n\t\t\t})\n\t\t\tiframeDoc\n\t\t\t\t.querySelectorAll('[data-original-style]')\n\t\t\t\t.forEach((node) => node.setAttribute('style', node.getAttribute('data-original-style')))\n\t\t\tiframeDoc\n\t\t\t\t.querySelectorAll('style[data-original-content]')\n\t\t\t\t.forEach((node) => {\n\t\t\t\t\tnode.innerHTML = node.getAttribute('data-original-content')\n\t\t\t\t})\n\t\t\tthis.hasBlockedContent = false\n\t\t},\n\t\tasync onShowBlockedContent() {\n\t\t\tthis.displayIframe()\n\t\t\tawait trustSender(this.message.from[0].email, 'individual', true)\n\t\t},\n\t\tasync onShowBlockedContentForDomain() {\n\t\t\tthis.displayIframe()\n\t\t\t// TODO: there might be more than one @ in an email address\n\t\t\tawait trustSender(this.domain, 'domain', true)\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n// account for 8px margin on iframe body\n.html-message-body {\n\tmargin : 2px calc(var(--default-grid-baseline) * 2) 0 calc(var(--default-grid-baseline) * 14);\n\tbackground-color: #FFFFFF;\n}\n\n#mail-message-has-blocked-content {\n\tmargin-inline-start: 10px;\n\tcolor: var(--color-text-maxcontrast) !important;\n}\n\n#message-container {\n\tflex: 1;\n\tdisplay: flex;\n\tbackground-color: #FFFFFF;\n\n\t// TODO: collapse quoted text and remove inner scrollbar\n\t@media only screen {\n\t\t&.scroll {\n\t\t\toverflow-y: auto;\n\t\t}\n\t}\n}\n\n:deep(.button-vue__text) {\n\tborder: none !important;\n\tfont-weight: normal !important;\n\tpadding-inline: 14px 10px !important;\n\ttext-decoration: underline !important;\n}\n\n.message-frame {\n\twidth: 100%;\n}\n\n:deep(.button-vue__icon) {\n\tdisplay: none !important;\n}\n\n:deep(.button-vue--vue-tertiary) {\n\tcolor: var(--color-text-maxcontrast);\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageHTMLBody.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageHTMLBody.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageHTMLBody.vue?vue&type=style&index=0&id=703f68fa&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageHTMLBody.vue?vue&type=style&index=0&id=703f68fa&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./MessageHTMLBody.vue?vue&type=template&id=703f68fa&scoped=true\"\nimport script from \"./MessageHTMLBody.vue?vue&type=script&lang=js\"\nexport * from \"./MessageHTMLBody.vue?vue&type=script&lang=js\"\nimport style0 from \"./MessageHTMLBody.vue?vue&type=style&index=0&id=703f68fa&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"703f68fa\",\n  null\n  \n)\n\nexport default component.exports","<!--\n  - SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div id=\"mail-content\">\n\t\t<NeedsTranslationInfo v-if=\"needsTranslation\"\n\t\t\t:is-html=\"false\"\n\t\t\t@translate=\"$emit('translate')\" />\n\t\t<MdnRequest :message=\"message\" />\n\t\t<div id=\"message-container\" v-html=\"nl2br(enhancedBody)\" />\n\t\t<details v-if=\"signature\" class=\"mail-signature\">\n\t\t\t<summary v-html=\"nl2br(signatureSummaryAndBody.summary)\" />\n\t\t\t<span v-html=\"nl2br(signatureSummaryAndBody.body)\" />\n\t\t</details>\n\t</div>\n</template>\n\n<script>\nimport MdnRequest from './MdnRequest.vue'\nimport NeedsTranslationInfo from './NeedsTranslationInfo.vue'\nimport { needsTranslation } from '../service/AiIntergrationsService.js'\nimport { loadState } from '@nextcloud/initial-state'\n\nconst regFirstParagraph = /(.+\\n\\r?)+(\\n\\r?)+/\n\nexport default {\n\tname: 'MessagePlainTextBody',\n\tcomponents: { MdnRequest, NeedsTranslationInfo },\n\tprops: {\n\t\tbody: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tsignature: {\n\t\t\ttype: String,\n\t\t\tdefault: () => undefined,\n\t\t},\n\t\tmessage: {\n\t\t\trequired: true,\n\t\t\ttype: Object,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tneedsTranslation: false,\n\t\t\tenabledFreePrompt: loadState('mail', 'llm_freeprompt_available', false),\n\t\t}\n\t},\n\tcomputed: {\n\t\tenhancedBody() {\n\t\t\treturn this.body.replace(/(^&gt;.*\\n)+/gm, (match) => {\n\t\t\t\treturn `<details class=\"quoted-text\"><summary>${t('mail', 'Quoted text')}</summary>${match}</details>`\n\t\t\t})\n\t\t},\n\t\tsignatureSummaryAndBody() {\n\t\t\tconst matches = this.signature.trim().match(regFirstParagraph)\n\n\t\t\tif (matches && matches[0]) {\n\t\t\t\treturn {\n\t\t\t\t\tsummary: matches[0],\n\t\t\t\t\tbody: this.signature.substring(matches[0].length),\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst lines = this.signature.trim().split(/\\r?\\n/)\n\t\t\treturn {\n\t\t\t\tsummary: lines[0],\n\t\t\t\tbody: lines.slice(1).join('\\n'),\n\t\t\t}\n\t\t},\n\t\tsignatureSummary() {\n\t\t\tconsole.info(this.signature.match(regFirstParagraph))\n\n\t\t\treturn this.signatureSummaryAndBody.summary\n\t\t},\n\t},\n\tasync mounted() {\n\t\tif (this.enabledFreePrompt && this.message) {\n\t\t\tthis.needsTranslation = await needsTranslation(this.message.databaseId)\n\t\t}\n\t},\n\tmethods: {\n\t\tnl2br(str) {\n\t\t\treturn str.replace(/(\\r\\n|\\n\\r|\\n|\\r)/g, '<br />')\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\">\n.quoted-text {\n\tcolor: var(--color-text-maxcontrast)\n\n\tsummary {\n\t\tcursor: pointer\n\t}\n}\n</style>\n<style lang=\"scss\" scoped>\n.message-container,\n.mail-signature {\n\twhite-space: pre-wrap;\n}\n\n.mail-signature, .quoted {\n\tcolor: var(--color-text-maxcontrast)\n\n\tsummary {\n\t\tcursor: pointer\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessagePlainTextBody.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessagePlainTextBody.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessagePlainTextBody.vue?vue&type=style&index=0&id=55ac0e45&prod&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessagePlainTextBody.vue?vue&type=style&index=0&id=55ac0e45&prod&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessagePlainTextBody.vue?vue&type=style&index=1&id=55ac0e45&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessagePlainTextBody.vue?vue&type=style&index=1&id=55ac0e45&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./MessagePlainTextBody.vue?vue&type=template&id=55ac0e45&scoped=true\"\nimport script from \"./MessagePlainTextBody.vue?vue&type=script&lang=js\"\nexport * from \"./MessagePlainTextBody.vue?vue&type=script&lang=js\"\nimport style0 from \"./MessagePlainTextBody.vue?vue&type=style&index=0&id=55ac0e45&prod&lang=scss\"\nimport style1 from \"./MessagePlainTextBody.vue?vue&type=style&index=1&id=55ac0e45&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55ac0e45\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"mail-content\"}},[(_vm.needsTranslation)?_c('NeedsTranslationInfo',{attrs:{\"is-html\":false},on:{\"translate\":function($event){return _vm.$emit('translate')}}}):_vm._e(),_vm._v(\" \"),_c('MdnRequest',{attrs:{\"message\":_vm.message}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"message-container\"},domProps:{\"innerHTML\":_vm._s(_vm.nl2br(_vm.enhancedBody))}}),_vm._v(\" \"),(_vm.signature)?_c('details',{staticClass:\"mail-signature\"},[_c('summary',{domProps:{\"innerHTML\":_vm._s(_vm.nl2br(_vm.signatureSummaryAndBody.summary))}}),_vm._v(\" \"),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.nl2br(_vm.signatureSummaryAndBody.body))}})]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"imip\"},[(_vm.isRequest)?_c('div',{staticClass:\"imip__type\"},[(_vm.existingEventFetched)?[(_vm.wasProcessed && _vm.existingParticipationStatus === _vm.ACCEPTED)?_c('span',[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'You accepted this invitation'))+\"\\n\\t\\t\\t\")]):(_vm.wasProcessed && _vm.existingParticipationStatus === _vm.TENTATIVE)?_c('span',[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'You tentatively accepted this invitation'))+\"\\n\\t\\t\\t\")]):(_vm.wasProcessed && _vm.existingParticipationStatus === _vm.DECLINED)?_c('span',[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'You declined this invitation'))+\"\\n\\t\\t\\t\")]):(_vm.wasProcessed && _vm.existingParticipationStatus !== _vm.NEEDS_ACTION)?_c('span',[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'You already reacted to this invitation'))+\"\\n\\t\\t\\t\")]):(_vm.userIsAttendee)?_c('span',[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'You have been invited to an event'))+\"\\n\\t\\t\\t\")]):_vm._e()]:_vm._e()],2):(_vm.isReply)?_c('div',{staticClass:\"imip__type\"},[_c('CalendarIcon',{attrs:{\"size\":20}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.replyStatusMessage))])],1):(_vm.isCancel)?_c('div',{staticClass:\"imip__type\"},[_c('CloseIcon',{attrs:{\"size\":20,\"fill-color\":\"red\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.t('mail', 'This event was cancelled')))])],1):_vm._e(),_vm._v(\" \"),_c('EventData',{attrs:{\"event\":_vm.attachedVEvent}}),_vm._v(\" \"),(_vm.showMoreOptions)?_c('div',{staticClass:\"imip__more-options\"},[(!_vm.isExistingEvent)?_c('div',{staticClass:\"imip__more-options__row imip__more-options__row--calendar\"},[_c('label',{attrs:{\"for\":\"targetCalendarPickerId\"}},[_vm._v(_vm._s(_vm.t('mail', 'Save to')))]),_vm._v(\" \"),_c('div',{staticClass:\"imip__more-options__row\"},[(_vm.calendarsForPicker.length > 1)?_c('NcSelect',{attrs:{\"id\":_vm.targetCalendarPickerId,\"aria-label-combobox\":_vm.t('mail', 'Select'),\"label\":\"displayname\",\"options\":_vm.calendarsForPicker},scopedSlots:_vm._u([{key:\"option\",fn:function(option){return [_c('CalendarPickerOption',_vm._b({},'CalendarPickerOption',option,false))]}},{key:\"selected-option\",fn:function(option){return [_c('CalendarPickerOption',_vm._b({},'CalendarPickerOption',option,false))]}}],null,false,690529869),model:{value:(_vm.targetCalendar),callback:function ($$v) {_vm.targetCalendar=$$v},expression:\"targetCalendar\"}}):_vm._e()],1)]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"imip__more-options__row imip__more-options__row--comment\"},[_c('label',{attrs:{\"for\":\"commentFieldId\"}},[_vm._v(_vm._s(_vm.t('mail', 'Comment')))]),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.comment),expression:\"comment\"}],attrs:{\"id\":_vm.commentFieldId,\"rows\":\"3\"},domProps:{\"value\":(_vm.comment)},on:{\"input\":function($event){if($event.target.composing)return;_vm.comment=$event.target.value}}})])]):_vm._e(),_vm._v(\" \"),(_vm.isRequest && _vm.userIsAttendee)?[(!_vm.wasProcessed && _vm.eventIsInFuture && _vm.existingEventFetched)?_c('div',{staticClass:\"imip__actions imip__actions--buttons\"},[_c('NcButton',{attrs:{\"type\":\"secondary\",\"disabled\":_vm.loading,\"aria-label\":_vm.t('mail', 'Accept')},on:{\"click\":_vm.accept}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Accept'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('NcButton',{attrs:{\"type\":\"tertiary\",\"disabled\":_vm.loading,\"aria-label\":_vm.t('mail', 'Decline')},on:{\"click\":_vm.decline}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Decline'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('NcButton',{attrs:{\"type\":\"tertiary\",\"disabled\":_vm.loading,\"aria-label\":_vm.t('mail', 'Tentatively accept')},on:{\"click\":_vm.acceptTentatively}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Tentatively accept'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),(!_vm.showMoreOptions)?_c('NcButton',{attrs:{\"type\":\"tertiary\",\"disabled\":_vm.loading,\"aria-label\":_vm.t('mail', 'More options')},on:{\"click\":function($event){_vm.showMoreOptions = true}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'More options'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.loading)?_c('NcLoadingIcon'):_vm._e()],1):(!_vm.eventIsInFuture)?_c('p',{staticClass:\"imip__actions imip__actions--hint\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'This message has an attached invitation but the invitation dates are in the past'))+\"\\n\\t\\t\")]):_vm._e()]:_vm._e(),_vm._v(\" \"),(!_vm.userIsAttendee)?_c('div',{staticClass:\"imip__actions imip__actions--hint\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'This message has an attached invitation but the invitation does not contain a participant that matches any configured mail account address'))+\"\\n\\t\")]):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\n/*\n * Remove the mailto prefix from a URI and return it\n *\n * @param {string} uri URI to remove the prefix from\n * @return {string} URI without a mailto prefix\n */\nexport function removeMailtoPrefix(uri) {\n\tif (uri.startsWith('mailto:') || uri.startsWith('MAILTO:')) {\n\t\treturn uri.substring(7)\n\t}\n\n\treturn uri\n}\n","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div class=\"event-data\">\n\t\t<h2 class=\"event-data__heading\">\n\t\t\t{{ title }}\n\t\t</h2>\n\n\t\t<div class=\"event-data__row event-data__row--date\">\n\t\t\t<CalendarIcon class=\"event-data__row__icon\" :size=\"20\" />\n\t\t\t<div>\n\t\t\t\t{{ startDate }}\n\t\t\t\t<span v-if=\"startTimezone && startTimezone !== endTimezone\" class=\"muted\">\n\t\t\t\t\t{{ startTimezone }}\n\t\t\t\t</span>\n\t\t\t\t<template v-if=\"endDate\">\n\t\t\t\t\t<span> - </span>\n\t\t\t\t\t{{ endDate }}\n\t\t\t\t\t<span v-if=\"endTimezone\" class=\"muted\">{{ endTimezone }}</span>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div v-if=\"location\"\n\t\t\tclass=\"event-data__row event-data__row--location\">\n\t\t\t<MapMarkerIcon class=\"event-data__row__icon\" :size=\"20\" />\n\t\t\t<span>{{ location }}</span>\n\t\t</div>\n\n\t\t<div class=\"event-data__row event-data__row--participants\">\n\t\t\t<AccountMultipleIcon class=\"event-data__row__icon\" :size=\"20\" />\n\t\t\t<ul>\n\t\t\t\t<li v-for=\"{ name, isOrganizer, key } in attendees\" :key=\"key\">\n\t\t\t\t\t{{ name }}\n\t\t\t\t\t<span v-if=\"isOrganizer\" class=\"muted\">{{ t('mail', '(organizer)') }}</span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport AccountMultipleIcon from 'vue-material-design-icons/AccountMultipleOutline.vue'\nimport CalendarIcon from 'vue-material-design-icons/CalendarOutline.vue'\nimport MapMarkerIcon from 'vue-material-design-icons/MapMarkerOutline.vue'\nimport { getReadableTimezoneName } from '@nextcloud/timezones'\nimport moment from '@nextcloud/moment'\nimport { removeMailtoPrefix } from '../../util/eventAttendee.js'\nimport { DateTimeValue } from '@nextcloud/calendar-js'\n\n/**\n * Check whether two dates are on the exact same day, month and year.\n *\n * @param {Date} a Date a\n * @param {Date} b Date b\n * @return {boolean} True if both dates a and b are on the same day, month and year.\n */\nfunction isSameDay(a, b) {\n\treturn a.getFullYear() === b.getFullYear()\n\t\t&& a.getMonth() === b.getMonth()\n\t\t&& a.getDate() === b.getDate()\n}\n\n/**\n * Get a human readable timezone name from a DateTimeValue.\n * If timezone is floating, undefined will be returned.\n *\n * @param {DateTimeValue} date Date\n * @return {string|undefined} Human readable timezone name or undefined\n */\nfunction getTimezoneFromDate(date) {\n\tconst timezoneId = date.timezoneId\n\tif (!timezoneId || timezoneId === 'floating') {\n\t\treturn undefined\n\t}\n\n\treturn getReadableTimezoneName(timezoneId)\n}\n\nexport default {\n\tname: 'EventData',\n\tcomponents: {\n\t\tAccountMultipleIcon,\n\t\tCalendarIcon,\n\t\tMapMarkerIcon,\n\t},\n\tprops: {\n\t\tevent: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\t/**\n\t\t * @return {string}\n\t\t */\n\t\ttitle() {\n\t\t\t// Use || here to handle empty strings as well\n\t\t\treturn this.event.title || this.t('mail', 'Untitled event')\n\t\t},\n\n\t\t/**\n\t\t * @return {string}\n\t\t */\n\t\tstartDate() {\n\t\t\tif (this.event.isAllDay()) {\n\t\t\t\treturn moment(this.event.startDate.jsDate).format('ll')\n\t\t\t}\n\n\t\t\treturn moment(this.event.startDate.jsDate).format('ll LT')\n\t\t},\n\n\t\t/**\n\t\t * @return {string|undefined}\n\t\t */\n\t\tendDate() {\n\t\t\tconst start = this.event.startDate.jsDate\n\t\t\tconst end = this.event.endDate.jsDate\n\n\t\t\tlet date\n\t\t\tif (this.event.isAllDay()) {\n\t\t\t\t// All day events end a day later, so we need to subtract a day\n\t\t\t\tend.setDate(end.getDate() - 1)\n\t\t\t\tif (isSameDay(start, end)) {\n\t\t\t\t\treturn undefined\n\t\t\t\t}\n\t\t\t\tdate = moment(end).format('ll')\n\t\t\t} else {\n\t\t\t\tif (isSameDay(start, end)) {\n\t\t\t\t\tdate = moment(end).format('LT')\n\t\t\t\t} else {\n\t\t\t\t\tdate = moment(end).format('ll LT')\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn date\n\t\t},\n\n\t\t/**\n\t\t * @return {string|undefined}\n\t\t */\n\t\tstartTimezone() {\n\t\t\treturn getTimezoneFromDate(this.event.startDate)\n\t\t},\n\n\t\t/**\n\t\t * @return {string|undefined}\n\t\t */\n\t\tendTimezone() {\n\t\t\treturn getTimezoneFromDate(this.event.endDate)\n\t\t},\n\n\t\t/**\n\t\t * @return {string|undefined|null}\n\t\t */\n\t\tlocation() {\n\t\t\treturn this.event.location\n\t\t},\n\n\t\t/**\n\t\t * @return {{name: string, isOrganizer: boolean, key: string}[]}\n\t\t */\n\t\tattendees() {\n\t\t\tconst attendees = []\n\t\t\tfor (const attendee of [\n\t\t\t\t...this.event.getPropertyIterator('ORGANIZER'),\n\t\t\t\t...this.event.getAttendeeIterator(),\n\t\t\t]) {\n\t\t\t\tconst name = attendee.commonName ?? removeMailtoPrefix(attendee.email)\n\t\t\t\tconst isOrganizer = attendee.isOrganizer()\n\t\t\t\tconst key = (isOrganizer ? 'organizer_' : 'attendee_') + name\n\n\t\t\t\tattendees.push({ name, isOrganizer, key })\n\t\t\t}\n\t\t\treturn attendees\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.event-data {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 5px;\n\n\t&__heading {\n\t\tmargin-inline-start: 36px;\n\t}\n\n\t&__row {\n\t\tdisplay: flex;\n\n\t\t&__icon {\n\t\t\talign-self: start;\n\t\t\tmargin: 0 8px;\n\n\t\t\t// Fix slight misalignment caused by align-self: start\n\t\t\tpadding-top: 2px;\n\t\t}\n\t}\n}\n\n.muted {\n\tcolor: var(--color-text-lighter);\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventData.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventData.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventData.vue?vue&type=style&index=0&id=b537fd88&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventData.vue?vue&type=style&index=0&id=b537fd88&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./EventData.vue?vue&type=template&id=b537fd88&scoped=true\"\nimport script from \"./EventData.vue?vue&type=script&lang=js\"\nexport * from \"./EventData.vue?vue&type=script&lang=js\"\nimport style0 from \"./EventData.vue?vue&type=style&index=0&id=b537fd88&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b537fd88\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"event-data\"},[_c('h2',{staticClass:\"event-data__heading\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.title)+\"\\n\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"event-data__row event-data__row--date\"},[_c('CalendarIcon',{staticClass:\"event-data__row__icon\",attrs:{\"size\":20}}),_vm._v(\" \"),_c('div',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.startDate)+\"\\n\\t\\t\\t\"),(_vm.startTimezone && _vm.startTimezone !== _vm.endTimezone)?_c('span',{staticClass:\"muted\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.startTimezone)+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.endDate)?[_c('span',[_vm._v(\" - \")]),_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.endDate)+\"\\n\\t\\t\\t\\t\"),(_vm.endTimezone)?_c('span',{staticClass:\"muted\"},[_vm._v(_vm._s(_vm.endTimezone))]):_vm._e()]:_vm._e()],2)],1),_vm._v(\" \"),(_vm.location)?_c('div',{staticClass:\"event-data__row event-data__row--location\"},[_c('MapMarkerIcon',{staticClass:\"event-data__row__icon\",attrs:{\"size\":20}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.location))])],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"event-data__row event-data__row--participants\"},[_c('AccountMultipleIcon',{staticClass:\"event-data__row__icon\",attrs:{\"size\":20}}),_vm._v(\" \"),_c('ul',_vm._l((_vm.attendees),function({ name, isOrganizer, key }){return _c('li',{key:key},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(name)+\"\\n\\t\\t\\t\\t\"),(isOrganizer)?_c('span',{staticClass:\"muted\"},[_vm._v(_vm._s(_vm.t('mail', '(organizer)')))]):_vm._e()])}),0)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div class=\"imip\">\n\t\t<div v-if=\"isRequest\"\n\t\t\tclass=\"imip__type\">\n\t\t\t<template v-if=\"existingEventFetched\">\n\t\t\t\t<span v-if=\"wasProcessed && existingParticipationStatus === ACCEPTED\">\n\t\t\t\t\t{{ t('mail', 'You accepted this invitation') }}\n\t\t\t\t</span>\n\t\t\t\t<span v-else-if=\"wasProcessed && existingParticipationStatus === TENTATIVE\">\n\t\t\t\t\t{{ t('mail', 'You tentatively accepted this invitation') }}\n\t\t\t\t</span>\n\t\t\t\t<span v-else-if=\"wasProcessed && existingParticipationStatus === DECLINED\">\n\t\t\t\t\t{{ t('mail', 'You declined this invitation') }}\n\t\t\t\t</span>\n\t\t\t\t<span v-else-if=\"wasProcessed && existingParticipationStatus !== NEEDS_ACTION\">\n\t\t\t\t\t{{ t('mail', 'You already reacted to this invitation') }}\n\t\t\t\t</span>\n\t\t\t\t<span v-else-if=\"userIsAttendee\">\n\t\t\t\t\t{{ t('mail', 'You have been invited to an event') }}\n\t\t\t\t</span>\n\t\t\t</template>\n\t\t</div>\n\t\t<div v-else-if=\"isReply\"\n\t\t\tclass=\"imip__type\">\n\t\t\t<CalendarIcon :size=\"20\" />\n\t\t\t<span>{{ replyStatusMessage }}</span>\n\t\t</div>\n\t\t<div v-else-if=\"isCancel\"\n\t\t\tclass=\"imip__type\">\n\t\t\t<CloseIcon :size=\"20\" fill-color=\"red\" />\n\t\t\t<span>{{ t('mail', 'This event was cancelled') }}</span>\n\t\t</div>\n\n\t\t<EventData :event=\"attachedVEvent\" />\n\n\t\t<div v-if=\"showMoreOptions\" class=\"imip__more-options\">\n\t\t\t<!-- Hide calendar picker if editing an existing event (e.g. an internal event is\n\t\t\t shared by default and thus existing even if the attendee didn't react yet). -->\n\t\t\t<div v-if=\"!isExistingEvent\"\n\t\t\t\tclass=\"imip__more-options__row imip__more-options__row--calendar\">\n\t\t\t\t<label for=\"targetCalendarPickerId\">{{ t('mail', 'Save to') }}</label>\n\t\t\t\t<div class=\"imip__more-options__row\">\n\t\t\t\t\t<NcSelect v-if=\"calendarsForPicker.length > 1\"\n\t\t\t\t\t\t:id=\"targetCalendarPickerId\"\n\t\t\t\t\t\tv-model=\"targetCalendar\"\n\t\t\t\t\t\t:aria-label-combobox=\"t('mail', 'Select')\"\n\t\t\t\t\t\tlabel=\"displayname\"\n\t\t\t\t\t\t:options=\"calendarsForPicker\">\n\t\t\t\t\t\t<template #option=\"option\">\n\t\t\t\t\t\t\t<CalendarPickerOption v-bind=\"option\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template #selected-option=\"option\">\n\t\t\t\t\t\t\t<CalendarPickerOption v-bind=\"option\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</NcSelect>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"imip__more-options__row imip__more-options__row--comment\">\n\t\t\t\t<label for=\"commentFieldId\">{{ t('mail', 'Comment') }}</label>\n\t\t\t\t<textarea :id=\"commentFieldId\" v-model=\"comment\" rows=\"3\" />\n\t\t\t</div>\n\t\t</div>\n\n\t\t<template v-if=\"isRequest && userIsAttendee\">\n\t\t\t<div v-if=\"!wasProcessed && eventIsInFuture && existingEventFetched\"\n\t\t\t\tclass=\"imip__actions imip__actions--buttons\">\n\t\t\t\t<NcButton type=\"secondary\"\n\t\t\t\t\t:disabled=\"loading\"\n\t\t\t\t\t:aria-label=\"t('mail', 'Accept')\"\n\t\t\t\t\t@click=\"accept\">\n\t\t\t\t\t{{ t('mail', 'Accept') }}\n\t\t\t\t</NcButton>\n\t\t\t\t<NcButton type=\"tertiary\"\n\t\t\t\t\t:disabled=\"loading\"\n\t\t\t\t\t:aria-label=\"t('mail', 'Decline')\"\n\t\t\t\t\t@click=\"decline\">\n\t\t\t\t\t{{ t('mail', 'Decline') }}\n\t\t\t\t</NcButton>\n\t\t\t\t<NcButton type=\"tertiary\"\n\t\t\t\t\t:disabled=\"loading\"\n\t\t\t\t\t:aria-label=\"t('mail', 'Tentatively accept')\"\n\t\t\t\t\t@click=\"acceptTentatively\">\n\t\t\t\t\t{{ t('mail', 'Tentatively accept') }}\n\t\t\t\t</NcButton>\n\t\t\t\t<NcButton v-if=\"!showMoreOptions\"\n\t\t\t\t\ttype=\"tertiary\"\n\t\t\t\t\t:disabled=\"loading\"\n\t\t\t\t\t:aria-label=\"t('mail', 'More options')\"\n\t\t\t\t\t@click=\"showMoreOptions = true\">\n\t\t\t\t\t{{ t('mail', 'More options') }}\n\t\t\t\t</NcButton>\n\t\t\t\t<NcLoadingIcon v-if=\"loading\" />\n\t\t\t</div>\n\t\t\t<p v-else-if=\"!eventIsInFuture\" class=\"imip__actions imip__actions--hint\">\n\t\t\t\t{{ t('mail', 'This message has an attached invitation but the invitation dates are in the past') }}\n\t\t\t</p>\n\t\t</template>\n\t\t<div v-if=\"!userIsAttendee\" class=\"imip__actions imip__actions--hint\">\n\t\t\t{{ t('mail', 'This message has an attached invitation but the invitation does not contain a participant that matches any configured mail account address') }}\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport EventData from './imip/EventData.vue'\nimport { NcButton, NcSelect, NcLoadingIcon } from '@nextcloud/vue'\nimport CloseIcon from 'vue-material-design-icons/Close.vue'\nimport CalendarIcon from 'vue-material-design-icons/CalendarOutline.vue'\nimport { getParserManager, Parameter, Property, DateTimeValue, EventComponent, AttendeeProperty, CalendarComponent } from '@nextcloud/calendar-js'\nimport { removeMailtoPrefix } from '../util/eventAttendee.js'\nimport logger from '../logger.js'\nimport { namespaces as NS } from '@nextcloud/cdav-library'\nimport CalendarPickerOption from './CalendarPickerOption.vue'\nimport { uidToHexColor } from '../util/calendarColor.js'\nimport { randomId } from '../util/randomId.js'\nimport pLimit from 'p-limit'\nimport { flatten } from 'ramda'\nimport { showError } from '@nextcloud/dialogs'\nimport useMainStore from '../store/mainStore.js'\nimport { mapState } from 'pinia'\n\n// iMIP methods\nconst REQUEST = 'REQUEST'\nconst REPLY = 'REPLY'\nconst CANCEL = 'CANCEL'\n\n// Participation status\nconst NEEDS_ACTION = 'NEEDS-ACTION'\nconst ACCEPTED = 'ACCEPTED'\nconst TENTATIVE = 'TENTATIVE'\nconst DECLINED = 'DECLINED'\n\n/**\n * Search a vEvent for an attendee by mail.\n *\n * @param {EventComponent|undefined|null} vEvent The event providing the attendee haystack.\n * @param {string} email The email address (with or without a mailto prefix) to use as the needle.\n * @return {AttendeeProperty|undefined} The attendee property or undefined if the given email is not matching an attendee.\n */\nfunction findAttendee(vEvent, email) {\n\tif (!vEvent) {\n\t\treturn undefined\n\t}\n\n\temail = removeMailtoPrefix(email)\n\tfor (const attendee of [...vEvent.getPropertyIterator('ORGANIZER'), ...vEvent.getAttendeeIterator()]) {\n\t\tif (removeMailtoPrefix(attendee.email) === email) {\n\t\t\treturn attendee\n\t\t}\n\t}\n\n\treturn undefined\n}\n\nexport default {\n\tname: 'Imip',\n\tcomponents: {\n\t\tCalendarIcon,\n\t\tCalendarPickerOption,\n\t\tCloseIcon,\n\t\tEventData,\n\t\tNcButton,\n\t\tNcLoadingIcon,\n\t\tNcSelect,\n\t},\n\tprops: {\n\t\tscheduling: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tNEEDS_ACTION,\n\t\t\tACCEPTED,\n\t\t\tTENTATIVE,\n\t\t\tDECLINED,\n\n\t\t\tcommentFieldId: randomId(),\n\t\t\ttargetCalendarPickerId: randomId(),\n\n\t\t\tshowMoreOptions: false,\n\t\t\tloading: false,\n\t\t\texistingEvent: undefined,\n\t\t\texistingEventFetched: false,\n\t\t\ttargetCalendar: undefined,\n\t\t\tcomment: '',\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapState(useMainStore, {\n\t\t\tcurrentUserPrincipalEmail: 'getCurrentUserPrincipalEmail',\n\t\t\tclonedWriteableCalendars: 'getClonedWriteableCalendars',\n\t\t\tcurrentUserPrincipal: 'getCurrentUserPrincipal',\n\t\t}),\n\n\t\t/**\n\t\t * The method of the iMIP message.\n\t\t *\n\t\t * @return {string}\n\t\t */\n\t\tmethod() {\n\t\t\treturn this.scheduling.method\n\t\t},\n\n\t\t/**\n\t\t * @return {boolean}\n\t\t */\n\t\tisRequest() {\n\t\t\treturn this.method === REQUEST\n\t\t},\n\n\t\t/**\n\t\t * @return {boolean}\n\t\t */\n\t\tisReply() {\n\t\t\treturn this.method === REPLY\n\t\t},\n\n\t\t/**\n\t\t * @return {boolean}\n\t\t */\n\t\tisCancel() {\n\t\t\treturn this.method === CANCEL\n\t\t},\n\n\t\t/**\n\t\t * @return {boolean}\n\t\t */\n\t\tisExistingEvent() {\n\t\t\treturn !!this.existingEvent\n\t\t},\n\n\t\t/**\n\t\t * Did the attendee already react to the invitation?\n\t\t *\n\t\t * @return {boolean}\n\t\t */\n\t\twasProcessed() {\n\t\t\treturn !!this.existingParticipationStatus && this.existingParticipationStatus !== NEEDS_ACTION\n\t\t},\n\n\t\t/**\n\t\t * @return {CalendarComponent|undefined}\n\t\t */\n\t\tattachedVCalendar() {\n\t\t\tconst parserManager = getParserManager()\n\t\t\tconst parser = parserManager.getParserForFileType('text/calendar')\n\t\t\tparser.parse(this.scheduling.contents)\n\n\t\t\tconst vCalendar = parser.getItemIterator().next().value\n\t\t\treturn vCalendar ?? undefined\n\t\t},\n\n\t\t/**\n\t\t * @return {EventComponent|undefined}\n\t\t */\n\t\tattachedVEvent() {\n\t\t\treturn this.attachedVCalendar?.getFirstComponent('VEVENT') ?? undefined\n\t\t},\n\n\t\t/**\n\t\t * @return {CalendarComponent|undefined}\n\t\t */\n\t\texistingVCalendar() {\n\t\t\tif (!this.existingEvent) {\n\t\t\t\treturn undefined\n\t\t\t}\n\n\t\t\tconst parserManager = getParserManager()\n\t\t\tconst parser = parserManager.getParserForFileType('text/calendar')\n\t\t\tparser.parse(this.existingEvent.data)\n\n\t\t\tconst vCalendar = parser.getItemIterator().next().value\n\t\t\treturn vCalendar ?? undefined\n\t\t},\n\n\t\t/**\n\t\t * @return {EventComponent|undefined}\n\t\t */\n\t\texistingVEvent() {\n\t\t\treturn this.existingVCalendar?.getFirstComponent('VEVENT') ?? undefined\n\t\t},\n\n\t\t/**\n\t\t * @return {boolean}\n\t\t */\n\t\teventIsInFuture() {\n\t\t\tif (this.attachedVEvent.isRecurring()) {\n\t\t\t\tconst recurrence = this.attachedVEvent.recurrenceManager.getClosestOccurrence(DateTimeValue.fromJSDate(new Date()))\n\t\t\t\treturn recurrence !== undefined && recurrence.startDate.jsDate.getTime() > new Date().getTime()\n\t\t\t} else {\n\t\t\t\treturn this.attachedVEvent.startDate.jsDate.getTime() > new Date().getTime()\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Check if the user is an attendee of the attached event.\n\t\t *\n\t\t * @return {boolean}\n\t\t */\n\t\tuserIsAttendee() {\n\t\t\treturn !!findAttendee(this.attachedVEvent, this.currentUserPrincipalEmail)\n\t\t},\n\n\t\t/**\n\t\t * The users participation status taken from the existing event.\n\t\t *\n\t\t * @return {string|undefined}\n\t\t */\n\t\texistingParticipationStatus() {\n\t\t\tconst attendee = findAttendee(this.existingVEvent, this.currentUserPrincipalEmail)\n\t\t\treturn attendee?.participationStatus ?? undefined\n\t\t},\n\n\t\t/**\n\t\t * The status message to show in case of REPLY messages.\n\t\t *\n\t\t * @return {string}\n\t\t */\n\t\treplyStatusMessage() {\n\t\t\tconst attendees = this.attachedVEvent?.getAttendeeList()\n\t\t\tif (!attendees || attendees.length !== 1) {\n\t\t\t\t// As per the RFCs there should only be one attendee, but you never know.\n\t\t\t\treturn this.t('mail', 'This event was updated')\n\t\t\t}\n\n\t\t\tconst attendee = attendees[0]\n\t\t\tconst partStat = attendee.participationStatus\n\t\t\tconst name = attendee.commonName ?? attendee.email\n\t\t\tif (partStat === ACCEPTED) {\n\t\t\t\treturn this.t('mail', '{attendeeName} accepted your invitation', {\n\t\t\t\t\tattendeeName: name,\n\t\t\t\t})\n\t\t\t} else if (partStat === TENTATIVE) {\n\t\t\t\treturn this.t('mail', '{attendeeName} tentatively accepted your invitation', {\n\t\t\t\t\tattendeeName: name,\n\t\t\t\t})\n\t\t\t} else if (partStat === DECLINED) {\n\t\t\t\treturn this.t('mail', '{attendeeName} declined your invitation', {\n\t\t\t\t\tattendeeName: name,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\treturn this.t('mail', '{attendeeName} reacted to your invitation', {\n\t\t\t\tattendeeName: name,\n\t\t\t})\n\t\t},\n\n\t\t/**\n\t\t * List of calendar options for the target calendar picker.\n\t\t *\n\t\t * @return {object[]}\n\t\t */\n\t\tcalendarsForPicker() {\n\t\t\tconst getCalendarData = (calendar) => {\n\t\t\t\treturn {\n\t\t\t\t\tdisplayname: calendar.displayname,\n\t\t\t\t\tcolor: calendar.color ?? uidToHexColor(calendar.displayname ?? ''),\n\t\t\t\t\torder: calendar.order,\n\t\t\t\t\tcomponents: {\n\t\t\t\t\t\tvevent: true, // check if VEVENT exists in props['supported-calendar-component-set'].comps\n\t\t\t\t\t},\n\t\t\t\t\twritable: calendar.currentUserPrivilegeSet.indexOf('{DAV:}write') !== -1,\n\t\t\t\t\turl: calendar.url,\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this.clonedWriteableCalendars\n\t\t\t\t.map(getCalendarData)\n\t\t\t\t.filter(props => props.components.vevent && props.writable === true)\n\t\t},\n\n\t\t/**\n\t\t * Get the DAV object of the picked target calendar.\n\t\t * It can't be included in the option as it contains cyclic references.\n\t\t *\n\t\t * @return {object | undefined}\n\t\t */\n\t\ttargetCalendarDavObject() {\n\t\t\treturn this.clonedWriteableCalendars.find((cal) => cal.url === this.targetCalendar.url)\n\t\t},\n\t},\n\twatch: {\n\t\tattachedVEvent: {\n\t\t\timmediate: true,\n\t\t\tasync handler() {\n\t\t\t\tawait this.fetchExistingEvent(this.attachedVEvent.uid)\n\t\t\t},\n\t\t},\n\t\tcalendarsForPicker: {\n\t\t\timmediate: true,\n\t\t\thandler(calendarsForPicker) {\n\t\t\t\tif (this.targetCalendar) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tconst defaultCalendar = calendarsForPicker.find((cal) => cal.url === this.currentUserPrincipal.scheduleDefaultCalendarUrl)\n\n\t\t\t\tif (defaultCalendar) {\n\t\t\t\t\tthis.targetCalendar = defaultCalendar\n\t\t\t\t} else if (calendarsForPicker.length > 0) {\n\t\t\t\t\tthis.targetCalendar = calendarsForPicker[0]\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t},\n\tmethods: {\n\t\tasync accept() {\n\t\t\tawait this.saveEventWithParticipationStatus(ACCEPTED)\n\t\t},\n\t\tasync acceptTentatively() {\n\t\t\tawait this.saveEventWithParticipationStatus(TENTATIVE)\n\t\t},\n\t\tasync decline() {\n\t\t\tawait this.saveEventWithParticipationStatus(DECLINED)\n\t\t},\n\t\tasync saveEventWithParticipationStatus(status) {\n\t\t\tlet vCalendar\n\t\t\tif (this.isExistingEvent) {\n\t\t\t\tvCalendar = this.existingVCalendar\n\t\t\t} else {\n\t\t\t\tvCalendar = this.attachedVCalendar\n\t\t\t}\n\t\t\tconst vEvent = vCalendar.getFirstComponent('VEVENT')\n\t\t\tconst attendee = findAttendee(vEvent, this.currentUserPrincipalEmail)\n\t\t\tif (!attendee) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst calendar = this.targetCalendarDavObject\n\t\t\tif (!calendar) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.loading = true\n\n\t\t\tif (!this.isExistingEvent) {\n\t\t\t\ttry {\n\t\t\t\t\tawait calendar.createVObject(vCalendar.toICS())\n\t\t\t\t\tawait this.fetchExistingEvent(vEvent.uid, true)\n\t\t\t\t} catch (error) {\n\t\t\t\t\tshowError(this.t('mail', 'Failed to save your participation status'))\n\t\t\t\t\tlogger.error('Failed to save event to calendar', {\n\t\t\t\t\t\terror,\n\t\t\t\t\t\tattendee,\n\t\t\t\t\t\tcalendar,\n\t\t\t\t\t\tvEvent,\n\t\t\t\t\t\tvCalendar,\n\t\t\t\t\t\texistingEvent: this.existingEvent,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.isExistingEvent) {\n\t\t\t\tattendee.participationStatus = status\n\t\t\t\tif (this.comment) {\n\t\t\t\t\tattendee.setParameter(new Parameter('X-RESPONSE-COMMENT', this.comment))\n\t\t\t\t\tvEvent.addProperty(new Property('COMMENT', this.comment))\n\t\t\t\t}\n\n\t\t\t\t// TODO: implement an input for guests and save it to the attendee via X-NUM-GUESTS\n\n\t\t\t\ttry {\n\t\t\t\t\t// TODO: don't show buttons if calendar is not writable\n\t\t\t\t\tthis.existingEvent.data = vCalendar.toICS()\n\t\t\t\t\tawait this.existingEvent.update()\n\t\t\t\t\tthis.showMoreOptions = false\n\t\t\t\t} catch (error) {\n\t\t\t\t\tshowError(this.t('mail', 'Failed to save your participation status'))\n\t\t\t\t\tlogger.error('Failed to save event to calendar', {\n\t\t\t\t\t\terror,\n\t\t\t\t\t\tattendee,\n\t\t\t\t\t\tcalendar,\n\t\t\t\t\t\tvEvent,\n\t\t\t\t\t\tvCalendar,\n\t\t\t\t\t\texistingEvent: this.existingEvent,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Refetch the event to update the shown status message or reset the event in the case\n\t\t\t// of an error.\n\t\t\tawait this.fetchExistingEvent(vEvent.uid, true)\n\n\t\t\tthis.loading = false\n\t\t},\n\t\tasync fetchExistingEvent(uid, force = false) {\n\t\t\tif (!force && this.existingEventFetched) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// TODO: can this query be reduced to a single request?\n\t\t\tconst limit = pLimit(5)\n\t\t\tconst promises = this.clonedWriteableCalendars.map(async (calendar) => {\n\t\t\t\t// Query adapted from https://datatracker.ietf.org/doc/html/rfc4791#section-7.8.6\n\t\t\t\treturn limit(() => calendar.calendarQuery([{\n\t\t\t\t\tname: [NS.IETF_CALDAV, 'comp-filter'],\n\t\t\t\t\tattributes: [['name', 'VCALENDAR']],\n\t\t\t\t\tchildren: [{\n\t\t\t\t\t\tname: [NS.IETF_CALDAV, 'comp-filter'],\n\t\t\t\t\t\tattributes: [['name', 'VEVENT']],\n\t\t\t\t\t\tchildren: [{\n\t\t\t\t\t\t\tname: [NS.IETF_CALDAV, 'prop-filter'],\n\t\t\t\t\t\t\tattributes: [['name', 'UID']],\n\t\t\t\t\t\t\tchildren: [{\n\t\t\t\t\t\t\t\tname: [NS.IETF_CALDAV, 'text-match'],\n\t\t\t\t\t\t\t\tvalue: uid,\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t}],\n\t\t\t\t\t}],\n\t\t\t\t}]))\n\t\t\t})\n\t\t\tconst results = flatten(await Promise.all(promises))\n\n\t\t\tif (results.length > 1) {\n\t\t\t\tlogger.warn('Fetched more than one event for iMIP invitation', { results })\n\t\t\t}\n\n\t\t\tthis.existingEvent = results[0]\n\t\t\tthis.existingEventFetched = true\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.imip {\n\tdisplay: flex;\n\tflex-direction: column;\n\tborder: solid 2px var(--color-border);\n\tborder-radius: var(--border-radius-large);\n\tpadding: 10px;\n\n\t&__type {\n\t\tdisplay: flex;\n\t\tgap: 5px;\n\t\tmargin-inline-start: 36px;\n\t}\n\n\t&__more-options {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tmargin-top: 15px;\n\t\tgap: 10px;\n\n\t\t&__row {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\n\t\t\t&--calendar {\n\t\t\t\tdisplay: flex;\n\t\t\t\twidth: 100%;\n\n\t\t\t\t\t:deep(.calendar-picker-option__label) {\n\t\t\t\t\t\tmax-width: unset !important;\n\t\t\t\t\t}\n\t\t\t}\n\n\t\t\t&--comment {\n\t\t\t\ttextarea {\n\t\t\t\t\tdisplay: block;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t&__actions {\n\t\tmargin-top: 15px;\n\t\tmargin-inline-start: 36px;\n\n\t\t&--buttons {\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\t&--hint {\n\t\t\tfont-style: italic;\n\t\t}\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Imip.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Imip.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Imip.vue?vue&type=style&index=0&id=578ffd9c&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Imip.vue?vue&type=style&index=0&id=578ffd9c&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Imip.vue?vue&type=template&id=578ffd9c&scoped=true\"\nimport script from \"./Imip.vue?vue&type=script&lang=js\"\nexport * from \"./Imip.vue?vue&type=script&lang=js\"\nimport style0 from \"./Imip.vue?vue&type=style&index=0&id=578ffd9c&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"578ffd9c\",\n  null\n  \n)\n\nexport default component.exports","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div :class=\"[message.hasHtmlBody ? 'mail-message-body mail-message-body-html' : 'mail-message-body']\"\n\t\trole=\"region\"\n\t\t:aria-label=\"t('mail','Message body')\">\n\t\t<PhishingWarning v-if=\"message.phishingDetails.warning\" :phishing-data=\"message.phishingDetails.checks\" />\n\t\t<div v-if=\"message.smime.isSigned && !message.smime.signatureIsValid\"\n\t\t\tclass=\"invalid-signature-warning\">\n\t\t\t<LockOffIcon :size=\"20\"\n\t\t\t\tfill-color=\"red\"\n\t\t\t\tclass=\"invalid-signature-warning__icon\" />\n\t\t\t<p>\n\t\t\t\t{{ t('mail', 'Warning: The S/MIME signature of this message is  unverified. The sender might be impersonating someone!') }}\n\t\t\t</p>\n\t\t</div>\n\t\t<div v-if=\"itineraries.length > 0\" class=\"message-itinerary\">\n\t\t\t<Itinerary :entries=\"itineraries\" :message-id=\"message.messageId\" />\n\t\t</div>\n\t\t<div v-if=\"hasCurrentUserPrincipalAndCollections && message.scheduling.length > 0\" class=\"message-imip\">\n\t\t\t<Imip v-for=\"scheduling in message.scheduling\"\n\t\t\t\t:key=\"scheduling.id\"\n\t\t\t\t:scheduling=\"scheduling\" />\n\t\t</div>\n\t\t<MessageHTMLBody v-if=\"message.hasHtmlBody\"\n\t\t\t:url=\"htmlUrl\"\n\t\t\t:message=\"message\"\n\t\t\t:full-height=\"fullHeight\"\n\t\t\t@load=\"$emit('load', $event)\"\n\t\t\t@translate=\"$emit('translate')\" />\n\t\t<MessageEncryptedBody v-else-if=\"isEncrypted || isPgpMimeEncrypted\"\n\t\t\t:body=\"message.body\"\n\t\t\t:from=\"from\"\n\t\t\t:message=\"message\" />\n\t\t<MessagePlainTextBody v-else\n\t\t\t:body=\"message.body\"\n\t\t\t:signature=\"message.signature\"\n\t\t\t:message=\"message\"\n\t\t\t@translate=\"$emit('translate')\" />\n\t\t<MessageAttachments :attachments=\"message.attachments\" :envelope=\"envelope\" />\n\t\t<div id=\"reply-composer\" />\n\t\t<div class=\"reply-buttons\">\n\t\t\t<div v-if=\"smartReplies.length > 0\" class=\"reply-buttons__suggested\">\n\t\t\t\t<NcAssistantButton v-for=\"(reply,index) in smartReplies\"\n\t\t\t\t\t:key=\"index\"\n\t\t\t\t\tclass=\"reply-buttons__suggested__button\"\n\t\t\t\t\ttype=\"secondary\"\n\t\t\t\t\t@click=\"onReply(reply)\">\n\t\t\t\t\t{{ reply }}\n\t\t\t\t</NcAssistantButton>\n\t\t\t</div>\n\t\t\t<NcButton type=\"primary\"\n\t\t\t\tclass=\"reply-buttons__notsuggested\"\n\t\t\t\t@click=\"onReply('')\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<ReplyIcon />\n\t\t\t\t</template>\n\t\t\t\t{{ replyButtonLabel }}\n\t\t\t</NcButton>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { generateUrl } from '@nextcloud/router'\nimport { NcButton, NcAssistantButton } from '@nextcloud/vue'\n\nimport { html, plain } from '../util/text.js'\nimport { isPgpgMessage } from '../crypto/pgp.js'\nimport Itinerary from './Itinerary.vue'\nimport MessageAttachments from './MessageAttachments.vue'\nimport PhishingWarning from './PhishingWarning.vue'\nimport MessageEncryptedBody from './MessageEncryptedBody.vue'\nimport MessageHTMLBody from './MessageHTMLBody.vue'\nimport MessagePlainTextBody from './MessagePlainTextBody.vue'\nimport Imip from './Imip.vue'\nimport LockOffIcon from 'vue-material-design-icons/LockOffOutline.vue'\nimport ReplyIcon from 'vue-material-design-icons/ReplyOutline.vue'\nimport { mapStores } from 'pinia'\nimport useMainStore from '../store/mainStore.js'\n\nexport default {\n\tname: 'Message',\n\tcomponents: {\n\t\tItinerary,\n\t\tMessageAttachments,\n\t\tMessageEncryptedBody,\n\t\tMessageHTMLBody,\n\t\tMessagePlainTextBody,\n\t\tPhishingWarning,\n\t\tImip,\n\t\tLockOffIcon,\n\t\tReplyIcon,\n\t\tNcButton,\n\t\tNcAssistantButton,\n\t},\n\tprops: {\n\t\tenvelope: {\n\t\t\trequired: true,\n\t\t\ttype: Object,\n\t\t},\n\t\tmessage: {\n\t\t\trequired: true,\n\t\t\ttype: Object,\n\t\t},\n\t\tfullHeight: {\n\t\t\trequired: false,\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tsmartReplies: {\n\t\t\trequired: false,\n\t\t\ttype: Array,\n\t\t\tdefault: () => [],\n\t\t},\n\t\treplyButtonLabel: {\n\t\t\trequired: true,\n\t\t\ttype: String,\n\t\t},\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t\tfrom() {\n\t\t\treturn this.message.from.length === 0 ? '?' : this.message.from[0].label || this.message.from[0].email\n\t\t},\n\t\thtmlUrl() {\n\t\t\treturn generateUrl('/apps/mail/api/messages/{id}/html', {\n\t\t\t\tid: this.envelope.databaseId,\n\t\t\t})\n\t\t},\n\t\tisEncrypted() {\n\t\t\treturn isPgpgMessage(this.message.hasHtmlBody ? html(this.message.body) : plain(this.message.body))\n\t\t},\n\t\tisPgpMimeEncrypted() {\n\t\t\treturn this.message.isPgpMimeEncrypted\n\t\t},\n\t\titineraries() {\n\t\t\treturn this.message.itineraries ?? []\n\t\t},\n\t\thasCurrentUserPrincipalAndCollections() {\n\t\t\treturn this.mainStore.hasCurrentUserPrincipalAndCollections\n\t\t},\n\t},\n\tmethods: {\n\t\tonReply(replyBody) {\n\t\t\tthis.$emit('reply', replyBody)\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.v-popover > .trigger > .action-item {\n\tborder-radius: 22px;\n\tbackground-color: var(--color-background-darker);\n}\n\n.message-imip {\n\tpadding: 5px 10px;\n}\n\n.invalid-signature-warning {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 5px;\n\n\tborder: solid 2px var(--color-border);\n\tborder-radius: var(--border-radius-large);\n\tborder-color: var(--color-warning);\n\n\tmargin: 5px 10px;\n\tpadding: 10px;\n\n\t&__icon {\n\t\t// Fix alignment with message\n\t\tmargin-top: -5px;\n\t}\n}\n\n.reply-buttons {\n\tmargin: 0 calc(var(--default-grid-baseline) * 4) calc(var(--default-grid-baseline) * 2) calc(var(--default-grid-baseline) * 14);\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tgap: 8px;\n\tjustify-content: space-between;\n\talign-items: center;\n\n\t&__suggested {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tgap: 8px;\n\n\t\t&__button {\n\t\t\tbox-sizing: border-box;\n\n\t\t\t:deep(.button-vue__text) {\n\t\t\t\tfont-weight: normal;\n\t\t\t}\n\t\t}\n\t}\n\n\t&__notsuggested {\n\t\tmargin-inline-start: auto;\n\t}\n}\n\n@media screen and (max-width: 600px) {\n\t.reply-buttons {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tgap: 5px;\n\n\t\t&__suggested {\n\t\t\tdisplay: flex;\n\t\t\tflex-wrap: wrap;\n\t\t\tgap: 5px;\n\t\t}\n\n\t\t&__notsuggested {\n\t\t\tmargin-inline-start: 0;\n\t\t}\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=style&index=0&id=bdd2c54c&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=style&index=0&id=bdd2c54c&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Message.vue?vue&type=template&id=bdd2c54c&scoped=true\"\nimport script from \"./Message.vue?vue&type=script&lang=js\"\nexport * from \"./Message.vue?vue&type=script&lang=js\"\nimport style0 from \"./Message.vue?vue&type=style&index=0&id=bdd2c54c&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bdd2c54c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(!_vm.localMoreActionsOpen && !_vm.snoozeActionsOpen)?[(_vm.hasWriteAcl)?_c('ActionButton',{staticClass:\"action--primary\",attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.onToggleImportant.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.isImportant)?_c('ImportantIcon',{attrs:{\"size\":20}}):_c('ImportantOutlineIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,1676296838)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.isImportant ? _vm.t('mail', 'Unimportant') : _vm.t('mail', 'Important'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":_vm.onForward},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ShareIcon',{attrs:{\"title\":_vm.t('mail', 'Forward'),\"size\":20}})]},proxy:true}],null,false,3681882419)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Forward'))+\"\\n\\t\\t\")]),_vm._v(\" \"),(_vm.hasWriteAcl)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.onToggleJunk.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('AlertOctagonIcon',{attrs:{\"title\":_vm.envelope.flags.$junk ? _vm.t('mail', 'Mark not spam') : _vm.t('mail', 'Mark as spam'),\"size\":20}})]},proxy:true}],null,false,3018406441)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.envelope.flags.$junk ? _vm.t('mail', 'Mark not spam') : _vm.t('mail', 'Mark as spam'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.hasWriteAcl)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.$emit('open-tag-modal')}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('TagIcon',{attrs:{\"title\":_vm.t('mail', 'Edit tags'),\"size\":20}})]},proxy:true}],null,false,1760434282)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Edit tags'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.hasDeleteAcl)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.$emit('open-move-modal')}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('OpenInNewIcon',{attrs:{\"title\":_vm.t('mail', 'Move message'),\"size\":20}})]},proxy:true}],null,false,3082800176)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Move message'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.isSnoozeDisabled && !_vm.isSnoozedMailbox)?_c('ActionButton',{attrs:{\"close-after-click\":false},on:{\"click\":function($event){_vm.snoozeActionsOpen = true}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('AlarmIcon',{attrs:{\"title\":_vm.t('mail', 'Snooze'),\"size\":20}})]},proxy:true}],null,false,42024148)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Snooze'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.isSnoozeDisabled && _vm.isSnoozedMailbox)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":_vm.onUnSnooze},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('AlarmIcon',{attrs:{\"title\":_vm.t('mail', 'Unsnooze'),\"size\":20}})]},proxy:true}],null,false,2733502479)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Unsnooze'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.isTranslationEnabled ?? false)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.$emit('open-translation-modal')}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('TranslationIcon',{attrs:{\"title\":_vm.t('mail', 'Translate'),\"size\":20}})]},proxy:true}],null,false,2338376456)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Translate'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":false},on:{\"click\":function($event){_vm.localMoreActionsOpen=true}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('DotsHorizontalIcon',{attrs:{\"title\":_vm.t('mail', 'More actions'),\"size\":20}})]},proxy:true}],null,false,2458825807)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'More actions'))+\"\\n\\t\\t\")])]:_vm._e(),_vm._v(\" \"),(_vm.localMoreActionsOpen)?[_c('ActionButton',{attrs:{\"close-after-click\":false},on:{\"click\":function($event){_vm.localMoreActionsOpen=false}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ChevronLeft',{attrs:{\"title\":_vm.t('mail', 'More actions'),\"size\":20}}),_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'More actions'))+\"\\n\\t\\t\\t\")]},proxy:true}],null,false,2840017423)}),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.forwardSelectedAsAttachment.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ShareIcon',{attrs:{\"title\":_vm.t('mail', 'Forward message as attachment'),\"size\":20}})]},proxy:true}],null,false,1446130195)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Forward message as attachment'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":_vm.onOpenEditAsNew},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('PlusIcon',{attrs:{\"title\":_vm.t('mail', 'Edit as new message'),\"size\":20}})]},proxy:true}],null,false,2673016614)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Edit as new message'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.$emit('open-event-modal')}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('CalendarBlankIcon',{attrs:{\"title\":_vm.t('mail', 'Reply with meeting'),\"size\":20}})]},proxy:true}],null,false,3927922932)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Reply with meeting'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.$emit('open-task-modal')}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('TaskIcon',{attrs:{\"title\":_vm.t('mail', 'Create task'),\"size\":20}})]},proxy:true}],null,false,844163649)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Create task'))+\"\\n\\t\\t\")]),_vm._v(\" \"),(_vm.withShowSource)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.$emit('show-source-modal')}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('InformationIcon',{attrs:{\"title\":_vm.t('mail', 'View source'),\"size\":20}})]},proxy:true}],null,false,3604652729)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'View source'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":_vm.onPrint},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('PrinterIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,1028229861)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Print message'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('ActionLink',{attrs:{\"close-after-click\":true,\"href\":_vm.exportMessageLink},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('DownloadIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,2598526839)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Download message'))+\"\\n\\t\\t\")]),_vm._v(\" \"),(_vm.isSieveEnabled)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.$emit('open-mail-filter-from-envelope')}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('FilterIcon',{attrs:{\"title\":_vm.t('mail', 'Create mail filter'),\"size\":20}})]},proxy:true}],null,false,2817250184)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Create mail filter'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.debug)?_c('ActionLink',{attrs:{\"download\":_vm.threadingFileName,\"href\":_vm.threadingFile,\"close-after-click\":true},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('DownloadIcon',{attrs:{\"title\":_vm.t('mail', 'Download thread data for debugging'),\"size\":20}})]},proxy:true}],null,false,1608243158)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Download thread data for debugging'))+\"\\n\\t\\t\")]):_vm._e()]:_vm._e(),_vm._v(\" \"),(_vm.snoozeActionsOpen)?[_c('ActionButton',{attrs:{\"close-after-click\":false},on:{\"click\":function($event){_vm.snoozeActionsOpen = false}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ChevronLeft',{attrs:{\"size\":20}})]},proxy:true}],null,false,3117353720)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Back'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_vm._l((_vm.reminderOptions),function(option){return _c('ActionButton',{key:option.key,attrs:{\"aria-label\":option.ariaLabel,\"close-after-click\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.onSnooze(option.timestamp)}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(option.label)+\"\\n\\t\\t\")])}),_vm._v(\" \"),_c('NcActionSeparator'),_vm._v(\" \"),_c('NcActionInput',{attrs:{\"type\":\"datetime-local\",\"is-native-picker\":\"\",\"value\":_vm.customSnoozeDateTime,\"min\":new Date()},on:{\"change\":_vm.setCustomSnoozeDateTime},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('CalendarClock',{attrs:{\"size\":20}})]},proxy:true}],null,false,1325980530)}),_vm._v(\" \"),_c('NcActionButton',{attrs:{\"aria-label\":_vm.t('spreed', 'Set custom snooze'),\"close-after-click\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.setCustomSnooze(_vm.customSnoozeDateTime)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('CheckIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,2630571749)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('spreed', 'Set custom snooze'))+\"\\n\\t\\t\")])]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<!-- Standard Actions menu for Envelopes -->\n<template>\n\t<div>\n\t\t<template v-if=\"!localMoreActionsOpen && !snoozeActionsOpen\">\n\t\t\t<ActionButton v-if=\"hasWriteAcl\"\n\t\t\t\tclass=\"action--primary\"\n\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t@click.prevent=\"onToggleImportant\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<ImportantIcon v-if=\"isImportant\" :size=\"20\" />\n\t\t\t\t\t<ImportantOutlineIcon v-else :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{\n\t\t\t\t\tisImportant ? t('mail', 'Unimportant') : t('mail', 'Important')\n\t\t\t\t}}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton :close-after-click=\"true\"\n\t\t\t\t@click=\"onForward\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<ShareIcon :title=\"t('mail', 'Forward')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Forward') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton v-if=\"hasWriteAcl\"\n\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t@click.prevent=\"onToggleJunk\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<AlertOctagonIcon :title=\"envelope.flags.$junk ? t('mail', 'Mark not spam') : t('mail', 'Mark as spam')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{\n\t\t\t\t\tenvelope.flags.$junk ? t('mail', 'Mark not spam') : t('mail', 'Mark as spam')\n\t\t\t\t}}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton v-if=\"hasWriteAcl\"\n\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t@click.prevent=\"$emit('open-tag-modal')\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<TagIcon :title=\"t('mail', 'Edit tags')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Edit tags') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton v-if=\"hasDeleteAcl\"\n\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t@click.prevent=\"$emit('open-move-modal')\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<OpenInNewIcon :title=\"t('mail', 'Move message')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Move message') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton v-if=\"!isSnoozeDisabled && !isSnoozedMailbox\"\n\t\t\t\t:close-after-click=\"false\"\n\t\t\t\t@click=\"snoozeActionsOpen = true\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<AlarmIcon :title=\"t('mail', 'Snooze')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Snooze') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton v-if=\"!isSnoozeDisabled && isSnoozedMailbox\"\n\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t@click=\"onUnSnooze\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<AlarmIcon :title=\"t('mail', 'Unsnooze')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Unsnooze') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton v-if=\"isTranslationEnabled ?? false\"\n\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t@click.prevent=\"$emit('open-translation-modal')\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<TranslationIcon :title=\"t('mail', 'Translate')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Translate') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton :close-after-click=\"false\"\n\t\t\t\t@click=\"localMoreActionsOpen=true\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<DotsHorizontalIcon :title=\"t('mail', 'More actions')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'More actions') }}\n\t\t\t</ActionButton>\n\t\t</template>\n\t\t<template v-if=\"localMoreActionsOpen\">\n\t\t\t<ActionButton :close-after-click=\"false\"\n\t\t\t\t@click=\"localMoreActionsOpen=false\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<ChevronLeft :title=\"t('mail', 'More actions')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t{{ t('mail', 'More actions') }}\n\t\t\t\t</template>\n\t\t\t</ActionButton>\n\t\t\t<ActionButton :close-after-click=\"true\"\n\t\t\t\t@click.prevent=\"forwardSelectedAsAttachment\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<ShareIcon :title=\"t('mail', 'Forward message as attachment')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Forward message as attachment') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton :close-after-click=\"true\"\n\t\t\t\t@click=\"onOpenEditAsNew\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<PlusIcon :title=\"t('mail', 'Edit as new message')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Edit as new message') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton :close-after-click=\"true\"\n\t\t\t\t@click.prevent=\"$emit('open-event-modal')\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<CalendarBlankIcon :title=\"t('mail', 'Reply with meeting')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Reply with meeting') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton :close-after-click=\"true\"\n\t\t\t\t@click.prevent=\"$emit('open-task-modal')\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<TaskIcon :title=\"t('mail', 'Create task')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Create task') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton v-if=\"withShowSource\"\n\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t@click.prevent=\"$emit('show-source-modal')\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<InformationIcon :title=\"t('mail', 'View source')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'View source') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton :close-after-click=\"true\"\n\t\t\t\t@click=\"onPrint\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<PrinterIcon :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Print message') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionLink :close-after-click=\"true\"\n\t\t\t\t:href=\"exportMessageLink\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<DownloadIcon :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Download message') }}\n\t\t\t</ActionLink>\n\t\t\t<ActionButton v-if=\"isSieveEnabled\"\n\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t@click.prevent=\"$emit('open-mail-filter-from-envelope')\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<FilterIcon :title=\"t('mail', 'Create mail filter')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Create mail filter') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionLink v-if=\"debug\"\n\t\t\t\t:download=\"threadingFileName\"\n\t\t\t\t:href=\"threadingFile\"\n\t\t\t\t:close-after-click=\"true\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<DownloadIcon :title=\"t('mail', 'Download thread data for debugging')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Download thread data for debugging') }}\n\t\t\t</ActionLink>\n\t\t</template>\n\t\t<template v-if=\"snoozeActionsOpen\">\n\t\t\t<ActionButton :close-after-click=\"false\"\n\t\t\t\t@click=\"snoozeActionsOpen = false\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<ChevronLeft :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{\n\t\t\t\t\tt('mail', 'Back')\n\t\t\t\t}}\n\t\t\t</ActionButton>\n\n\t\t\t<ActionButton v-for=\"option in reminderOptions\"\n\t\t\t\t:key=\"option.key\"\n\t\t\t\t:aria-label=\"option.ariaLabel\"\n\t\t\t\tclose-after-click\n\t\t\t\t@click.stop=\"onSnooze(option.timestamp)\">\n\t\t\t\t{{ option.label }}\n\t\t\t</ActionButton>\n\n\t\t\t<NcActionSeparator />\n\n\t\t\t<NcActionInput type=\"datetime-local\"\n\t\t\t\tis-native-picker\n\t\t\t\t:value=\"customSnoozeDateTime\"\n\t\t\t\t:min=\"new Date()\"\n\t\t\t\t@change=\"setCustomSnoozeDateTime\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<CalendarClock :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t</NcActionInput>\n\n\t\t\t<NcActionButton :aria-label=\"t('spreed', 'Set custom snooze')\"\n\t\t\t\tclose-after-click\n\t\t\t\t@click.stop=\"setCustomSnooze(customSnoozeDateTime)\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<CheckIcon :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('spreed', 'Set custom snooze') }}\n\t\t\t</NcActionButton>\n\t\t</template>\n\t</div>\n</template>\n\n<script>\nimport {\n\tNcActionButton,\n\tNcActionButton as ActionButton,\n\tNcActionLink as ActionLink,\n} from '@nextcloud/vue'\nimport AlertOctagonIcon from 'vue-material-design-icons/AlertOctagonOutline.vue'\nimport { Base64 } from 'js-base64'\nimport { buildRecipients as buildReplyRecipients } from '../ReplyBuilder.js'\nimport CalendarBlankIcon from 'vue-material-design-icons/CalendarBlankOutline.vue'\nimport CheckIcon from 'vue-material-design-icons/Check.vue'\nimport ChevronLeft from 'vue-material-design-icons/ChevronLeft.vue'\nimport DotsHorizontalIcon from 'vue-material-design-icons/DotsHorizontal.vue'\nimport DownloadIcon from 'vue-material-design-icons/TrayArrowDown.vue'\nimport PrinterIcon from 'vue-material-design-icons/PrinterOutline.vue'\nimport TranslationIcon from 'vue-material-design-icons/Translate.vue'\nimport { mailboxHasRights } from '../util/acl.js'\nimport { generateUrl } from '@nextcloud/router'\nimport InformationIcon from 'vue-material-design-icons/InformationOutline.vue'\nimport ImportantIcon from 'vue-material-design-icons/LabelVariant.vue'\nimport ImportantOutlineIcon from 'vue-material-design-icons/LabelVariantOutline.vue'\nimport OpenInNewIcon from 'vue-material-design-icons/OpenInNew.vue'\nimport PlusIcon from 'vue-material-design-icons/Plus.vue'\nimport TaskIcon from 'vue-material-design-icons/CheckboxMarkedCirclePlusOutline.vue'\nimport ShareIcon from 'vue-material-design-icons/ShareOutline.vue'\nimport { showError, showSuccess } from '@nextcloud/dialogs'\nimport TagIcon from 'vue-material-design-icons/TagOutline.vue'\nimport CalendarClock from 'vue-material-design-icons/CalendarClockOutline.vue'\nimport NcActionSeparator from '@nextcloud/vue/components/NcActionSeparator'\nimport NcActionInput from '@nextcloud/vue/components/NcActionInput'\nimport AlarmIcon from 'vue-material-design-icons/Alarm.vue'\nimport logger from '../logger.js'\nimport moment from '@nextcloud/moment'\nimport { mapStores, mapState } from 'pinia'\nimport useMainStore from '../store/mainStore.js'\nimport FilterIcon from 'vue-material-design-icons/FilterOutline.vue'\n\nexport default {\n\tname: 'MenuEnvelope',\n\tcomponents: {\n\t\tNcActionButton,\n\t\tNcActionInput,\n\t\tNcActionSeparator,\n\t\tCalendarClock,\n\t\tActionButton,\n\t\tActionLink,\n\t\tAlertOctagonIcon,\n\t\tCalendarBlankIcon,\n\t\tChevronLeft,\n\t\tCheckIcon,\n\t\tDotsHorizontalIcon,\n\t\tTranslationIcon,\n\t\tDownloadIcon,\n\t\tInformationIcon,\n\t\tOpenInNewIcon,\n\t\tPlusIcon,\n\t\tShareIcon,\n\t\tTagIcon,\n\t\tImportantIcon,\n\t\tImportantOutlineIcon,\n\t\tTaskIcon,\n\t\tAlarmIcon,\n\t\tPrinterIcon,\n\t\tFilterIcon,\n\t},\n\tprops: {\n\t\tenvelope: {\n\t\t\t// The envelope on which this menu will act\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tmailbox: {\n\t\t\t// Required for checking ACLs\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tmoreActionsOpen: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t},\n\t\twithSelect: {\n\t\t\t// \"Select\" action should only appear in envelopes from the envelope list\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithShowSource: {\n\t\t\t// \"Show source\" action should only appear in thread envelopes\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tisTranslationAvailable: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tdebug: window?.OC?.debug || false,\n\t\t\tlocalMoreActionsOpen: false,\n\t\t\tsnoozeActionsOpen: false,\n\t\t\tforwardMessages: this.envelope.databaseId,\n\t\t\tcustomSnoozeDateTime: new Date(moment().add(2, 'hours').minute(0).second(0).valueOf()),\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t\t...mapState(useMainStore, [\n\t\t\t'isSnoozeDisabled',\n\t\t\t'isTranslationEnabled',\n\t\t]),\n\t\taccount() {\n\t\t\tconst accountId = this.envelope.accountId ?? this.mailbox.accountId\n\t\t\treturn this.mainStore.getAccount(accountId)\n\t\t},\n\t\thasMultipleRecipients() {\n\t\t\tif (!this.account) {\n\t\t\t\tconsole.error('account is undefined', {\n\t\t\t\t\taccountId: this.envelope.accountId,\n\t\t\t\t})\n\t\t\t}\n\t\t\tconst recipients = buildReplyRecipients(this.envelope, {\n\t\t\t\tlabel: this.account.name,\n\t\t\t\temail: this.account.emailAddress,\n\t\t\t})\n\t\t\treturn recipients.to.concat(recipients.cc).length > 1\n\t\t},\n\t\tthreadingFile() {\n\t\t\treturn `data:text/plain;base64,${Base64.encode(JSON.stringify({\n\t\t\t\tsubject: this.envelope.subject,\n\t\t\t\tmessageId: this.envelope.messageId,\n\t\t\t\tinReplyTo: this.envelope.inReplyTo,\n\t\t\t\treferences: this.envelope.references,\n\t\t\t\tthreadRootId: this.envelope.threadRootId,\n\t\t\t}, null, 2))}`\n\t\t},\n\t\tthreadingFileName() {\n\t\t\treturn `${this.envelope.databaseId}.json`\n\t\t},\n\t\tshowFavoriteIconVariant() {\n\t\t\treturn this.envelope.flags.flagged\n\t\t},\n\t\tshowImportantIconVariant() {\n\t\t\treturn this.envelope.flags.seen\n\t\t},\n\t\tisImportant() {\n\t\t\treturn this.mainStore\n\t\t\t\t.getEnvelopeTags(this.envelope.databaseId)\n\t\t\t\t.some((tag) => tag.imapLabel === '$label1')\n\t\t},\n\t\t/**\n\t\t * Link to download the whole message (.eml).\n\t\t *\n\t\t * @return {string}\n\t\t */\n\t\texportMessageLink() {\n\t\t\treturn generateUrl('/apps/mail/api/messages/{id}/export', {\n\t\t\t\tid: this.envelope.databaseId,\n\t\t\t})\n\t\t},\n\t\thasWriteAcl() {\n\t\t\treturn mailboxHasRights(this.mailbox, 'w')\n\t\t},\n\t\thasDeleteAcl() {\n\t\t\treturn mailboxHasRights(this.mailbox, 'te')\n\t\t},\n\t\tisSnoozedMailbox() {\n\t\t\treturn this.mailbox.databaseId === this.account.snoozeMailboxId\n\t\t},\n\t\treminderOptions() {\n\t\t\tconst currentDateTime = moment()\n\n\t\t\t// Same day 18:00 PM (or hidden)\n\t\t\tconst laterTodayTime = (currentDateTime.hour() < 18)\n\t\t\t\t? moment().hour(18)\n\t\t\t\t: null\n\n\t\t\t// Tomorrow 08:00 AM\n\t\t\tconst tomorrowTime = moment().add(1, 'days').hour(8)\n\n\t\t\t// Saturday 08:00 AM (or hidden)\n\t\t\tconst thisWeekendTime = (currentDateTime.day() !== 6 && currentDateTime.day() !== 0)\n\t\t\t\t? moment().day(6).hour(8)\n\t\t\t\t: null\n\n\t\t\t// Next Monday 08:00 AM\n\t\t\tconst nextWeekTime = moment().add(1, 'weeks').day(1).hour(8)\n\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tkey: 'laterToday',\n\t\t\t\t\ttimestamp: this.getTimestamp(laterTodayTime),\n\t\t\t\t\tlabel: t('spreed', 'Later today – {timeLocale}', { timeLocale: laterTodayTime?.format('LT') }),\n\t\t\t\t\tariaLabel: t('spreed', 'Set reminder for later today'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'tomorrow',\n\t\t\t\t\ttimestamp: this.getTimestamp(tomorrowTime),\n\t\t\t\t\tlabel: t('spreed', 'Tomorrow – {timeLocale}', { timeLocale: tomorrowTime?.format('ddd LT') }),\n\t\t\t\t\tariaLabel: t('spreed', 'Set reminder for tomorrow'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'thisWeekend',\n\t\t\t\t\ttimestamp: this.getTimestamp(thisWeekendTime),\n\t\t\t\t\tlabel: t('spreed', 'This weekend – {timeLocale}', { timeLocale: thisWeekendTime?.format('ddd LT') }),\n\t\t\t\t\tariaLabel: t('spreed', 'Set reminder for this weekend'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'nextWeek',\n\t\t\t\t\ttimestamp: this.getTimestamp(nextWeekTime),\n\t\t\t\t\tlabel: t('spreed', 'Next week – {timeLocale}', { timeLocale: nextWeekTime?.format('ddd LT') }),\n\t\t\t\t\tariaLabel: t('spreed', 'Set reminder for next week'),\n\t\t\t\t},\n\t\t\t].filter(option => option.timestamp !== null)\n\t\t},\n\t},\n\twatch: {\n\t\tlocalMoreActionsOpen(value) {\n\t\t\tthis.$emit('update:moreActionsOpen', value)\n\t\t},\n\t},\n\tmethods: {\n\t\tonForward() {\n\t\t\tthis.mainStore.startComposerSession({\n\t\t\t\treply: {\n\t\t\t\t\tmode: 'forward',\n\t\t\t\t\tdata: this.envelope,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\tasync onSnooze(timestamp) {\n\t\t\t// Remove from selection first\n\t\t\tif (this.withSelect) {\n\t\t\t\tthis.$emit('unselect')\n\t\t\t}\n\n\t\t\tlogger.info(`snoozing message ${this.envelope.databaseId}`)\n\n\t\t\tif (!this.account.snoozeMailboxId) {\n\t\t\t\tawait this.mainStore.createAndSetSnoozeMailbox(this.account)\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.snoozeMessage({\n\t\t\t\t\tid: this.envelope.databaseId,\n\t\t\t\t\tunixTimestamp: timestamp / 1000,\n\t\t\t\t\tdestMailboxId: this.account.snoozeMailboxId,\n\t\t\t\t})\n\t\t\t\tshowSuccess(t('mail', 'Message was snoozed'))\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('Could not snooze message', error)\n\t\t\t\tshowError(t('mail', 'Could not snooze message'))\n\t\t\t}\n\t\t},\n\t\tasync onUnSnooze() {\n\t\t\t// Remove from selection first\n\t\t\tif (this.withSelect) {\n\t\t\t\tthis.$emit('unselect')\n\t\t\t}\n\n\t\t\tlogger.info(`unSnoozing message ${this.envelope.databaseId}`)\n\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.unSnoozeMessage({\n\t\t\t\t\tid: this.envelope.databaseId,\n\t\t\t\t})\n\t\t\t\tshowSuccess(t('mail', 'Message was unsnoozed'))\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('Could not unsnooze message', error)\n\t\t\t\tshowError(t('mail', 'Could not unsnooze message'))\n\t\t\t}\n\t\t},\n\t\tonToggleFlagged() {\n\t\t\tthis.mainStore.toggleEnvelopeFlagged(this.envelope)\n\t\t},\n\t\tonToggleImportant() {\n\t\t\tthis.mainStore.toggleEnvelopeImportant(this.envelope)\n\t\t},\n\t\tonToggleSeen() {\n\t\t\tthis.mainStore.toggleEnvelopeSeen({ envelope: this.envelope })\n\t\t},\n\t\tasync onToggleJunk() {\n\t\t\tconst removeEnvelope = await this.mainStore.moveEnvelopeToJunk(this.envelope)\n\n\t\t\t/**\n\t\t\t * moveEnvelopeToJunk returns true if the envelope should be moved to a different mailbox.\n\t\t\t *\n\t\t\t * Our backend (MessageMapper.move) implemented move as copy and delete.\n\t\t\t * The message is copied to another mailbox and gets a new UID; the message in the current folder is deleted.\n\t\t\t *\n\t\t\t * Trigger the delete event here to open the next envelope and remove the current envelope from the list.\n\t\t\t * The delete event bubbles up to MailboxThread.deleteMessage and is forwarded to Mailbox.onDelete to the actual implementation.\n\t\t\t *\n\t\t\t * In Mailbox.onDelete, fetchNextEnvelopes requires the current envelope to find the next envelope.\n\t\t\t * Therefore, it must run before removing the envelope.\n\t\t\t */\n\n\t\t\tif (removeEnvelope) {\n\t\t\t\tawait this.$emit('delete', this.envelope.databaseId)\n\t\t\t}\n\n\t\t\tawait this.mainStore.toggleEnvelopeJunk({\n\t\t\t\tenvelope: this.envelope,\n\t\t\t\tremoveEnvelope,\n\t\t\t})\n\t\t},\n\t\ttoggleSelected() {\n\t\t\tthis.$emit('update:selected')\n\t\t},\n\t\tasync forwardSelectedAsAttachment() {\n\t\t\tawait this.mainStore.startComposerSession({\n\t\t\t\tforwardedMessages: [this.envelope.databaseId],\n\t\t\t})\n\t\t},\n\t\tonReply(onlySender = false) {\n\t\t\tthis.mainStore.startComposerSession({\n\t\t\t\treply: {\n\t\t\t\t\tmode: onlySender ? 'reply' : 'replyAll',\n\t\t\t\t\tdata: this.envelope,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\tasync onOpenEditAsNew() {\n\t\t\tawait this.mainStore.startComposerSession({\n\t\t\t\ttemplateMessageId: this.envelope.databaseId,\n\t\t\t\tdata: this.envelope,\n\t\t\t})\n\t\t},\n\t\tgetTimestamp(momentObject) {\n\t\t\treturn momentObject?.minute(0).second(0).millisecond(0).valueOf() || null\n\t\t},\n\t\tsetCustomSnoozeDateTime(event) {\n\t\t\tthis.customSnoozeDateTime = new Date(event.target.value)\n\t\t},\n\t\tsetCustomSnooze() {\n\t\t\tthis.onSnooze(this.customSnoozeDateTime.valueOf())\n\t\t},\n\t\tonPrint() {\n\t\t\tthis.$emit('print')\n\t\t},\n\t\tisSieveEnabled() {\n\t\t\treturn this.account.sieveEnabled\n\t\t},\n\t},\n}\n</script>\n<style lang=\"scss\" scoped>\n\t.source-modal {\n\t\t:deep(.modal-container) {\n\t\t\theight: 800px;\n\t\t}\n\n\t\t.source-modal-content {\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\toverflow-y: scroll !important;\n\t\t}\n\t}\n\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuEnvelope.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuEnvelope.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuEnvelope.vue?vue&type=style&index=0&id=5414a134&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuEnvelope.vue?vue&type=style&index=0&id=5414a134&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./MenuEnvelope.vue?vue&type=template&id=5414a134&scoped=true\"\nimport script from \"./MenuEnvelope.vue?vue&type=script&lang=js\"\nexport * from \"./MenuEnvelope.vue?vue&type=script&lang=js\"\nimport style0 from \"./MenuEnvelope.vue?vue&type=style&index=0&id=5414a134&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5414a134\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Moment.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Moment.vue?vue&type=script&lang=js\"","<!--\n  - SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<span :data-timestamp=\"timestamp * 1000\" :title=\"title\">{{ formatted }}</span>\n</template>\n\n<script>\nimport moment from '@nextcloud/moment'\nimport { shortRelativeDatetime } from '../util/shortRelativeDatetime.js'\n\nexport default {\n\tname: 'Moment',\n\tprops: {\n\t\ttimestamp: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t\tformat: {\n\t\t\ttype: String,\n\t\t\tdefault: 'LLL',\n\t\t},\n\t},\n\tcomputed: {\n\t\ttitle() {\n\t\t\treturn moment.unix(this.timestamp).format(this.format)\n\t\t},\n\t\tformatted() {\n\t\t\treturn shortRelativeDatetime(new Date(this.timestamp * 1000))\n\t\t},\n\t},\n}\n</script>\n","import { render, staticRenderFns } from \"./Moment.vue?vue&type=template&id=3e1e57e8\"\nimport script from \"./Moment.vue?vue&type=script&lang=js\"\nexport * from \"./Moment.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',{attrs:{\"data-timestamp\":_vm.timestamp * 1000,\"title\":_vm.title}},[_vm._v(_vm._s(_vm.formatted))])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2024 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<NcDialog ref=\"translateDialog\"\n\t\tclass=\"translate-dialog\"\n\t\t:name=\"t('mail', 'Translate message')\"\n\t\tsize=\"large\"\n\t\tclose-on-click-outside\n\t\t@update:open=\"$emit('close')\">\n\t\t<template v-if=\"isMounted\" #default>\n\t\t\t<div class=\"translate-dialog__wrapper\">\n\t\t\t\t<NcSelect v-model=\"selectedFrom\"\n\t\t\t\t\tclass=\"translate-dialog__select\"\n\t\t\t\t\tinput-id=\"from\"\n\t\t\t\t\tlabel=\"name\"\n\t\t\t\t\t:aria-label-combobox=\"t('mail', 'Source language to translate from')\"\n\t\t\t\t\t:placeholder=\"t('mail', 'Translate from')\"\n\t\t\t\t\t:options=\"availableInputLanguages\"\n\t\t\t\t\tno-wrap />\n\n\t\t\t\t<ArrowRight />\n\n\t\t\t\t<NcSelect v-model=\"selectedTo\"\n\t\t\t\t\tclass=\"translate-dialog__select\"\n\t\t\t\t\tinput-id=\"to\"\n\t\t\t\t\tlabel=\"name\"\n\t\t\t\t\t:aria-label-combobox=\"t('spreed', 'Target language to translate into')\"\n\t\t\t\t\t:placeholder=\"t('mail', 'Translate to')\"\n\t\t\t\t\t:options=\"availableOutputLanguages\"\n\t\t\t\t\tno-wrap />\n\n\t\t\t\t<NcButton type=\"primary\"\n\t\t\t\t\t:disabled=\"isLoading\"\n\t\t\t\t\tclass=\"translate-dialog__button\"\n\t\t\t\t\t@click=\"handleTranslate\">\n\t\t\t\t\t<template v-if=\"isLoading\" #icon>\n\t\t\t\t\t\t<NcLoadingIcon />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ isLoading ? t('mail', 'Translating') : t('mail', 'Translate') }}\n\t\t\t\t</NcButton>\n\t\t\t</div>\n\n\t\t\t<NcRichText class=\"translate-dialog__message translate-dialog__message-source\"\n\t\t\t\t:text=\"message\"\n\t\t\t\t:arguments=\"richParameters\"\n\t\t\t\t:use-markdown=\"true\"\n\t\t\t\t:reference-limit=\"0\" />\n\n\t\t\t<NcRichText v-if=\"translatedMessage\"\n\t\t\t\tclass=\"translate-dialog__message translate-dialog__message-translation\"\n\t\t\t\t:text=\"translatedMessage\"\n\t\t\t\t:arguments=\"richParameters\"\n\t\t\t\t:use-markdown=\"true\"\n\t\t\t\t:reference-limit=\"0\" />\n\t\t</template>\n\n\t\t<template v-if=\"translatedMessage\" #actions>\n\t\t\t<NcButton @click=\"handleCopyTranslation\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<ContentCopy />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Copy translated text') }}\n\t\t\t</NcButton>\n\t\t</template>\n\t</NcDialog>\n</template>\n\n<script>\nimport ArrowRight from 'vue-material-design-icons/ArrowRight.vue'\nimport ContentCopy from 'vue-material-design-icons/ContentCopy.vue'\n\nimport { showError, showSuccess } from '@nextcloud/dialogs'\n\nimport { NcButton, NcDialog, NcLoadingIcon, NcRichText, NcSelect } from '@nextcloud/vue'\nimport { getLanguage } from '@nextcloud/l10n'\n\nimport { translateText } from '../service/translationService.js'\nimport { mapState } from 'pinia'\nimport useMainStore from '../store/mainStore.js'\n\nexport default {\n\tname: 'TranslationModal',\n\n\tcomponents: {\n\t\tNcButton,\n\t\tNcDialog,\n\t\tNcLoadingIcon,\n\t\tNcRichText,\n\t\tNcSelect,\n\t\tArrowRight,\n\t\tContentCopy,\n\t},\n\n\tprops: {\n\t\tmessage: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\trichParameters: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\n\temits: ['close'],\n\n\tdata() {\n\t\treturn {\n\t\t\tisMounted: false,\n\t\t\tselectedFrom: null,\n\t\t\tselectedTo: null,\n\t\t\tisLoading: false,\n\t\t\ttranslatedMessage: '',\n\t\t}\n\t},\n\n\tcomputed: {\n\t\t...mapState(useMainStore, {\n\t\t\tavailableInputLanguages: 'translationInputLanguages',\n\t\t\tavailableOutputLanguages: 'translationOutputLanguages',\n\t\t}),\n\n\t\tuserLanguage() {\n\t\t\treturn getLanguage()\n\t\t},\n\t},\n\n\twatch: {\n\t\tselectedTo() {\n\t\t\tthis.translatedMessage = ''\n\t\t},\n\t\tselectedFrom() {\n\t\t\tthis.translatedMessage = ''\n\t\t},\n\t},\n\n\tasync mounted() {\n\t\tthis.selectedTo = this.availableOutputLanguages.find(language => language.value === this.userLanguage) || null\n\t\tthis.selectedFrom = this.availableInputLanguages.find(language => language.value === 'detect_language')\n\t\tthis.$nextTick(() => {\n\t\t\t// FIXME trick to avoid focusTrap() from activating on NcSelect\n\t\t\tthis.isMounted = !!this.$refs.translateDialog.navigationId\n\t\t})\n\t},\n\n\tmethods: {\n\t\thandleTranslate() {\n\t\t\tif (!this.selectedFrom || !this.selectedTo) {\n\t\t\t\tshowError(t('mail', 'Please select languages to translate to and from'))\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.translateMessage()\n\t\t},\n\n\t\tasync translateMessage() {\n\t\t\ttry {\n\t\t\t\tthis.isLoading = true\n\t\t\t\tconst response = await translateText(this.message.trim(), this.selectedFrom.value, this.selectedTo.value)\n\t\t\t\tthis.translatedMessage = response\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error)\n\t\t\t\tshowError(error.response?.data?.ocs?.data?.message ?? t('mail', 'The message could not be translated'))\n\t\t\t} finally {\n\t\t\t\tthis.isLoading = false\n\t\t\t}\n\t\t},\n\n\t\tasync handleCopyTranslation() {\n\t\t\ttry {\n\t\t\t\tawait navigator.clipboard.writeText(this.translatedMessage)\n\t\t\t\tshowSuccess(t('mail', 'Translation copied to clipboard'))\n\t\t\t} catch (error) {\n\t\t\t\tshowError(t('mail', 'Translation could not be copied'))\n\t\t\t}\n\t\t},\n\t},\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n.translate-dialog {\n\t:deep(.dialog__content) {\n\t\tposition: relative;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: calc(var(--default-grid-baseline) * 2);\n\t\tmin-height: 300px;\n\t\tpadding-bottom: calc(var(--default-grid-baseline) * 3);\n\t}\n\n\t&__wrapper {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: calc(var(--default-grid-baseline) * 4);\n\t}\n\n\t& &__select {\n\t\twidth: 50%;\n\t}\n\n\t&__button {\n\t\tflex-shrink: 0;\n\t\tmargin-inline-start: auto;\n\t}\n\n\t&__message {\n\t\tpadding: calc(var(--default-grid-baseline) * 2);\n\t\tflex-grow: 1;\n\t\tborder-radius: var(--border-radius-large);\n\n\t\t&-source {\n\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t\tborder: 2px solid var(--color-border);\n\t\t}\n\n\t\t&-translation {\n\t\t\tborder: 2px solid var(--color-primary-element);\n\t\t}\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TranslationModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TranslationModal.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TranslationModal.vue?vue&type=style&index=0&id=7b7cbb5d&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TranslationModal.vue?vue&type=style&index=0&id=7b7cbb5d&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./TranslationModal.vue?vue&type=template&id=7b7cbb5d&scoped=true\"\nimport script from \"./TranslationModal.vue?vue&type=script&lang=js\"\nexport * from \"./TranslationModal.vue?vue&type=script&lang=js\"\nimport style0 from \"./TranslationModal.vue?vue&type=style&index=0&id=7b7cbb5d&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b7cbb5d\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('NcDialog',{ref:\"translateDialog\",staticClass:\"translate-dialog\",attrs:{\"name\":_vm.t('mail', 'Translate message'),\"size\":\"large\",\"close-on-click-outside\":\"\"},on:{\"update:open\":function($event){return _vm.$emit('close')}},scopedSlots:_vm._u([(_vm.isMounted)?{key:\"default\",fn:function(){return [_c('div',{staticClass:\"translate-dialog__wrapper\"},[_c('NcSelect',{staticClass:\"translate-dialog__select\",attrs:{\"input-id\":\"from\",\"label\":\"name\",\"aria-label-combobox\":_vm.t('mail', 'Source language to translate from'),\"placeholder\":_vm.t('mail', 'Translate from'),\"options\":_vm.availableInputLanguages,\"no-wrap\":\"\"},model:{value:(_vm.selectedFrom),callback:function ($$v) {_vm.selectedFrom=$$v},expression:\"selectedFrom\"}}),_vm._v(\" \"),_c('ArrowRight'),_vm._v(\" \"),_c('NcSelect',{staticClass:\"translate-dialog__select\",attrs:{\"input-id\":\"to\",\"label\":\"name\",\"aria-label-combobox\":_vm.t('spreed', 'Target language to translate into'),\"placeholder\":_vm.t('mail', 'Translate to'),\"options\":_vm.availableOutputLanguages,\"no-wrap\":\"\"},model:{value:(_vm.selectedTo),callback:function ($$v) {_vm.selectedTo=$$v},expression:\"selectedTo\"}}),_vm._v(\" \"),_c('NcButton',{staticClass:\"translate-dialog__button\",attrs:{\"type\":\"primary\",\"disabled\":_vm.isLoading},on:{\"click\":_vm.handleTranslate},scopedSlots:_vm._u([(_vm.isLoading)?{key:\"icon\",fn:function(){return [_c('NcLoadingIcon')]},proxy:true}:null],null,true)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.isLoading ? _vm.t('mail', 'Translating') : _vm.t('mail', 'Translate'))+\"\\n\\t\\t\\t\")])],1),_vm._v(\" \"),_c('NcRichText',{staticClass:\"translate-dialog__message translate-dialog__message-source\",attrs:{\"text\":_vm.message,\"arguments\":_vm.richParameters,\"use-markdown\":true,\"reference-limit\":0}}),_vm._v(\" \"),(_vm.translatedMessage)?_c('NcRichText',{staticClass:\"translate-dialog__message translate-dialog__message-translation\",attrs:{\"text\":_vm.translatedMessage,\"arguments\":_vm.richParameters,\"use-markdown\":true,\"reference-limit\":0}}):_vm._e()]},proxy:true}:null,(_vm.translatedMessage)?{key:\"actions\",fn:function(){return [_c('NcButton',{on:{\"click\":_vm.handleCopyTranslation},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ContentCopy')]},proxy:true}],null,false,1967269327)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Copy translated text'))+\"\\n\\t\\t\")])]},proxy:true}:null],null,true)})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2025 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<NcModal size=\"normal\"\n\t\t:close-on-click-outside=\"false\"\n\t\t@close=\"closeModal\">\n\t\t<form class=\"modal__content\" @submit.prevent=\"createFilter\">\n\t\t\t<h2>{{ t('mail', 'Create a new mail filter') }}</h2>\n\n\t\t\t<p class=\"intro-text\">\n\t\t\t\t{{ t('mail', 'Choose the headers you want to use to create your filter. In the next step, you will be able to refine the filter conditions and specify the actions to be taken on messages that match your criteria.') }}\n\t\t\t</p>\n\n\t\t\t<div class=\"headers-list\">\n\t\t\t\t<NcCheckboxRadioSwitch v-for=\"header in headers\"\n\t\t\t\t\t:key=\"header.key\"\n\t\t\t\t\tv-model=\"header.enable\"\n\t\t\t\t\ttype=\"switch\">\n\t\t\t\t\t{{ header.label }}\n\t\t\t\t</NcCheckboxRadioSwitch>\n\t\t\t</div>\n\n\t\t\t<NcButton type=\"primary\"\n\t\t\t\tnative-type=\"submit\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<NcLoadingIcon v-if=\"loading\" :size=\"20\" />\n\t\t\t\t\t<IconCheck v-else :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Create mail filter') }}\n\t\t\t</NcButton>\n\t\t</form>\n\t</NcModal>\n</template>\n\n<script>\nimport {\n\tNcButton,\n\tNcLoadingIcon,\n\tNcCheckboxRadioSwitch,\n\tNcModal,\n} from '@nextcloud/vue'\nimport { mapStores } from 'pinia'\nimport useMailFilterStore from '../../store/mailFilterStore.ts'\nimport useMainStore from '../../store/mainStore.js'\nimport IconCheck from 'vue-material-design-icons/Check.vue'\nimport { MailFilterConditionField } from '../../models/mailFilter.ts'\n\nexport default {\n\tname: 'CreateModal',\n\tcomponents: {\n\t\tNcModal,\n\t\tNcCheckboxRadioSwitch,\n\t\tIconCheck,\n\t\tNcLoadingIcon,\n\t\tNcButton,\n\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tenvelope: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tloading: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcurrentFilter: null,\n\t\t\theaders: [],\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMailFilterStore, useMainStore),\n\t},\n\tasync mounted() {\n\t\tthis.prepareHeaders()\n\t},\n\tmethods: {\n\t\tprepareHeaders() {\n\t\t\tthis.headers = []\n\n\t\t\tthis.headers.push({\n\t\t\t\tfield: MailFilterConditionField.Subject,\n\t\t\t\tvalue: this.envelope.subject,\n\t\t\t\tlabel: t('mail', 'Subject') + ': ' + this.envelope.subject,\n\t\t\t\tenable: true,\n\t\t\t\tkey: btoa('subject' + this.envelope.subject),\n\t\t\t})\n\n\t\t\tfor (const from of this.envelope.from) {\n\t\t\t\tthis.headers.push({\n\t\t\t\t\tfield: MailFilterConditionField.From,\n\t\t\t\t\tvalue: from.email,\n\t\t\t\t\tlabel: t('mail', 'Sender') + ': ' + from.email,\n\t\t\t\t\tenable: true,\n\t\t\t\t\tkey: btoa('from' + from.email),\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tfor (const to of this.envelope.to) {\n\t\t\t\tthis.headers.push({\n\t\t\t\t\tfield: MailFilterConditionField.To,\n\t\t\t\t\tvalue: to.email,\n\t\t\t\t\tlabel: t('mail', 'Recipient') + ': ' + to.email,\n\t\t\t\t\tenable: true,\n\t\t\t\t\tkey: btoa('to' + to.email),\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tcreateFilter() {\n\t\t\tconst headers = structuredClone(this.headers).filter((header) => header.enable)\n\t\t\tthis.$emit('create-filter', headers)\n\t\t},\n\t\tcloseModal() {\n\t\t\tthis.headers = []\n\t\t\tthis.$emit('close')\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.modal__content {\n\tmargin: 20px;\n}\n\nh2, .intro-text, .headers-list {\n\tmargin-bottom: calc(var(--default-grid-baseline) * 2);\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateModal.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateModal.vue?vue&type=style&index=0&id=a1d8141a&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateModal.vue?vue&type=style&index=0&id=a1d8141a&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CreateModal.vue?vue&type=template&id=a1d8141a&scoped=true\"\nimport script from \"./CreateModal.vue?vue&type=script&lang=js\"\nexport * from \"./CreateModal.vue?vue&type=script&lang=js\"\nimport style0 from \"./CreateModal.vue?vue&type=style&index=0&id=a1d8141a&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a1d8141a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailFilterFromEnvelope.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailFilterFromEnvelope.vue?vue&type=script&lang=js\"","<!--\n  - SPDX-FileCopyrightText: 2025 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div class=\"section\">\n\t\t<CreateModal v-if=\"currentFilter === null\"\n\t\t\t:account=\"account\"\n\t\t\t:envelope=\"envelope\"\n\t\t\t:loading=\"loading\"\n\t\t\t@create-filter=\"createFilter\"\n\t\t\t@close=\"closeModal\" />\n\t\t<UpdateModal v-else\n\t\t\t:filter=\"currentFilter\"\n\t\t\t:account=\"account\"\n\t\t\t:loading=\"loading\"\n\t\t\t@update-filter=\"updateFilter\"\n\t\t\t@close=\"closeModal\" />\n\t</div>\n</template>\n\n<script>\nimport UpdateModal from './UpdateModal.vue'\nimport logger from '../../logger.js'\nimport { mapStores } from 'pinia'\nimport useMailFilterStore from '../../store/mailFilterStore.ts'\nimport useMainStore from '../../store/mainStore.js'\nimport { showError, showSuccess } from '@nextcloud/dialogs'\nimport {\n\tMailFilter,\n\tMailFilterActionMailbox,\n\tMailFilterActionStop,\n\tMailFilterOperator,\n\tMailFilterCondition,\n\tMailFilterConditionField,\n\tMailFilterConditionOperator,\n} from '../../models/mailFilter.ts'\nimport CreateModal from './CreateModal.vue'\n\nexport default {\n\tname: 'MailFilterFromEnvelope',\n\tcomponents: {\n\t\tCreateModal,\n\t\tUpdateModal,\n\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tenvelope: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcurrentFilter: null,\n\t\t\tloading: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMailFilterStore, useMainStore),\n\t\tfilters() {\n\t\t\treturn this.mailFilterStore.filters\n\t\t},\n\t},\n\tasync mounted() {\n\t\tawait this.mailFilterStore.fetch(this.account.id)\n\t},\n\tmethods: {\n\t\tcreateFilter(headers) {\n\t\t\tthis.loading = true\n\n\t\t\tconst priority = Math.max(0, ...this.filters.map((item) => item.priority ?? 0)) + 10\n\n\t\t\tconst subjectTest = new MailFilterCondition()\n\t\t\tsubjectTest.field = MailFilterConditionField.Subject\n\t\t\tsubjectTest.operator = MailFilterConditionOperator.Contains\n\t\t\tsubjectTest.values = []\n\n\t\t\tconst fromTest = new MailFilterCondition()\n\t\t\tfromTest.field = MailFilterConditionField.From\n\t\t\tfromTest.operator = MailFilterConditionOperator.Contains\n\t\t\tfromTest.values = []\n\n\t\t\tconst toTest = new MailFilterCondition()\n\t\t\ttoTest.field = MailFilterConditionField.To\n\t\t\ttoTest.operator = MailFilterConditionOperator.Contains\n\t\t\ttoTest.values = []\n\n\t\t\tfor (const header of headers) {\n\t\t\t\tif (header.field === MailFilterConditionField.Subject) {\n\t\t\t\t\tsubjectTest.values = [header.value]\n\t\t\t\t}\n\n\t\t\t\tif (header.field === MailFilterConditionField.From) {\n\t\t\t\t\tfromTest.values.push(header.value)\n\t\t\t\t}\n\n\t\t\t\tif (header.field === MailFilterConditionField.To) {\n\t\t\t\t\ttoTest.values.push(header.value)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst moveAction = new MailFilterActionMailbox()\n\t\t\tmoveAction.mailbox = 'INBOX'\n\n\t\t\tconst stopAction = new MailFilterActionStop()\n\n\t\t\tconst filter = new MailFilter()\n\t\t\tfilter.name = t('mail', 'New filter')\n\t\t\tfilter.operator = MailFilterOperator.All\n\t\t\tfilter.tests = []\n\t\t\tfilter.actions = [\n\t\t\t\tmoveAction,\n\t\t\t\tstopAction,\n\t\t\t]\n\t\t\tfilter.priority = priority\n\t\t\tfilter.enable = true\n\n\t\t\tif (subjectTest.hasValues()) {\n\t\t\t\tfilter.tests.push(subjectTest)\n\t\t\t}\n\n\t\t\tif (fromTest.hasValues()) {\n\t\t\t\tfilter.tests.push(fromTest)\n\t\t\t}\n\n\t\t\tif (toTest.hasValues()) {\n\t\t\t\tfilter.tests.push(toTest)\n\t\t\t}\n\n\t\t\tthis.currentFilter = filter\n\t\t\tthis.loading = false\n\t\t},\n\t\tasync updateFilter(filter) {\n\t\t\tthis.loading = true\n\n\t\t\tthis.mailFilterStore.update(filter)\n\n\t\t\ttry {\n\t\t\t\tawait this.mailFilterStore.store(this.account.id).then(() => {\n\t\t\t\t\tshowSuccess(t('mail', 'Filter saved'))\n\t\t\t\t})\n\t\t\t\tawait this.mainStore.fetchActiveSieveScript({ accountId: this.account.id })\n\t\t\t} catch (e) {\n\t\t\t\tlogger.error(e)\n\t\t\t\tshowError(t('mail', 'Could not save filter'))\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t},\n\t\tcloseModal() {\n\t\t\tthis.$emit('close')\n\t\t\tthis.currentFilter = null\n\t\t},\n\t},\n}\n</script>\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('NcModal',{attrs:{\"size\":\"normal\",\"close-on-click-outside\":false},on:{\"close\":_vm.closeModal}},[_c('form',{staticClass:\"modal__content\",on:{\"submit\":function($event){$event.preventDefault();return _vm.createFilter.apply(null, arguments)}}},[_c('h2',[_vm._v(_vm._s(_vm.t('mail', 'Create a new mail filter')))]),_vm._v(\" \"),_c('p',{staticClass:\"intro-text\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Choose the headers you want to use to create your filter. In the next step, you will be able to refine the filter conditions and specify the actions to be taken on messages that match your criteria.'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"headers-list\"},_vm._l((_vm.headers),function(header){return _c('NcCheckboxRadioSwitch',{key:header.key,attrs:{\"type\":\"switch\"},model:{value:(header.enable),callback:function ($$v) {_vm.$set(header, \"enable\", $$v)},expression:\"header.enable\"}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(header.label)+\"\\n\\t\\t\\t\")])}),1),_vm._v(\" \"),_c('NcButton',{attrs:{\"type\":\"primary\",\"native-type\":\"submit\"},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.loading)?_c('NcLoadingIcon',{attrs:{\"size\":20}}):_c('IconCheck',{attrs:{\"size\":20}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Create mail filter'))+\"\\n\\t\\t\")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./MailFilterFromEnvelope.vue?vue&type=template&id=87073442\"\nimport script from \"./MailFilterFromEnvelope.vue?vue&type=script&lang=js\"\nexport * from \"./MailFilterFromEnvelope.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"section\"},[(_vm.currentFilter === null)?_c('CreateModal',{attrs:{\"account\":_vm.account,\"envelope\":_vm.envelope,\"loading\":_vm.loading},on:{\"create-filter\":_vm.createFilter,\"close\":_vm.closeModal}}):_c('UpdateModal',{attrs:{\"filter\":_vm.currentFilter,\"account\":_vm.account,\"loading\":_vm.loading},on:{\"update-filter\":_vm.updateFilter,\"close\":_vm.closeModal}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SourceModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SourceModal.vue?vue&type=script&lang=js\"","<!--\n  - SPDX-FileCopyrightText: 2025 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<NcModal size=\"full\" @close=\"onClose\">\n\t\t<div class=\"message-source\">\n\t\t\t<h2>{{ t('mail', 'Message source') }}</h2>\n\t\t\t<pre>{{ rawMessage }}</pre>\n\t\t</div>\n\t</NcModal>\n</template>\n\n<script>\nimport { NcModal } from '@nextcloud/vue'\n\nexport default {\n\tname: 'SourceModal',\n\tcomponents: {\n\t\tNcModal,\n\t},\n\tprops: {\n\t\trawMessage: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tmethods: {\n\t\tonClose() {\n\t\t\tthis.$emit('close')\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.message-source {\n\tpadding: 0 calc(var(--default-grid-baseline) * 4);\n\n\th2 {\n\t\tmargin-top: 0;\n\t\tmargin-bottom: 0;\n\t}\n\n\tpre {\n\t\tfont-family: monospace;\n\t\twhite-space: pre-wrap;\n\t\tuser-select: text;\n\t}\n\n}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SourceModal.vue?vue&type=style&index=0&id=58097824&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SourceModal.vue?vue&type=style&index=0&id=58097824&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./SourceModal.vue?vue&type=template&id=58097824&scoped=true\"\nimport script from \"./SourceModal.vue?vue&type=script&lang=js\"\nexport * from \"./SourceModal.vue?vue&type=script&lang=js\"\nimport style0 from \"./SourceModal.vue?vue&type=style&index=0&id=58097824&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"58097824\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('NcModal',{attrs:{\"size\":\"full\"},on:{\"close\":_vm.onClose}},[_c('div',{staticClass:\"message-source\"},[_c('h2',[_vm._v(_vm._s(_vm.t('mail', 'Message source')))]),_vm._v(\" \"),_c('pre',[_vm._v(_vm._s(_vm.rawMessage))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div ref=\"envelope\"\n\t\tclass=\"envelope\"\n\t\t:class=\"{'envelope--expanded' : expanded }\">\n\t\t<div v-if=\"showFollowUpHeader\"\n\t\t\tclass=\"envelope__follow-up-header\">\n\t\t\t<span class=\"envelope__follow-up-header__date\">\n\t\t\t\t{{ t('mail', \"You've sent this message on {date}\", { date: formattedSentAt }) }}\n\t\t\t</span>\n\t\t\t<div class=\"envelope__follow-up-header__actions\">\n\t\t\t\t<NcButton @click=\"onDisableFollowUpReminder\">\n\t\t\t\t\t{{ t('mail', 'Disable reminder') }}\n\t\t\t\t</NcButton>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"envelope__header\">\n\t\t\t<div class=\"envelope__header__avatar\">\n\t\t\t\t<Avatar v-if=\"envelope.from && envelope.from[0]\"\n\t\t\t\t\t:email=\"envelope.from[0].email\"\n\t\t\t\t\t:display-name=\"envelope.from[0].label\"\n\t\t\t\t\t:disable-tooltip=\"true\"\n\t\t\t\t\t:size=\"40\"\n\t\t\t\t\t:fetch-avatar=\"envelope.fetchAvatarFromClient\"\n\t\t\t\t\t:avatar=\"envelope.avatar\"\n\t\t\t\t\tclass=\"envelope__header__avatar-avatar\" />\n\t\t\t\t<div v-if=\"isImportant\"\n\t\t\t\t\tclass=\"app-content-list-item-star icon-important\"\n\t\t\t\t\t:data-starred=\"isImportant ? 'true' : 'false'\"\n\t\t\t\t\t@click.prevent=\"hasWriteAcl ? onToggleImportant() : false\"\n\t\t\t\t\tv-html=\"importantSvg\" />\n\t\t\t\t<IconFavorite v-if=\"envelope.flags.flagged\"\n\t\t\t\t\tfill-color=\"#f9cf3d\"\n\t\t\t\t\t:size=\"18\"\n\t\t\t\t\tclass=\"app-content-list-item-star favorite-icon-style\"\n\t\t\t\t\t:data-starred=\"envelope.flags.flagged ? 'true' : 'false'\"\n\t\t\t\t\t@click.prevent=\"hasWriteAcl ? onToggleFlagged() : false\" />\n\t\t\t\t<JunkIcon v-if=\"envelope.flags.$junk\"\n\t\t\t\t\t:size=\"18\"\n\t\t\t\t\tclass=\"app-content-list-item-star junk-icon-style\"\n\t\t\t\t\t:data-starred=\"envelope.flags.$junk ? 'true' : 'false'\"\n\t\t\t\t\t@click.prevent=\"hasWriteAcl ? onToggleJunk() : false\" />\n\t\t\t</div>\n\n\t\t\t<router-link :to=\"route\"\n\t\t\t\tevent=\"\"\n\t\t\t\tclass=\"left\"\n\t\t\t\t:class=\"{seen: envelope.flags.seen}\"\n\t\t\t\t@click.native.prevent=\"$emit('toggle-expand', $event)\">\n\t\t\t\t<div class=\"envelope__header__left__sender-subject-tags\">\n\t\t\t\t\t<div class=\"sender\">\n\t\t\t\t\t\t{{ envelope.from && envelope.from[0] ? envelope.from[0].label : '' }}\n\t\t\t\t\t\t<p class=\"sender__email\" :style=\"{ 'color': senderEmailColor }\">\n\t\t\t\t\t\t\t{{ envelope.from && envelope.from[0] ? envelope.from[0].email : '' }}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"hasChangedSubject\" class=\"subline\">\n\t\t\t\t\t\t{{ cleanSubject }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"showSubline\" class=\"subline\">\n\t\t\t\t\t\t<span class=\"preview\">\n\t\t\t\t\t\t\t{{ isEncrypted ? t('mail', 'Encrypted message') : envelope.previewText }}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"tagline\">\n\t\t\t\t\t\t<div v-for=\"tag in tags\"\n\t\t\t\t\t\t\t:key=\"tag.id\"\n\t\t\t\t\t\t\tclass=\"tag-group\">\n\t\t\t\t\t\t\t<div class=\"tag-group__bg\"\n\t\t\t\t\t\t\t\t:style=\"{'background-color': tag.color}\" />\n\t\t\t\t\t\t\t<span class=\"tag-group__label\"\n\t\t\t\t\t\t\t\t:style=\"{color: tag.color}\">\n\t\t\t\t\t\t\t\t{{ translateTagDisplayName(tag) }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"envelope__header__left__unsubscribe\">\n\t\t\t\t\t<NcButton v-if=\"message && message.dkimValid && (message.unsubscribeUrl || message.unsubscribeMailto)\"\n\t\t\t\t\t\ttype=\"tertiary\"\n\t\t\t\t\t\tclass=\"envelope__header__unsubscribe\"\n\t\t\t\t\t\t@click=\"showListUnsubscribeConfirmation = true\">\n\t\t\t\t\t\t{{ t('mail', 'Unsubscribe') }}\n\t\t\t\t\t</NcButton>\n\t\t\t\t</div>\n\t\t\t</router-link>\n\t\t\t<div class=\"right\">\n\t\t\t\t<Moment class=\"timestamp\" :timestamp=\"envelope.dateInt\" />\n\t\t\t\t<template v-if=\"expanded\">\n\t\t\t\t\t<NcActions v-if=\"smimeData.isSigned || smimeData.isEncrypted\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<LockPlusIcon v-if=\"smimeData.isEncrypted\"\n\t\t\t\t\t\t\t\t:size=\"20\"\n\t\t\t\t\t\t\t\tfill-color=\"#008000\" />\n\t\t\t\t\t\t\t<LockIcon v-else-if=\"smimeData.signatureIsValid\"\n\t\t\t\t\t\t\t\t:size=\"20\"\n\t\t\t\t\t\t\t\tfill-color=\"#008000\" />\n\t\t\t\t\t\t\t<LockOffIcon v-else\n\t\t\t\t\t\t\t\t:size=\"20\"\n\t\t\t\t\t\t\t\tfill-color=\"red\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<NcActionText class=\"smime-text\" :name=\"smimeHeading\">\n\t\t\t\t\t\t\t{{ smimeMessage }}\n\t\t\t\t\t\t</NcActionText>\n\t\t\t\t\t\t<!-- TODO: display information about signer and/or CA certificate -->\n\t\t\t\t\t</NcActions>\n\t\t\t\t\t<NcActions :inline=\"inlineMenuSize\">\n\t\t\t\t\t\t<NcActionButton :close-after-click=\"true\"\n\t\t\t\t\t\t\t@click=\"onReply('', false)\">\n\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t<ReplyAllIcon v-if=\"hasMultipleRecipients\"\n\t\t\t\t\t\t\t\t\t:title=\"t('mail', 'Reply all')\"\n\t\t\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t\t\t<ReplyIcon v-else\n\t\t\t\t\t\t\t\t\t:title=\"t('mail', 'Reply')\"\n\t\t\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t{{ t('mail', 'Reply') }}\n\t\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t\t<NcActionButton v-if=\"hasMultipleRecipients\"\n\t\t\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t\t\t@click=\"onReply('', false, true)\">\n\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t<ReplyIcon :title=\"t('mail', 'Reply to sender only')\"\n\t\t\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t{{ t('mail', 'Reply to sender only') }}\n\t\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t\t<NcActionButton v-if=\"hasWriteAcl && (inlineMenuSize >= 2 || !moreActionsOpen)\"\n\t\t\t\t\t\t\ttype=\"tertiary-no-background\"\n\t\t\t\t\t\t\tclass=\"action--primary\"\n\t\t\t\t\t\t\t:aria-label=\"envelope.flags.flagged ? t('mail', 'Mark as unfavorite') : t('mail', 'Mark as favorite')\"\n\t\t\t\t\t\t\t:name=\"envelope.flags.flagged ? t('mail', 'Mark as unfavorite') : t('mail', 'Mark as favorite')\"\n\t\t\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t\t\t@click.prevent=\"onToggleFlagged\">\n\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t<IconFavorite v-if=\"showFavoriteIconVariant\"\n\t\t\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t\t\t<StarOutline v-else\n\t\t\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t\t<NcActionButton v-if=\"hasSeenAcl && (inlineMenuSize >= 3 || !moreActionsOpen)\"\n\t\t\t\t\t\t\ttype=\"tertiary-no-background\"\n\t\t\t\t\t\t\tclass=\"action--primary\"\n\t\t\t\t\t\t\t:aria-label=\"envelope.flags.seen ? t('mail', 'Mark as unread') : t('mail', 'Mark as read')\"\n\t\t\t\t\t\t\t:name=\"envelope.flags.seen ? t('mail', 'Mark as unread') : t('mail', 'Mark as read')\"\n\t\t\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t\t\t@click.prevent=\"onToggleSeen\">\n\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t<EmailRead v-if=\"showImportantIconVariant\"\n\t\t\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t\t\t<EmailUnread v-else\n\t\t\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t\t<NcActionButton v-if=\"showArchiveButton && hasArchiveAcl && (inlineMenuSize >= 4 || !moreActionsOpen)\"\n\t\t\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t\t\t:name=\"t('mail', 'Archive message')\"\n\t\t\t\t\t\t\t:disabled=\"disableArchiveButton\"\n\t\t\t\t\t\t\t:aria-label=\"t('mail', 'Archive message')\"\n\t\t\t\t\t\t\ttype=\"tertiary-no-background\"\n\t\t\t\t\t\t\t@click.prevent=\"onArchive\">\n\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t<ArchiveIcon :title=\"t('mail', 'Archive message')\"\n\t\t\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t\t<NcActionButton v-if=\"hasDeleteAcl && (inlineMenuSize >= 5 || !moreActionsOpen)\"\n\t\t\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t\t\t:name=\"t('mail', 'Delete message')\"\n\t\t\t\t\t\t\t:aria-label=\"t('mail', 'Delete message')\"\n\t\t\t\t\t\t\ttype=\"tertiary-no-background\"\n\t\t\t\t\t\t\t@click.prevent=\"onDelete\">\n\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t<DeleteIcon :title=\"t('mail', 'Delete message')\"\n\t\t\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t\t<MenuEnvelope class=\"app-content-list-item-menu\"\n\t\t\t\t\t\t\t:envelope=\"envelope\"\n\t\t\t\t\t\t\t:mailbox=\"mailbox\"\n\t\t\t\t\t\t\t:with-select=\"false\"\n\t\t\t\t\t\t\t:with-show-source=\"true\"\n\t\t\t\t\t\t\t:more-actions-open.sync=\"moreActionsOpen\"\n\t\t\t\t\t\t\t@reply=\"onReply('', false, false)\"\n\t\t\t\t\t\t\t@delete=\"$emit('delete',envelope.databaseId)\"\n\t\t\t\t\t\t\t@show-source-modal=\"onShowSourceModal\"\n\t\t\t\t\t\t\t@open-tag-modal=\"onOpenTagModal\"\n\t\t\t\t\t\t\t@open-move-modal=\"onOpenMoveModal\"\n\t\t\t\t\t\t\t@open-event-modal=\"onOpenEventModal\"\n\t\t\t\t\t\t\t@open-task-modal=\"onOpenTaskModal\"\n\t\t\t\t\t\t\t@open-translation-modal=\"onOpenTranslationModal\"\n\t\t\t\t\t\t\t@open-mail-filter-from-envelope=\"showMailFilterFromEnvelope = true\"\n\t\t\t\t\t\t\t@print=\"onPrint\" />\n\t\t\t\t\t</NcActions>\n\t\t\t\t\t<SourceModal v-if=\"showSourceModal\"\n\t\t\t\t\t\t:raw-message=\"rawMessage\"\n\t\t\t\t\t\t@close=\"onCloseSourceModal\" />\n\t\t\t\t\t<MoveModal v-if=\"showMoveModal\"\n\t\t\t\t\t\t:account=\"account\"\n\t\t\t\t\t\t:envelopes=\"[envelope]\"\n\t\t\t\t\t\t@move=\"onMove\"\n\t\t\t\t\t\t@close=\"onCloseMoveModal\" />\n\t\t\t\t\t<EventModal v-if=\"showEventModal\"\n\t\t\t\t\t\t:envelope=\"envelope\"\n\t\t\t\t\t\t@close=\"onCloseEventModal\" />\n\t\t\t\t\t<TaskModal v-if=\"showTaskModal\"\n\t\t\t\t\t\t:envelope=\"envelope\"\n\t\t\t\t\t\t@close=\"onCloseTaskModal\" />\n\t\t\t\t\t<TagModal v-if=\"showTagModal\"\n\t\t\t\t\t\t:account=\"account\"\n\t\t\t\t\t\t:envelopes=\"[envelope]\"\n\t\t\t\t\t\t@close=\"onCloseTagModal\" />\n\t\t\t\t\t<TranslationModal v-if=\"showTranslationModal\"\n\t\t\t\t\t\t:rich-parameters=\"{}\"\n\t\t\t\t\t\t:message=\"plainTextBody\"\n\t\t\t\t\t\t@close=\"onCloseTranslationModal\" />\n\t\t\t\t\t<MailFilterFromEnvelope v-if=\"showMailFilterFromEnvelope\"\n\t\t\t\t\t\t:account=\"account\"\n\t\t\t\t\t\t:envelope=\"envelope\"\n\t\t\t\t\t\t@close=\"showMailFilterFromEnvelope = false\" />\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t</div>\n\t\t<MessageLoadingSkeleton v-if=\"loading === Loading.Skeleton\" />\n\t\t<Message v-if=\"message\"\n\t\t\tv-show=\"loading === Loading.Done\"\n\t\t\t:envelope=\"envelope\"\n\t\t\t:message=\"message\"\n\t\t\t:full-height=\"fullHeight\"\n\t\t\t:smart-replies=\"showFollowUpHeader ? [] : smartReplies\"\n\t\t\t:reply-button-label=\"replyButtonLabel\"\n\t\t\t@load=\"onMessageLoaded\"\n\t\t\t@translate=\"onOpenTranslationModal\"\n\t\t\t@reply=\"(body) => onReply(body, showFollowUpHeader)\" />\n\t\t<Error v-else-if=\"error\"\n\t\t\t:error=\"error.message || t('mail', 'Not found')\"\n\t\t\tmessage=\"\"\n\t\t\t:data=\"error\"\n\t\t\t:auto-margin=\"true\"\n\t\t\trole=\"alert\" />\n\t\t<ConfirmModal v-if=\"message && message.unsubscribeUrl && message.isOneClickUnsubscribe && showListUnsubscribeConfirmation\"\n\t\t\t:confirm-text=\"t('mail', 'Unsubscribe')\"\n\t\t\t:title=\"t('mail', 'Unsubscribe via link')\"\n\t\t\t@cancel=\"showListUnsubscribeConfirmation = false\"\n\t\t\t@confirm=\"unsubscribeViaOneClick\">\n\t\t\t{{ t('mail', 'Unsubscribing will stop all messages from the mailing list {sender}', { sender: from }) }}\n\t\t</ConfirmModal>\n\t\t<ConfirmModal v-else-if=\"message && message.unsubscribeUrl && showListUnsubscribeConfirmation\"\n\t\t\t:confirm-text=\"t('mail', 'Unsubscribe')\"\n\t\t\t:confirm-url=\"message.unsubscribeUrl\"\n\t\t\t:title=\"t('mail', 'Unsubscribe via link')\"\n\t\t\t@cancel=\"showListUnsubscribeConfirmation = false\"\n\t\t\t@confirm=\"showListUnsubscribeConfirmation = false\">\n\t\t\t{{ t('mail', 'Unsubscribing will stop all messages from the mailing list {sender}', { sender: from }) }}\n\t\t</ConfirmModal>\n\t\t<ConfirmModal v-else-if=\"message && message.unsubscribeMailto && showListUnsubscribeConfirmation\"\n\t\t\t:confirm-text=\"t('mail', 'Send unsubscribe email')\"\n\t\t\t:title=\"t('mail', 'Unsubscribe via email')\"\n\t\t\t:disabled=\"unsubscribing\"\n\t\t\t@cancel=\"showListUnsubscribeConfirmation = false\"\n\t\t\t@confirm=\"unsubscribeViaMailto\">\n\t\t\t{{ t('mail', 'Unsubscribing will stop all messages from the mailing list {sender}', { sender: from }) }}\n\t\t</ConfirmModal>\n\t</div>\n</template>\n<script>\nimport Avatar from './Avatar.vue'\nimport { NcActionButton, NcButton } from '@nextcloud/vue'\nimport ConfirmModal from './ConfirmationModal.vue'\nimport Error from './Error.vue'\nimport importantSvg from '../../img/important.svg'\nimport IconFavorite from 'vue-material-design-icons/Star.vue'\nimport JunkIcon from './icons/JunkIcon.vue'\nimport MessageLoadingSkeleton from './MessageLoadingSkeleton.vue'\nimport logger from '../logger.js'\nimport Message from './Message.vue'\nimport MenuEnvelope from './MenuEnvelope.vue'\nimport Moment from './Moment.vue'\nimport { smartReply } from '../service/AiIntergrationsService.js'\nimport { mailboxHasRights } from '../util/acl.js'\nimport StarOutline from 'vue-material-design-icons/StarOutline.vue'\nimport DeleteIcon from 'vue-material-design-icons/TrashCanOutline.vue'\nimport ArchiveIcon from 'vue-material-design-icons/ArchiveArrowDownOutline.vue'\nimport EmailUnread from 'vue-material-design-icons/EmailOutline.vue'\nimport EmailRead from 'vue-material-design-icons/EmailOpenOutline.vue'\nimport LockIcon from 'vue-material-design-icons/LockOutline.vue'\nimport LockPlusIcon from 'vue-material-design-icons/LockPlusOutline.vue'\nimport LockOffIcon from 'vue-material-design-icons/LockOffOutline.vue'\nimport { buildRecipients as buildReplyRecipients } from '../ReplyBuilder.js'\nimport { hiddenTags } from './tags.js'\nimport { showError, showSuccess } from '@nextcloud/dialogs'\nimport { matchError } from '../errors/match.js'\nimport NoTrashMailboxConfiguredError from '../errors/NoTrashMailboxConfiguredError.js'\nimport { isPgpText } from '../crypto/pgp.js'\nimport NcActions from '@nextcloud/vue/components/NcActions'\nimport NcActionText from '@nextcloud/vue/components/NcActionText'\nimport ReplyIcon from 'vue-material-design-icons/ReplyOutline.vue'\nimport ReplyAllIcon from 'vue-material-design-icons/ReplyAllOutline.vue'\nimport { unsubscribe } from '../service/ListService.js'\nimport TagModal from './TagModal.vue'\nimport MoveModal from './MoveModal.vue'\nimport TaskModal from './TaskModal.vue'\nimport EventModal from './EventModal.vue'\nimport TranslationModal from './TranslationModal.vue'\nimport axios from '@nextcloud/axios'\nimport { generateUrl } from '@nextcloud/router'\nimport { loadState } from '@nextcloud/initial-state'\nimport useOutboxStore from '../store/outboxStore.js'\nimport moment from '@nextcloud/moment'\nimport { translateTagDisplayName } from '../util/tag.js'\nimport { FOLLOW_UP_TAG_LABEL } from '../store/constants.js'\nimport { Text, toPlain } from '../util/text.js'\nimport useMainStore from '../store/mainStore.js'\nimport { mapStores } from 'pinia'\nimport MailFilterFromEnvelope from './mailFilter/MailFilterFromEnvelope.vue'\nimport SourceModal from './SourceModal.vue'\n\n// Ternary loading state\nconst Loading = Object.seal({\n\tDone: 0,\n\tSilent: 1,\n\tSkeleton: 2,\n})\n\nexport default {\n\tname: 'ThreadEnvelope',\n\tcomponents: {\n\t\tMailFilterFromEnvelope,\n\t\tEventModal,\n\t\tTaskModal,\n\t\tMoveModal,\n\t\tTagModal,\n\t\tTranslationModal,\n\t\tConfirmModal,\n\t\tAvatar,\n\t\tNcActionButton,\n\t\tNcButton,\n\t\tError,\n\t\tIconFavorite,\n\t\tJunkIcon,\n\t\tMessageLoadingSkeleton,\n\t\tMenuEnvelope,\n\t\tMoment,\n\t\tMessage,\n\t\tStarOutline,\n\t\tEmailRead,\n\t\tEmailUnread,\n\t\tDeleteIcon,\n\t\tArchiveIcon,\n\t\tLockIcon,\n\t\tLockOffIcon,\n\t\tLockPlusIcon,\n\t\tNcActions,\n\t\tNcActionText,\n\t\tReplyIcon,\n\t\tReplyAllIcon,\n\t\tSourceModal,\n\t},\n\tprops: {\n\t\tenvelope: {\n\t\t\trequired: true,\n\t\t\ttype: Object,\n\t\t},\n\t\tmailboxId: {\n\t\t\trequired: false,\n\t\t\ttype: [\n\t\t\t\tString,\n\t\t\t\tNumber,\n\t\t\t],\n\t\t\tdefault: undefined,\n\t\t},\n\t\texpanded: {\n\t\t\trequired: false,\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tfullHeight: {\n\t\t\trequired: false,\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\twithSelect: {\n\t\t\t// \"Select\" action should only appear in envelopes from the envelope list\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tthreadSubject: {\n\t\t\trequired: true,\n\t\t\ttype: String,\n\t\t},\n\t\tthreadIndex: {\n\t\t\trequired: true,\n\t\t\ttype: Number,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tloading: Loading.Done,\n\t\t\tshowListUnsubscribeConfirmation: false,\n\t\t\terror: undefined,\n\t\t\tmessage: undefined,\n\t\t\timportantSvg,\n\t\t\tunsubscribing: false,\n\t\t\tseenTimer: undefined,\n\t\t\tLoading,\n\t\t\trecomputeMenuSize: 0,\n\t\t\tmoreActionsOpen: false,\n\t\t\tsmartReplies: [],\n\t\t\tshowSourceModal: false,\n\t\t\tshowMoveModal: false,\n\t\t\tshowEventModal: false,\n\t\t\tshowTaskModal: false,\n\t\t\tshowTagModal: false,\n\t\t\tshowTranslationModal: false,\n\t\t\tplainTextBody: '',\n\t\t\trawMessage: '', // Will hold the raw source of the message when requested\n\t\t\tisInternal: true,\n\t\t\tenabledFreePrompt: loadState('mail', 'llm_freeprompt_available', false),\n\t\t\tloadingBodyTimeout: undefined,\n\t\t\tshowMailFilterFromEnvelope: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useOutboxStore, useMainStore),\n\t\tinlineMenuSize() {\n\t\t\t// eslint-disable-next-line no-unused-expressions\n\t\t\tconst { envelope } = this.$refs\n\t\t\tconst envelopeWidth = (envelope && envelope.clientWidth) || 250\n\t\t\tconst spaceToFill = envelopeWidth - 500 + this.recomputeMenuSize\n\t\t\treturn Math.floor(spaceToFill / 44)\n\t\t},\n\t\taccount() {\n\t\t\treturn this.mainStore.getAccount(this.envelope.accountId)\n\t\t},\n\t\tsenderEmailColor() {\n\t\t\tif (this.isInternal) {\n\t\t\t\treturn 'var(--color-text-maxcontrast)'\n\t\t\t}\n\n\t\t\treturn parseInt(this.mainStore.getNcVersion) >= 32 ? 'var(--color-text-error)' : 'var(--color-error)'\n\t\t},\n\t\tfrom() {\n\t\t\tif (!this.message || !this.message.from.length) {\n\t\t\t\treturn '?'\n\t\t\t}\n\t\t\tif (this.message.from[0].label) {\n\t\t\t\treturn this.message.from[0].label\n\t\t\t}\n\t\t\treturn this.message.from[0].email\n\t\t},\n\t\thasMultipleRecipients() {\n\t\t\tif (!this.account) {\n\t\t\t\tconsole.error('account is undefined', {\n\t\t\t\t\taccountId: this.envelope.accountId,\n\t\t\t\t})\n\t\t\t}\n\t\t\tconst recipients = buildReplyRecipients(this.envelope, {\n\t\t\t\tlabel: this.account.name,\n\t\t\t\temail: this.account.emailAddress,\n\t\t\t})\n\t\t\treturn recipients.to.concat(recipients.cc).length > 1\n\t\t},\n\t\troute() {\n\t\t\treturn {\n\t\t\t\tname: 'message',\n\t\t\t\tparams: {\n\t\t\t\t\tmailboxId: this.mailboxId || this.envelope.mailboxId,\n\t\t\t\t\tthreadId: this.envelope.databaseId,\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\t\tisEncrypted() {\n\t\t\treturn this.envelope.previewText\n\t\t\t\t&& isPgpText(this.envelope.previewText)\n\t\t},\n\t\tisImportant() {\n\t\t\treturn this.mainStore\n\t\t\t\t.getEnvelopeTags(this.envelope.databaseId)\n\t\t\t\t.find((tag) => tag.imapLabel === '$label1')\n\t\t},\n\t\ttags() {\n\t\t\treturn this.mainStore.getEnvelopeTags(this.envelope.databaseId).filter(\n\t\t\t\t(tag) => tag.imapLabel !== '$label1' && !(tag.displayName.toLowerCase() in hiddenTags),\n\t\t\t)\n\t\t},\n\t\thasChangedSubject() {\n\t\t\treturn this.cleanSubject !== this.cleanThreadSubject\n\t\t},\n\t\tcleanSubject() {\n\t\t\treturn this.filterSubject(this.envelope.subject)\n\t\t},\n\t\tcleanThreadSubject() {\n\t\t\treturn this.filterSubject(this.threadSubject)\n\t\t},\n\t\tshowSubline() {\n\t\t\treturn !this.expanded && !!this.envelope.previewText\n\t\t},\n\t\tshowArchiveButton() {\n\t\t\treturn this.account.archiveMailboxId !== null\n\t\t},\n\t\tdisableArchiveButton() {\n\t\t\treturn this.account.archiveMailboxId !== null\n\t\t\t\t&& this.account.archiveMailboxId === this.mailbox.databaseId\n\t\t},\n\t\tjunkFavoritePosition() {\n\t\t\treturn this.showSubline && this.tags.length > 0\n\t\t},\n\t\tshowFavoriteIconVariant() {\n\t\t\treturn this.envelope.flags.flagged\n\t\t},\n\t\tshowImportantIconVariant() {\n\t\t\treturn this.envelope.flags.seen\n\t\t},\n\t\thasSeenAcl() {\n\t\t\treturn mailboxHasRights(this.mailbox, 's')\n\t\t},\n\t\thasArchiveAcl() {\n\t\t\tconst hasDeleteSourceAcl = () => {\n\t\t\t\treturn mailboxHasRights(this.mailbox, 'te')\n\t\t\t}\n\n\t\t\tconst hasCreateDestinationAcl = () => {\n\t\t\t\treturn mailboxHasRights(this.archiveMailbox, 'i')\n\t\t\t}\n\n\t\t\treturn hasDeleteSourceAcl() && hasCreateDestinationAcl()\n\t\t},\n\t\thasDeleteAcl() {\n\t\t\treturn mailboxHasRights(this.mailbox, 'te')\n\t\t},\n\t\thasWriteAcl() {\n\t\t\treturn mailboxHasRights(this.mailbox, 'w')\n\t\t},\n\t\tmailbox() {\n\t\t\treturn this.mainStore.getMailbox(this.mailboxId)\n\t\t},\n\t\tarchiveMailbox() {\n\t\t\treturn this.mainStore.getMailbox(this.account.archiveMailboxId)\n\t\t},\n\t\t/**\n\t\t * @return {{isSigned: (boolean|undefined), signatureIsValid: (boolean|undefined)}}\n\t\t */\n\t\tsmimeData() {\n\t\t\treturn this.message?.smime ?? {}\n\t\t},\n\t\tsmimeHeading() {\n\t\t\tif (this.smimeData.isEncrypted) {\n\t\t\t\treturn t('mail', 'Encrypted & verified ')\n\t\t\t}\n\n\t\t\tif (this.smimeData.signatureIsValid) {\n\t\t\t\treturn t('mail', 'Signature verified')\n\t\t\t}\n\n\t\t\treturn t('mail', 'Signature unverified ')\n\t\t},\n\t\tsmimeMessage() {\n\t\t\tif (this.smimeData.isEncrypted) {\n\t\t\t\treturn t('mail', 'This message was encrypted by the sender before it was sent.')\n\t\t\t}\n\n\t\t\tif (this.smimeData.signatureIsValid) {\n\t\t\t\treturn t('mail', 'This message contains a verified digital S/MIME signature. The message wasn\\'t changed since it was sent.')\n\t\t\t}\n\n\t\t\treturn t('mail', 'This message contains an unverified digital S/MIME signature. The message might have been changed since it was sent or the certificate of the signer is untrusted.')\n\t\t},\n\t\t/**\n\t\t * A human readable representation of envelope's sent date (without the time).\n\t\t *\n\t\t * @return {string}\n\t\t */\n\t\tformattedSentAt() {\n\t\t\treturn moment(this.envelope.dateInt * 1000).format('LL')\n\t\t},\n\t\t/**\n\t\t * @return {boolean}\n\t\t */\n\t\tshowFollowUpHeader() {\n\t\t\tconst tags = this.mainStore.getEnvelopeTags(this.envelope.databaseId)\n\t\t\treturn tags.some((tag) => tag.imapLabel === FOLLOW_UP_TAG_LABEL)\n\t\t},\n\t\t/**\n\t\t * Translated label for the reply button.\n\t\t *\n\t\t * @return {string}\n\t\t */\n\t\treplyButtonLabel() {\n\t\t\tif (this.showFollowUpHeader) {\n\t\t\t\treturn t('mail', 'Follow up')\n\t\t\t}\n\n\t\t\tif (this.hasMultipleRecipients) {\n\t\t\t\treturn t('mail', 'Reply all')\n\t\t\t}\n\n\t\t\treturn t('mail', 'Reply')\n\t\t},\n\t},\n\twatch: {\n\t\texpanded(expanded) {\n\t\t\tif (expanded) {\n\t\t\t\tthis.fetchMessage()\n\t\t\t} else {\n\t\t\t\tthis.message = undefined\n\t\t\t\tthis.loading = Loading.Done\n\t\t\t}\n\t\t},\n\t\tloading(loading) {\n\t\t\tif (loading === Loading.Done) {\n\t\t\t\tthis.$emit('loaded')\n\t\t\t}\n\t\t},\n\t},\n\tasync mounted() {\n\t\twindow.addEventListener('resize', this.redrawMenuBar)\n\t\tif (this.expanded) {\n\t\t\tawait this.fetchMessage()\n\n\t\t\t// Only one envelope is expanded at the time of mounting so we can\n\t\t\t// assume that this is the relevant envelope to be scrolled to.\n\t\t\tthis.$nextTick(() => this.handleThreadScrolling())\n\t\t}\n\t\tif (this.mainStore.getPreference('internal-addresses', 'false') === 'true') {\n\t\t\tthis.isInternal = this.mainStore.isInternalAddress(this.envelope.from[0].email)\n\t\t}\n\t\tthis.$checkInterval = setInterval(() => {\n\t\t\tconst { envelope } = this.$refs\n\t\t\tconst isWidthAvailable = (envelope && envelope.clientWidth > 0)\n\t\t\tif (isWidthAvailable) {\n\t\t\t\tthis.redrawMenuBar()\n\t\t\t\tclearInterval(this.$checkInterval)\n\t\t\t}\n\t\t}, 100)\n\t},\n\tbeforeDestroy() {\n\t\tif (this.seenTimer !== undefined) {\n\t\t\tlogger.info('Navigating away before seenTimer delay, will not mark message as seen/read')\n\t\t\tclearTimeout(this.seenTimer)\n\t\t}\n\t\twindow.removeEventListener('resize', this.redrawMenuBar)\n\t},\n\tmethods: {\n\t\ttranslateTagDisplayName,\n\t\tredrawMenuBar() {\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.recomputeMenuSize++\n\t\t\t})\n\t\t},\n\t\tfilterSubject(value) {\n\t\t\treturn value.replace(/((?:[\\t ]*(?:R|RE|F|FW|FWD):[\\t ]*)*)/i, '')\n\t\t},\n\t\tonMessageLoaded() {\n\t\t\tif (this.loadingBodyTimeout) {\n\t\t\t\tclearTimeout(this.loadingBodyTimeout)\n\t\t\t\tthis.loadingBodyTimeout = undefined\n\t\t\t}\n\n\t\t\tthis.loading = Loading.Done\n\t\t},\n\t\tasync fetchMessage() {\n\t\t\tlet loadingTimeout\n\t\t\tconst isCached = !!this.mainStore.getMessage(this.envelope.databaseId)\n\t\t\tif (!isCached) {\n\t\t\t\tloadingTimeout = setTimeout(() => {\n\t\t\t\t\tthis.loading = Loading.Skeleton\n\t\t\t\t}, 200)\n\t\t\t}\n\n\t\t\tthis.loading = Loading.Silent\n\t\t\tthis.error = undefined\n\t\t\tlogger.debug(`fetching thread message ${this.envelope.databaseId}`)\n\n\t\t\ttry {\n\t\t\t\tthis.message = await this.mainStore.fetchMessage(this.envelope.databaseId)\n\t\t\t\tlogger.debug(`message ${this.envelope.databaseId} fetched`, { message: this.message })\n\n\t\t\t\tif (loadingTimeout) {\n\t\t\t\t\tclearTimeout(loadingTimeout)\n\t\t\t\t}\n\n\t\t\t\tif (!this.envelope.flags.seen && this.hasSeenAcl) {\n\t\t\t\t\tlogger.info('Starting timer to mark message as seen/read')\n\t\t\t\t\tthis.seenTimer = setTimeout(() => {\n\t\t\t\t\t\tthis.mainStore.toggleEnvelopeSeen({ envelope: this.envelope })\n\t\t\t\t\t\tthis.seenTimer = undefined\n\t\t\t\t\t}, 2000)\n\t\t\t\t}\n\n\t\t\t\tif (this.message.hasHtmlBody) {\n\t\t\t\t\tthis.loadingBodyTimeout = setTimeout(() => {\n\t\t\t\t\t\tthis.loading = Loading.Skeleton\n\t\t\t\t\t}, 200)\n\t\t\t\t} else {\n\t\t\t\t\tthis.loading = Loading.Done\n\t\t\t\t}\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tthis.handleThreadScrolling()\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tthis.error = error\n\t\t\t\tthis.loading = Loading.Done\n\t\t\t\tlogger.error('Could not fetch message', { error })\n\t\t\t}\n\n\t\t\t// Fetch itineraries if they haven't been included in the message data\n\t\t\tif (this.message && !this.message.itineraries) {\n\t\t\t\tthis.fetchItineraries()\n\t\t\t}\n\t\t\t// Fetch dkim\n\t\t\tif (this.message && this.message.dkimValid === undefined) {\n\t\t\t\tthis.fetchDkim()\n\t\t\t}\n\n\t\t\t// Fetch smart replies\n\t\t\tif (this.enabledFreePrompt && this.message && !['trash', 'junk'].includes(this.mailbox.specialRole) && !this.showFollowUpHeader) {\n\t\t\t\tthis.smartReplies = await smartReply(this.envelope.databaseId)\n\t\t\t}\n\t\t},\n\t\thandleThreadScrolling() {\n\t\t\tconst threadId = this.envelope.threadId // Assuming each envelope has a thread ID\n\n\t\t\tif (threadId && this.$parent.toggleExpand) {\n\t\t\t\t// If thread is not expanded, expand it first\n\t\t\t\tif (!this.$parent.expandedThreads.includes(threadId)) {\n\t\t\t\t\tthis.$parent.toggleExpand(threadId)\n\t\t\t\t\tthis.$nextTick(() => this.scrollToThread(threadId))\n\t\t\t\t} else {\n\t\t\t\t\tthis.scrollToThread(threadId)\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// If there's no thread, just scroll to the envelope\n\t\t\t\tthis.scrollToEnvelope()\n\t\t\t}\n\t\t},\n\t\tscrollToThread(threadId) {\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tconst threadElement = document.querySelector(`[data-thread-id=\"${threadId}\"]`)\n\t\t\t\tif (threadElement) {\n\t\t\t\t\tthreadElement.scrollIntoView({ behavior: 'smooth', block: 'top' })\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\tscrollToEnvelope() {\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tconst envelopeElement = this.$refs.envelope\n\t\t\t\tif (envelopeElement) {\n\t\t\t\t\tenvelopeElement.scrollIntoView({ behavior: 'smooth', block: 'top' })\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tasync fetchItineraries() {\n\t\t\t// Sanity check before actually making the request\n\t\t\tif (!this.message.hasHtmlBody && this.message.attachments.length === 0) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tlogger.debug(`Fetching itineraries for message ${this.envelope.databaseId}`)\n\n\t\t\ttry {\n\t\t\t\tconst itineraries = await this.mainStore.fetchItineraries(this.envelope.databaseId)\n\t\t\t\tlogger.debug(`Itineraries of message ${this.envelope.databaseId} fetched`, { itineraries })\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(`Could not fetch itineraries of message ${this.envelope.databaseId}`, { error })\n\t\t\t}\n\t\t},\n\t\tasync fetchDkim() {\n\t\t\tif (this.message.hasDkimSignature === false) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tlogger.debug(`Fetching DKIM for message ${this.envelope.databaseId}`)\n\n\t\t\ttry {\n\t\t\t\tconst dkim = await this.mainStore.fetchDkim(this.envelope.databaseId)\n\t\t\t\tlogger.debug(`DKIM of message ${this.envelope.databaseId} fetched`, { dkim })\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(`Could not fetch DKIM of message ${this.envelope.databaseId}`, { error })\n\t\t\t}\n\t\t},\n\t\tonReply(body = '', followUp = false, replySenderOnly = false) {\n\t\t\tthis.mainStore.startComposerSession({\n\t\t\t\treply: {\n\t\t\t\t\tmode: (this.hasMultipleRecipients && !replySenderOnly) ? 'replyAll' : 'reply',\n\t\t\t\t\tdata: this.envelope,\n\t\t\t\t\tsmartReply: body,\n\t\t\t\t\tfollowUp,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\tonToggleImportant() {\n\t\t\tthis.mainStore.toggleEnvelopeImportant(this.envelope)\n\t\t},\n\t\tonToggleFlagged() {\n\t\t\tthis.mainStore.toggleEnvelopeFlagged(this.envelope)\n\t\t},\n\t\tonToggleJunk() {\n\t\t\tthis.mainStore.toggleEnvelopeJunk(this.envelope)\n\t\t},\n\t\tonToggleSeen() {\n\t\t\tthis.mainStore.toggleEnvelopeSeen({ envelope: this.envelope })\n\t\t},\n\t\tasync onDelete() {\n\t\t\t// Remove from selection first\n\t\t\tif (this.withSelect) {\n\t\t\t\tthis.$emit('unselect')\n\t\t\t}\n\n\t\t\t// Delete\n\t\t\tthis.$emit('delete', this.envelope.databaseId)\n\n\t\t\tlogger.info(`deleting message ${this.envelope.databaseId}`)\n\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.deleteMessage({\n\t\t\t\t\tid: this.envelope.databaseId,\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tshowError(await matchError(error, {\n\t\t\t\t\t[NoTrashMailboxConfiguredError.getName()]() {\n\t\t\t\t\t\treturn t('mail', 'No trash folder configured')\n\t\t\t\t\t},\n\t\t\t\t\tdefault(error) {\n\t\t\t\t\t\tlogger.error('could not delete message', error)\n\t\t\t\t\t\treturn t('mail', 'Could not delete message')\n\t\t\t\t\t},\n\t\t\t\t}))\n\t\t\t}\n\t\t},\n\t\tasync onArchive() {\n\t\t\t// Remove from selection first\n\t\t\tif (this.withSelect) {\n\t\t\t\tthis.$emit('unselect')\n\t\t\t}\n\n\t\t\t// Archive\n\t\t\tthis.$emit('archive', this.envelope.databaseId)\n\n\t\t\tlogger.info(`archiving message ${this.envelope.databaseId}`)\n\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.moveMessage({\n\t\t\t\t\tid: this.envelope.databaseId,\n\t\t\t\t\tdestMailboxId: this.account.archiveMailboxId,\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('could not archive message', error)\n\t\t\t\treturn t('mail', 'Could not archive message')\n\t\t\t}\n\t\t},\n\t\tasync onDisableFollowUpReminder() {\n\t\t\tawait this.mainStore.clearFollowUpReminder({\n\t\t\t\tenvelope: this.envelope,\n\t\t\t})\n\t\t},\n\t\tasync unsubscribeViaOneClick() {\n\t\t\ttry {\n\t\t\t\tthis.unsubscribing = true\n\n\t\t\t\tawait unsubscribe(this.envelope.databaseId)\n\t\t\t\tshowSuccess(t('mail', 'Unsubscribe request sent'))\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('Could not one-click unsubscribe', { error })\n\t\t\t\tshowError(t('mail', 'Could not unsubscribe from mailing list'))\n\t\t\t} finally {\n\t\t\t\tthis.unsubscribing = false\n\t\t\t\tthis.showListUnsubscribeConfirmation = false\n\t\t\t}\n\t\t},\n\t\tasync unsubscribeViaMailto() {\n\t\t\tconst mailto = this.message.unsubscribeMailto\n\t\t\tconst [email, paramString] = mailto.replace(/^mailto:/, '').split('?')\n\t\t\tlet params = {}\n\t\t\tconst now = new Date().getTime() / 1000\n\t\t\tif (paramString) {\n\t\t\t\tparams = paramString.split('&').map(encoded => ({\n\t\t\t\t\tkey: encoded.split('=')[0].toLowerCase(),\n\t\t\t\t\tvalue: decodeURIComponent(encoded.split('=')[1]),\n\t\t\t\t}))\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tthis.unsubscribing = true\n\t\t\t\tconst message = await this.outboxStore.enqueueMessage({\n\t\t\t\t\tmessage: {\n\t\t\t\t\t\taccountId: this.message.accountId,\n\t\t\t\t\t\tsubject: params.subject || 'Unsubscribe',\n\t\t\t\t\t\tbody: params.body || '',\n\t\t\t\t\t\teditorBody: params.body || '',\n\t\t\t\t\t\tisHtml: false,\n\t\t\t\t\t\tto: [{\n\t\t\t\t\t\t\tlabel: email,\n\t\t\t\t\t\t\temail,\n\t\t\t\t\t\t}],\n\t\t\t\t\t\tcc: [],\n\t\t\t\t\t\tbcc: [],\n\t\t\t\t\t\tattachments: [],\n\t\t\t\t\t\taliasId: null,\n\t\t\t\t\t\tinReplyToMessageId: null,\n\t\t\t\t\t\tsendAt: now,\n\t\t\t\t\t\tdraftId: null,\n\t\t\t\t\t\tsmimeEncrypt: false,\n\t\t\t\t\t\tsmimeSign: false,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\tlogger.debug('Unsubscribe email to ' + email + ' enqueued')\n\t\t\t\tawait this.outboxStore.sendMessage({ id: message.id })\n\t\t\t\tlogger.debug('Unsubscribe email sent to ' + email)\n\t\t\t\tshowSuccess(t('mail', 'Unsubscribe request sent'))\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('Could not enqueue or send unsubscribe email', { error })\n\t\t\t\tshowError(t('mail', 'Could not unsubscribe from mailing list'))\n\t\t\t} finally {\n\t\t\t\tthis.unsubscribing = false\n\t\t\t\tthis.showListUnsubscribeConfirmation = false\n\t\t\t}\n\t\t},\n\t\tonMove() {\n\t\t\tthis.$emit('move')\n\t\t},\n\t\tonOpenMoveModal() {\n\t\t\tthis.showMoveModal = true\n\t\t},\n\t\tonCloseMoveModal() {\n\t\t\tthis.showMoveModal = false\n\t\t},\n\t\tonOpenEventModal() {\n\t\t\tthis.showEventModal = true\n\t\t},\n\t\tonCloseEventModal() {\n\t\t\tthis.showEventModal = false\n\t\t},\n\t\tonOpenTaskModal() {\n\t\t\tthis.showTaskModal = true\n\t\t},\n\t\tonCloseTaskModal() {\n\t\t\tthis.showTaskModal = false\n\t\t},\n\t\tonOpenTagModal() {\n\t\t\tthis.showTagModal = true\n\t\t},\n\t\tonCloseTagModal() {\n\t\t\tthis.showTagModal = false\n\t\t},\n\t\tonOpenTranslationModal() {\n\t\t\ttry {\n\t\t\t\tif (this.message.hasHtmlBody) {\n\t\t\t\t\tlet text = new Text('html', this.message.body)\n\t\t\t\t\ttext = toPlain(text)\n\t\t\t\t\tthis.plainTextBody = text.value\n\t\t\t\t} else {\n\t\t\t\t\tthis.plainTextBody = this.message.body\n\t\t\t\t}\n\t\t\t\tthis.showTranslationModal = true\n\t\t\t} catch (error) {\n\t\t\t\tshowError(t('mail', 'Please wait for the message to load'))\n\t\t\t}\n\t\t},\n\t\tonCloseTranslationModal() {\n\t\t\tthis.showTranslationModal = false\n\t\t},\n\t\tasync onShowSourceModal() {\n\t\t\tif (this.rawMessage.length === 0) {\n\t\t\t\tconst resp = await axios.get(\n\t\t\t\t\tgenerateUrl('/apps/mail/api/messages/{id}/source', {\n\t\t\t\t\t\tid: this.envelope.databaseId,\n\t\t\t\t\t}),\n\t\t\t\t)\n\t\t\t\tthis.rawMessage = resp.data.source\n\t\t\t}\n\t\t\tthis.showSourceModal = true\n\t\t},\n\t\tonCloseSourceModal() {\n\t\t\tthis.showSourceModal = false\n\t\t},\n\t\tonPrint() {\n\t\t\tthis.$emit('print', this.threadIndex)\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.sender {\n\t\tmargin-inline-start: calc(var(--default-grid-baseline) * 2);\n\t\t&__email{\n\t\t\ttext-overflow: ellipsis;\n\t\t\toverflow: hidden;\n\t\t}\n\n\t}\n\n\t.right {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\talign-items: center;\n\t\tjustify-content: flex-end;\n\t\tmargin-inline-start: calc(var(--default-grid-baseline) * 2);\n\t\theight: 44px;\n\n\t\t.app-content-list-item-menu {\n\t\t\tmargin-inline-start: var(--default-grid-baseline);\n\t\t}\n\n\t\t.timestamp {\n\t\t\tmargin-inline-end: calc(var(--default-grid-baseline) * 2);\n\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t\twhite-space: nowrap;\n\t\t\tmargin-bottom: 0;\n\t\t}\n\t}\n\n\t.button {\n\t\tcolor: var(--color-main-background);\n\t\t&:not(.active):not(.primary) {\n\t\t\tdisplay: none;\n\n\t\t\t&.primary {\n\t\t\t\tbackground-color: var(--color-primary-element);\n\t\t\t\topacity: 1;\n\t\t\t\tmargin-bottom: 0;\n\n\t\t\t}\n\t\t}\n\t}\n\n\t.envelope {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tborder: 2px solid var(--color-border);\n\t\tborder-radius: var(--border-radius-container-large);\n\t\tmargin-inline: calc(var(--default-grid-baseline) * 2);\n\t\tbackground-color: var(--color-main-background);\n\t\tpadding-bottom: calc(var(--default-grid-baseline) * 7);\n\t\tanimation: show 200ms 90ms cubic-bezier(.17, .67, .83, .67) forwards;\n\t\topacity: 0.5;\n\t\ttransform-origin: top center;\n\t\t@keyframes show {\n\t\t\t100% {\n\t\t\t\topacity: 1;\n\t\t\t\ttransform: none;\n\t\t\t}\n\t\t}\n\n\t\t& + .envelope {\n\t\t\tmargin-top: calc(var(--default-grid-baseline) * -7);\n\t\t}\n\n\t\t&:last-of-type {\n\t\t\tmargin-bottom: calc(var(--default-grid-baseline) * 2);\n\t\t\tpadding-bottom: 0;\n\t\t}\n\n\t\t&__follow-up-header {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: flex-end;\n\t\t\tgap: calc(var(--default-grid-baseline) * 4);\n\t\t\tpadding: calc(var(--default-grid-baseline) * 2);\n\n\t\t\t&__date {\n\t\t\t\tflex-shrink: 1;\n\t\t\t}\n\n\t\t\t&__actions {\n\t\t\t\tflex-shrink: 0;\n\t\t\t\tdisplay: flex;\n\t\t\t\tgap: var(--default-grid-baseline);\n\t\t\t}\n\t\t}\n\n\t\t&__header {\n\t\t\tposition: relative;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tpadding: var(--border-radius-element) var(--border-radius-container) var(--border-radius-container) var(--border-radius-container);\n\t\t\tborder-radius: var(--border-radius);\n\t\t\tmin-height: 68px; /* prevents jumping between open/collapsed */\n\n\t\t\t&__avatar {\n\t\t\t\tposition: relative;\n\n\t\t\t\t&-avatar {\n\t\t\t\t\t/* The block makes the wrapper div cover the avatar exactly\n\t\t\t\t\t * (no extra space) and allows center aligning the avatar\n\t\t\t\t\t * with the rest of the header elements.\n\t\t\t\t\t */\n\t\t\t\t\tdisplay: block;\n\t\t\t\t}\n\n\t\t\t\t.app-content-list-item-star {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tcursor: pointer;\n\n\t\t\t\t\t&.icon-important {\n\t\t\t\t\t\tbackground-image: none;\n\t\t\t\t\t\topacity: 1;\n\t\t\t\t\t\twidth: 16px;\n\t\t\t\t\t\theight: 16px;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\ttop: 0px;\n\t\t\t\t\t\tinset-inline-start: 0px;\n\n\t\t\t\t\t\t&:hover,\n\t\t\t\t\t\t&:focus {\n\t\t\t\t\t\t\topacity: 0.5;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t:deep(path) {\n\t\t\t\t\t\t\tfill: #ffcc00;\n\t\t\t\t\t\t\tstroke: var(--color-main-background);\n\t\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t&.favorite-icon-style {\n\t\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\t\ttop: -2px;\n\t\t\t\t\t\tinset-inline-end: -2px;\n\n\t\t\t\t\t\tstroke: var(--color-main-background);\n\t\t\t\t\t\tstroke-width: 2;\n\t\t\t\t\t\t&:hover {\n\t\t\t\t\t\t\topacity: .5;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t&.junk-icon-style {\n\t\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\t\tbottom: -2px;\n\t\t\t\t\t\tinset-inline-end: -2px;\n\t\t\t\t\t\topacity: .2;\n\t\t\t\t\t\t&:hover {\n\t\t\t\t\t\t\topacity: .1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t&__unsubscribe {\n\t\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t\t}\n\t\t\t&__left__sender-subject-tags {\n\t\t\t\twhite-space: nowrap;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t}\n\n\t\t.subline {\n\t\t\tmargin-inline-start: 8px;\n\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t\tcursor: default;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t\twhite-space: nowrap;\n\t\t}\n\n\t\t&--expanded {\n\t\t\tmin-height: 350px;\n\t\t}\n\t}\n\n\t.left {\n\t\tflex-grow: 1;\n\t\tmin-width: 0; /* https://css-tricks.com/flexbox-truncated-text/ */\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t\tz-index: 1;\n\t\talign-items: center;\n\t}\n\n\t.left:not(.seen) {\n\t\tfont-weight: bold;\n\t}\n\n\t.tag-group__label {\n\t\tmargin: 0 calc(var(--default-grid-baseline) * 2);\n\t\tz-index: 2;\n\t\tfont-size: calc(var(--default-font-size) * 0.8);\n\t\tfont-weight: bold;\n\t\tpadding-inline: calc(var(--default-grid-baseline) * 0.5);\n\t}\n\n\t.tag-group__bg {\n\t\tposition: absolute;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\ttop: 0;\n\t\tinset-inline-start: 0;\n\t\topacity: 15%;\n\t}\n\n\t.tagline {\n\t\tdisplay: flex;\n\t\ttext-overflow: ellipsis;\n\t\toverflow: hidden;\n\t}\n\n\t.tag-group {\n\t\tdisplay: inline-block;\n\t\tborder: 1px solid transparent;\n\t\tborder-radius: var(--border-radius-pill);\n\t\tposition: relative;\n\t\tmargin: 0 1px;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\tinset-inline-start: var(--default-grid-baseline);\n\t}\n\n\t.smime-text {\n\t\t// same as padding-right on action-text styling\n\t\tpadding-inline-start: calc(var(--default-grid-baseline) * 3);\n\t}\n\n\t:deep(.action-button__name) {\n\t\tfont-weight: normal;\n\t\tdisplay: inline;\n\t\talign-items: center;\n\t}\n\t@media only screen and (max-width: 400px) {\n\t\t.sender {\n\t\t\ttext-overflow: ellipsis;\n\t\t\toverflow: hidden;\n\t\t\twidth: 180px;\n\t\t}\n\t}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreadEnvelope.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreadEnvelope.vue?vue&type=script&lang=js\"","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport axios from '@nextcloud/axios'\nimport { generateUrl } from '@nextcloud/router'\n\nexport async function unsubscribe(id) {\n\tconst url = generateUrl('/apps/mail/api/list/unsubscribe/{id}', {\n\t\tid,\n\t})\n\n\taxios.post(url)\n}\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreadEnvelope.vue?vue&type=style&index=0&id=4581629e&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreadEnvelope.vue?vue&type=style&index=0&id=4581629e&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ThreadEnvelope.vue?vue&type=template&id=4581629e&scoped=true\"\nimport script from \"./ThreadEnvelope.vue?vue&type=script&lang=js\"\nexport * from \"./ThreadEnvelope.vue?vue&type=script&lang=js\"\nimport style0 from \"./ThreadEnvelope.vue?vue&type=style&index=0&id=4581629e&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4581629e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('NcAssistantContent',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"summary\"},[_c('div',{staticClass:\"summary__header\"},[_c('div',{staticClass:\"summary__header__actions\"},[_c('div',{staticClass:\"summary__header__info\"},[_c('NcAssistantIcon',{staticClass:\"summary__header__icon\"}),_vm._v(\" \"),_c('div',{staticClass:\"summary__header__text\"},[_c('div',{staticClass:\"summary__header__title\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Thread summary'))+\"\\n\\t\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"summary__header__brand\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.brand)+\"\\n\\t\\t\\t\\t\\t\\t\")])])],1),_vm._v(\" \"),_c('NcButton',{attrs:{\"aria-label\":_vm.t('mail', 'Go to latest message'),\"type\":\"tertiary-no-background\"},on:{\"click\":_vm.onScroll},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ArrowDownIcon',{attrs:{\"size\":20}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Newest message'))+\"\\n\\t\\t\\t\\t\\t\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"summary__body\"},[(_vm.loading)?_c('LoadingSkeleton',{attrs:{\"number-of-lines\":1,\"with-avatar\":false}}):_c('p',[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.summary)+\"\\n\\t\\t\\t\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"summary__notice\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'This summary is AI generated and may contain mistakes.'))+\"\\n\\t\\t\")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<NcAssistantContent class=\"wrapper\">\n\t\t<div class=\"summary\">\n\t\t\t<div class=\"summary__header\">\n\t\t\t\t<div class=\"summary__header__actions\">\n\t\t\t\t\t<div class=\"summary__header__info\">\n\t\t\t\t\t\t<NcAssistantIcon class=\"summary__header__icon\" />\n\t\t\t\t\t\t<div class=\"summary__header__text\">\n\t\t\t\t\t\t\t<div class=\"summary__header__title\">\n\t\t\t\t\t\t\t\t{{ t('mail', 'Thread summary') }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"summary__header__brand\">\n\t\t\t\t\t\t\t\t{{ brand }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<NcButton :aria-label=\" t('mail', 'Go to latest message')\"\n\t\t\t\t\t\ttype=\"tertiary-no-background\"\n\t\t\t\t\t\t@click=\"onScroll\">\n\t\t\t\t\t\t{{ t('mail', 'Newest message') }}\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<ArrowDownIcon :size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</NcButton>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"summary__body\">\n\t\t\t\t<LoadingSkeleton v-if=\"loading\" :number-of-lines=\"1\" :with-avatar=\"false\" />\n\t\t\t\t<p v-else>\n\t\t\t\t\t{{ summary }}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div class=\"summary__notice\">\n\t\t\t\t{{ t('mail', 'This summary is AI generated and may contain mistakes.') }}\n\t\t\t</div>\n\t\t</div>\n\t</NcAssistantContent>\n</template>\n<script>\nimport ArrowDownIcon from 'vue-material-design-icons/ArrowDown.vue'\nimport NcButton from '@nextcloud/vue/components/NcButton'\nimport NcAssistantContent from '@nextcloud/vue/components/NcAssistantContent'\nimport NcAssistantIcon from '@nextcloud/vue/components/NcAssistantIcon'\nimport LoadingSkeleton from './LoadingSkeleton.vue'\n\nexport default {\n\tname: 'ThreadSummary',\n\tcomponents: {\n\t\tLoadingSkeleton,\n\t\tNcButton,\n\t\tArrowDownIcon,\n\t\tNcAssistantContent,\n\t\tNcAssistantIcon,\n\t},\n\tprops: {\n\t\tsummary: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tloading: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\tbrand() {\n\t\t\tif (OCA.Theming) {\n\t\t\t\treturn t('mail', '{name} Assistant', { name: OCA.Theming.name })\n\t\t\t}\n\t\t\treturn t('mail', '{name} Assistant', { name: 'Nextcloud' })\n\t\t},\n\t},\n\tmethods: {\n\t\tonScroll() {\n\t\t\tlet container = document.querySelector('.splitpanes__pane-details')\n\t\t\tif (!container) {\n\t\t\t\tcontainer = document.querySelector('.app-content-wrapper--mobile')\n\t\t\t}\n\t\t\tcontainer.scrollTo({ top: container.scrollHeight, left: 0, behavior: 'smooth' })\n\t\t},\n\t},\n\n}\n</script>\n<style lang=\"scss\" scoped>\n.wrapper {\n\tmax-width: calc(100% - 20px);\n\tmargin: 0 auto;\n\twidth: 100%;\n}\n\n.summary {\n\tposition: relative;\n\tborder-radius: var(--border-radius-large);\n\tpadding: 10px;\n\tdisplay: flex;\n\tflex-direction: column;\n\t&__header {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\n\t\t&__actions {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-between;\n\t\t\talign-items: center;\n\t\t\tpadding-bottom: 10px;\n\t\t}\n\n\t\t&__info {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tgap: var(--default-grid-baseline);\n\t\t}\n\n\t\t&__text {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tline-height: 1.2;\n\t\t}\n\n\t\t&__title {\n\t\t\tfont-weight: bold;\n\t\t}\n\n\t\t&__brand {\n\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t}\n\t\t&__icon {\n\t\t\tpadding-inline-end: 14px;\n\t\t}\n\t}\n\t&__body {\n\t\tmargin-inline-start: 35px;\n\t}\n\t@media only screen and (max-width: 600px) {\n\t\t.summary {\n\t\t\t&__header {\n\t\t\t\tflex-direction: column;\n\t\t\t\t&__actions {\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t.summary__notice {\n\t\tmargin-top: 0.5rem;\n\t\tmargin-inline-start: 35px;\n\t\tcolor: var(--color-text-maxcontrast);\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreadSummary.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreadSummary.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreadSummary.vue?vue&type=style&index=0&id=36ae8188&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreadSummary.vue?vue&type=style&index=0&id=36ae8188&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ThreadSummary.vue?vue&type=template&id=36ae8188&scoped=true\"\nimport script from \"./ThreadSummary.vue?vue&type=script&lang=js\"\nexport * from \"./ThreadSummary.vue?vue&type=script&lang=js\"\nimport style0 from \"./ThreadSummary.vue?vue&type=style&index=0&id=36ae8188&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"36ae8188\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Thread.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Thread.vue?vue&type=script&lang=js\"","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<AppContentDetails id=\"mail-message\">\n\t\t<!-- Show outer loading screen only if we have no data about the thread -->\n\t\t<Loading v-if=\"loading && thread.length === 0\" :hint=\"t('mail', 'Loading thread')\" />\n\t\t<Error v-else-if=\"error\"\n\t\t\t:error=\"error && error.message ? error.message : t('mail', 'Not found')\"\n\t\t\t:message=\"errorMessage\" />\n\t\t<template v-else>\n\t\t\t<div id=\"mail-thread-header\">\n\t\t\t\t<div id=\"mail-thread-header-fields\">\n\t\t\t\t\t<h2 dir=\"auto\" :title=\"threadSubject\">\n\t\t\t\t\t\t{{ threadSubject }}\n\t\t\t\t\t</h2>\n\t\t\t\t\t<div v-if=\"thread.length\" ref=\"avatarHeader\" class=\"avatar-header\">\n\t\t\t\t\t\t<!-- Participants that can fit in the parent div -->\n\t\t\t\t\t\t<RecipientBubble v-for=\"participant in threadParticipants.slice(0, participantsToDisplay)\"\n\t\t\t\t\t\t\t:key=\"participant.email\"\n\t\t\t\t\t\t\t:email=\"participant.email\"\n\t\t\t\t\t\t\t:label=\"participant.label\" />\n\t\t\t\t\t\t<!-- Indicator to show that there are more participants than displayed -->\n\t\t\t\t\t\t<Popover v-if=\"threadParticipants.length > participantsToDisplay\"\n\t\t\t\t\t\t\tclass=\"avatar-more\">\n\t\t\t\t\t\t\t<template #trigger>\n\t\t\t\t\t\t\t\t<span class=\"avatar-more\">\n\t\t\t\t\t\t\t\t\t{{ moreParticipantsString }}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<RecipientBubble v-for=\"participant in threadParticipants.slice(participantsToDisplay)\"\n\t\t\t\t\t\t\t\t:key=\"participant.email\"\n\t\t\t\t\t\t\t\t:title=\"participant.email\"\n\t\t\t\t\t\t\t\t:email=\"participant.email\"\n\t\t\t\t\t\t\t\t:label=\"participant.label\" />\n\t\t\t\t\t\t</Popover>\n\t\t\t\t\t\t<!-- Remaining participants, if any (Needed to have avatarHeader reactive) -->\n\t\t\t\t\t\t<RecipientBubble v-for=\"participant in threadParticipants.slice(participantsToDisplay)\"\n\t\t\t\t\t\t\t:key=\"participant.email\"\n\t\t\t\t\t\t\tclass=\"avatar-hidden\"\n\t\t\t\t\t\t\t:email=\"participant.email\"\n\t\t\t\t\t\t\t:label=\"participant.label\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<ThreadSummary v-if=\"showSummaryBox\" :loading=\"summaryLoading\" :summary=\"summaryText\" />\n\t\t\t<ThreadEnvelope v-for=\"(env, index) in thread\"\n\t\t\t\t:key=\"env.databaseId\"\n\t\t\t\t:envelope=\"env\"\n\t\t\t\t:mailbox-id=\"$route.params.mailboxId\"\n\t\t\t\t:thread-subject=\"threadSubject\"\n\t\t\t\t:expanded=\"expandedThreads.includes(env.databaseId)\"\n\t\t\t\t:full-height=\"thread.length === 1\"\n\t\t\t\t:thread-index=\"index\"\n\t\t\t\t@delete=\"$emit('delete', env.databaseId)\"\n\t\t\t\t@loaded=\"addLoadedThread\"\n\t\t\t\t@move=\"onMove(env.databaseId)\"\n\t\t\t\t@toggle-expand=\"toggleExpand(env.databaseId)\"\n\t\t\t\t@print=\"print\" />\n\t\t</template>\n\t</AppContentDetails>\n</template>\n\n<script>\nimport { NcAppContentDetails as AppContentDetails, NcPopover as Popover } from '@nextcloud/vue'\nimport { showError } from '@nextcloud/dialogs'\n\nimport { prop, uniqBy } from 'ramda'\nimport debounce from 'lodash/fp/debounce.js'\nimport { loadState } from '@nextcloud/initial-state'\n\nimport { summarizeThread } from '../service/AiIntergrationsService.js'\nimport { getRandomMessageErrorMessage } from '../util/ErrorMessageFactory.js'\nimport Loading from './Loading.vue'\nimport logger from '../logger.js'\nimport Error from './Error.vue'\nimport RecipientBubble from './RecipientBubble.vue'\nimport ThreadEnvelope from './ThreadEnvelope.vue'\nimport ThreadSummary from './ThreadSummary.vue'\nimport { mapStores } from 'pinia'\nimport useMainStore from '../store/mainStore.js'\nimport moment from '@nextcloud/moment'\n\nexport default {\n\tname: 'Thread',\n\tcomponents: {\n\t\tRecipientBubble,\n\t\tThreadSummary,\n\t\tAppContentDetails,\n\t\tError,\n\t\tLoading,\n\t\tThreadEnvelope,\n\t\tPopover,\n\t},\n\tprops: {\n\t\tcurrentAccountEmail: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tsummaryLoading: false,\n\t\t\tloading: true,\n\t\t\tmessage: undefined,\n\t\t\terrorMessage: '',\n\t\t\terror: undefined,\n\t\t\texpandedThreads: [],\n\t\t\tparticipantsToDisplay: 999,\n\t\t\tresizeDebounced: debounce(500, this.updateParticipantsToDisplay),\n\t\t\tenabledThreadSummary: loadState('mail', 'llm_summaries_available', false),\n\t\t\tsummaryText: '',\n\t\t\tsummaryError: false,\n\t\t\tloadedThreads: 0,\n\t\t}\n\t},\n\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t\tmoreParticipantsString() {\n\t\t\t// Returns a number showing the number of thread participants that are not shown in the avatar-header\n\t\t\treturn `+${this.threadParticipants.length - this.participantsToDisplay}`\n\t\t},\n\t\tthreadId() {\n\t\t\treturn parseInt(this.$route.params.threadId, 10)\n\t\t},\n\t\tthread() {\n\t\t\tconst envelope = this.mainStore.getEnvelope(this.threadId)\n\t\t\tif (envelope === undefined) {\n\t\t\t\treturn []\n\t\t\t}\n\n\t\t\tif (this.mainStore.getPreference('layout-message-view', 'threaded') === 'singleton') {\n\t\t\t\treturn [envelope]\n\t\t\t}\n\n\t\t\tconst envelopes = this.mainStore.getEnvelopesByThreadRootId(envelope.accountId, envelope.threadRootId)\n\t\t\tif (envelopes.length === 0) {\n\t\t\t\treturn []\n\t\t\t}\n\n\t\t\tconst currentMailbox = this.mainStore.getMailbox(envelope.mailboxId)\n\t\t\tconst trashMailbox = this.mainStore.getMailboxes(envelope.accountId).find(mailbox => mailbox.specialRole === 'trash')\n\t\t\tconst junkMailbox = this.mainStore.getMailboxes(envelope.accountId).find(mailbox => mailbox.specialRole === 'junk')\n\n\t\t\tlet limitEnvelopesToCurrentMailbox = false\n\t\t\tconst mailboxesToIgnore = []\n\n\t\t\tif (trashMailbox !== undefined) {\n\t\t\t\tif (currentMailbox.databaseId === trashMailbox.databaseId) {\n\t\t\t\t\tlimitEnvelopesToCurrentMailbox = true\n\t\t\t\t}\n\t\t\t\tmailboxesToIgnore.push(trashMailbox.databaseId)\n\t\t\t}\n\n\t\t\tif (junkMailbox !== undefined) {\n\t\t\t\tif (currentMailbox.databaseId === junkMailbox.databaseId) {\n\t\t\t\t\tlimitEnvelopesToCurrentMailbox = true\n\t\t\t\t}\n\t\t\t\tmailboxesToIgnore.push(junkMailbox.databaseId)\n\t\t\t}\n\n\t\t\tif (limitEnvelopesToCurrentMailbox) {\n\t\t\t\treturn envelopes.filter(envelope => envelope.mailboxId === currentMailbox.databaseId)\n\t\t\t} else {\n\t\t\t\treturn envelopes.filter(envelope => !mailboxesToIgnore.includes(envelope.mailboxId))\n\t\t\t}\n\t\t},\n\t\tthreadParticipants() {\n\t\t\tconst recipients = this.thread.flatMap(envelope => {\n\t\t\t\treturn envelope.from.concat(envelope.to).concat(envelope.cc)\n\t\t\t}).filter(participant => participant.email !== this.currentAccountEmail)\n\t\t\treturn uniqBy(prop('email'), recipients)\n\t\t},\n\t\tthreadSubject() {\n\t\t\tconst thread = this.thread\n\t\t\tif (thread.length === 0) {\n\t\t\t\tconsole.warn('thread is empty')\n\t\t\t\treturn ''\n\t\t\t}\n\t\t\treturn thread[0].subject || this.t('mail', 'No subject')\n\t\t},\n\t\tshowSummaryBox() {\n\t\t\treturn this.thread.length > 2 && this.enabledThreadSummary && !this.summaryError\n\t\t},\n\t},\n\twatch: {\n\t\t$route(to, from) {\n\t\t\tif (\n\t\t\t\tfrom.name === to.name\n\t\t\t\t&& from.params.mailboxId === to.params.mailboxId\n\t\t\t\t&& from.params.threadId === to.params.threadId\n\t\t\t\t&& from.params.filter === to.params.filter\n\t\t\t) {\n\t\t\t\tlogger.debug('navigated but the thread is still the same')\n\t\t\t\treturn\n\t\t\t}\n\t\t\tlogger.debug('navigated to another thread', { to, from })\n\t\t\tthis.resetThread()\n\t\t},\n\t},\n\tcreated() {\n\t\tthis.resetThread()\n\t\twindow.addEventListener('resize', this.resizeDebounced)\n\t\twindow.addEventListener('keydown', this.handleKeyDown)\n\t},\n\tbeforeDestroy() {\n\t\twindow.removeEventListener('resize', this.resizeDebounced)\n\t\twindow.removeEventListener('keydown', this.handleKeyDown)\n\t},\n\tmethods: {\n\t\tasync updateSummary() {\n\t\t\tif (this.thread.length <= 2 || !this.enabledThreadSummary) return\n\n\t\t\tthis.summaryLoading = true\n\t\t\ttry {\n\t\t\t\tthis.summaryText = await summarizeThread(this.thread[0].databaseId)\n\t\t\t} catch (error) {\n\t\t\t\tthis.summaryError = true\n\t\t\t\tshowError(t('mail', 'Summarizing thread failed.'))\n\t\t\t\tlogger.error('Summarizing thread failed', { error })\n\t\t\t} finally {\n\t\t\t\tthis.summaryLoading = false\n\t\t\t}\n\t\t},\n\t\tupdateParticipantsToDisplay() {\n\t\t\t// Wait until everything is in place\n\t\t\tif (!this.$refs.avatarHeader || !this.threadParticipants) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// Compute the number of participants to display depending on the width available\n\t\t\tconst avatarHeader = this.$refs.avatarHeader\n\t\t\tconst maxWidth = (avatarHeader.clientWidth - 100) // Reserve 100px for the avatar-more span\n\t\t\tlet childrenWidth = 0\n\t\t\tlet fits = 0\n\t\t\tlet idx = 0\n\t\t\twhile (childrenWidth < maxWidth && fits < this.threadParticipants.length) {\n\t\t\t\t// Skipping the 'avatar-more' span\n\t\t\t\tif (avatarHeader.childNodes[idx].clientWidth === undefined) {\n\t\t\t\t\tidx += 3\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\t\t\t\tchildrenWidth += avatarHeader.childNodes[idx].clientWidth\n\t\t\t\tfits++\n\t\t\t\tidx++\n\t\t\t}\n\n\t\t\tif (childrenWidth > maxWidth) {\n\t\t\t\t// There's not enough space to show all thread participants\n\t\t\t\tif (fits > 1) {\n\t\t\t\t\tthis.participantsToDisplay = fits - 1\n\t\t\t\t} else if (fits === 0) {\n\t\t\t\t\tthis.participantsToDisplay = 1\n\t\t\t\t} else {\n\t\t\t\t\tthis.participantsToDisplay = fits\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// There's enough space to show all thread participants\n\t\t\t\tthis.participantsToDisplay = this.threadParticipants.length\n\t\t\t}\n\t\t},\n\t\ttoggleExpand(threadId) {\n\t\t\tif (this.thread.length === 1) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif (!this.expandedThreads.includes(threadId)) {\n\t\t\t\tconsole.debug(`expand thread ${threadId}`)\n\t\t\t\tthis.expandedThreads.push(threadId)\n\t\t\t} else {\n\t\t\t\tconsole.debug(`collapse thread ${threadId}`)\n\t\t\t\tthis.expandedThreads = this.expandedThreads.filter(t => t !== threadId)\n\t\t\t}\n\t\t},\n\t\tonMove(threadId) {\n\t\t\tif (threadId === this.threadId) {\n\t\t\t\tthis.$router.replace({\n\t\t\t\t\tname: 'mailbox',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tmailboxId: this.$route.params.mailboxId,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis.expandedThreads = this.expandedThreads.filter((id) => id !== threadId)\n\t\t\t\tthis.fetchThread()\n\t\t\t}\n\t\t},\n\t\tasync resetThread() {\n\t\t\tthis.expandedThreads = [this.threadId]\n\t\t\tthis.errorMessage = ''\n\t\t\tthis.error = undefined\n\t\t\tif (this.mainStore.getPreference('layout-message-view', 'threaded') === 'threaded') {\n\t\t\t\tawait this.fetchThread()\n\t\t\t}\n\t\t\tthis.updateParticipantsToDisplay()\n\t\t\tthis.updateSummary()\n\t\t\tthis.loadedThreads = 0\n\t\t},\n\t\tasync fetchThread() {\n\t\t\tthis.loading = true\n\t\t\tthis.errorMessage = ''\n\t\t\tthis.error = undefined\n\t\t\tconst threadId = this.threadId\n\n\t\t\ttry {\n\t\t\t\tconst thread = await this.mainStore.fetchThread(threadId)\n\t\t\t\tlogger.debug(`thread for envelope ${threadId} fetched`, { thread })\n\t\t\t\t// TODO: add timeout so that envelope isn't flagged when only viewed\n\t\t\t\t//       for a few seconds\n\t\t\t\tif (threadId !== parseInt(this.$route.params.threadId, 10)) {\n\t\t\t\t\tlogger.debug(\"User navigated away, loaded envelope won't be shown nor flagged as seen\", {\n\t\t\t\t\t\toldId: threadId,\n\t\t\t\t\t\tnewId: this.$route.params.threadId,\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tif (thread.length === 0) {\n\t\t\t\t\tlogger.info('thread could not be found and is empty', { threadId })\n\t\t\t\t\tthis.errorMessage = getRandomMessageErrorMessage()\n\t\t\t\t\tthis.loading = false\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tthis.loading = false\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('could not load envelope thread', { threadId, error })\n\t\t\t\tif (error?.response?.status === 403) {\n\t\t\t\t\tthis.error = t('mail', 'Could not load your message thread')\n\t\t\t\t\tthis.errorMessage = t('mail', 'The thread doesn\\'t exist or has been deleted')\n\t\t\t\t\tthis.loading = false\n\t\t\t\t} else if (error?.response?.status === 500) {\n\t\t\t\t\tthis.error = { message: t('mail', 'Email was not able to be opened') }\n\t\t\t\t\tthis.loading = false\n\t\t\t\t} else {\n\t\t\t\t\tthis.errorMessage = t('mail', 'Could not load your message thread')\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tasync handleKeyDown(event) {\n\t\t\tif ((event.ctrlKey || event.metaKey) && event.key === 'p') {\n\t\t\t\tevent.preventDefault()\n\n\t\t\t\tthis.thread.forEach((thread) => {\n\t\t\t\t\tif (!this.expandedThreads.includes(thread.databaseId)) this.expandedThreads.push(thread.databaseId)\n\t\t\t\t})\n\n\t\t\t\twhile (true) {\n\t\t\t\t\tif (this.loadedThreads === this.thread.length) {\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\tawait new Promise(resolve => setTimeout(resolve, 100))\n\t\t\t\t}\n\n\t\t\t\tconst virtualIframe = document.createElement('iframe')\n\t\t\t\tvirtualIframe.style.display = 'none'\n\t\t\t\tdocument.body.appendChild(virtualIframe)\n\t\t\t\tconst virtualIframeDocument = virtualIframe.contentDocument || virtualIframe.contentWindow.document\n\t\t\t\tvirtualIframeDocument.open()\n\t\t\t\tvirtualIframeDocument.write(`<html><head><title>${t('mail', 'Print')}</title></head><body></body></html>`)\n\t\t\t\tvirtualIframeDocument.close()\n\n\t\t\t\tvirtualIframeDocument.body.appendChild(this.addThreadInfo(virtualIframeDocument))\n\n\t\t\t\tconst messageContainers = document.querySelectorAll('#message-container')\n\t\t\t\tfor (const [index, messageContainer] of messageContainers.entries()) {\n\t\t\t\t\tconst iframe = messageContainer.querySelector('iframe')\n\n\t\t\t\t\tthis.addMessageInfo(virtualIframeDocument, index)\n\n\t\t\t\t\tif (!iframe) {\n\t\t\t\t\t\tconst div = virtualIframeDocument.createElement('div')\n\t\t\t\t\t\tdiv.innerHTML = messageContainer.innerHTML\n\t\t\t\t\t\tvirtualIframeDocument.body.appendChild(div)\n\t\t\t\t\t\tcontinue\n\t\t\t\t\t}\n\n\t\t\t\t\tiframe.setAttribute('data-iframe-size', 'true')\n\n\t\t\t\t\tif (!iframe.contentWindow.document.readyState === 'complete') {\n\t\t\t\t\t\tawait new Promise((resolve) => {\n\t\t\t\t\t\t\tiframe.contentWindow.onload = resolve\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\t\t\t\t\tconst iframeDocument = iframe.contentDocument || iframe.contentWindow.document\n\t\t\t\t\tconst iframeContent = iframeDocument.body.innerHTML\n\t\t\t\t\tconst div = virtualIframeDocument.createElement('div')\n\n\t\t\t\t\tdiv.innerHTML = iframeContent\n\t\t\t\t\tvirtualIframeDocument.body.appendChild(div)\n\t\t\t\t}\n\n\t\t\t\tconst images = virtualIframeDocument.querySelectorAll('img')\n\t\t\t\tlet imagesLoaded = 0\n\n\t\t\t\timages.forEach((img) => {\n\t\t\t\t\timg.addEventListener('load', () => {\n\t\t\t\t\t\timagesLoaded++\n\t\t\t\t\t\tif (imagesLoaded === images.length) {\n\t\t\t\t\t\t\tvirtualIframe.contentWindow.print()\n\t\t\t\t\t\t\tthis.removeIframe(virtualIframe)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\timg.addEventListener('error', () => {\n\t\t\t\t\t\timagesLoaded++\n\t\t\t\t\t\tif (imagesLoaded === images.length) {\n\t\t\t\t\t\t\tvirtualIframe.contentWindow.print()\n\t\t\t\t\t\t\tthis.removeIframe(virtualIframe)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t})\n\n\t\t\t\tif (images.length === 0) {\n\t\t\t\t\tvirtualIframe.contentWindow.print()\n\t\t\t\t\tthis.removeIframe(virtualIframe)\n\t\t\t\t}\n\n\t\t\t}\n\t\t},\n\t\tremoveIframe(virtualIframe) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tdocument.body.removeChild(virtualIframe)\n\t\t\t}, 500)\n\t\t},\n\t\taddMessageInfo(virtualIframeDocument, index) {\n\t\t\tconst hr = virtualIframeDocument.createElement('hr')\n\t\t\thr.style.border = '1px solid black'\n\n\t\t\tconst subjectSpan = virtualIframeDocument.createElement('p')\n\t\t\tsubjectSpan.style.fontWeight = 'bold'\n\t\t\tsubjectSpan.textContent = t('mail', 'Subject') + ': ' + this.thread[index].subject\n\n\t\t\tconst senderSpan = virtualIframeDocument.createElement('p')\n\t\t\tsenderSpan.style.fontWeight = 'bold'\n\t\t\tsenderSpan.textContent = t('mail', 'From') + ': ' + this.thread[index].from[0].label + ' <' + this.thread[index].from[0].email + '>'\n\n\t\t\tconst dateSpan = virtualIframeDocument.createElement('p')\n\t\t\tdateSpan.style.fontWeight = 'bold'\n\t\t\tdateSpan.textContent = t('mail', 'Date') + ': ' + moment.unix(this.thread[index].dateInt).format('LLL')\n\n\t\t\tconst recipientSpan = virtualIframeDocument.createElement('p')\n\t\t\trecipientSpan.style.fontWeight = 'bold'\n\t\t\trecipientSpan.textContent = t('mail', 'To') + ': ' + this.thread[index].to[0].label + this.thread[index].to[0].email\n\n\t\t\tvirtualIframeDocument.body.appendChild(hr)\n\t\t\tvirtualIframeDocument.body.appendChild(subjectSpan)\n\t\t\tvirtualIframeDocument.body.appendChild(senderSpan)\n\t\t\tvirtualIframeDocument.body.appendChild(dateSpan)\n\t\t\tvirtualIframeDocument.body.appendChild(recipientSpan)\n\t\t},\n\t\taddThreadInfo(document) {\n\t\t\tconst threadInfo = document.createElement('div')\n\t\t\tthreadInfo.style.marginTop = '20px'\n\t\t\tthreadInfo.style.marginBottom = '20px'\n\t\t\tthreadInfo.className = 'mail-thread-info'\n\n\t\t\tconst subjectLine = document.createElement('h2')\n\t\t\tsubjectLine.textContent = `${this.threadSubject}`\n\t\t\tthreadInfo.appendChild(subjectLine)\n\n\t\t\tconst participantsLine = document.createElement('p')\n\t\t\tparticipantsLine.textContent = this.threadParticipants\n\t\t\t\t.map(participant => `${participant.label} <${participant.email}>`)\n\t\t\t\t.join(', ')\n\t\t\tthreadInfo.appendChild(participantsLine)\n\n\t\t\treturn threadInfo\n\t\t},\n\t\taddLoadedThread() {\n\t\t\tthis.loadedThreads++\n\t\t},\n\t\tprint(threadIndex) {\n\t\t\tsetTimeout(() => {\n\t\t\t\ttry {\n\t\t\t\t\tconst messages = Array.from(document.querySelectorAll('.html-message-body, .mail-message-body'))\n\n\t\t\t\t\tlet message\n\n\t\t\t\t\tif (threadIndex !== undefined) {\n\t\t\t\t\t\tmessage = messages[threadIndex * 2] ?? messages.pop()\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// By default, we print the last opened message in the thread\n\t\t\t\t\t\tmessage = messages.pop()\n\t\t\t\t\t}\n\n\t\t\t\t\tconst iframe = message.querySelector('iframe')\n\n\t\t\t\t\tif (iframe === null) {\n\t\t\t\t\t\t// Handle plain text messages\n\t\t\t\t\t\tconst messageContainer = message.querySelector('#message-container')\n\n\t\t\t\t\t\tif (messageContainer) {\n\t\t\t\t\t\t\t// Create a new iframe\n\t\t\t\t\t\t\tconst newIframe = document.createElement('iframe')\n\t\t\t\t\t\t\tnewIframe.style.display = 'none' // Hide the iframe\n\t\t\t\t\t\t\tdocument.body.appendChild(newIframe)\n\n\t\t\t\t\t\t\t// Insert the message content into the iframe\n\t\t\t\t\t\t\tconst iframeDocument = newIframe.contentDocument || newIframe.contentWindow.document\n\t\t\t\t\t\t\tiframeDocument.open()\n\t\t\t\t\t\t\tiframeDocument.write(`\n\t\t\t\t\t\t\t\t<html>\n\t\t\t\t\t\t\t\t\t<head>\n\t\t\t\t\t\t\t\t\t\t<title>${this.threadSubject}</title>\n\t\t\t\t\t\t\t\t\t</head>\n\t\t\t\t\t\t\t\t\t<body>\n\t\t\t\t\t\t\t\t\t\t<div class=\"message-container\">${messageContainer.innerHTML}</div>\n\t\t\t\t\t\t\t\t\t</body>\n\t\t\t\t\t\t\t\t</html>\n\t\t\t\t\t\t\t`)\n\n\t\t\t\t\t\t\tconst threadInfo = this.addThreadInfo(iframeDocument)\n\t\t\t\t\t\t\tiframeDocument.body.insertBefore(threadInfo, iframeDocument.body.firstChild)\n\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tthreadInfo.remove()\n\t\t\t\t\t\t\t}, 5000)\n\n\t\t\t\t\t\t\tiframeDocument.close()\n\n\t\t\t\t\t\t\tnewIframe.contentWindow.print()\n\n\t\t\t\t\t\t\t// Clean up: remove the iframe after printing\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tdocument.body.removeChild(newIframe)\n\t\t\t\t\t\t\t}, 500)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\n\t\t\t\t\tconst iframeDocument = iframe.contentDocument || iframe.contentWindow.document\n\n\t\t\t\t\tconst threadInfo = this.addThreadInfo(iframeDocument)\n\t\t\t\t\tiframeDocument.body.insertBefore(threadInfo, iframeDocument.body.firstChild)\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthreadInfo.remove()\n\t\t\t\t\t}, 200)\n\n\t\t\t\t\tiframe.contentWindow.print()\n\t\t\t\t} catch (error) {\n\t\t\t\t\tshowError(t('mail', 'Could not print message'))\n\t\t\t\t}\n\t\t\t}, 100)\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\">\n#mail-message {\n\tmargin-bottom: 30vh;\n\twidth: 100%;\n\tmax-width: 100%;\n\n\t.icon-loading {\n\t\t&:only-child:after {\n\t\t\tmargin-top: calc(var(--default-line-height) - var(--default-grid-baseline));\n\t\t}\n\t}\n}\n\n.mail-message-body {\n\tflex: 1;\n\tmargin-bottom: calc(var(--default-grid-baseline) * 2);\n\tposition: relative;\n}\n\n#mail-thread-header {\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding: 0 0 calc(var(--default-grid-baseline) * 2) 0;\n\t// somehow ios doesn't care about this !important rule\n\t// so we have to manually set left/right padding to chidren\n\t// for 100% to be used\n\tbox-sizing: content-box !important;\n\twidth: 100%;\n\n\tz-index: 100;\n\tposition: fixed; // ie fallback\n\tposition: -webkit-sticky; // ios/safari fallback\n\tposition: sticky;\n\ttop: 0;\n\tmargin-bottom: 5px;\n\n\t&::before {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tinset-inline-start: 50%;\n\t\ttransform: translateX(-50%);\n\t\twidth: 100vw;\n\t\theight: 100%;\n\t\tbackground: var(--color-main-background);\n\t\tborder-bottom: var(--border-width-input-focused) solid var(--color-border);\n\t\tz-index: -1;\n\t}\n}\n\n#mail-thread-header-fields {\n\t// initial width\n\twidth: 0;\n\t// while scrolling, the back button overlaps with subject on small screen\n\t// 66px to allign with the sender Envelope -> 8px margin + 2px border+ avatar -> 40px width  + envelope__header -> 8px padding + sender-> margin 8px\n\tpadding-inline-start: 66px;\n\t// grow and try to fill 100%\n\tflex: 1 1 auto;\n\th2,\n\tp {\n\t\tpadding-bottom: calc(var(--default-grid-baseline) * 2);\n\t\tmargin-bottom: 0;\n\t\t// some h2 styling coming from server add some space on top\n\t\tmargin-top: var(--default-grid-baseline);\n\t}\n\n\tp {\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\t.transparency {\n\t\topacity: 0.6;\n\t\ta {\n\t\t\tfont-weight: bold;\n\t\t}\n\t}\n}\n@media only screen and (max-width: 1024px) {\n\t#mail-thread-header-fields {\n\t\tmargin-top: -20px;\n\t}\n}\n\n.attachment-popover {\n\tposition: sticky;\n\tbottom: calc(var(--default-grid-baseline) * 3);\n\ttext-align: center;\n}\n\n.tooltip-inner {\n\ttext-align: start;\n}\n\n#mail-content {\n\tmargin: calc(var(--default-grid-baseline) * 2) calc(var(--default-grid-baseline) * 10) 0 calc(var(--default-grid-baseline) * 14);\n}\n\n#mail-content iframe {\n\twidth: 100%;\n}\n\n#show-images-text {\n\tdisplay: none;\n}\n\n#mail-content a,\n.mail-signature a {\n\tcolor: #07d;\n\tborder-bottom: var(--border-width-input) dotted #07d;\n\ttext-decoration: none;\n\tword-wrap: break-word;\n}\n\n/* Show action button label and move icon to the left\n   on screens larger than 600px */\n@media only screen and (max-width: 600px) {\n\t.action-label {\n\t\tdisplay: none;\n\t}\n}\n@media only screen and (min-width: 600px) {\n\t.icon-reply-white,\n\t.icon-reply-all-white {\n\t\tbackground-position: calc(var(--default-grid-baseline) * 3) center;\n\t}\n}\n\n.avatar-header {\n\theight: var(--default-clickable-area);\n\toverflow: hidden;\n\tdisplay: flex;\n\talign-items: stretch;\n\n\t:deep(.v-popper--theme-dropdown.v-popper__popper .v-popper__inner) {\n\t\theight: 300px;\n\t\twidth: 250px;\n\t\toverflow: auto;\n\t}\n}\n\n.avatar-more {\n\tdisplay: inline;\n\tbackground-color: var(--color-background-dark);\n\tborder-radius: var(--border-radius-large);\n\tcursor: pointer;\n}\n\n.v-popper.avatar-more {\n\tpadding: calc(var(--default-grid-baseline) * 2);\n}\n\n.avatar-hidden {\n\tvisibility: hidden;\n}\n\n.app-content-list-item-star.icon-starred {\n\tdisplay: none;\n}\n\n.user-bubble__wrapper {\n\theight: var(--default-clickable-area);\n\tpadding: var(--default-grid-baseline);\n\tmargin-inline-end: var(--default-grid-baseline);\n\tbackground-color: var(--color-background-dark);\n\tborder-radius: var(--border-radius-large);\n}\n\n.v-popper__popper--shown .user-bubble__wrapper {\n\tmargin-inline-end: 0 !important;\n\n\t.user-bubble__content {\n\t\tpadding: calc(var(--default-grid-baseline));\n\t}\n\n\t.user-bubble__wrapper {\n\t\tpadding: 0;\n\t}\n}\n\n.user-bubble__title {\n\tcursor: pointer;\n}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Thread.vue?vue&type=style&index=0&id=94c27dbe&prod&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Thread.vue?vue&type=style&index=0&id=94c27dbe&prod&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Thread.vue?vue&type=template&id=94c27dbe\"\nimport script from \"./Thread.vue?vue&type=script&lang=js\"\nexport * from \"./Thread.vue?vue&type=script&lang=js\"\nimport style0 from \"./Thread.vue?vue&type=style&index=0&id=94c27dbe&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<AppContent pane-config-key=\"mail\"\n\t\t:layout=\"layoutMode\"\n\t\t:show-details=\"isThreadShown\"\n\t\t:list-min-width=\"horizontalListMinWidth\"\n\t\t:list-max-width=\"horizontalListMaxWidth\"\n\t\t@update:showDetails=\"hideMessage\">\n\t\t<template #list>\n\t\t\t<div :class=\"{ list__wrapper: !showThread || !isMobile }\">\n\t\t\t\t<div v-if=\"!showThread || !isMobile\" class=\"sticky-header\">\n\t\t\t\t\t<SearchMessages :mailbox=\"mailbox\"\n\t\t\t\t\t\t:account-id=\"account.accountId\"\n\t\t\t\t\t\t@search-changed=\"onUpdateSearchQuery\" />\n\t\t\t\t</div>\n\t\t\t\t<AppContentList v-infinite-scroll=\"onScroll\"\n\t\t\t\t\tv-shortkey.once=\"shortkeys\"\n\t\t\t\t\tclass=\"envelope-list\"\n\t\t\t\t\tinfinite-scroll-immediate-check=\"false\"\n\t\t\t\t\t:show-details=\"showThread\"\n\t\t\t\t\t:infinite-scroll-disabled=\"false\"\n\t\t\t\t\t:infinite-scroll-distance=\"300\"\n\t\t\t\t\trole=\"heading\"\n\t\t\t\t\t:aria-level=\"2\"\n\t\t\t\t\t@shortkey.native=\"onShortcut\">\n\t\t\t\t\t<Mailbox v-if=\"!mailbox.isPriorityInbox\"\n\t\t\t\t\t\t:account=\"account\"\n\t\t\t\t\t\t:mailbox=\"mailbox\"\n\t\t\t\t\t\t:search-query=\"query\"\n\t\t\t\t\t\t:bus=\"bus\"\n\t\t\t\t\t\t:open-first=\"mailbox.specialRole !== 'drafts'\"\n\t\t\t\t\t\t:group-envelopes=\"groupEnvelopes\"\n\t\t\t\t\t\t:initial-page-size=\"messagesOrderBydate\"\n\t\t\t\t\t\t:collapsible=\"true\" />\n\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t<div v-show=\"hasFollowUpEnvelopes\"\n\t\t\t\t\t\t\tclass=\"app-content-list-item\">\n\t\t\t\t\t\t\t<SectionTitle class=\"section-title\"\n\t\t\t\t\t\t\t\t:name=\"t('mail', 'Follow up')\" />\n\t\t\t\t\t\t\t<Popover trigger=\"hover focus\">\n\t\t\t\t\t\t\t\t<template #trigger>\n\t\t\t\t\t\t\t\t\t<ButtonVue type=\"tertiary-no-background\"\n\t\t\t\t\t\t\t\t\t\t:aria-label=\"t('mail', 'Follow up info')\"\n\t\t\t\t\t\t\t\t\t\tclass=\"button\">\n\t\t\t\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t\t\t\t<IconInfo :size=\"20\" />\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t</ButtonVue>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<p class=\"section-header-info\">\n\t\t\t\t\t\t\t\t\t{{ followupInfo }}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</Popover>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Mailbox v-show=\"hasFollowUpEnvelopes\"\n\t\t\t\t\t\t\t:load-more-label=\"t('mail', 'Load more follow ups')\"\n\t\t\t\t\t\t\t:account=\"unifiedAccount\"\n\t\t\t\t\t\t\t:mailbox=\"followUpMailbox\"\n\t\t\t\t\t\t\t:search-query=\"appendToSearch(followUpQuery)\"\n\t\t\t\t\t\t\t:paginate=\"'manual'\"\n\t\t\t\t\t\t\t:is-priority-inbox=\"true\"\n\t\t\t\t\t\t\t:initial-page-size=\"followUpMessagesInitialPageSize\"\n\t\t\t\t\t\t\t:collapsible=\"true\"\n\t\t\t\t\t\t\t:bus=\"bus\" />\n\t\t\t\t\t\t<div v-show=\"hasImportantEnvelopes\" class=\"app-content-list-item\">\n\t\t\t\t\t\t\t<SectionTitle class=\"section-title important\"\n\t\t\t\t\t\t\t\t:name=\"t('mail', 'Important')\" />\n\t\t\t\t\t\t\t<Popover trigger=\"hover focus\">\n\t\t\t\t\t\t\t\t<template #trigger>\n\t\t\t\t\t\t\t\t\t<ButtonVue type=\"tertiary-no-background\"\n\t\t\t\t\t\t\t\t\t\t:aria-label=\"t('mail', 'Important info')\"\n\t\t\t\t\t\t\t\t\t\tclass=\"button\">\n\t\t\t\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t\t\t\t<IconInfo :size=\"20\" />\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t</ButtonVue>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<p class=\"section-header-info\">\n\t\t\t\t\t\t\t\t\t{{ importantInfo }}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</Popover>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Mailbox v-show=\"hasImportantEnvelopes\"\n\t\t\t\t\t\t\tclass=\"nameimportant\"\n\t\t\t\t\t\t\t:load-more-label=\"t('mail', 'Load more important messages')\"\n\t\t\t\t\t\t\t:account=\"unifiedAccount\"\n\t\t\t\t\t\t\t:mailbox=\"unifiedInbox\"\n\t\t\t\t\t\t\t:search-query=\"appendToSearch(priorityImportantQuery)\"\n\t\t\t\t\t\t\t:paginate=\"'manual'\"\n\t\t\t\t\t\t\t:is-priority-inbox=\"true\"\n\t\t\t\t\t\t\t:initial-page-size=\"importantMessagesInitialPageSize\"\n\t\t\t\t\t\t\t:collapsible=\"true\"\n\t\t\t\t\t\t\t:bus=\"bus\" />\n\t\t\t\t\t\t<SectionTitle v-show=\"hasImportantEnvelopes\"\n\t\t\t\t\t\t\tclass=\"app-content-list-item section-title other\"\n\t\t\t\t\t\t\t:name=\"t('mail', 'Other')\" />\n\t\t\t\t\t\t<Mailbox class=\"nameother\"\n\t\t\t\t\t\t\t:load-more-label=\"t('mail', 'Load more other messages')\"\n\t\t\t\t\t\t\t:account=\"unifiedAccount\"\n\t\t\t\t\t\t\t:mailbox=\"unifiedInbox\"\n\t\t\t\t\t\t\t:search-query=\"appendToSearch(priorityOtherQuery)\"\n\t\t\t\t\t\t\t:is-priority-inbox=\"true\"\n\t\t\t\t\t\t\t:bus=\"bus\" />\n\t\t\t\t\t</template>\n\t\t\t\t</AppContentList>\n\t\t\t</div>\n\t\t</template>\n\n\t\t<Thread v-if=\"showThread\" :current-account-email=\"account.emailAddress\" @delete=\"deleteMessage\" />\n\t\t<NoMessageSelected v-else-if=\"hasEnvelopes\" />\n\t</AppContent>\n</template>\n\n<script>\nimport { NcAppContent as AppContent, NcAppContentList as AppContentList, NcButton as ButtonVue, NcPopover as Popover } from '@nextcloud/vue'\n\nimport isMobile from '@nextcloud/vue/dist/Mixins/isMobile.js'\nimport SectionTitle from './SectionTitle.vue'\nimport mitt from 'mitt'\nimport addressParser from 'address-rfc2822'\n\nimport infiniteScroll from '../directives/infinite-scroll.js'\nimport IconInfo from 'vue-material-design-icons/InformationOutline.vue'\nimport logger from '../logger.js'\nimport Mailbox from './Mailbox.vue'\nimport SearchMessages from './SearchMessages.vue'\nimport NoMessageSelected from './NoMessageSelected.vue'\nimport Thread from './Thread.vue'\nimport {\n\tFOLLOW_UP_MAILBOX_ID,\n\tPRIORITY_INBOX_ID,\n\tUNIFIED_ACCOUNT_ID,\n\tUNIFIED_INBOX_ID,\n} from '../store/constants.js'\nimport {\n\tpriorityImportantQuery,\n\tpriorityOtherQuery,\n} from '../util/priorityInbox.js'\nimport { detect, html } from '../util/text.js'\nimport useMainStore from '../store/mainStore.js'\nimport { mapStores } from 'pinia'\n\nconst START_MAILBOX_DEBOUNCE = 5 * 1000\n\nexport default {\n\tname: 'MailboxThread',\n\tdirectives: {\n\t\tinfiniteScroll,\n\t},\n\tcomponents: {\n\t\tAppContent,\n\t\tAppContentList,\n\t\tButtonVue,\n\t\tIconInfo,\n\t\tMailbox,\n\t\tNoMessageSelected,\n\t\tPopover,\n\t\tSectionTitle,\n\t\tSearchMessages,\n\t\tThread,\n\t},\n\tmixins: [isMobile],\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tmailbox: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\t// eslint-disable-next-line\n\t\t\timportantInfo: t('mail', 'Messages will automatically be marked as important based on which messages you interacted with or marked as important. In the beginning you might have to manually change the importance to teach the system, but it will improve over time.'),\n\t\t\tfollowupInfo: t('mail', 'Messages sent by you that require a reply but did not receive one after a couple of days will be shown here.'),\n\t\t\tbus: mitt(),\n\t\t\tsearchQuery: undefined,\n\t\t\tshortkeys: {\n\t\t\t\tdel: ['del'],\n\t\t\t\tarch: ['a'],\n\t\t\t\tflag: ['s'],\n\t\t\t\tnext: ['arrowright'],\n\t\t\t\tprev: ['arrowleft'],\n\t\t\t\trefresh: ['r'],\n\t\t\t\tunseen: ['u'],\n\t\t\t},\n\t\t\tpriorityImportantQuery,\n\t\t\tpriorityOtherQuery,\n\t\t\tstartMailboxTimer: undefined,\n\t\t\thasContent: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\n\t\tlayoutMode() {\n\t\t\treturn this.mainStore.getPreference('layout-mode', 'vertical-split')\n\t\t},\n\t\thorizontalListMinWidth() {\n\t\t\treturn this.layoutMode === 'horizontal-split' ? 40 : 30\n\t\t},\n\t\thorizontalListMaxWidth() {\n\t\t\treturn this.layoutMode === 'horizontal-split' ? 60 : 50\n\t\t},\n\t\tunifiedAccount() {\n\t\t\treturn this.mainStore.getAccount(UNIFIED_ACCOUNT_ID)\n\t\t},\n\t\tunifiedInbox() {\n\t\t\treturn this.mainStore.getMailbox(UNIFIED_INBOX_ID)\n\t\t},\n\t\tfollowUpMailbox() {\n\t\t\treturn this.mainStore.getMailbox(FOLLOW_UP_MAILBOX_ID)\n\t\t},\n\t\t/**\n\t\t * @return {string|undefined}\n\t\t */\n\t\tfollowUpQuery() {\n\t\t\tconst tag = this.mainStore.getFollowUpTag\n\t\t\tif (!tag) {\n\t\t\t\tlogger.warn('No follow-up tag available')\n\t\t\t\treturn undefined\n\t\t\t}\n\n\t\t\tconst notAfter = new Date()\n\t\t\tnotAfter.setDate(notAfter.getDate() - 4)\n\t\t\tconst dateToTimestamp = (date) => Math.round(date.getTime() / 1000)\n\t\t\treturn `tags:${tag.id} end:${dateToTimestamp(notAfter)}`\n\t\t},\n\t\thasEnvelopes() {\n\t\t\tif (this.mailbox.isPriorityInbox) {\n\t\t\t\treturn this.mainStore.getEnvelopes(this.mailbox.databaseId, this.appendToSearch(priorityImportantQuery)).length > 0\n\t\t\t\t\t|| this.mainStore.getEnvelopes(this.mailbox.databaseId, this.appendToSearch(priorityOtherQuery)).length > 0\n\t\t\t}\n\t\t\treturn this.mainStore.getEnvelopes(this.mailbox.databaseId, this.searchQuery).length > 0\n\t\t},\n\t\thasImportantEnvelopes() {\n\t\t\tconst map = this.mainStore.getEnvelopes(\n\t\t\t\tthis.unifiedInbox.databaseId,\n\t\t\t\tthis.appendToSearch(this.priorityImportantQuery),\n\t\t\t)\n\t\t\tconst envelopes = Array.isArray(map) ? map : Array.from(map?.values() || [])\n\t\t\treturn envelopes.length > 0\n\t\t},\n\t\t/**\n\t\t * @return {boolean}\n\t\t */\n\t\thasFollowUpEnvelopes() {\n\t\t\tif (!this.followUpQuery) {\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tconst map = this.mainStore.getEnvelopes(FOLLOW_UP_MAILBOX_ID, this.followUpQuery)\n\t\t\tconst envelopes = Array.isArray(map) ? map : Array.from(map?.values() || [])\n\t\t\treturn envelopes.length > 0\n\t\t},\n\t\timportantMessagesInitialPageSize() {\n\t\t\tif (window.innerHeight > 1024) {\n\t\t\t\treturn 7\n\t\t\t}\n\t\t\tif (window.innerHeight > 750) {\n\t\t\t\treturn 5\n\t\t\t}\n\t\t\treturn 3\n\t\t},\n\t\t/**\n\t\t * @return {number}\n\t\t */\n\t\tmessagesOrderBydate() {\n\t\t\treturn 10\n\t\t},\n\t\t/**\n\t\t * @return {number}\n\t\t */\n\t\tfollowUpMessagesInitialPageSize() {\n\t\t\treturn 5\n\t\t},\n\t\tshowThread() {\n\t\t\treturn this.$route.name === 'message'\n\t\t\t\t&& this.$route.params.threadId !== 'mailto'\n\t\t},\n\t\tquery() {\n\t\t\tif (this.$route.params.filter === 'starred') {\n\t\t\t\tif (this.searchQuery) {\n\t\t\t\t\treturn this.appendToSearch('is:starred')\n\t\t\t\t}\n\t\t\t\treturn 'is:starred'\n\t\t\t}\n\t\t\treturn this.searchQuery\n\t\t},\n\t\tisThreadShown() {\n\t\t\treturn !!this.$route.params.threadId\n\t\t},\n\t\tgroupEnvelopes() {\n\t\t\tconst allEnvelopes = this.mainStore.getEnvelopes(this.mailbox.databaseId, this.searchQuery)\n\t\t\treturn this.groupEnvelopesByDate(allEnvelopes, this.mainStore.syncTimestamp)\n\t\t},\n\t},\n\twatch: {\n\t\tasync $route(to) {\n\t\t\tthis.handleMailto()\n\t\t\tif (to.name === 'mailbox' && to.params.mailboxId === PRIORITY_INBOX_ID) {\n\t\t\t\tawait this.onPriorityMailboxOpened()\n\t\t\t} else if (this.isThreadShown) {\n\t\t\t\tawait this.fetchEnvelopes()\n\t\t\t}\n\t\t},\n\t\tasync hasFollowUpEnvelopes(value) {\n\t\t\tif (!value) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tawait this.onPriorityMailboxOpened()\n\t\t},\n\t\tmailbox() {\n\t\t\tclearTimeout(this.startMailboxTimer)\n\t\t\tsetTimeout(this.saveStartMailbox, START_MAILBOX_DEBOUNCE)\n\t\t\tthis.fetchEnvelopes()\n\t\t},\n\t},\n\tcreated() {\n\t\tthis.handleMailto()\n\t},\n\tasync mounted() {\n\t\tsetTimeout(this.saveStartMailbox, START_MAILBOX_DEBOUNCE)\n\t\tif (this.isThreadShown) {\n\t\t\tawait this.fetchEnvelopes()\n\t\t}\n\t},\n\tbeforeUnmount() {\n\t\tclearTimeout(this.startMailboxTimer)\n\t},\n\tmethods: {\n\t\tgroupEnvelopesByDate(envelopes, syncTimestamp) {\n\t\t\tconst now = new Date(syncTimestamp)\n\t\t\tconst oneHourAgo = new Date(now.getTime() - 60 * 60 * 1000)\n\t\t\tconst startOfToday = new Date(now.getFullYear(), now.getMonth(), now.getDate())\n\t\t\tconst startOfYesterday = new Date(startOfToday)\n\t\t\tstartOfYesterday.setDate(startOfYesterday.getDate() - 1)\n\t\t\tconst startOfLastWeek = new Date(now)\n\t\t\tstartOfLastWeek.setDate(startOfLastWeek.getDate() - 7)\n\t\t\tconst startOfLastMonth = new Date(now)\n\t\t\tstartOfLastMonth.setMonth(startOfLastMonth.getMonth() - 1)\n\n\t\t\tconst groups = {\n\t\t\t\tlastHour: [],\n\t\t\t\ttoday: [],\n\t\t\t\tyesterday: [],\n\t\t\t\tlastWeek: [],\n\t\t\t\tlastMonth: [],\n\t\t\t\tolder: [],\n\t\t\t}\n\n\t\t\tfor (const envelope of envelopes) {\n\t\t\t\tconst date = new Date(envelope.dateInt * 1000)\n\t\t\t\tif (date >= oneHourAgo) {\n\t\t\t\t\tgroups.lastHour.push(envelope)\n\t\t\t\t} else if (date >= startOfToday) {\n\t\t\t\t\tgroups.today.push(envelope)\n\t\t\t\t} else if (date >= startOfYesterday && date < startOfToday) {\n\t\t\t\t\tgroups.yesterday.push(envelope)\n\t\t\t\t} else if (date >= startOfLastWeek) {\n\t\t\t\t\tgroups.lastWeek.push(envelope)\n\t\t\t\t} else if (date >= startOfLastMonth) {\n\t\t\t\t\tgroups.lastMonth.push(envelope)\n\t\t\t\t} else {\n\t\t\t\t\tgroups.older.push(envelope)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn Object.fromEntries(\n\t\t\t\tObject.entries(groups).filter(([_, list]) => list.length > 0),\n\t\t\t)\n\t\t},\n\t\tasync fetchEnvelopes() {\n\t\t\tconst existingEnvelopes = this.mainStore.getEnvelopes(this.mailbox.databaseId, this.searchQuery || '')\n\t\t\tif (!existingEnvelopes.length) {\n\t\t\t\tawait this.mainStore.fetchEnvelopes({\n\t\t\t\t\tmailboxId: this.mailbox.databaseId,\n\t\t\t\t\tquery: this.searchQuery || '',\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tasync onPriorityMailboxOpened() {\n\t\t\tlogger.debug('Priority inbox was opened')\n\n\t\t\tawait this.mainStore.checkFollowUpReminders({ query: this.followUpQuery })\n\t\t},\n\t\tdeleteMessage(id) {\n\t\t\tthis.bus.emit('delete', id)\n\t\t},\n\t\tonScroll(event) {\n\t\t\tlogger.debug('scroll', { event })\n\n\t\t\tthis.bus.emit('load-more')\n\t\t},\n\t\tonShortcut(e) {\n\t\t\tthis.bus.emit('shortcut', e)\n\t\t},\n\t\tappendToSearch(str) {\n\t\t\tif (this.searchQuery === undefined) {\n\t\t\t\treturn str\n\t\t\t}\n\t\t\treturn this.searchQuery + ' ' + str\n\t\t},\n\t\thideMessage() {\n\t\t\tthis.$router.replace({\n\t\t\t\tname: 'mailbox',\n\t\t\t\tparams: {\n\t\t\t\t\tmailboxId: this.$route.params.mailboxId,\n\t\t\t\t\tfilter: this.$route.params?.filter,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\thandleMailto() {\n\t\t\tif (this.$route.name === 'message' && this.$route.params.threadId === 'mailto') {\n\t\t\t\tlet accountId\n\t\t\t\t// Only preselect an account when we're not in a unified mailbox\n\t\t\t\tif (this.$route.params.accountId !== 0 && this.$route.params.accountId !== '0') {\n\t\t\t\t\taccountId = parseInt(this.$route.params.accountId, 10)\n\t\t\t\t}\n\t\t\t\tthis.mainStore.startComposerSession({\n\t\t\t\t\tdata: {\n\t\t\t\t\t\taccountId,\n\t\t\t\t\t\tto: this.stringToRecipients(this.$route.query.to),\n\t\t\t\t\t\tcc: this.stringToRecipients(this.$route.query.cc),\n\t\t\t\t\t\tbcc: this.stringToRecipients(this.$route.query.bcc),\n\t\t\t\t\t\tsubject: this.$route.query.subject || '',\n\t\t\t\t\t\tbody: this.$route.query.body ? detect(this.$route.query.body) : html(''),\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tasync saveStartMailbox() {\n\t\t\tconst currentStartMailboxId = this.mainStore.getPreference('start-mailbox-id')\n\t\t\tif (currentStartMailboxId === this.mailbox.databaseId) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tlogger.debug(`Saving folder ${this.mailbox.databaseId} as start folder`)\n\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.savePreference({\n\t\t\t\t\tkey: 'start-mailbox-id',\n\t\t\t\t\tvalue: this.mailbox.databaseId,\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\t// Catch and log. This is not critical.\n\t\t\t\tlogger.warn('Could not update start folder id', {\n\t\t\t\t\terror,\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tstringToRecipients(str) {\n\t\t\tif (str === undefined) {\n\t\t\t\treturn []\n\t\t\t}\n\n\t\t\tlet addresses = []\n\t\t\ttry {\n\t\t\t\taddresses = addressParser.parse(str)\n\t\t\t} catch (error) {\n\t\t\t\tlogger.debug('could not parse string into email addresses', { str, error })\n\t\t\t}\n\n\t\t\treturn addresses.map(address => {\n\t\t\t\tconst result = {\n\t\t\t\t\tlabel: address.name(),\n\t\t\t\t\temail: address.address,\n\t\t\t\t}\n\n\t\t\t\tif (result.label === '') {\n\t\t\t\t\tresult.label = result.email\n\t\t\t\t}\n\n\t\t\t\treturn result\n\t\t\t})\n\t\t},\n\t\tonUpdateSearchQuery(query) {\n\t\t\tthis.searchQuery = query\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.section-title {\n\t:deep(h2) {\n\t\tmargin: 0 !important;\n\t}\n}\n\n:deep(.app-content-list) {\n\tflex: 1 1 auto;\n\theight: 100% !important;\n\tmin-height: 0;\n\tposition: absolute;\n\toverflow: scroll;\n\twidth: 100% !important;\n\ttop: 52px;\n}\n\n:deep(.app-content-wrapper) {\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100%;\n\toverflow: hidden;\n}\n\n.v-popover > .trigger > * {\n\tz-index: 1;\n}\n\n.section-header-info {\n\tmax-width: 230px;\n\tpadding: 16px;\n}\n\n.app-content-list {\n\t// Required for centering the loading indicator\n\tdisplay: flex;\n}\n\n.app-content-list-item:hover {\n\tbackground: transparent;\n}\n\n.app-content-list-item {\n\tflex: 0;\n}\n\n.button {\n\tbackground-color: var(--color-main-background);\n\tmargin-bottom: 3px;\n\tinset-inline-end: 2px;\n\n\t&:hover,\n\t&:focus {\n\t\tbackground-color: var(--color-background-dark);\n\t}\n}\n\n.envelope-list {\n\tflex: 1 1 auto;\n\toverflow-y: auto;\n\tmin-height: 0;\n}\n\n.information-icon {\n\topacity: .7;\n}\n@media only screen and (max-width: 1024px) {\n\t.information-icon {\n\t\tmargin-bottom: 20px;\n\t}\n}\n\n.list__wrapper {\n\tdisplay: flex;\n\tflex: 1 1 auto;\n\tflex-direction: column;\n\theight: 100%;\n\toverflow: hidden;\n}\n\n:deep(.app-details-toggle) {\n\topacity: 1;\n}\n\n:deep(.app-content-wrapper.app-content-wrapper--no-split.app-content-wrapper--show-details) {\n\toverflow-y: scroll !important;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailboxThread.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailboxThread.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailboxThread.vue?vue&type=style&index=0&id=0634df2e&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailboxThread.vue?vue&type=style&index=0&id=0634df2e&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./MailboxThread.vue?vue&type=template&id=0634df2e&scoped=true\"\nimport script from \"./MailboxThread.vue?vue&type=script&lang=js\"\nexport * from \"./MailboxThread.vue?vue&type=script&lang=js\"\nimport style0 from \"./MailboxThread.vue?vue&type=style&index=0&id=0634df2e&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0634df2e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('AppContent',{attrs:{\"pane-config-key\":\"mail\",\"layout\":_vm.layoutMode,\"show-details\":_vm.isThreadShown,\"list-min-width\":_vm.horizontalListMinWidth,\"list-max-width\":_vm.horizontalListMaxWidth},on:{\"update:showDetails\":_vm.hideMessage},scopedSlots:_vm._u([{key:\"list\",fn:function(){return [_c('div',{class:{ list__wrapper: !_vm.showThread || !_vm.isMobile }},[(!_vm.showThread || !_vm.isMobile)?_c('div',{staticClass:\"sticky-header\"},[_c('SearchMessages',{attrs:{\"mailbox\":_vm.mailbox,\"account-id\":_vm.account.accountId},on:{\"search-changed\":_vm.onUpdateSearchQuery}})],1):_vm._e(),_vm._v(\" \"),_c('AppContentList',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.onScroll),expression:\"onScroll\"},{name:\"shortkey\",rawName:\"v-shortkey.once\",value:(_vm.shortkeys),expression:\"shortkeys\",modifiers:{\"once\":true}}],staticClass:\"envelope-list\",attrs:{\"infinite-scroll-immediate-check\":\"false\",\"show-details\":_vm.showThread,\"infinite-scroll-disabled\":false,\"infinite-scroll-distance\":300,\"role\":\"heading\",\"aria-level\":2},nativeOn:{\"shortkey\":function($event){return _vm.onShortcut.apply(null, arguments)}}},[(!_vm.mailbox.isPriorityInbox)?_c('Mailbox',{attrs:{\"account\":_vm.account,\"mailbox\":_vm.mailbox,\"search-query\":_vm.query,\"bus\":_vm.bus,\"open-first\":_vm.mailbox.specialRole !== 'drafts',\"group-envelopes\":_vm.groupEnvelopes,\"initial-page-size\":_vm.messagesOrderBydate,\"collapsible\":true}}):[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasFollowUpEnvelopes),expression:\"hasFollowUpEnvelopes\"}],staticClass:\"app-content-list-item\"},[_c('SectionTitle',{staticClass:\"section-title\",attrs:{\"name\":_vm.t('mail', 'Follow up')}}),_vm._v(\" \"),_c('Popover',{attrs:{\"trigger\":\"hover focus\"},scopedSlots:_vm._u([{key:\"trigger\",fn:function(){return [_c('ButtonVue',{staticClass:\"button\",attrs:{\"type\":\"tertiary-no-background\",\"aria-label\":_vm.t('mail', 'Follow up info')},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconInfo',{attrs:{\"size\":20}})]},proxy:true}])})]},proxy:true}])},[_vm._v(\" \"),_c('p',{staticClass:\"section-header-info\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.followupInfo)+\"\\n\\t\\t\\t\\t\\t\\t\\t\")])])],1),_vm._v(\" \"),_c('Mailbox',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasFollowUpEnvelopes),expression:\"hasFollowUpEnvelopes\"}],attrs:{\"load-more-label\":_vm.t('mail', 'Load more follow ups'),\"account\":_vm.unifiedAccount,\"mailbox\":_vm.followUpMailbox,\"search-query\":_vm.appendToSearch(_vm.followUpQuery),\"paginate\":'manual',\"is-priority-inbox\":true,\"initial-page-size\":_vm.followUpMessagesInitialPageSize,\"collapsible\":true,\"bus\":_vm.bus}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasImportantEnvelopes),expression:\"hasImportantEnvelopes\"}],staticClass:\"app-content-list-item\"},[_c('SectionTitle',{staticClass:\"section-title important\",attrs:{\"name\":_vm.t('mail', 'Important')}}),_vm._v(\" \"),_c('Popover',{attrs:{\"trigger\":\"hover focus\"},scopedSlots:_vm._u([{key:\"trigger\",fn:function(){return [_c('ButtonVue',{staticClass:\"button\",attrs:{\"type\":\"tertiary-no-background\",\"aria-label\":_vm.t('mail', 'Important info')},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconInfo',{attrs:{\"size\":20}})]},proxy:true}])})]},proxy:true}])},[_vm._v(\" \"),_c('p',{staticClass:\"section-header-info\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.importantInfo)+\"\\n\\t\\t\\t\\t\\t\\t\\t\")])])],1),_vm._v(\" \"),_c('Mailbox',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasImportantEnvelopes),expression:\"hasImportantEnvelopes\"}],staticClass:\"nameimportant\",attrs:{\"load-more-label\":_vm.t('mail', 'Load more important messages'),\"account\":_vm.unifiedAccount,\"mailbox\":_vm.unifiedInbox,\"search-query\":_vm.appendToSearch(_vm.priorityImportantQuery),\"paginate\":'manual',\"is-priority-inbox\":true,\"initial-page-size\":_vm.importantMessagesInitialPageSize,\"collapsible\":true,\"bus\":_vm.bus}}),_vm._v(\" \"),_c('SectionTitle',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasImportantEnvelopes),expression:\"hasImportantEnvelopes\"}],staticClass:\"app-content-list-item section-title other\",attrs:{\"name\":_vm.t('mail', 'Other')}}),_vm._v(\" \"),_c('Mailbox',{staticClass:\"nameother\",attrs:{\"load-more-label\":_vm.t('mail', 'Load more other messages'),\"account\":_vm.unifiedAccount,\"mailbox\":_vm.unifiedInbox,\"search-query\":_vm.appendToSearch(_vm.priorityOtherQuery),\"is-priority-inbox\":true,\"bus\":_vm.bus}})]],2)],1)]},proxy:true}])},[_vm._v(\" \"),(_vm.showThread)?_c('Thread',{attrs:{\"current-account-email\":_vm.account.emailAddress},on:{\"delete\":_vm.deleteMessage}}):(_vm.hasEnvelopes)?_c('NoMessageSelected'):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<NcEmptyContent :name=\"t('mail', 'Pending or not sent messages will show up here')\" class=\"empty-content\">\n\t\t<template #icon>\n\t\t\t<IconMail />\n\t\t</template>\n\t</NcEmptyContent>\n</template>\n\n<script>\nimport IconMail from 'vue-material-design-icons/EmailOutline.vue'\nimport NcEmptyContent from '@nextcloud/vue/components/NcEmptyContent'\n\nexport default {\n\tname: 'OutboxMessageContent',\n\tcomponents: {\n\t\tIconMail,\n\t\tNcEmptyContent,\n\t},\n}\n</script>\n\n<style scoped>\n.empty-content{\n\theight: 100%;\n\tdisplay: flex;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OutboxMessageContent.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OutboxMessageContent.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OutboxMessageContent.vue?vue&type=style&index=0&id=2a79703f&prod&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OutboxMessageContent.vue?vue&type=style&index=0&id=2a79703f&prod&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./OutboxMessageContent.vue?vue&type=template&id=2a79703f&scoped=true\"\nimport script from \"./OutboxMessageContent.vue?vue&type=script&lang=js\"\nexport * from \"./OutboxMessageContent.vue?vue&type=script&lang=js\"\nimport style0 from \"./OutboxMessageContent.vue?vue&type=style&index=0&id=2a79703f&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a79703f\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('NcEmptyContent',{staticClass:\"empty-content\",attrs:{\"name\":_vm.t('mail', 'Pending or not sent messages will show up here')},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconMail')]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nexport default {\n\tcomputed: {\n\t\trecipients() {\n\t\t\tconst to = this.message.to ?? []\n\t\t\tconst cc = this.message.cc ?? []\n\t\t\treturn [...to, ...cc]\n\t\t},\n\t\tavatarDisplayName() {\n\t\t\treturn this.recipients[0]?.label ?? this.recipients[0]?.email ?? '?'\n\t\t},\n\t\tavatarEmail() {\n\t\t\treturn this.recipients[0]?.email ?? ''\n\t\t},\n\t},\n}\n","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<ListItem class=\"outbox-message\"\n\t\t:class=\"{ selected }\"\n\t\t:name=\"title\"\n\t\t:details=\"details\"\n\t\t@click=\"openModal\">\n\t\t<template #icon>\n\t\t\t<Avatar :display-name=\"avatarDisplayName\"\n\t\t\t\t:email=\"avatarEmail\"\n\t\t\t\t:fetch-avatar=\"false\"\n\t\t\t\t:avatar=\"message.avatar\" />\n\t\t</template>\n\t\t<template #subname>\n\t\t\t{{ subjectForSubtitle }}\n\t\t</template>\n\t\t<template #actions>\n\t\t\t<ActionButton v-if=\"message.status === statusImapSentMailboxFail()\"\n\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t@click=\"sendMessageNow\">\n\t\t\t\t{{ t('mail', 'Copy to \"Sent\" Folder') }}\n\t\t\t\t<template #icon>\n\t\t\t\t\t<Copy :title=\"t('mail', 'Copy to Sent Folder')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t</ActionButton>\n\t\t\t<ActionButton v-if=\"message.status !== statusImapSentMailboxFail() && message.status !== statusSmtpError()\"\n\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t@click=\"sendMessageNow\">\n\t\t\t\t{{ t('mail', 'Send now') }}\n\t\t\t\t<template #icon>\n\t\t\t\t\t<Send :title=\"t('mail', 'Send now')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t</ActionButton>\n\t\t\t<ActionButton :close-after-click=\"true\"\n\t\t\t\t@click=\"deleteMessage\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconDelete :size=\"24\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Delete') }}\n\t\t\t</ActionButton>\n\t\t</template>\n\t</ListItem>\n</template>\n\n<script>\nimport { NcListItem as ListItem, NcActionButton as ActionButton } from '@nextcloud/vue'\nimport Avatar from './Avatar.vue'\nimport IconDelete from 'vue-material-design-icons/TrashCanOutline.vue'\nimport { getLanguage, translate as t } from '@nextcloud/l10n'\nimport OutboxAvatarMixin from '../mixins/OutboxAvatarMixin.js'\nimport moment from '@nextcloud/moment'\nimport logger from '../logger.js'\nimport { showError, showSuccess } from '@nextcloud/dialogs'\nimport { matchError } from '../errors/match.js'\nimport Send from 'vue-material-design-icons/SendOutline.vue'\nimport Copy from 'vue-material-design-icons/ContentCopy.vue'\nimport {\n\tSTATUS_RAW,\n\tSTATUS_IMAP_SENT_MAILBOX_FAIL,\n\tSTATUS_SMTP_ERROR,\n\tUNDO_DELAY,\n} from '../store/constants.js'\nimport useOutboxStore from '../store/outboxStore.js'\nimport useMainStore from '../store/mainStore.js'\nimport { mapStores } from 'pinia'\n\nexport default {\n\tname: 'OutboxMessageListItem',\n\tcomponents: {\n\t\tListItem,\n\t\tAvatar,\n\t\tActionButton,\n\t\tIconDelete,\n\t\tSend,\n\t\tCopy,\n\t},\n\tmixins: [\n\t\tOutboxAvatarMixin,\n\t],\n\tprops: {\n\t\tmessage: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\t...mapStores(useOutboxStore, useMainStore),\n\t\tselected() {\n\t\t\treturn this.$route.params.messageId === this.message.id\n\t\t},\n\t\ttitle() {\n\t\t\tconst recipientToString = recipient => recipient.label\n\t\t\tconst recipients = this.message.to.map(recipientToString)\n\t\t\t\t.concat(this.message.cc.map(recipientToString))\n\t\t\t\t.concat(this.message.bcc.map(recipientToString))\n\t\t\tconst formatter = new Intl.ListFormat(getLanguage(), { type: 'conjunction' })\n\t\t\treturn formatter.format(recipients)\n\t\t},\n\t\tdetails() {\n\t\t\tif (this.message.status === STATUS_IMAP_SENT_MAILBOX_FAIL) {\n\t\t\t\treturn this.t('mail', 'Could not copy to \"Sent\" folder')\n\t\t\t} else if (this.message.status === STATUS_SMTP_ERROR) {\n\t\t\t\treturn this.t('mail', 'Mail server error')\n\t\t\t} else if (this.message.status !== STATUS_RAW) {\n\t\t\t\treturn this.t('mail', 'Message could not be sent')\n\t\t\t}\n\t\t\tif (!this.message.sendAt) {\n\t\t\t\treturn ''\n\t\t\t}\n\t\t\treturn moment.unix(this.message.sendAt).fromNow()\n\t\t},\n\t\t/**\n\t\t * Subject of message or \"No Subject\".\n\t\t *\n\t\t * @return {string}\n\t\t */\n\t\tsubjectForSubtitle() {\n\t\t\t// We have to use || here (instead of ??) because the subject might be '', null\n\t\t\t// or undefined.\n\t\t\treturn this.message.subject || this.t('mail', 'No subject')\n\t\t},\n\t},\n\tmethods: {\n\t\tstatusImapSentMailboxFail() {\n\t\t\treturn STATUS_IMAP_SENT_MAILBOX_FAIL\n\t\t},\n\t\tstatusSmtpError() {\n\t\t\treturn STATUS_SMTP_ERROR\n\t\t},\n\t\tasync deleteMessage() {\n\t\t\ttry {\n\t\t\t\tawait this.outboxStore.deleteMessage({\n\t\t\t\t\tid: this.message.id,\n\t\t\t\t})\n\t\t\t\tshowSuccess(t('mail', 'Message deleted'))\n\t\t\t} catch (error) {\n\t\t\t\tshowError(await matchError(error, {\n\t\t\t\t\tdefault(error) {\n\t\t\t\t\t\tlogger.error('could not delete message', error)\n\t\t\t\t\t\treturn t('mail', 'Could not delete message')\n\t\t\t\t\t},\n\t\t\t\t}))\n\t\t\t}\n\t\t},\n\t\tasync sendMessageNow() {\n\t\t\tconst message = {\n\t\t\t\t...this.message,\n\t\t\t\tfailed: false,\n\t\t\t\tsendAt: (new Date().getTime() + UNDO_DELAY) / 1000,\n\t\t\t}\n\t\t\tawait this.outboxStore.updateMessage({ message, id: message.id })\n\t\t\ttry {\n\t\t\t\tif (this.message.status !== STATUS_IMAP_SENT_MAILBOX_FAIL) {\n\t\t\t\t\tawait this.outboxStore.sendMessageWithUndo({ id: message.id })\n\t\t\t\t} else {\n\t\t\t\t\tawait this.outboxStore.copyMessageToSentMailbox({ id: message.id })\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('Could not send or copy message', { error })\n\t\t\t\tif (error.data !== undefined) {\n\t\t\t\t\tawait this.outboxStore.updateMessage({ message: error.data[0], id: message.id })\n\t\t\t\t}\n\n\t\t\t}\n\t\t},\n\t\tasync openModal() {\n\t\t\tif (this.message.status === STATUS_IMAP_SENT_MAILBOX_FAIL) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tawait this.mainStore.startComposerSession({\n\t\t\t\ttype: 'outbox',\n\t\t\t\tdata: { ...this.message },\n\t\t\t})\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.outbox-message {\n\tlist-style: none;\n\t&.active {\n\t\tbackground-color: var(--color-background-dark);\n\t\tborder-radius: 16px;\n\t}\n\n\t.account-color {\n\t\tposition: absolute;\n\t\tinset-inline-start: 0;\n\t\twidth: 2px;\n\t\theight: 69px;\n\t\tz-index: 1;\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OutboxMessageListItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OutboxMessageListItem.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OutboxMessageListItem.vue?vue&type=style&index=0&id=1a5facf2&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OutboxMessageListItem.vue?vue&type=style&index=0&id=1a5facf2&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./OutboxMessageListItem.vue?vue&type=template&id=1a5facf2&scoped=true\"\nimport script from \"./OutboxMessageListItem.vue?vue&type=script&lang=js\"\nexport * from \"./OutboxMessageListItem.vue?vue&type=script&lang=js\"\nimport style0 from \"./OutboxMessageListItem.vue?vue&type=style&index=0&id=1a5facf2&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1a5facf2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('ListItem',{staticClass:\"outbox-message\",class:{ selected: _vm.selected },attrs:{\"name\":_vm.title,\"details\":_vm.details},on:{\"click\":_vm.openModal},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('Avatar',{attrs:{\"display-name\":_vm.avatarDisplayName,\"email\":_vm.avatarEmail,\"fetch-avatar\":false,\"avatar\":_vm.message.avatar}})]},proxy:true},{key:\"subname\",fn:function(){return [_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.subjectForSubtitle)+\"\\n\\t\")]},proxy:true},{key:\"actions\",fn:function(){return [(_vm.message.status === _vm.statusImapSentMailboxFail())?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":_vm.sendMessageNow},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('Copy',{attrs:{\"title\":_vm.t('mail', 'Copy to Sent Folder'),\"size\":20}})]},proxy:true}],null,false,576377615)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Copy to \"Sent\" Folder'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.message.status !== _vm.statusImapSentMailboxFail() && _vm.message.status !== _vm.statusSmtpError())?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":_vm.sendMessageNow},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('Send',{attrs:{\"title\":_vm.t('mail', 'Send now'),\"size\":20}})]},proxy:true}],null,false,3526798808)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Send now'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":_vm.deleteMessage},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconDelete',{attrs:{\"size\":24}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Delete'))+\"\\n\\t\\t\")])]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Outbox.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Outbox.vue?vue&type=script&lang=js\"","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<AppContent pane-config-key=\"mail\"\n\t\t:show-details=\"isMessageShown\"\n\t\t@update:showDetails=\"hideMessage\">\n\t\t<OutboxMessageContent />\n\t\t<!-- List -->\n\t\t<template #list>\n\t\t\t<AppContentList>\n\t\t\t\t<Error v-if=\"error\"\n\t\t\t\t\t:error=\"t('mail', 'Could not open outbox')\"\n\t\t\t\t\tmessage=\"\"\n\t\t\t\t\trole=\"alert\" />\n\t\t\t\t<LoadingSkeleton v-else-if=\"loading\" />\n\t\t\t\t<EmptyMailbox v-else-if=\"messages.length === 0\" />\n\t\t\t\t<OutboxMessageListItem v-for=\"message in messages\"\n\t\t\t\t\tv-else\n\t\t\t\t\t:key=\"message.id\"\n\t\t\t\t\t:message=\"message\" />\n\t\t\t</AppContentList>\n\t\t</template>\n\t</AppContent>\n</template>\n\n<script>\nimport { NcAppContent as AppContent, NcAppContentList as AppContentList } from '@nextcloud/vue'\nimport LoadingSkeleton from './LoadingSkeleton.vue'\nimport Error from './Error.vue'\nimport EmptyMailbox from './EmptyMailbox.vue'\nimport OutboxMessageContent from './OutboxMessageContent.vue'\nimport OutboxMessageListItem from './OutboxMessageListItem.vue'\nimport logger from '../logger.js'\nimport useOutboxStore from '../store/outboxStore.js'\nimport { mapStores } from 'pinia'\n\nexport default {\n\tname: 'Outbox',\n\tcomponents: {\n\t\tAppContent,\n\t\tAppContentList,\n\t\tError,\n\t\tLoadingSkeleton,\n\t\tEmptyMailbox,\n\t\tOutboxMessageListItem,\n\t\tOutboxMessageContent,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\terror: false,\n\t\t\tloading: false,\n\t\t\trefreshInterval: undefined,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useOutboxStore),\n\t\tisMessageShown() {\n\t\t\treturn !!this.$route.params.messageId\n\t\t},\n\t\tcurrentMessage() {\n\t\t\tif (!this.isMessageShown) {\n\t\t\t\treturn null\n\t\t\t}\n\n\t\t\treturn this.outboxStore.getMessage(this.$route.params.messageId)\n\t\t},\n\t\tmessages() {\n\t\t\treturn this.outboxStore.getAllMessages\n\t\t},\n\t},\n\tcreated() {\n\t\t// Reload outbox contents every 60 seconds\n\t\tthis.refreshInterval = setInterval(async () => {\n\t\t\tawait this.fetchMessages()\n\t\t}, 60000)\n\t},\n\tasync mounted() {\n\t\tawait this.fetchMessages()\n\t},\n\tdestroyed() {\n\t\tclearInterval(this.refreshInterval)\n\t},\n\tmethods: {\n\t\thideMessage() {\n\t\t\tthis.$router.push({\n\t\t\t\tname: 'outbox',\n\t\t\t})\n\t\t},\n\t\tasync fetchMessages() {\n\t\t\tthis.loading = true\n\t\t\tthis.error = false\n\n\t\t\ttry {\n\t\t\t\tawait this.outboxStore.fetchMessages()\n\t\t\t} catch (error) {\n\t\t\t\tthis.error = true\n\t\t\t\tlogger.error('Failed to fetch outbox messages', { error })\n\t\t\t}\n\n\t\t\tthis.loading = false\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n:deep(.button-vue--vue-secondary) {\n\tbox-shadow: none;\n}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Outbox.vue?vue&type=style&index=0&id=764c6f5c&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Outbox.vue?vue&type=style&index=0&id=764c6f5c&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Outbox.vue?vue&type=template&id=764c6f5c&scoped=true\"\nimport script from \"./Outbox.vue?vue&type=script&lang=js\"\nexport * from \"./Outbox.vue?vue&type=script&lang=js\"\nimport style0 from \"./Outbox.vue?vue&type=style&index=0&id=764c6f5c&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"764c6f5c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('AppContent',{attrs:{\"pane-config-key\":\"mail\",\"show-details\":_vm.isMessageShown},on:{\"update:showDetails\":_vm.hideMessage},scopedSlots:_vm._u([{key:\"list\",fn:function(){return [_c('AppContentList',[(_vm.error)?_c('Error',{attrs:{\"error\":_vm.t('mail', 'Could not open outbox'),\"message\":\"\",\"role\":\"alert\"}}):(_vm.loading)?_c('LoadingSkeleton'):(_vm.messages.length === 0)?_c('EmptyMailbox'):_vm._l((_vm.messages),function(message){return _c('OutboxMessageListItem',{key:message.id,attrs:{\"message\":message}})})],2)]},proxy:true}])},[_c('OutboxMessageContent')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"composer-session\",class:{'composer-session--disabled': _vm.disabled},on:{\"click\":_vm.onShowComposer}},[_c('div',{staticClass:\"composer-session__icon\"},[_c('PencilIcon',{attrs:{\"size\":20}})],1),_vm._v(\" \"),_c('div',{staticClass:\"composer-session__text\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.title)+\"\\n\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"composer-session__actions\"},[_c('NcActions',[_c('NcActionButton',{attrs:{\"aria-label\":_vm.t('mail', 'Expand composer'),\"disabled\":_vm.disabled},on:{\"click\":function($event){$event.stopPropagation();return _vm.onShowComposer.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ArrowExpandIcon',{attrs:{\"size\":20}})]},proxy:true}])})],1),_vm._v(\" \"),_c('NcActions',[_c('NcActionButton',{attrs:{\"aria-label\":_vm.t('mail', 'Close composer'),\"disabled\":_vm.disabled},on:{\"click\":function($event){$event.stopPropagation();return _vm.onClose.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('CloseIcon',{attrs:{\"size\":20}})]},proxy:true}])})],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div class=\"composer-session\"\n\t\t:class=\"{'composer-session--disabled': disabled}\"\n\t\t@click=\"onShowComposer\">\n\t\t<div class=\"composer-session__icon\">\n\t\t\t<PencilIcon :size=\"20\" />\n\t\t</div>\n\n\t\t<div class=\"composer-session__text\">\n\t\t\t{{ title }}\n\t\t</div>\n\n\t\t<div class=\"composer-session__actions\">\n\t\t\t<NcActions>\n\t\t\t\t<NcActionButton :aria-label=\"t('mail', 'Expand composer')\"\n\t\t\t\t\t:disabled=\"disabled\"\n\t\t\t\t\t@click.stop=\"onShowComposer\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<ArrowExpandIcon :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t</NcActionButton>\n\t\t\t</NcActions>\n\t\t\t<NcActions>\n\t\t\t\t<NcActionButton :aria-label=\"t('mail', 'Close composer')\"\n\t\t\t\t\t:disabled=\"disabled\"\n\t\t\t\t\t@click.stop=\"onClose\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<CloseIcon :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t</NcActionButton>\n\t\t\t</NcActions>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { NcActions, NcActionButton } from '@nextcloud/vue'\nimport PencilIcon from 'vue-material-design-icons/PencilOutline.vue'\nimport ArrowExpandIcon from 'vue-material-design-icons/ArrowExpand.vue'\nimport CloseIcon from 'vue-material-design-icons/Close.vue'\nimport useMainStore from '../store/mainStore.js'\nimport { mapStores, mapState } from 'pinia'\n\nexport default {\n\tname: 'ComposerSessionIndicator',\n\tcomponents: {\n\t\tNcActions,\n\t\tNcActionButton,\n\t\tPencilIcon,\n\t\tArrowExpandIcon,\n\t\tCloseIcon,\n\t},\n\tdata() {\n\t\treturn {\n\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t\t...mapState(useMainStore, ['composerMessage']),\n\t\ttitle() {\n\t\t\treturn this.composerMessage?.data.subject || t('mail', 'Untitled message')\n\t\t},\n\t\tdisabled() {\n\t\t\treturn this.composerMessage?.indicatorDisabled ?? false\n\t\t},\n\t},\n\tmethods: {\n\t\tasync onShowComposer() {\n\t\t\tif (this.disabled) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tawait this.mainStore.showMessageComposerMutation()\n\t\t},\n\t\tonClose() {\n\t\t\tif (this.disabled) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.$emit('close')\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.composer-session {\n\tposition: fixed;\n\tbottom: calc(var(--body-container-margin) + var(--default-grid-baseline));\n\tinset-inline-end: calc(var(--body-container-margin) + var(--default-grid-baseline));\n\tz-index: 1000;\n\n\tdisplay: flex;\n\talign-items: center;\n\tgap: var(--default-grid-baseline);\n\n\twidth: 360px;\n\tpadding: 0 calc(var(--default-grid-baseline) * 2);\n\n\t// Retain border radius from outer body container for visual consistency\n\tborder-radius: var(--body-container-radius);\n\n\t// Mobile\n\t@media (max-width: 1024px) {\n\t\twidth: calc(100% - 2 * var(--default-grid-baseline));\n\t\theight: 44px;\n\t\tborder-radius: var(--border-radius-pill);\n\t}\n\n\t// Conditional hover and pointer styles\n\tbackground-color: var(--color-primary-element-light);\n\t&:not(&--disabled) {\n\t\t&:hover {\n\t\t\tbackground-color: var(--color-primary-element-light-hover);\n\t\t}\n\n\t\t&, * {\n\t\t\tcursor: pointer;\n\t\t}\n\t}\n\n\t&__icon {\n\t\twidth: 44px;\n\t}\n\n\t&__text {\n\t\tflex: 1 auto;\n\t\tfont-weight: bold;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t}\n\n\t&__actions {\n\t\tdisplay: flex;\n\t\tflex-shrink: 0;\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComposerSessionIndicator.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComposerSessionIndicator.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComposerSessionIndicator.vue?vue&type=style&index=0&id=9f4f667e&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComposerSessionIndicator.vue?vue&type=style&index=0&id=9f4f667e&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ComposerSessionIndicator.vue?vue&type=template&id=9f4f667e&scoped=true\"\nimport script from \"./ComposerSessionIndicator.vue?vue&type=script&lang=js\"\nexport * from \"./ComposerSessionIndicator.vue?vue&type=script&lang=js\"\nimport style0 from \"./ComposerSessionIndicator.vue?vue&type=style&index=0&id=9f4f667e&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9f4f667e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js\"","<!--\n  - SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<NcContent app-name=\"mail\" class=\"mail-content\">\n\t\t<Navigation />\n\t\t<Outbox v-if=\"$route.name === 'outbox'\" />\n\t\t<MailboxThread v-else-if=\"activeAccount\"\n\t\t\t:account=\"activeAccount\"\n\t\t\t:mailbox=\"activeMailbox\" />\n\n\t\t<template v-if=\"hasComposerSession && accounts !== null\">\n\t\t\t<ComposerSessionIndicator @close=\"onCloseMessageModal\" />\n\t\t\t<NewMessageModal ref=\"newMessageModal\" :accounts=\"accounts\" />\n\t\t</template>\n\t</NcContent>\n</template>\n\n<script>\nimport { NcContent } from '@nextcloud/vue'\nimport isMobile from '@nextcloud/vue/dist/Mixins/isMobile.js'\n\nimport '../../css/mail.scss'\nimport '../../css/mobile.scss'\n\nimport { testAccountConnection } from '../service/AccountService.js'\nimport logger from '../logger.js'\nimport MailboxThread from '../components/MailboxThread.vue'\nimport Navigation from '../components/Navigation.vue'\nimport Outbox from '../components/Outbox.vue'\nimport ComposerSessionIndicator from '../components/ComposerSessionIndicator.vue'\nimport { mapState, mapStores } from 'pinia'\nimport useMainStore from '../store/mainStore.js'\n\nexport default {\n\tname: 'Home',\n\tcomponents: {\n\t\tNcContent,\n\t\tMailboxThread,\n\t\tNavigation,\n\t\tNewMessageModal: () => import(/* webpackChunkName: \"new-message-modal\" */ '../components/NewMessageModal.vue'),\n\t\tOutbox,\n\t\tComposerSessionIndicator,\n\t},\n\tmixins: [isMobile],\n\tdata() {\n\t\treturn {\n\t\t\thasComposerSession: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t\t...mapState(useMainStore, ['composerSessionId']),\n\t\taccounts() {\n\t\t\treturn this.mainStore.getAccounts.filter((a) => !a.isUnified)\n\t\t},\n\t\tactiveAccount() {\n\t\t\treturn this.mainStore.getAccount(this.activeMailbox?.accountId)\n\t\t},\n\t\tactiveMailbox() {\n\t\t\treturn this.mainStore.getMailbox(this.$route.params.mailboxId)\n\t\t},\n\t},\n\twatch: {\n\t\tasync composerSessionId(id) {\n\t\t\t// Session was closed or discarded\n\t\t\tif (!id) {\n\t\t\t\tthis.hasComposerSession = false\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// A new session is replacing the old session.  Fully reset the NewMessageModal\n\t\t\t// component in this case and wait for the template to fully render before showing the\n\t\t\t// modal again.\n\t\t\tif (this.hasComposerSession) {\n\t\t\t\tthis.hasComposerSession = false\n\t\t\t\tawait this.$nextTick()\n\t\t\t}\n\n\t\t\tthis.hasComposerSession = true\n\t\t},\n\t},\n\tasync beforeMount() {\n\t\tfor (const account of this.accounts) {\n\t\t\tawait this.mainStore.patchAccountMutation({\n\t\t\t\taccount,\n\t\t\t\tdata: { connectionStatus: await testAccountConnection(account.accountId) },\n\t\t\t})\n\t\t}\n\t},\n\tcreated() {\n\t\tconst accounts = this.mainStore.getAccounts\n\t\tlet startMailboxId = this.mainStore.getPreference('start-mailbox-id')\n\t\tif (startMailboxId && !this.mainStore.getMailbox(startMailboxId)) {\n\t\t\t// The start ID is set but the mailbox doesn't exist anymore\n\t\t\tstartMailboxId = null\n\t\t}\n\n\t\tif (this.$route.name === 'home' && accounts.length > 1 && startMailboxId) {\n\t\t\tlogger.debug('Loading start folder', { id: startMailboxId })\n\t\t\tthis.$router.replace({\n\t\t\t\tname: 'mailbox',\n\t\t\t\tparams: {\n\t\t\t\t\tmailboxId: startMailboxId,\n\t\t\t\t},\n\t\t\t})\n\t\t} else if (this.$route.name === 'home' && accounts.length > 1) {\n\t\t\t// Show first account\n\t\t\tconst firstAccount = accounts[0]\n\t\t\t// FIXME: this assumes that there's at least one mailbox\n\t\t\tconst firstMailbox = this.mainStore.getMailboxes(firstAccount.id)[0]\n\n\t\t\tconsole.debug('loading first mailbox of first account', firstAccount.id, firstMailbox.databaseId)\n\n\t\t\tthis.$router.replace({\n\t\t\t\tname: 'mailbox',\n\t\t\t\tparams: {\n\t\t\t\t\tmailboxId: firstMailbox.databaseId,\n\t\t\t\t},\n\t\t\t})\n\t\t} else if (this.$route.name === 'home' && accounts.length === 1) {\n\t\t\tlogger.debug('the only account we have is the unified one -> show the setup page')\n\t\t\tthis.$router.replace({\n\t\t\t\tname: 'setup',\n\t\t\t})\n\t\t} else if (this.$route.name === 'mailto') {\n\t\t\tif (accounts.length === 0) {\n\t\t\t\tconsole.error('cannot handle mailto:, no accounts configured')\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// Show first account\n\t\t\tconst firstAccount = accounts[0]\n\t\t\t// FIXME: this assumes that there's at least one mailbox\n\t\t\tconst firstMailbox = this.mainStore.getMailboxes(firstAccount.id)[0]\n\n\t\t\tconsole.debug('loading composer with first account and folder', firstAccount.id, firstMailbox.id)\n\n\t\t\tthis.$router.replace({\n\t\t\t\tname: 'message',\n\t\t\t\tparams: {\n\t\t\t\t\tmailboxId: firstMailbox.databaseId,\n\t\t\t\t\tthreadId: 'mailto',\n\t\t\t\t},\n\t\t\t\tquery: {\n\t\t\t\t\tto: this.$route.query.to,\n\t\t\t\t\tcc: this.$route.query.cc,\n\t\t\t\t\tbcc: this.$route.query.bcc,\n\t\t\t\t\tsubject: this.$route.query.subject,\n\t\t\t\t\tbody: this.$route.query.body,\n\t\t\t\t},\n\t\t\t})\n\t\t}\n\t},\n\tmethods: {\n\t\thideMessage() {\n\t\t\tthis.$router.replace({\n\t\t\t\tname: 'mailbox',\n\t\t\t\tparams: {\n\t\t\t\t\tmailboxId: this.$route.params.mailboxId,\n\t\t\t\t\tfilter: this.$route.params?.filter,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\tasync onCloseMessageModal() {\n\t\t\tawait this.$refs.newMessageModal.onClose()\n\t\t},\n\t},\n}\n\n</script>\n\n<style lang=\"scss\">\n@media print {\n\tbody {\n\t\t/*\n\t\t * Nextcloud uses an inner scrolling but we need the\n\t\t * full page to scroll for print\n\t\t */\n\t\tposition: relative;\n\t\theight: initial;\n\t}\n}\n</style>\n\n<style lang=\"scss\" scoped>\n@media print {\n\t.mail-content {\n\t\theight: initial;\n\t\t/* needs important because of a more specific selector */\n\t\tposition: relative !important;\n\t}\n}\n\n:deep(.app-content-details) {\n\tmargin: 0 auto;\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex: 1 1 100%;\n\tmin-width: 70%;\n}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=fea0252e&prod&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=fea0252e&prod&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=1&id=fea0252e&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=1&id=fea0252e&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=fea0252e&scoped=true\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=fea0252e&prod&lang=scss\"\nimport style1 from \"./Home.vue?vue&type=style&index=1&id=fea0252e&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fea0252e\",\n  null\n  \n)\n\nexport default component.exports","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.message-source[data-v-58097824]{padding:0 calc(var(--default-grid-baseline)*4)}.message-source h2[data-v-58097824]{margin-top:0;margin-bottom:0}.message-source pre[data-v-58097824]{font-family:monospace;white-space:pre-wrap;user-select:text}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/SourceModal.vue\"],\"names\":[],\"mappings\":\"AACA,iCACC,8CAAA,CAEA,oCACC,YAAA,CACA,eAAA,CAGD,qCACC,qBAAA,CACA,oBAAA,CACA,gBAAA\",\"sourcesContent\":[\"\\n.message-source {\\n\\tpadding: 0 calc(var(--default-grid-baseline) * 4);\\n\\n\\th2 {\\n\\t\\tmargin-top: 0;\\n\\t\\tmargin-bottom: 0;\\n\\t}\\n\\n\\tpre {\\n\\t\\tfont-family: monospace;\\n\\t\\twhite-space: pre-wrap;\\n\\t\\tuser-select: text;\\n\\t}\\n\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `@media print{.mail-content[data-v-fea0252e]{height:initial;position:relative !important}}[data-v-fea0252e] .app-content-details{margin:0 auto;display:flex;flex-direction:column;flex:1 1 100%;min-width:70%}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/views/Home.vue\"],\"names\":[],\"mappings\":\"AACA,aACC,+BACC,cAAA,CAEA,4BAAA,CAAA,CAIF,uCACC,aAAA,CACA,YAAA,CACA,qBAAA,CACA,aAAA,CACA,aAAA\",\"sourcesContent\":[\"\\n@media print {\\n\\t.mail-content {\\n\\t\\theight: initial;\\n\\t\\t/* needs important because of a more specific selector */\\n\\t\\tposition: relative !important;\\n\\t}\\n}\\n\\n:deep(.app-content-details) {\\n\\tmargin: 0 auto;\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tflex: 1 1 100%;\\n\\tmin-width: 70%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.empty-content[data-v-2a79703f]{\n\theight: 100%;\n\tdisplay: flex;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/OutboxMessageContent.vue\"],\"names\":[],\"mappings\":\";AA0BA;CACA,YAAA;CACA,aAAA;AACA\",\"sourcesContent\":[\"<!--\\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\\n  - SPDX-License-Identifier: AGPL-3.0-or-later\\n-->\\n<template>\\n\\t<NcEmptyContent :name=\\\"t('mail', 'Pending or not sent messages will show up here')\\\" class=\\\"empty-content\\\">\\n\\t\\t<template #icon>\\n\\t\\t\\t<IconMail />\\n\\t\\t</template>\\n\\t</NcEmptyContent>\\n</template>\\n\\n<script>\\nimport IconMail from 'vue-material-design-icons/EmailOutline.vue'\\nimport NcEmptyContent from '@nextcloud/vue/components/NcEmptyContent'\\n\\nexport default {\\n\\tname: 'OutboxMessageContent',\\n\\tcomponents: {\\n\\t\\tIconMail,\\n\\t\\tNcEmptyContent,\\n\\t},\\n}\\n</script>\\n\\n<style scoped>\\n.empty-content{\\n\\theight: 100%;\\n\\tdisplay: flex;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.sender[data-v-4581629e]{margin-inline-start:calc(var(--default-grid-baseline)*2)}.sender__email[data-v-4581629e]{text-overflow:ellipsis;overflow:hidden}.right[data-v-4581629e]{display:flex;flex-direction:row;align-items:center;justify-content:flex-end;margin-inline-start:calc(var(--default-grid-baseline)*2);height:44px}.right .app-content-list-item-menu[data-v-4581629e]{margin-inline-start:var(--default-grid-baseline)}.right .timestamp[data-v-4581629e]{margin-inline-end:calc(var(--default-grid-baseline)*2);color:var(--color-text-maxcontrast);white-space:nowrap;margin-bottom:0}.button[data-v-4581629e]{color:var(--color-main-background)}.button[data-v-4581629e]:not(.active):not(.primary){display:none}.button:not(.active):not(.primary).primary[data-v-4581629e]{background-color:var(--color-primary-element);opacity:1;margin-bottom:0}.envelope[data-v-4581629e]{display:flex;flex-direction:column;border:2px solid var(--color-border);border-radius:var(--border-radius-container-large);margin-inline:calc(var(--default-grid-baseline)*2);background-color:var(--color-main-background);padding-bottom:calc(var(--default-grid-baseline)*7);animation:show-4581629e 200ms 90ms cubic-bezier(0.17, 0.67, 0.83, 0.67) forwards;opacity:.5;transform-origin:top center}@keyframes show-4581629e{100%{opacity:1;transform:none}}.envelope+.envelope[data-v-4581629e]{margin-top:calc(var(--default-grid-baseline)*-7)}.envelope[data-v-4581629e]:last-of-type{margin-bottom:calc(var(--default-grid-baseline)*2);padding-bottom:0}.envelope__follow-up-header[data-v-4581629e]{display:flex;align-items:center;justify-content:flex-end;gap:calc(var(--default-grid-baseline)*4);padding:calc(var(--default-grid-baseline)*2)}.envelope__follow-up-header__date[data-v-4581629e]{flex-shrink:1}.envelope__follow-up-header__actions[data-v-4581629e]{flex-shrink:0;display:flex;gap:var(--default-grid-baseline)}.envelope__header[data-v-4581629e]{position:relative;display:flex;align-items:center;padding:var(--border-radius-element) var(--border-radius-container) var(--border-radius-container) var(--border-radius-container);border-radius:var(--border-radius);min-height:68px}.envelope__header__avatar[data-v-4581629e]{position:relative}.envelope__header__avatar-avatar[data-v-4581629e]{display:block}.envelope__header__avatar .app-content-list-item-star[data-v-4581629e]{position:absolute;cursor:pointer}.envelope__header__avatar .app-content-list-item-star.icon-important[data-v-4581629e]{background-image:none;opacity:1;width:16px;height:16px;display:flex;top:0px;inset-inline-start:0px}.envelope__header__avatar .app-content-list-item-star.icon-important[data-v-4581629e]:hover,.envelope__header__avatar .app-content-list-item-star.icon-important[data-v-4581629e]:focus{opacity:.5}.envelope__header__avatar .app-content-list-item-star.icon-important[data-v-4581629e] path{fill:#fc0;stroke:var(--color-main-background);cursor:pointer}.envelope__header__avatar .app-content-list-item-star.favorite-icon-style[data-v-4581629e]{display:inline-block;top:-2px;inset-inline-end:-2px;stroke:var(--color-main-background);stroke-width:2}.envelope__header__avatar .app-content-list-item-star.favorite-icon-style[data-v-4581629e]:hover{opacity:.5}.envelope__header__avatar .app-content-list-item-star.junk-icon-style[data-v-4581629e]{display:inline-block;bottom:-2px;inset-inline-end:-2px;opacity:.2}.envelope__header__avatar .app-content-list-item-star.junk-icon-style[data-v-4581629e]:hover{opacity:.1}.envelope__header__unsubscribe[data-v-4581629e]{color:var(--color-text-maxcontrast)}.envelope__header__left__sender-subject-tags[data-v-4581629e]{white-space:nowrap;width:100%}.envelope .subline[data-v-4581629e]{margin-inline-start:8px;color:var(--color-text-maxcontrast);cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.envelope--expanded[data-v-4581629e]{min-height:350px}.left[data-v-4581629e]{flex-grow:1;min-width:0;display:flex;position:relative;z-index:1;align-items:center}.left[data-v-4581629e]:not(.seen){font-weight:bold}.tag-group__label[data-v-4581629e]{margin:0 calc(var(--default-grid-baseline)*2);z-index:2;font-size:calc(var(--default-font-size)*.8);font-weight:bold;padding-inline:calc(var(--default-grid-baseline)*.5)}.tag-group__bg[data-v-4581629e]{position:absolute;width:100%;height:100%;top:0;inset-inline-start:0;opacity:15%}.tagline[data-v-4581629e]{display:flex;text-overflow:ellipsis;overflow:hidden}.tag-group[data-v-4581629e]{display:inline-block;border:1px solid rgba(0,0,0,0);border-radius:var(--border-radius-pill);position:relative;margin:0 1px;overflow:hidden;text-overflow:ellipsis;inset-inline-start:var(--default-grid-baseline)}.smime-text[data-v-4581629e]{padding-inline-start:calc(var(--default-grid-baseline)*3)}[data-v-4581629e] .action-button__name{font-weight:normal;display:inline;align-items:center}@media only screen and (max-width: 400px){.sender[data-v-4581629e]{text-overflow:ellipsis;overflow:hidden;width:180px}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/ThreadEnvelope.vue\"],\"names\":[],\"mappings\":\"AACA,yBACC,wDAAA,CACA,gCACC,sBAAA,CACA,eAAA,CAKF,wBACC,YAAA,CACA,kBAAA,CACA,kBAAA,CACA,wBAAA,CACA,wDAAA,CACA,WAAA,CAEA,oDACC,gDAAA,CAGD,mCACC,sDAAA,CACA,mCAAA,CACA,kBAAA,CACA,eAAA,CAIF,yBACC,kCAAA,CACA,oDACC,YAAA,CAEA,4DACC,6CAAA,CACA,SAAA,CACA,eAAA,CAMH,2BACC,YAAA,CACA,qBAAA,CACA,oCAAA,CACA,kDAAA,CACA,kDAAA,CACA,6CAAA,CACA,mDAAA,CACA,gFAAA,CACA,UAAA,CACA,2BAAA,CACA,yBACC,KACC,SAAA,CACA,cAAA,CAAA,CAIF,qCACC,gDAAA,CAGD,wCACC,kDAAA,CACA,gBAAA,CAGD,6CACC,YAAA,CACA,kBAAA,CACA,wBAAA,CACA,wCAAA,CACA,4CAAA,CAEA,mDACC,aAAA,CAGD,sDACC,aAAA,CACA,YAAA,CACA,gCAAA,CAIF,mCACC,iBAAA,CACA,YAAA,CACA,kBAAA,CACA,iIAAA,CACA,kCAAA,CACA,eAAA,CAEA,2CACC,iBAAA,CAEA,kDAKC,aAAA,CAGD,uEACC,iBAAA,CACA,cAAA,CAEA,sFACC,qBAAA,CACA,SAAA,CACA,UAAA,CACA,WAAA,CACA,YAAA,CACA,OAAA,CACA,sBAAA,CAEA,wLAEC,UAAA,CAGD,2FACC,SAAA,CACA,mCAAA,CACA,cAAA,CAGF,2FACC,oBAAA,CACA,QAAA,CACA,qBAAA,CAEA,mCAAA,CACA,cAAA,CACA,iGACC,UAAA,CAGF,uFACC,oBAAA,CACA,WAAA,CACA,qBAAA,CACA,UAAA,CACA,6FACC,UAAA,CAMJ,gDACC,mCAAA,CAED,8DACC,kBAAA,CACA,UAAA,CAIF,oCACC,uBAAA,CACA,mCAAA,CACA,cAAA,CACA,eAAA,CACA,sBAAA,CACA,kBAAA,CAGD,qCACC,gBAAA,CAIF,uBACC,WAAA,CACA,WAAA,CACA,YAAA,CACA,iBAAA,CACA,SAAA,CACA,kBAAA,CAGD,kCACC,gBAAA,CAGD,mCACC,6CAAA,CACA,SAAA,CACA,2CAAA,CACA,gBAAA,CACA,oDAAA,CAGD,gCACC,iBAAA,CACA,UAAA,CACA,WAAA,CACA,KAAA,CACA,oBAAA,CACA,WAAA,CAGD,0BACC,YAAA,CACA,sBAAA,CACA,eAAA,CAGD,4BACC,oBAAA,CACA,8BAAA,CACA,uCAAA,CACA,iBAAA,CACA,YAAA,CACA,eAAA,CACA,sBAAA,CACA,+CAAA,CAGD,6BAEC,yDAAA,CAGD,uCACC,kBAAA,CACA,cAAA,CACA,kBAAA,CAED,0CACC,yBACC,sBAAA,CACA,eAAA,CACA,WAAA,CAAA\",\"sourcesContent\":[\"\\n.sender {\\n\\tmargin-inline-start: calc(var(--default-grid-baseline) * 2);\\n\\t&__email{\\n\\t\\ttext-overflow: ellipsis;\\n\\t\\toverflow: hidden;\\n\\t}\\n\\n}\\n\\n.right {\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\talign-items: center;\\n\\tjustify-content: flex-end;\\n\\tmargin-inline-start: calc(var(--default-grid-baseline) * 2);\\n\\theight: 44px;\\n\\n\\t.app-content-list-item-menu {\\n\\t\\tmargin-inline-start: var(--default-grid-baseline);\\n\\t}\\n\\n\\t.timestamp {\\n\\t\\tmargin-inline-end: calc(var(--default-grid-baseline) * 2);\\n\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\twhite-space: nowrap;\\n\\t\\tmargin-bottom: 0;\\n\\t}\\n}\\n\\n.button {\\n\\tcolor: var(--color-main-background);\\n\\t&:not(.active):not(.primary) {\\n\\t\\tdisplay: none;\\n\\n\\t\\t&.primary {\\n\\t\\t\\tbackground-color: var(--color-primary-element);\\n\\t\\t\\topacity: 1;\\n\\t\\t\\tmargin-bottom: 0;\\n\\n\\t\\t}\\n\\t}\\n}\\n\\n.envelope {\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tborder: 2px solid var(--color-border);\\n\\tborder-radius: var(--border-radius-container-large);\\n\\tmargin-inline: calc(var(--default-grid-baseline) * 2);\\n\\tbackground-color: var(--color-main-background);\\n\\tpadding-bottom: calc(var(--default-grid-baseline) * 7);\\n\\tanimation: show 200ms 90ms cubic-bezier(.17, .67, .83, .67) forwards;\\n\\topacity: 0.5;\\n\\ttransform-origin: top center;\\n\\t@keyframes show {\\n\\t\\t100% {\\n\\t\\t\\topacity: 1;\\n\\t\\t\\ttransform: none;\\n\\t\\t}\\n\\t}\\n\\n\\t& + .envelope {\\n\\t\\tmargin-top: calc(var(--default-grid-baseline) * -7);\\n\\t}\\n\\n\\t&:last-of-type {\\n\\t\\tmargin-bottom: calc(var(--default-grid-baseline) * 2);\\n\\t\\tpadding-bottom: 0;\\n\\t}\\n\\n\\t&__follow-up-header {\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t\\tjustify-content: flex-end;\\n\\t\\tgap: calc(var(--default-grid-baseline) * 4);\\n\\t\\tpadding: calc(var(--default-grid-baseline) * 2);\\n\\n\\t\\t&__date {\\n\\t\\t\\tflex-shrink: 1;\\n\\t\\t}\\n\\n\\t\\t&__actions {\\n\\t\\t\\tflex-shrink: 0;\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\tgap: var(--default-grid-baseline);\\n\\t\\t}\\n\\t}\\n\\n\\t&__header {\\n\\t\\tposition: relative;\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t\\tpadding: var(--border-radius-element) var(--border-radius-container) var(--border-radius-container) var(--border-radius-container);\\n\\t\\tborder-radius: var(--border-radius);\\n\\t\\tmin-height: 68px; /* prevents jumping between open/collapsed */\\n\\n\\t\\t&__avatar {\\n\\t\\t\\tposition: relative;\\n\\n\\t\\t\\t&-avatar {\\n\\t\\t\\t\\t/* The block makes the wrapper div cover the avatar exactly\\n\\t\\t\\t\\t * (no extra space) and allows center aligning the avatar\\n\\t\\t\\t\\t * with the rest of the header elements.\\n\\t\\t\\t\\t */\\n\\t\\t\\t\\tdisplay: block;\\n\\t\\t\\t}\\n\\n\\t\\t\\t.app-content-list-item-star {\\n\\t\\t\\t\\tposition: absolute;\\n\\t\\t\\t\\tcursor: pointer;\\n\\n\\t\\t\\t\\t&.icon-important {\\n\\t\\t\\t\\t\\tbackground-image: none;\\n\\t\\t\\t\\t\\topacity: 1;\\n\\t\\t\\t\\t\\twidth: 16px;\\n\\t\\t\\t\\t\\theight: 16px;\\n\\t\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\t\\ttop: 0px;\\n\\t\\t\\t\\t\\tinset-inline-start: 0px;\\n\\n\\t\\t\\t\\t\\t&:hover,\\n\\t\\t\\t\\t\\t&:focus {\\n\\t\\t\\t\\t\\t\\topacity: 0.5;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t:deep(path) {\\n\\t\\t\\t\\t\\t\\tfill: #ffcc00;\\n\\t\\t\\t\\t\\t\\tstroke: var(--color-main-background);\\n\\t\\t\\t\\t\\t\\tcursor: pointer;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t&.favorite-icon-style {\\n\\t\\t\\t\\t\\tdisplay: inline-block;\\n\\t\\t\\t\\t\\ttop: -2px;\\n\\t\\t\\t\\t\\tinset-inline-end: -2px;\\n\\n\\t\\t\\t\\t\\tstroke: var(--color-main-background);\\n\\t\\t\\t\\t\\tstroke-width: 2;\\n\\t\\t\\t\\t\\t&:hover {\\n\\t\\t\\t\\t\\t\\topacity: .5;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t&.junk-icon-style {\\n\\t\\t\\t\\t\\tdisplay: inline-block;\\n\\t\\t\\t\\t\\tbottom: -2px;\\n\\t\\t\\t\\t\\tinset-inline-end: -2px;\\n\\t\\t\\t\\t\\topacity: .2;\\n\\t\\t\\t\\t\\t&:hover {\\n\\t\\t\\t\\t\\t\\topacity: .1;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t&__unsubscribe {\\n\\t\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\t}\\n\\t\\t&__left__sender-subject-tags {\\n\\t\\t\\twhite-space: nowrap;\\n\\t\\t\\twidth: 100%;\\n\\t\\t}\\n\\t}\\n\\n\\t.subline {\\n\\t\\tmargin-inline-start: 8px;\\n\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\tcursor: default;\\n\\t\\toverflow: hidden;\\n\\t\\ttext-overflow: ellipsis;\\n\\t\\twhite-space: nowrap;\\n\\t}\\n\\n\\t&--expanded {\\n\\t\\tmin-height: 350px;\\n\\t}\\n}\\n\\n.left {\\n\\tflex-grow: 1;\\n\\tmin-width: 0; /* https://css-tricks.com/flexbox-truncated-text/ */\\n\\tdisplay: flex;\\n\\tposition: relative;\\n\\tz-index: 1;\\n\\talign-items: center;\\n}\\n\\n.left:not(.seen) {\\n\\tfont-weight: bold;\\n}\\n\\n.tag-group__label {\\n\\tmargin: 0 calc(var(--default-grid-baseline) * 2);\\n\\tz-index: 2;\\n\\tfont-size: calc(var(--default-font-size) * 0.8);\\n\\tfont-weight: bold;\\n\\tpadding-inline: calc(var(--default-grid-baseline) * 0.5);\\n}\\n\\n.tag-group__bg {\\n\\tposition: absolute;\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\ttop: 0;\\n\\tinset-inline-start: 0;\\n\\topacity: 15%;\\n}\\n\\n.tagline {\\n\\tdisplay: flex;\\n\\ttext-overflow: ellipsis;\\n\\toverflow: hidden;\\n}\\n\\n.tag-group {\\n\\tdisplay: inline-block;\\n\\tborder: 1px solid transparent;\\n\\tborder-radius: var(--border-radius-pill);\\n\\tposition: relative;\\n\\tmargin: 0 1px;\\n\\toverflow: hidden;\\n\\ttext-overflow: ellipsis;\\n\\tinset-inline-start: var(--default-grid-baseline);\\n}\\n\\n.smime-text {\\n\\t// same as padding-right on action-text styling\\n\\tpadding-inline-start: calc(var(--default-grid-baseline) * 3);\\n}\\n\\n:deep(.action-button__name) {\\n\\tfont-weight: normal;\\n\\tdisplay: inline;\\n\\talign-items: center;\\n}\\n@media only screen and (max-width: 400px) {\\n\\t.sender {\\n\\t\\ttext-overflow: ellipsis;\\n\\t\\toverflow: hidden;\\n\\t\\twidth: 180px;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{class:_vm.isInternal?'ncselect__tag--recipient' :'ncselect__tag--recipient external',attrs:{\"title\":_vm.option.email}},[_c('ListItemIcon',{attrs:{\"no-margin\":true,\"name\":_vm.option.label || _vm.option.displayName || _vm.option.email,\"url\":_vm.option.photo,\"avatar-size\":24}}),_vm._v(\" \"),_c('Close',{staticClass:\"delete-recipient\",attrs:{\"size\":20},on:{\"click\":function($event){$event.preventDefault();return _vm.removeRecipient(_vm.option)}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div :class=\"isInternal?'ncselect__tag--recipient' :'ncselect__tag--recipient external'\" :title=\"option.email\">\n\t\t<ListItemIcon :no-margin=\"true\"\n\t\t\t:name=\"option.label || option.displayName || option.email\"\n\t\t\t:url=\"option.photo\"\n\t\t\t:avatar-size=\"24\" />\n\t\t<Close class=\"delete-recipient\"\n\t\t\t:size=\"20\"\n\t\t\t@click.prevent=\"removeRecipient(option)\" />\n\t</div>\n</template>\n\n<script>\nimport { NcListItemIcon as ListItemIcon } from '@nextcloud/vue'\nimport Close from 'vue-material-design-icons/Close.vue'\nimport { mapStores } from 'pinia'\nimport useMainStore from '../store/mainStore.js'\n\nexport default {\n\tname: 'RecipientListItem',\n\tcomponents: {\n\t\tListItemIcon,\n\t\tClose,\n\t},\n\tprops: {\n\t\toption: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tisInternal: true,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t},\n\tasync mounted() {\n\t\tif (this.mainStore.getPreference('internal-addresses', 'false') === 'true') {\n\t\t\tthis.isInternal = this.mainStore.isInternalAddress(this.option.email)\n\t\t}\n\t},\n\tmethods: {\n\t\tremoveRecipient(option, field) {\n\t\t\tthis.$emit('remove-recipient', option, field)\n\t\t},\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n.external {\n\tbackground-color: var(--color-error) !important;\n\t:deep(.option__lineone){\n\t\tcolor: var(--color-primary-text) !important;\n\t}\n}\n\n.ncselect__tag--recipient {\n\tpadding: 0 ;\n\tborder-radius: 25px;\n\tborder-color: transparent;\n\tbackground-color: var(--color-background-dark);\n\theight: 24px;\n\tmax-width: 100%;\n\tdisplay: flex;\n\n\t& > span.option {\n\t\tmargin-inline-start: 0\n\t}\n}\n\n.delete-recipient {\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: center;\n\tcursor: pointer;\n\theight: 24px;\n\twidth: 24px;\n\tmin-width: 24px;\n\tmargin-inline-start: 6px;\n\tborder-radius: 50%;\n\tflex-shrink: 0;\n\n\t&:hover {\n\t\tbackground: var(--color-background-darker);\n\t}\n}\n\n.option {\n\tflex-shrink: 1;\n\toverflow: hidden;\n\twidth: unset;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecipientListItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecipientListItem.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecipientListItem.vue?vue&type=style&index=0&id=e03f33f0&prod&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecipientListItem.vue?vue&type=style&index=0&id=e03f33f0&prod&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./RecipientListItem.vue?vue&type=template&id=e03f33f0&scoped=true\"\nimport script from \"./RecipientListItem.vue?vue&type=script&lang=js\"\nexport * from \"./RecipientListItem.vue?vue&type=script&lang=js\"\nimport style0 from \"./RecipientListItem.vue?vue&type=style&index=0&id=e03f33f0&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e03f33f0\",\n  null\n  \n)\n\nexport default component.exports","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.message-container[data-v-55ac0e45],.mail-signature[data-v-55ac0e45]{white-space:pre-wrap}.mail-signature[data-v-55ac0e45],.quoted[data-v-55ac0e45]{color:var(--color-text-maxcontrast) summary;color-cursor:pointer}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/MessagePlainTextBody.vue\"],\"names\":[],\"mappings\":\"AACA,qEAEC,oBAAA,CAGD,0DACC,2CAAA,CAGC,oBAAA\",\"sourcesContent\":[\"\\n.message-container,\\n.mail-signature {\\n\\twhite-space: pre-wrap;\\n}\\n\\n.mail-signature, .quoted {\\n\\tcolor: var(--color-text-maxcontrast)\\n\\n\\tsummary {\\n\\t\\tcursor: pointer\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.mail-error[data-v-3011b3b6]{height:100%;display:flex}.mail-error--auto-margin[data-v-3011b3b6]{margin:auto 0}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Error.vue\"],\"names\":[],\"mappings\":\"AACA,6BACC,WAAA,CACA,YAAA,CACA,0CACC,aAAA\",\"sourcesContent\":[\"\\n.mail-error {\\n\\theight: 100%;\\n\\tdisplay: flex;\\n\\t&--auto-margin {\\n\\t\\tmargin: auto 0;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.empty-content[data-v-0d4d556e]{height:100%;display:flex}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/EmptyMailboxSection.vue\"],\"names\":[],\"mappings\":\"AACA,gCACC,WAAA,CACA,YAAA\",\"sourcesContent\":[\"\\n.empty-content {\\n\\theight: 100%;\\n\\tdisplay: flex;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.calendar-picker-option[data-v-5d8e3696]{width:100%;display:flex;align-items:center}.calendar-picker-option__color-indicator[data-v-5d8e3696]{width:12px;height:12px;border-radius:50%;border:none;margin-inline-end:calc(var(--default-grid-baseline)*2);flex-basis:calc(var(--default-grid-baseline)*3);flex-shrink:0}.calendar-picker-option__label[data-v-5d8e3696]{overflow:hidden;text-overflow:ellipsis;flex-grow:1;max-width:80px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/CalendarPickerOption.vue\"],\"names\":[],\"mappings\":\"AACA,yCACC,UAAA,CACA,YAAA,CACA,kBAAA,CAEA,0DACC,UAAA,CACA,WAAA,CACA,iBAAA,CACA,WAAA,CACA,sDAAA,CACA,+CAAA,CACA,aAAA,CAGD,gDACC,eAAA,CACA,sBAAA,CACA,WAAA,CACA,cAAA\",\"sourcesContent\":[\"\\n.calendar-picker-option {\\n\\twidth: 100%;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\n\\t&__color-indicator {\\n\\t\\twidth: 12px;\\n\\t\\theight: 12px;\\n\\t\\tborder-radius: 50%;\\n\\t\\tborder: none;\\n\\t\\tmargin-inline-end: calc(var(--default-grid-baseline) * 2);\\n\\t\\tflex-basis: calc(var(--default-grid-baseline) * 3);\\n\\t\\tflex-shrink: 0;\\n\\t}\\n\\n\\t&__label {\\n\\t\\toverflow: hidden;\\n\\t\\ttext-overflow: ellipsis;\\n\\t\\tflex-grow: 1;\\n\\t\\tmax-width: 80px;\\n\\t}\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*!\n * SPDX-FileCopyrightText: 2025 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-only\n */.no-message-selected[data-v-7bdf7289]{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;gap:calc(var(--default-grid-baseline, 4px)*2);padding-inline-start:50px;height:100%;max-width:100% !important;background-size:cover;background-repeat:no-repeat;background-position:right 100% bottom 40%}.no-message-selected--themed[data-v-7bdf7289]{background:radial-gradient(100% 100% at 100% 100%, var(--color-primary-element) 0%, rgba(var(--color-main-background-rgb), 0) 100%),var(--color-main-background)}.no-message-selected__heading[data-v-7bdf7289]{font-weight:bold;font-size:20px;line-height:30px}.no-message-selected__text[data-v-7bdf7289]{text-wrap-style:balance;max-width:50%}.no-message-selected__action[data-v-7bdf7289] button{box-shadow:0 2px 10px rgba(0,0,0,.2)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./css/fluid.scss\",\"webpack://./src/components/NoMessageSelected.vue\"],\"names\":[],\"mappings\":\"AAAA;;;EAAA,CCGA,sCACC,YAAA,CACA,qBAAA,CACA,sBAAA,CACA,sBAAA,CACA,6CAAA,CACA,yBAAA,CACA,WAAA,CACA,yBAAA,CDLA,qBAAA,CACA,2BAAA,CACA,yCAAA,CCQA,8CDJA,gKAAA,CCQA,+CACC,gBAAA,CACA,cAAA,CACA,gBAAA,CAGD,4CACC,uBAAA,CACA,aAAA,CAIA,qDACC,oCAAA\",\"sourcesContent\":[\"/*!\\n * SPDX-FileCopyrightText: 2025 Nextcloud GmbH and Nextcloud contributors\\n * SPDX-License-Identifier: AGPL-3.0-only\\n */\\n\\n@mixin background {\\n\\tbackground-size: cover;\\n\\tbackground-repeat: no-repeat;\\n\\tbackground-position: right 100% bottom 40%;\\n}\\n\\n@mixin gradient-background {\\n\\tbackground: radial-gradient(100% 100% at 100% 100%, var(--color-primary-element) 0%, rgba(var(--color-main-background-rgb), 0) 100%), var(--color-main-background);\\n}\\n\",\"\\n@use '../../css/fluid';\\n\\n.no-message-selected {\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\talign-items: flex-start;\\n\\tjustify-content: center;\\n\\tgap: calc(var(--default-grid-baseline, 4px) * 2);\\n\\tpadding-inline-start: 50px;\\n\\theight: 100%;\\n\\tmax-width: 100% !important; /* restricted otherwise by stronger selector */\\n\\n\\t@include fluid.background;\\n\\n\\t/** fallback gradient when the theme color isn't standard blue */\\n\\t&--themed {\\n\\t\\t@include fluid.gradient-background;\\n\\t}\\n\\n\\t&__heading {\\n\\t\\tfont-weight: bold;\\n\\t\\tfont-size: 20px;\\n\\t\\tline-height: 30px;\\n\\t}\\n\\n\\t&__text {\\n\\t\\ttext-wrap-style: balance;\\n\\t\\tmax-width: 50%;\\n\\t}\\n\\n\\t&__action {\\n\\t\\t:deep(button) {\\n\\t\\t\\tbox-shadow: 0 2px 10px rgba(0, 0, 0, 0.2)\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*!\n * SPDX-FileCopyrightText: 2016-2024 Nextcloud GmbH and Nextcloud contributors\n * SPDX-FileCopyrightText: 2013-2016 ownCLoud, Inc.\n * SPDX-License-Identifier: AGPL-3.0-only\n */.loading{position:absolute;inset-inline-start:50%;top:50%}.emptycontent{margin-top:24px;margin-bottom:10px;position:absolute;top:0;bottom:0;inset-inline:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.container{position:relative;width:100%;height:100%}.folders .ui-droppable-active{background-color:#f0f0f0}.folder.no-select{cursor:not-allowed}#account-form{z-index:1001;width:250px;top:15%;padding-bottom:50px;margin:0 auto;padding-top:30px}#mail-settings #account-form{margin:0;padding-top:0}@media only screen and (max-height: 400px){#account-form #emptycontent{margin-top:0px}}@media only screen and (min-height: 401px)and (max-height: 600px){#account-form #emptycontent{margin-top:2vh}}@media only screen and (min-height: 601px){#account-form #emptycontent{margin-top:10vh}}#account-form h2{text-align:center;position:relative;width:300%;inset-inline-start:-100%;margin-bottom:20px}#account-form input{width:100%;box-sizing:border-box}#account-form .toggle-manual-mode{background-position:right;padding-inline-end:16px;margin-inline-start:6px;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=30)\";opacity:.3}#setup-imap-ssl-mode,#setup-smtp-ssl-mode{position:absolute;top:0;inset-inline-end:0;margin:0;background-color:rgba(0,0,0,0);border:none;z-index:100}#connect-loading{position:absolute;top:206px;inset-inline:0;margin-inline:auto;height:30px}.app-navigation .empty{display:none}.app-navigation .navigation-account:not(:first-child){margin-top:22px}.app-navigation .special-inbox .collapse,.app-navigation .special-drafts .collapse,.app-navigation .special-sent .collapse,.app-navigation .special-trash .collapse{display:none !important}.app-navigation .special-inbox:hover .collapse,.app-navigation .special-inbox:focus .collapse,.app-navigation .special-drafts:hover .collapse,.app-navigation .special-drafts:focus .collapse,.app-navigation .special-sent:hover .collapse,.app-navigation .special-sent:focus .collapse,.app-navigation .special-trash:hover .collapse,.app-navigation .special-trash:focus .collapse{display:inline-block !important}#accounts-list li.collapse-folders a{color:var(--color-text-maxcontrast)}#emptycontent,#mail-messages #emptycontent.emptycontent-search{position:static}#mail-messages #emptycontent.emptycontent-search h2{line-height:150%}#mail-messages #emptycontent{position:absolute}.mail-account-email{display:inline-block;opacity:.5;padding:20px 0 10px 25px;width:calc(100% - 50px);margin:initial;font-size:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mail-account-email:first-child{display:none}.account-toggle-collapse{opacity:.5}.mailaccount-list li{padding:10px 0}.mailaccount-list .mail-account-name{display:inline-block;width:90%;overflow:hidden;text-overflow:ellipsis}.mailaccount-list .actions{display:inline-flex;position:absolute;inset-inline-end:0;min-height:16px;min-width:16px;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=25)\";opacity:.5}.mailaccount-list .actions:hover,.mailaccount-list .actions:focus{-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";opacity:.5}#mail-messages{position:relative;width:30%;height:100%;overflow-x:hidden;overflow-y:auto;border-inline-end:1px solid var(--color-border)}#mail-message-list-loading{position:sticky;height:40px;z-index:1;background:-moz-radial-gradient(top, ellipse cover, var(--color-main-background), rgba(255, 255, 255, 0) 70%);background:-webkit-radial-gradient(top, ellipse cover, var(--color-main-background), rgba(255, 255, 255, 0) 70%);background:radial-gradient(ellipse at top, var(--color-main-background), rgba(255, 255, 255, 0) 70%)}.app-navigation .msg.success{color:#fff;background-color:var(--color-success);padding:3px}.app-navigation .msg.error{color:#fff;background-color:var(--color-error);padding:3px}.ui-autocomplete .ui-menu-item a.mail-recipient-autocomplete{margin:0px;font-weight:normal !important;display:flex;align-content:center;align-items:center;border:none}.ui-autocomplete .ui-menu-item a.mail-recipient-autocomplete span{margin-inline-start:10px}.ui-autocomplete{padding-inline-start:16px !important;border-radius:0 !important;border-inline-start:none;border-inline-end:none;z-index:1000}.icon-starred[data-starred=false]:hover{background-image:var(--icon-star-dark-fc0) !important}.icon-starred[data-starred=false]:not(:hover){background-image:var(--icon-star-000) !important}.unread{font-weight:bold}.unread ul{font-weight:normal}.star{padding:20px;background-size:16px;display:inline-block;position:absolute;inset-inline-start:16px;top:28px;z-index:10}.star.icon-star{display:none;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";opacity:.3}.star.icon-star:hover,.star.icon-star:focus{-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";opacity:1}.icon-add{display:inline-block;vertical-align:text-top}.transparency{-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=60)\";opacity:.6}.compose{width:60%;margin:0 auto}.app-navigation>ul>.navigation-account>li,.app-navigation>ul>.navigation-account>.folders>li,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li{position:relative;width:100%;box-sizing:border-box;display:inline-flex;flex-wrap:wrap;order:1;flex-shrink:0}.app-navigation>ul>.navigation-account>li.icon-loading-small>a,.app-navigation>ul>.navigation-account>li.icon-loading-small>.app-navigation-entry-bullet,.app-navigation>ul>.navigation-account>.folders>li.icon-loading-small>a,.app-navigation>ul>.navigation-account>.folders>li.icon-loading-small>.app-navigation-entry-bullet,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li.icon-loading-small>a,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li.icon-loading-small>.app-navigation-entry-bullet{background:none !important}.app-navigation>ul>.navigation-account>li>a,.app-navigation>ul>.navigation-account>.folders>li>a,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>a{background-size:16px 16px;background-position:14px center;background-repeat:no-repeat;display:block;justify-content:space-between;line-height:44px;min-height:44px;padding:0 12px;overflow:hidden;box-sizing:border-box;white-space:nowrap;text-overflow:ellipsis;color:var(--color-main-text);opacity:.57;flex:1 1 0;z-index:100}.app-navigation>ul>.navigation-account>li>a:first-child img,.app-navigation>ul>.navigation-account>.folders>li>a:first-child img,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>a:first-child img{margin-inline:-30px 11px;width:16px}.app-navigation>ul>.navigation-account>li>.app-navigation-entry-bullet,.app-navigation>ul>.navigation-account>.folders>li>.app-navigation-entry-bullet,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>.app-navigation-entry-bullet{position:absolute;display:block;margin:16px;width:12px;height:12px;border:none;border-radius:50%;cursor:pointer}.app-navigation>ul>.navigation-account>li>.app-navigation-entry-menu,.app-navigation>ul>.navigation-account>.folders>li>.app-navigation-entry-menu,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>.app-navigation-entry-menu{top:44px}.app-navigation>ul>.navigation-account>li.pinned,.app-navigation>ul>.navigation-account>.folders>li.pinned,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li.pinned{order:2}.app-navigation>ul>.navigation-account>li.pinned.first-pinned,.app-navigation>ul>.navigation-account>.folders>li.pinned.first-pinned,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li.pinned.first-pinned{margin-top:auto !important}.app-navigation>ul>.navigation-account>li>a,.app-navigation>ul>.navigation-account>li>.app-navigation-entry-deleted,.app-navigation>ul>.navigation-account>.folders>li>a,.app-navigation>ul>.navigation-account>.folders>li>.app-navigation-entry-deleted,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>a,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>.app-navigation-entry-deleted{padding-inline-start:44px !important}.app-navigation>ul>.navigation-account>li>.app-navigation-entry-edit,.app-navigation>ul>.navigation-account>.folders>li>.app-navigation-entry-edit,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>.app-navigation-entry-edit{padding-inline-start:38px !important}.app-navigation>ul>.navigation-account>li:focus,.app-navigation>ul>.navigation-account>li:focus>a,.app-navigation>ul>.navigation-account>li:hover,.app-navigation>ul>.navigation-account>li:hover>a,.app-navigation>ul>.navigation-account>li.active,.app-navigation>ul>.navigation-account>li.active>a,.app-navigation>ul>.navigation-account>li a.selected,.app-navigation>ul>.navigation-account>li a.selected>a,.app-navigation>ul>.navigation-account>.folders>li:focus,.app-navigation>ul>.navigation-account>.folders>li:focus>a,.app-navigation>ul>.navigation-account>.folders>li:hover,.app-navigation>ul>.navigation-account>.folders>li:hover>a,.app-navigation>ul>.navigation-account>.folders>li.active,.app-navigation>ul>.navigation-account>.folders>li.active>a,.app-navigation>ul>.navigation-account>.folders>li a.selected,.app-navigation>ul>.navigation-account>.folders>li a.selected>a,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li:focus,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li:focus>a,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li:hover,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li:hover>a,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li.active,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li.active>a,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li a.selected,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li a.selected>a{opacity:1;box-shadow:inset 2px 0 var(--color-primary-element)}.app-navigation>ul>.navigation-account>li.icon-loading-small:after,.app-navigation>ul>.navigation-account>.folders>li.icon-loading-small:after,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li.icon-loading-small:after{inset-inline-start:22px;top:22px}.app-navigation>ul>.navigation-account>li.deleted>ul,.app-navigation>ul>.navigation-account>li.deleted>.folders,.app-navigation>ul>.navigation-account>li.collapsible:not(.open)>ul,.app-navigation>ul>.navigation-account>li.collapsible:not(.open)>.folders,.app-navigation>ul>.navigation-account>.folders>li.deleted>ul,.app-navigation>ul>.navigation-account>.folders>li.deleted>.folders,.app-navigation>ul>.navigation-account>.folders>li.collapsible:not(.open)>ul,.app-navigation>ul>.navigation-account>.folders>li.collapsible:not(.open)>.folders,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li.deleted>ul,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li.deleted>.folders,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li.collapsible:not(.open)>ul,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li.collapsible:not(.open)>.folders{opacity:0;max-height:0;transition:max-height 1000ms cubic-bezier(0, 1, 0, 1),opacity 250ms ease-in-out}.app-navigation>ul>.navigation-account>li>ul,.app-navigation>ul>.navigation-account>.folders>li>ul,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>ul{flex:1 0 100%;padding-inline-start:62px;width:inherit;transition:max-height 2000ms ease-in-out,opacity 250ms ease-in-out;max-height:9999px;opacity:1}.app-navigation>ul>.navigation-account>li>ul>li,.app-navigation>ul>.navigation-account>.folders>li>ul>li,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>ul>li{display:inline-flex;flex-wrap:wrap}.app-navigation>ul>.navigation-account>li>ul>li:focus,.app-navigation>ul>.navigation-account>li>ul>li:focus>a,.app-navigation>ul>.navigation-account>li>ul>li:hover,.app-navigation>ul>.navigation-account>li>ul>li:hover>a,.app-navigation>ul>.navigation-account>li>ul>li.active,.app-navigation>ul>.navigation-account>li>ul>li.active>a,.app-navigation>ul>.navigation-account>li>ul>li a.selected,.app-navigation>ul>.navigation-account>li>ul>li a.selected>a,.app-navigation>ul>.navigation-account>.folders>li>ul>li:focus,.app-navigation>ul>.navigation-account>.folders>li>ul>li:focus>a,.app-navigation>ul>.navigation-account>.folders>li>ul>li:hover,.app-navigation>ul>.navigation-account>.folders>li>ul>li:hover>a,.app-navigation>ul>.navigation-account>.folders>li>ul>li.active,.app-navigation>ul>.navigation-account>.folders>li>ul>li.active>a,.app-navigation>ul>.navigation-account>.folders>li>ul>li a.selected,.app-navigation>ul>.navigation-account>.folders>li>ul>li a.selected>a,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>ul>li:focus,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>ul>li:focus>a,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>ul>li:hover,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>ul>li:hover>a,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>ul>li.active,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>ul>li.active>a,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>ul>li a.selected,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>ul>li a.selected>a{opacity:1}.app-navigation>ul>.navigation-account>li>ul>li.icon-loading-small:after,.app-navigation>ul>.navigation-account>.folders>li>ul>li.icon-loading-small:after,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>ul>li.icon-loading-small:after{inset-inline-start:-10px}.app-navigation>ul>.navigation-account>li>ul>li>a[class*=icon-],.app-navigation>ul>.navigation-account>li>ul>li>a[style*=background-image],.app-navigation>ul>.navigation-account>li>ul>li .app-navigation-entry-bullet,.app-navigation>ul>.navigation-account>.folders>li>ul>li>a[class*=icon-],.app-navigation>ul>.navigation-account>.folders>li>ul>li>a[style*=background-image],.app-navigation>ul>.navigation-account>.folders>li>ul>li .app-navigation-entry-bullet,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>ul>li>a[class*=icon-],.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>ul>li>a[style*=background-image],.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>ul>li .app-navigation-entry-bullet{margin-inline-start:-32px}.app-navigation>ul>.navigation-account>li>ul>li>.app-navigation-entry-bullet,.app-navigation>ul>.navigation-account>.folders>li>ul>li>.app-navigation-entry-bullet,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>ul>li>.app-navigation-entry-bullet{inset-inline-start:-32px}.app-navigation .collapsible>.collapse{z-index:500}`, \"\",{\"version\":3,\"sources\":[\"webpack://./css/mail.scss\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"/*!\\n * SPDX-FileCopyrightText: 2016-2024 Nextcloud GmbH and Nextcloud contributors\\n * SPDX-FileCopyrightText: 2013-2016 ownCLoud, Inc.\\n * SPDX-License-Identifier: AGPL-3.0-only\\n */\\n.loading {\\n\\tposition: absolute;\\n\\tinset-inline-start: 50%;\\n\\ttop: 50%;\\n}\\n\\n.emptycontent {\\n\\tmargin-top: 24px;\\n\\tmargin-bottom: 10px;\\n\\tposition: absolute;\\n\\ttop: 0;\\n\\tbottom: 0;\\n\\tinset-inline: 0;\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n}\\n\\n.container {\\n\\tposition: relative;\\n\\twidth: 100%;\\n\\theight: 100%;\\n}\\n\\n.folders .ui-droppable-active {\\n\\tbackground-color: rgb(240, 240, 240);\\n}\\n\\n.folder.no-select {\\n\\tcursor: not-allowed;\\n}\\n\\n/* ACCOUNT FORM */\\n#account-form {\\n\\tz-index: 1001;\\n\\twidth: 250px;\\n\\ttop: 15%;\\n\\tpadding-bottom: 50px;\\n\\tmargin: 0 auto;\\n\\tpadding-top: 30px;\\n}\\n\\n#mail-settings {\\n\\t#account-form {\\n\\t\\tmargin: 0;\\n\\t\\tpadding-top: 0;\\n\\t}\\n}\\n@media only screen and (max-height: 400px) {\\n\\t#account-form #emptycontent {\\n\\t\\tmargin-top: 0px;\\n\\t}\\n}\\n@media only screen and (min-height: 401px) and (max-height: 600px) {\\n\\t#account-form #emptycontent {\\n\\t\\tmargin-top: 2vh;\\n\\t}\\n}\\n@media only screen and (min-height: 601px) {\\n\\t#account-form #emptycontent {\\n\\t\\tmargin-top: 10vh;\\n\\t}\\n}\\n\\n#account-form h2 {\\n\\ttext-align: center;\\n\\tposition: relative;\\n\\twidth: 300%;\\n\\tinset-inline-start: -100%;\\n\\tmargin-bottom: 20px;\\n}\\n\\n#account-form input {\\n\\twidth: 100%;\\n\\tbox-sizing: border-box;\\n}\\n\\n#account-form .toggle-manual-mode {\\n\\tbackground-position: right;\\n\\tpadding-inline-end: 16px;\\n\\tmargin-inline-start: 6px;\\n\\t-ms-filter: \\\"progid:DXImageTransform.Microsoft.Alpha(Opacity=30)\\\";\\n\\topacity: .3;\\n}\\n\\n#setup-imap-ssl-mode,\\n#setup-smtp-ssl-mode {\\n\\tposition: absolute;\\n\\ttop: 0;\\n\\tinset-inline-end: 0;\\n\\tmargin: 0;\\n\\tbackground-color: transparent;\\n\\tborder: none;\\n\\tz-index: 100;\\n}\\n\\n#connect-loading {\\n\\tposition: absolute;\\n\\ttop: 206px;\\n\\tinset-inline: 0;\\n\\tmargin-inline: auto;\\n\\theight: 30px;\\n}\\n\\n/* app navigation */\\n\\n/* do not display empty folders in the sidebar */\\n.app-navigation .empty {\\n\\tdisplay: none;\\n}\\n\\n.app-navigation .navigation-account:not(:first-child) {\\n    margin-top: 22px;\\n}\\n\\n\\n/* do not overlap collapse icon with special use icon */\\n.app-navigation .special-inbox .collapse,\\n.app-navigation .special-drafts .collapse,\\n.app-navigation .special-sent .collapse,\\n.app-navigation .special-trash .collapse {\\n\\tdisplay: none !important;\\n}\\n\\n.app-navigation .special-inbox:hover .collapse,\\n.app-navigation .special-inbox:focus .collapse,\\n.app-navigation .special-drafts:hover .collapse,\\n.app-navigation .special-drafts:focus .collapse,\\n.app-navigation .special-sent:hover .collapse,\\n.app-navigation .special-sent:focus .collapse,\\n.app-navigation .special-trash:hover .collapse,\\n.app-navigation .special-trash:focus .collapse {\\n\\tdisplay: inline-block !important;\\n}\\n\\n#accounts-list li.collapse-folders a {\\n\\tcolor: var(--color-text-maxcontrast);\\n}\\n\\n#emptycontent,\\n#mail-messages #emptycontent.emptycontent-search {\\n\\tposition: static;\\n}\\n\\n#mail-messages #emptycontent.emptycontent-search h2 {\\n\\tline-height: 150%;\\n}\\n\\n#mail-messages #emptycontent {\\n\\tposition: absolute;\\n}\\n\\n.mail-account-email {\\n\\tdisplay: inline-block;\\n\\topacity: .5;\\n\\tpadding: 20px 0 10px 25px;\\n\\twidth: calc(100% - 50px);\\n\\tmargin: initial;\\n\\tfont-size: 100%;\\n\\toverflow: hidden;\\n\\ttext-overflow: ellipsis;\\n\\twhite-space: nowrap;\\n}\\n\\n.mail-account-email:first-child {\\n\\tdisplay: none;\\n}\\n\\n.account-toggle-collapse {\\n\\topacity: .5;\\n}\\n\\n\\n/* settings */\\n\\n.mailaccount-list li {\\n\\tpadding: 10px 0;\\n}\\n\\n.mailaccount-list .mail-account-name {\\n\\tdisplay: inline-block;\\n\\twidth: 90%;\\n\\toverflow: hidden;\\n\\ttext-overflow: ellipsis;\\n}\\n\\n.mailaccount-list .actions {\\n\\tdisplay: inline-flex;\\n\\tposition: absolute;\\n\\tinset-inline-end: 0;\\n\\tmin-height: 16px;\\n\\tmin-width: 16px;\\n\\t-ms-filter: \\\"progid:DXImageTransform.Microsoft.Alpha(Opacity=25)\\\";\\n\\topacity: .5;\\n}\\n\\n.mailaccount-list .actions:hover,\\n.mailaccount-list .actions:focus {\\n\\t-ms-filter: \\\"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\\\";\\n\\topacity: .5;\\n}\\n\\n\\n/* app content*/\\n\\n#mail-messages {\\n\\tposition: relative;\\n\\twidth: 30%;\\n\\theight: 100%;\\n\\toverflow-x: hidden;\\n\\toverflow-y: auto;\\n\\tborder-inline-end: 1px solid var(--color-border);\\n}\\n\\n#mail-message-list-loading {\\n\\tposition: sticky;\\n\\theight: 40px;\\n\\tz-index: 1;\\n\\tbackground: -moz-radial-gradient(top, ellipse cover, var(--color-main-background), rgba(255,255,255,0) 70%);\\n\\tbackground: -webkit-radial-gradient(top, ellipse cover, var(--color-main-background),rgba(255,255,255,0) 70%);\\n\\tbackground: radial-gradient(ellipse at top, var(--color-main-background),rgba(255,255,255,0) 70%);\\n}\\n\\n.app-navigation .msg.success {\\n\\tcolor: #fff;\\n\\tbackground-color: var(--color-success);\\n\\tpadding: 3px;\\n}\\n\\n.app-navigation .msg.error {\\n\\tcolor: #fff;\\n\\tbackground-color: var(--color-error);\\n\\tpadding: 3px;\\n}\\n\\n/* autocomplete list */\\n.ui-autocomplete .ui-menu-item a.mail-recipient-autocomplete {\\n\\tmargin: 0px;\\n\\tfont-weight: normal !important;\\n\\tdisplay: flex;\\n\\talign-content: center;\\n\\talign-items: center;\\n\\tborder: none;\\n}\\n\\n.ui-autocomplete .ui-menu-item a.mail-recipient-autocomplete span {\\n\\tmargin-inline-start: 10px;\\n}\\n\\n.ui-autocomplete {\\n\\tpadding-inline-start: 16px !important;\\n\\tborder-radius: 0 !important;\\n\\tborder-inline-start: none;\\n\\tborder-inline-end: none;\\n\\tz-index: 1000;\\n}\\n\\n.icon-starred[data-starred=\\\"false\\\"]:hover {\\n\\tbackground-image: var(--icon-star-dark-fc0) !important;\\n}\\n\\n.icon-starred[data-starred=\\\"false\\\"]:not(:hover) {\\n\\tbackground-image: var(--icon-star-000) !important;\\n}\\n\\n.unread {\\n\\tfont-weight: bold;\\n}\\n/* make sure subfolders of unread folders are not bolded as well */\\n.unread ul {\\n\\tfont-weight: normal;\\n}\\n\\n.star {\\n\\tpadding: 20px;\\n\\tbackground-size: 16px;\\n\\tdisplay: inline-block;\\n\\tposition: absolute;\\n\\tinset-inline-start: 16px;\\n\\ttop: 28px;\\n\\tz-index: 10;\\n}\\n/* only show star on hover of row */\\n.star.icon-star {\\n\\tdisplay: none;\\n\\t-ms-filter: \\\"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\\\";\\n\\topacity: .3;\\n}\\n\\n.star.icon-star:hover,\\n.star.icon-star:focus {\\n\\t-ms-filter: \\\"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\\\";\\n\\topacity: 1;\\n}\\n\\n.icon-add {\\n\\tdisplay: inline-block;\\n\\tvertical-align: text-top;\\n}\\n\\n.transparency {\\n\\t-ms-filter: \\\"progid:DXImageTransform.Microsoft.Alpha(Opacity=60)\\\";\\n\\topacity: .6;\\n}\\n\\n\\n/* compose (handling mailto links) */\\n\\n.compose {\\n\\twidth: 60%;\\n\\tmargin: 0 auto;\\n}\\n\\n// FIXES for core apps.scss\\n\\n.app-navigation {\\n\\t> ul {\\n\\t\\t> .navigation-account > li,\\n\\t\\t> .navigation-account > .folders > li,\\n\\t\\t> .navigation-account > .folders > li > .folders > .folders > li {\\n\\t\\t\\tposition: relative;\\n\\t\\t\\twidth: 100%;\\n\\t\\t\\tbox-sizing: border-box;\\n\\t\\t\\tdisplay: inline-flex;\\n\\t\\t\\tflex-wrap: wrap;\\n\\t\\t\\torder: 1;\\n\\t\\t\\tflex-shrink: 0;\\n\\n\\t\\t\\t/* hide icons if loading */\\n\\t\\t\\t&.icon-loading-small {\\n\\t\\t\\t\\t> a,\\n\\t\\t\\t\\t> .app-navigation-entry-bullet {\\n\\t\\t\\t\\t\\tbackground: none !important;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\\t/* Main entry link */\\n\\t\\t\\t> a {\\n\\t\\t\\t\\tbackground-size: 16px 16px;\\n\\t\\t\\t\\tbackground-position: 14px center;\\n\\t\\t\\t\\tbackground-repeat: no-repeat;\\n\\t\\t\\t\\tdisplay: block;\\n\\t\\t\\t\\tjustify-content: space-between;\\n\\t\\t\\t\\tline-height: 44px;\\n\\t\\t\\t\\tmin-height: 44px;\\n\\t\\t\\t\\tpadding: 0 12px;\\n\\t\\t\\t\\toverflow: hidden;\\n\\t\\t\\t\\tbox-sizing: border-box;\\n\\t\\t\\t\\twhite-space: nowrap;\\n\\t\\t\\t\\ttext-overflow: ellipsis;\\n\\t\\t\\t\\tcolor: var(--color-main-text);\\n\\t\\t\\t\\topacity: .57;\\n\\t\\t\\t\\tflex: 1 1 0;\\n\\t\\t\\t\\tz-index: 100; /* above the bullet */\\n\\t\\t\\t\\t/* TODO: forbid using img as icon in menu? */\\n\\t\\t\\t\\t&:first-child img {\\n\\t\\t\\t\\t    margin-inline: -30px 11px;\\n\\t\\t\\t\\t    width: 16px;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t/* Bullet icon */\\n\\t\\t\\t> .app-navigation-entry-bullet {\\n\\t\\t\\t\\tposition: absolute;\\n\\t\\t\\t\\tdisplay: block;\\n\\t\\t\\t\\tmargin: 16px;\\n\\t\\t\\t\\twidth: 12px;\\n\\t\\t\\t\\theight: 12px;\\n\\t\\t\\t\\tborder: none;\\n\\t\\t\\t\\tborder-radius: 50%;\\n\\t\\t\\t\\tcursor: pointer;\\n\\t\\t\\t}\\n\\n\\t\\t\\t/* popover fix the flex positionning of the li parent */\\n\\t\\t\\t> .app-navigation-entry-menu {\\n\\t\\t\\t\\ttop: 44px;\\n\\t\\t\\t}\\n\\n\\t\\t\\t/* Pinned-to-bottom entries */\\n\\t\\t\\t&.pinned {\\n\\t\\t\\t\\torder: 2;\\n\\t\\t\\t\\t&.first-pinned {\\n\\t\\t\\t\\t\\tmargin-top: auto !important;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t> a,\\n\\t\\t\\t> .app-navigation-entry-deleted {\\n\\t\\t\\t\\t/* Ugly hack for overriding the main entry link */\\n\\t\\t\\t\\tpadding-inline-start: 44px !important;\\n\\t\\t\\t}\\n\\t\\t\\t> .app-navigation-entry-edit {\\n\\t\\t\\t\\t/* Ugly hack for overriding the main entry link */\\n\\t\\t\\t\\t/* align the input correctly with the link text\\n\\t\\t\\t\\t   44px-6px padding for the input */\\n\\t\\t\\t\\tpadding-inline-start: 38px !important;\\n\\t\\t\\t}\\n\\n\\t\\t\\t&:focus,\\n\\t\\t\\t&:hover,\\n\\t\\t\\t&.active,\\n\\t\\t\\ta.selected {\\n\\t\\t\\t\\t&,\\n\\t\\t\\t\\t> a {\\n\\t\\t\\t\\t\\topacity: 1;\\n\\t\\t\\t\\t\\tbox-shadow: inset 2px 0 var(--color-primary-element);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t/* align loader */\\n\\t\\t\\t&.icon-loading-small:after {\\n\\t\\t\\t\\tinset-inline-start: 22px;\\n\\t\\t\\t\\ttop: 22px;\\n\\t\\t\\t}\\n\\n\\t\\t\\t/* hide and animate deletion/collapse of subitems */\\n\\t\\t\\t&.deleted,\\n\\t\\t\\t&.collapsible:not(.open) {\\n\\t\\t\\t\\t> ul,\\n\\t\\t\\t\\t> .folders {\\n\\t\\t\\t\\t\\topacity: 0;\\n\\t\\t\\t\\t\\tmax-height: 0;\\n\\t\\t\\t\\t\\t/* bezier override the hide/slow effect due to the 2000 max-height */\\n\\t\\t\\t\\t\\ttransition: max-height 1000ms cubic-bezier(0, 1, 0, 1),\\n\\t\\t\\t\\t\\t\\t\\t\\topacity 250ms ease-in-out;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t/* Second level nesting for lists */\\n\\t\\t\\t> ul {\\n\\t\\t\\t\\tflex: 1 0 100%;\\n\\t\\t\\t\\tpadding-inline-start: 62px;\\n\\t\\t\\t\\twidth: inherit;\\n\\t\\t\\t\\ttransition: max-height 2000ms ease-in-out,\\n\\t\\t\\t\\t\\t\\t\\topacity 250ms ease-in-out;\\n\\t\\t\\t\\tmax-height: 9999px;\\n\\t\\t\\t\\topacity: 1;\\n\\t\\t\\t\\t> li {\\n\\t\\t\\t\\t\\tdisplay: inline-flex;\\n\\t\\t\\t\\t\\tflex-wrap: wrap;\\n\\t\\t\\t\\t\\t&:focus,\\n\\t\\t\\t\\t\\t&:hover,\\n\\t\\t\\t\\t\\t&.active,\\n\\t\\t\\t\\t\\ta.selected {\\n\\t\\t\\t\\t\\t\\t&,\\n\\t\\t\\t\\t\\t\\t> a {\\n\\t\\t\\t\\t\\t\\t\\topacity: 1;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t/* align loader */\\n\\t\\t\\t\\t\\t&.icon-loading-small:after {\\n\\t\\t\\t\\t\\t\\tinset-inline-start: -10px;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t/* Submenu fix for icon */\\n\\t\\t\\t\\t\\t> a[class*='icon-'],\\n\\t\\t\\t\\t\\t> a[style*='background-image'],\\n\\t\\t\\t\\t\\t.app-navigation-entry-bullet {\\n\\t\\t\\t\\t\\t\\tmargin-inline-start: -32px; /* 44px padding - 12px padding */\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t/* Submenu fix for bullet */\\n\\t\\t\\t\\t\\t> .app-navigation-entry-bullet {\\n\\t\\t\\t\\t\\t\\tinset-inline-start: -32px;/* 44px padding - 12px padding */\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\t.collapsible > .collapse {\\n\\t\\tz-index: 500;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.quoted-text{color:var(--color-text-maxcontrast) summary;color-cursor:pointer}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/MessagePlainTextBody.vue\"],\"names\":[],\"mappings\":\"AACA,aACC,2CAAA,CAGC,oBAAA\",\"sourcesContent\":[\"\\n.quoted-text {\\n\\tcolor: var(--color-text-maxcontrast)\\n\\n\\tsummary {\\n\\t\\tcursor: pointer\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.modal__content[data-v-a1d8141a]{margin:20px}h2[data-v-a1d8141a],.intro-text[data-v-a1d8141a],.headers-list[data-v-a1d8141a]{margin-bottom:calc(var(--default-grid-baseline)*2)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/mailFilter/CreateModal.vue\"],\"names\":[],\"mappings\":\"AACA,iCACC,WAAA,CAGD,gFACC,kDAAA\",\"sourcesContent\":[\"\\n.modal__content {\\n\\tmargin: 20px;\\n}\\n\\nh2, .intro-text, .headers-list {\\n\\tmargin-bottom: calc(var(--default-grid-baseline) * 2);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.fade-enter-active[data-v-25fa7340],.fade-leave-active[data-v-25fa7340]{transition:opacity .5s}.fade-enter[data-v-25fa7340],.fade-leave-to[data-v-25fa7340]{opacity:0}.empty-content[data-v-25fa7340]{height:100%;display:flex}.wrapper[data-v-25fa7340]{display:flex;justify-content:center;flex-direction:column;flex:1 auto;align-items:center;height:100vh}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Loading.vue\"],\"names\":[],\"mappings\":\"AACA,wEAEC,sBAAA,CAGD,6DAEC,SAAA,CAGD,gCACC,WAAA,CACA,YAAA,CAGD,0BACC,YAAA,CACA,sBAAA,CACA,qBAAA,CACA,WAAA,CACA,kBAAA,CACA,YAAA\",\"sourcesContent\":[\"\\n.fade-enter-active,\\n.fade-leave-active {\\n\\ttransition: opacity 0.5s;\\n}\\n\\n.fade-enter,\\n.fade-leave-to {\\n\\topacity: 0;\\n}\\n\\n.empty-content {\\n\\theight: 100%;\\n\\tdisplay: flex;\\n}\\n\\n.wrapper {\\n\\tdisplay: flex;\\n\\tjustify-content: center;\\n\\tflex-direction: column;\\n\\tflex: 1 auto;\\n\\talign-items: center;\\n\\theight: 100vh;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.mail-message-account-color[data-v-cf5ba508]{position:absolute;inset-inline-start:0px;width:2px;height:69px;z-index:1}.envelope .app-content-list-item-icon[data-v-cf5ba508]{height:40px}.envelope__subtitle[data-v-cf5ba508]{display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;align-items:center}.envelope__subtitle__subject[data-v-cf5ba508]{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:var(--default-line-height)}.envelope__subtitle__subject__text.draft[data-v-cf5ba508]{line-height:130%}.envelope__subtitle__subject__text.draft[data-v-cf5ba508] em{font-style:italic}.envelope__preview-text[data-v-cf5ba508]{color:var(--color-text-maxcontrast);overflow:hidden;font-weight:initial;max-height:calc(var(--default-font-size)*var(--default-line-height)*2);display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.envelope__preview-text .material-design-icon[data-v-cf5ba508]{display:inline;position:relative;top:2px}.envelope__preview-text__icon[data-v-cf5ba508]{display:inline}.list-item__wrapper--active div[data-v-cf5ba508],.list-item__wrapper--active[data-v-cf5ba508] .list-item-content__inner__details__details{color:var(--color-primary-element-text) !important}.icon-important[data-v-cf5ba508] path{fill:#fc0;stroke:var(--color-main-background);stroke-width:2}.list-item:hover .icon-important[data-v-cf5ba508] path,.list-item:focus .icon-important[data-v-cf5ba508] path,.list-item.active .icon-important[data-v-cf5ba508] path{stroke:var(--color-background-dark)}.icon-important.app-content-list-item-star[data-v-cf5ba508]{background-image:none;inset-inline-start:1px;top:8px;opacity:1}.important-one-line.app-content-list-item-star[data-v-cf5ba508] {top:4px !important;inset-inline-start:2px}.app-content-list-item-select-checkbox[data-v-cf5ba508]{display:inline-block;vertical-align:middle;position:absolute;inset-inline-start:33px;top:35px;z-index:50}.list-item-style[data-v-cf5ba508]:not(.seen){font-weight:bold}.junk-icon-style[data-v-cf5ba508]{opacity:.2;display:flex;top:32px;inset-inline-start:32px;background-size:16px;height:20px;width:20px;margin:0;padding:0;position:absolute;z-index:2}.junk-icon-style[data-v-cf5ba508]:hover{opacity:.1}.one-line.junk-icon-style[data-v-cf5ba508]{top:36px}.icon-attachment[data-v-cf5ba508]{-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=25)\";opacity:.25}[data-v-cf5ba508] .action--primary .material-design-icon{margin-bottom:-14px}.tag-group__label[data-v-cf5ba508]{margin:0 7px;z-index:2;font-size:calc(var(--default-font-size)*.8);font-weight:bold;padding-inline:2px;white-space:nowrap}.tag-group__bg[data-v-cf5ba508]{position:absolute;width:100%;height:100%;top:0;inset-inline-start:0;opacity:15%}.tag-group[data-v-cf5ba508]{display:inline-block;border-radius:var(--border-radius-pill);position:relative;margin-inline-end:1px;overflow:hidden;text-overflow:ellipsis}.list-item__wrapper[data-v-cf5ba508] {list-style:none}.icon-important.app-content-list-item-star[data-v-cf5ba508] {position:absolute;top:3px;z-index:1;stroke:var(--color-main-background);stroke-width:2}.app-content-list-item-star.favorite-icon-style[data-v-cf5ba508]{display:inline-block;position:absolute;top:3px;inset-inline-start:30px;cursor:pointer;stroke:var(--color-main-background);stroke-width:2;z-index:1}.app-content-list-item-star.favorite-icon-style[data-v-cf5ba508]:hover{opacity:.4}.one-line.favorite-icon-style[data-v-cf5ba508]{top:3px;inset-inline-start:31px}.seen-icon-style[data-v-cf5ba508],.attachment-icon-style[data-v-cf5ba508]{opacity:.6;display:inline-flex;align-items:center;margin-inline-end:5px}[data-v-cf5ba508] .list-item__anchor{margin-top:6px;margin-bottom:6px}[data-v-cf5ba508] .line-two__subtitle{display:flex;flex-basis:100%;padding-inline-start:40px;width:450px}[data-v-cf5ba508] .line-one__title{flex-direction:row;display:flex;width:200px}.line-two.one-line[data-v-cf5ba508]{display:flex;overflow:hidden;align-items:center;text-overflow:ellipsis;white-space:nowrap}.quick-actions-button[data-v-cf5ba508]{width:100%;display:flex;justify-content:space-between;align-items:center}.envelope__subtitle__subject.one-line[data-v-cf5ba508]{display:flex;align-items:center;height:calc(var(--default-font-size)*var(--default-line-height))}.envelope__subtitle__subject.one-line[data-v-cf5ba508]::after{content:\"·\";margin:12px}.envelope__subtitle__subject__text.one-line[data-v-cf5ba508]{max-width:300px;display:inline-block;text-overflow:ellipsis;overflow:hidden}.app-content-list-item-avatar-selected[data-v-cf5ba508]{background-color:var(--color-primary-element);color:var(--color-primary-light);border-radius:32px}.app-content-list-item-avatar-selected[data-v-cf5ba508]:hover{background-color:var(--color-primary-element);color:var(--color-primary-light);border-radius:32px}.hover-active[data-v-cf5ba508]:hover{color:var(--color-primary-hover);background-color:var(--color-primary-light-hover);border-radius:32px}.hovering-status[data-v-cf5ba508]{height:calc(var(--default-grid-baseline)*10)}.check-icon[data-v-cf5ba508]{border-radius:32px;width:calc(var(--default-grid-baseline)*10);height:calc(var(--default-grid-baseline)*10);display:flex;align-items:center;justify-content:center}`, \"\",{\"version\":3,\"sources\":[\"webpack://./Envelope.vue\",\"webpack://./src/components/Envelope.vue\"],\"names\":[],\"mappings\":\"AAAA,6CCCA,iBACC,CAAA,sBACA,CAAA,SACA,CAAA,WACA,CAAA,SACA,CAAA,uDAIA,WACC,CAAA,qCAGD,YACC,CAAA,eACA,CAAA,sBACA,CAAA,kBACA,CAAA,kBACA,CAAA,8CACA,MACC,CAAA,eACA,CAAA,sBACA,CAAA,kBACA,CAAA,sCACA,CAAA,0DAEC,gBACC,CAAA,6DAEA,iBACC,CAAA,yCAML,mCACC,CAAA,eACA,CAAA,mBACA,CAAA,sEACA,CAAA,mBAGA,CAAA,oBACA,CAAA,2BACA,CAAA,+DAEA,cACC,CAAA,iBAEA,CAAA,OACA,CAAA,+CAED,cACC,CAAA,0IAMF,kDACC,CAAA,sCAKD,SACC,CAAA,mCACA,CAAA,cACA,CAAA,sKAKA,mCACC,CAAA,4DAKF,qBACC,CAAA,sBACA,CAAA,OACA,CAAA,SACA,CAAA,iEAIF,kBACC,CAAA,sBACA,CAAA,wDAGD,oBACC,CAAA,qBACA,CAAA,iBACA,CAAA,uBACA,CAAA,QACA,CAAA,UACA,CAAA,6CAGD,gBACC,CAAA,kCAGD,UACC,CAAA,YACA,CAAA,QACA,CAAA,uBACA,CAAA,oBACA,CAAA,WACA,CAAA,UACA,CAAA,QACA,CAAA,SACA,CAAA,iBACA,CAAA,SACA,CAAA,wCACA,UACC,CAAA,2CAIF,QACC,CAAA,kCAGD,gEACC,CAAA,WACA,CAAA,yDAIA,mBACC,CAAA,mCAIF,YACC,CAAA,SACA,CAAA,2CACA,CAAA,gBACA,CAAA,kBACA,CAAA,kBACA,CAAA,gCAGD,iBACC,CAAA,UACA,CAAA,WACA,CAAA,KACA,CAAA,oBACA,CAAA,WACA,CAAA,4BAGD,oBACC,CAAA,uCACA,CAAA,iBACA,CAAA,qBACA,CAAA,eACA,CAAA,sBACA,CAAA,sCAGD,eACC,CAAA,6DAGD,iBACC,CAAA,OACA,CAAA,SACA,CAAA,mCACA,CAAA,cACA,CAAA,iEAGD,oBACC,CAAA,iBACA,CAAA,OACA,CAAA,uBACA,CAAA,cACA,CAAA,mCACA,CAAA,cACA,CAAA,SACA,CAAA,uEACA,UACC,CAAA,+CAIF,OACC,CAAA,uBACA,CAAA,0EAGD,UAEC,CAAA,mBACA,CAAA,kBACA,CAAA,qBACA,CAAA,qCAGD,cACC,CAAA,iBACA,CAAA,sCAGD,YACC,CAAA,eACA,CAAA,yBACA,CAAA,WACA,CAAA,mCAGD,kBACC,CAAA,YACA,CAAA,WACA,CAAA,oCAGD,YACC,CAAA,eACA,CAAA,kBACA,CAAA,sBACA,CAAA,kBACA,CAAA,uCAGD,UACC,CAAA,YACA,CAAA,6BACA,CAAA,kBACA,CAAA,uDAGD,YACC,CAAA,kBACA,CAAA,gEACA,CAAA,8DAEA,WACC,CAAA,WACA,CAAA,6DAIF,eACC,CAAA,oBACA,CAAA,sBACA,CAAA,eACA,CAAA,wDAGD,6CACC,CAAA,gCACA,CAAA,kBACA,CAAA,8DACA,6CACC,CAAA,gCACA,CAAA,kBACA,CAAA,qCAKD,gCACC,CAAA,iDACA,CAAA,kBACA,CAAA,kCAIF,4CAGC,CAAA,6BAGD,kBACC,CAAA,2CACA,CAAA,4CACA,CAAA,YACA,CAAA,kBACA,CAAA,sBACA\",\"sourcesContent\":[\".mail-message-account-color{position:absolute;inset-inline-start:0px;width:2px;height:69px;z-index:1}.envelope .app-content-list-item-icon{height:40px}.envelope__subtitle{display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;align-items:center}.envelope__subtitle__subject{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:var(--default-line-height)}.envelope__subtitle__subject__text.draft{line-height:130%}.envelope__subtitle__subject__text.draft :deep(em){font-style:italic}.envelope__preview-text{color:var(--color-text-maxcontrast);overflow:hidden;font-weight:initial;max-height:calc(var(--default-font-size)*var(--default-line-height)*2);display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.envelope__preview-text .material-design-icon{display:inline;position:relative;top:2px}.envelope__preview-text__icon{display:inline}.list-item__wrapper--active div,.list-item__wrapper--active :deep(.list-item-content__inner__details__details){color:var(--color-primary-element-text) !important}.icon-important :deep(path){fill:#fc0;stroke:var(--color-main-background);stroke-width:2}.list-item:hover .icon-important :deep(path),.list-item:focus .icon-important :deep(path),.list-item.active .icon-important :deep(path){stroke:var(--color-background-dark)}.icon-important.app-content-list-item-star{background-image:none;inset-inline-start:1px;top:8px;opacity:1}.important-one-line.app-content-list-item-star:deep(){top:4px !important;inset-inline-start:2px}.app-content-list-item-select-checkbox{display:inline-block;vertical-align:middle;position:absolute;inset-inline-start:33px;top:35px;z-index:50}.list-item-style:not(.seen){font-weight:bold}.junk-icon-style{opacity:.2;display:flex;top:32px;inset-inline-start:32px;background-size:16px;height:20px;width:20px;margin:0;padding:0;position:absolute;z-index:2}.junk-icon-style:hover{opacity:.1}.one-line.junk-icon-style{top:36px}.icon-attachment{-ms-filter:\\\"progid:DXImageTransform.Microsoft.Alpha(Opacity=25)\\\";opacity:.25}:deep(.action--primary) .material-design-icon{margin-bottom:-14px}.tag-group__label{margin:0 7px;z-index:2;font-size:calc(var(--default-font-size)*.8);font-weight:bold;padding-inline:2px;white-space:nowrap}.tag-group__bg{position:absolute;width:100%;height:100%;top:0;inset-inline-start:0;opacity:15%}.tag-group{display:inline-block;border-radius:var(--border-radius-pill);position:relative;margin-inline-end:1px;overflow:hidden;text-overflow:ellipsis}.list-item__wrapper:deep(){list-style:none}.icon-important.app-content-list-item-star:deep(){position:absolute;top:3px;z-index:1;stroke:var(--color-main-background);stroke-width:2}.app-content-list-item-star.favorite-icon-style{display:inline-block;position:absolute;top:3px;inset-inline-start:30px;cursor:pointer;stroke:var(--color-main-background);stroke-width:2;z-index:1}.app-content-list-item-star.favorite-icon-style:hover{opacity:.4}.one-line.favorite-icon-style{top:3px;inset-inline-start:31px}.seen-icon-style,.attachment-icon-style{opacity:.6;display:inline-flex;align-items:center;margin-inline-end:5px}:deep(.list-item__anchor){margin-top:6px;margin-bottom:6px}:deep(.line-two__subtitle){display:flex;flex-basis:100%;padding-inline-start:40px;width:450px}:deep(.line-one__title){flex-direction:row;display:flex;width:200px}.line-two.one-line{display:flex;overflow:hidden;align-items:center;text-overflow:ellipsis;white-space:nowrap}.quick-actions-button{width:100%;display:flex;justify-content:space-between;align-items:center}.envelope__subtitle__subject.one-line{display:flex;align-items:center;height:calc(var(--default-font-size)*var(--default-line-height))}.envelope__subtitle__subject.one-line::after{content:\\\"·\\\";margin:12px}.envelope__subtitle__subject__text.one-line{max-width:300px;display:inline-block;text-overflow:ellipsis;overflow:hidden}.app-content-list-item-avatar-selected{background-color:var(--color-primary-element);color:var(--color-primary-light);border-radius:32px}.app-content-list-item-avatar-selected:hover{background-color:var(--color-primary-element);color:var(--color-primary-light);border-radius:32px}.hover-active:hover{color:var(--color-primary-hover);background-color:var(--color-primary-light-hover);border-radius:32px}.hovering-status{height:calc(var(--default-grid-baseline)*10)}.check-icon{border-radius:32px;width:calc(var(--default-grid-baseline)*10);height:calc(var(--default-grid-baseline)*10);display:flex;align-items:center;justify-content:center}\",\"\\n.mail-message-account-color {\\n\\tposition: absolute;\\n\\tinset-inline-start: 0px;\\n\\twidth: 2px;\\n\\theight: 69px;\\n\\tz-index: 1;\\n}\\n\\n.envelope {\\n\\t.app-content-list-item-icon {\\n\\t\\theight: 40px; // To prevent some unexpected spacing below the avatar\\n\\t}\\n\\n\\t&__subtitle {\\n\\t\\tdisplay: flex;\\n\\t\\toverflow: hidden;\\n\\t\\ttext-overflow: ellipsis;\\n\\t\\twhite-space: nowrap;\\n\\t\\talign-items: center;\\n\\t\\t&__subject {\\n\\t\\t\\tflex: 1;\\n\\t\\t\\toverflow: hidden;\\n\\t\\t\\ttext-overflow: ellipsis;\\n\\t\\t\\twhite-space: nowrap;\\n\\t\\t\\tline-height: var(--default-line-height);\\n\\t\\t\\t&__text {\\n\\t\\t\\t\\t&.draft {\\n\\t\\t\\t\\t\\tline-height: 130%;\\n\\t\\t\\t\\t\\t/* deep because there is no data attribute for the em rendered from JS output */\\n\\t\\t\\t\\t\\t:deep(em) {\\n\\t\\t\\t\\t\\t\\tfont-style: italic;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\t&__preview-text {\\n\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\toverflow: hidden;\\n\\t\\tfont-weight: initial;\\n\\t\\tmax-height: calc(var(--default-font-size) * var(--default-line-height) * 2);\\n\\n\\t\\t/* Weird CSS hacks to make text ellipsize without white-space: nowrap */\\n\\t\\tdisplay: -webkit-box;\\n\\t\\t-webkit-line-clamp: 2;\\n\\t\\t-webkit-box-orient: vertical;\\n\\n\\t\\t.material-design-icon {\\n\\t\\t\\tdisplay: inline;\\n\\n\\t\\t\\tposition: relative;\\n\\t\\t\\ttop: 2px;\\n\\t\\t}\\n\\t\\t&__icon {\\n\\t\\t\\tdisplay: inline;\\n\\t\\t}\\n\\t}\\n}\\n\\n.list-item__wrapper--active {\\n\\tdiv, :deep(.list-item-content__inner__details__details) {\\n\\t\\tcolor: var(--color-primary-element-text) !important;\\n\\t}\\n}\\n\\n.icon-important {\\n\\t:deep(path) {\\n\\t\\tfill: #ffcc00;\\n\\t\\tstroke: var(--color-main-background);\\n\\t\\tstroke-width: 2;\\n\\t}\\n\\t.list-item:hover &,\\n\\t.list-item:focus &,\\n\\t.list-item.active & {\\n\\t\\t:deep(path) {\\n\\t\\t\\tstroke: var(--color-background-dark);\\n\\t\\t}\\n\\t}\\n\\n\\t// In message list, but not the one in the action menu\\n\\t&.app-content-list-item-star {\\n\\t\\tbackground-image: none;\\n\\t\\tinset-inline-start: 1px;\\n\\t\\ttop: 8px;\\n\\t\\topacity: 1;\\n\\t}\\n}\\n\\n.important-one-line.app-content-list-item-star:deep() {\\n\\ttop: 4px !important;\\n\\tinset-inline-start: 2px;\\n}\\n\\n.app-content-list-item-select-checkbox {\\n\\tdisplay: inline-block;\\n\\tvertical-align: middle;\\n\\tposition: absolute;\\n\\tinset-inline-start: 33px;\\n\\ttop: 35px;\\n\\tz-index: 50; // same as icon-starred\\n}\\n\\n.list-item-style:not(.seen) {\\n\\tfont-weight: bold;\\n}\\n\\n.junk-icon-style {\\n\\topacity: .2;\\n\\tdisplay: flex;\\n\\ttop: 32px;\\n\\tinset-inline-start: 32px;\\n\\tbackground-size: 16px;\\n\\theight: 20px;\\n\\twidth: 20px;\\n\\tmargin: 0;\\n\\tpadding: 0;\\n\\tposition: absolute;\\n\\tz-index: 2;\\n\\t&:hover {\\n\\t\\topacity: .1;\\n\\t}\\n}\\n\\n.one-line.junk-icon-style {\\n\\ttop: 36px;\\n}\\n\\n.icon-attachment {\\n\\t-ms-filter: 'progid:DXImageTransform.Microsoft.Alpha(Opacity=25)';\\n\\topacity: 0.25;\\n}\\n\\n:deep(.action--primary) {\\n\\t.material-design-icon {\\n\\t\\tmargin-bottom: -14px;\\n\\t}\\n}\\n\\n.tag-group__label {\\n\\tmargin: 0 7px;\\n\\tz-index: 2;\\n\\tfont-size: calc(var(--default-font-size) * 0.8);\\n\\tfont-weight: bold;\\n\\tpadding-inline: 2px;\\n\\twhite-space: nowrap;\\n}\\n\\n.tag-group__bg {\\n\\tposition: absolute;\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\ttop: 0;\\n\\tinset-inline-start: 0;\\n\\topacity: 15%;\\n}\\n\\n.tag-group {\\n\\tdisplay: inline-block;\\n\\tborder-radius: var(--border-radius-pill);\\n\\tposition: relative;\\n\\tmargin-inline-end: 1px;\\n\\toverflow: hidden;\\n\\ttext-overflow: ellipsis;\\n}\\n\\n.list-item__wrapper:deep() {\\n\\tlist-style: none;\\n}\\n\\n.icon-important.app-content-list-item-star:deep() {\\n\\tposition: absolute;\\n\\ttop: 3px;\\n\\tz-index: 1;\\n\\tstroke: var(--color-main-background);\\n\\tstroke-width: 2;\\n}\\n\\n.app-content-list-item-star.favorite-icon-style {\\n\\tdisplay: inline-block;\\n\\tposition: absolute;\\n\\ttop: 3px;\\n\\tinset-inline-start: 30px;\\n\\tcursor: pointer;\\n\\tstroke: var(--color-main-background);\\n\\tstroke-width: 2;\\n\\tz-index: 1;\\n\\t&:hover {\\n\\t\\topacity: .4;\\n\\t}\\n}\\n\\n.one-line.favorite-icon-style {\\n\\ttop: 3px;\\n\\tinset-inline-start: 31px;\\n}\\n\\n.seen-icon-style,\\n.attachment-icon-style  {\\n\\topacity: .6;\\n\\tdisplay: inline-flex;\\n\\talign-items: center;\\n\\tmargin-inline-end: 5px;\\n}\\n\\n:deep(.list-item__anchor) {\\n\\tmargin-top: 6px;\\n\\tmargin-bottom: 6px;\\n}\\n\\n:deep(.line-two__subtitle) {\\n\\tdisplay: flex;\\n\\tflex-basis: 100%;\\n\\tpadding-inline-start: 40px;\\n\\twidth: 450px;\\n}\\n\\n:deep(.line-one__title) {\\n\\tflex-direction: row;\\n\\tdisplay: flex;\\n\\twidth: 200px;\\n}\\n\\n.line-two.one-line {\\n\\tdisplay: flex;\\n\\toverflow: hidden;\\n\\talign-items: center;\\n\\ttext-overflow: ellipsis;\\n\\twhite-space: nowrap;\\n}\\n\\n.quick-actions-button{\\n\\twidth: 100%;\\n\\tdisplay: flex;\\n\\tjustify-content: space-between;\\n\\talign-items: center;\\n}\\n\\n.envelope__subtitle__subject.one-line {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\theight: calc(var(--default-font-size) * var(--default-line-height));\\n\\n\\t&::after {\\n\\t\\tcontent: '\\\\00B7';\\n\\t\\tmargin: 12px;\\n\\t}\\n}\\n\\n.envelope__subtitle__subject__text.one-line {\\n\\tmax-width: 300px;\\n\\tdisplay: inline-block;\\n\\ttext-overflow: ellipsis;\\n\\toverflow: hidden;\\n}\\n\\n.app-content-list-item-avatar-selected {\\n\\tbackground-color: var(--color-primary-element);\\n\\tcolor: var(--color-primary-light);\\n\\tborder-radius: 32px;\\n\\t&:hover {\\n\\t\\tbackground-color: var(--color-primary-element);\\n\\t\\tcolor: var(--color-primary-light);\\n\\t\\tborder-radius: 32px;\\n\\t}\\n}\\n\\n.hover-active {\\n\\t&:hover {\\n\\t\\tcolor: var(--color-primary-hover);\\n\\t\\tbackground-color: var(--color-primary-light-hover);\\n\\t\\tborder-radius: 32px;\\n\\t}\\n}\\n\\n.hovering-status {\\n\\t// Needs to be the same height as the check-icon and the avatar to prevent automatic resizing\\n\\t// and height differences between hover state and normal state\\n\\theight: calc(var(--default-grid-baseline) * 10);\\n}\\n\\n.check-icon {\\n\\tborder-radius: 32px;\\n\\twidth: calc(var(--default-grid-baseline) * 10);\\n\\theight: calc(var(--default-grid-baseline) * 10);\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.imip[data-v-578ffd9c]{display:flex;flex-direction:column;border:solid 2px var(--color-border);border-radius:var(--border-radius-large);padding:10px}.imip__type[data-v-578ffd9c]{display:flex;gap:5px;margin-inline-start:36px}.imip__more-options[data-v-578ffd9c]{display:flex;flex-direction:column;margin-top:15px;gap:10px}.imip__more-options__row[data-v-578ffd9c]{display:flex;flex-direction:column}.imip__more-options__row--calendar[data-v-578ffd9c]{display:flex;width:100%}.imip__more-options__row--calendar[data-v-578ffd9c] .calendar-picker-option__label{max-width:unset !important}.imip__more-options__row--comment textarea[data-v-578ffd9c]{display:block;width:100%}.imip__actions[data-v-578ffd9c]{margin-top:15px;margin-inline-start:36px}.imip__actions--buttons[data-v-578ffd9c]{display:flex}.imip__actions--hint[data-v-578ffd9c]{font-style:italic}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Imip.vue\"],\"names\":[],\"mappings\":\"AACA,uBACC,YAAA,CACA,qBAAA,CACA,oCAAA,CACA,wCAAA,CACA,YAAA,CAEA,6BACC,YAAA,CACA,OAAA,CACA,wBAAA,CAGD,qCACC,YAAA,CACA,qBAAA,CACA,eAAA,CACA,QAAA,CAEA,0CACC,YAAA,CACA,qBAAA,CAEA,oDACC,YAAA,CACA,UAAA,CAEC,mFACC,0BAAA,CAKF,4DACC,aAAA,CACA,UAAA,CAMJ,gCACC,eAAA,CACA,wBAAA,CAEA,yCACC,YAAA,CAGD,sCACC,iBAAA\",\"sourcesContent\":[\"\\n.imip {\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tborder: solid 2px var(--color-border);\\n\\tborder-radius: var(--border-radius-large);\\n\\tpadding: 10px;\\n\\n\\t&__type {\\n\\t\\tdisplay: flex;\\n\\t\\tgap: 5px;\\n\\t\\tmargin-inline-start: 36px;\\n\\t}\\n\\n\\t&__more-options {\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\t\\tmargin-top: 15px;\\n\\t\\tgap: 10px;\\n\\n\\t\\t&__row {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\tflex-direction: column;\\n\\n\\t\\t\\t&--calendar {\\n\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\twidth: 100%;\\n\\n\\t\\t\\t\\t\\t:deep(.calendar-picker-option__label) {\\n\\t\\t\\t\\t\\t\\tmax-width: unset !important;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t&--comment {\\n\\t\\t\\t\\ttextarea {\\n\\t\\t\\t\\t\\tdisplay: block;\\n\\t\\t\\t\\t\\twidth: 100%;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t&__actions {\\n\\t\\tmargin-top: 15px;\\n\\t\\tmargin-inline-start: 36px;\\n\\n\\t\\t&--buttons {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t}\\n\\n\\t\\t&--hint {\\n\\t\\t\\tfont-style: italic;\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.reservation[data-v-50bfccc8] {\n\tdisplay: flex;\n\tflex-direction: row;\n\tmargin: 30px 38px;\n\tborder: 1px solid var(--color-border);\n\tborder-radius: var(--border-radius);\n\tpadding: 20px;\n\talign-items: center;\n}\n.departure[data-v-50bfccc8],\n.arrival[data-v-50bfccc8] {\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-grow: 1;\n}\n.departure[data-v-50bfccc8],\n.arrival[data-v-50bfccc8],\n.connection[data-v-50bfccc8] {\n\tjustify-content: center;\n}\n.station[data-v-50bfccc8] {\n\tfont-size: larger;\n\tfont-weight: bold;\n}\n.departure[data-v-50bfccc8] {\n\ttext-align: end;\n}\n.connection[data-v-50bfccc8] {\n\ttext-align: center;\n\tpadding: 0 40px;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/itinerary/TrainReservation.vue\"],\"names\":[],\"mappings\":\";AAmKA;CACA,aAAA;CACA,mBAAA;CACA,iBAAA;CACA,qCAAA;CACA,mCAAA;CACA,aAAA;CACA,mBAAA;AACA;AAEA;;CAEA,aAAA;CACA,sBAAA;CACA,YAAA;AACA;AAEA;;;CAGA,uBAAA;AACA;AAEA;CACA,iBAAA;CACA,iBAAA;AACA;AAEA;CACA,eAAA;AACA;AAEA;CACA,kBAAA;CACA,eAAA;AACA\",\"sourcesContent\":[\"<!--\\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\\n  - SPDX-License-Identifier: AGPL-3.0-or-later\\n-->\\n<template>\\n\\t<div class=\\\"reservation\\\">\\n\\t\\t<div class=\\\"departure\\\">\\n\\t\\t\\t<div class=\\\"station\\\">\\n\\t\\t\\t\\t{{ data.reservationFor.departureStation.name }}\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-if=\\\"departureDate\\\">\\n\\t\\t\\t\\t{{ departureDate }}\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-if=\\\"departureTime\\\">\\n\\t\\t\\t\\t{{ departureTime }}\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"connection\\\">\\n\\t\\t\\t<div><TrainIcon :title=\\\"t('mail', 'Train')\\\" /></div>\\n\\t\\t\\t<div>{{ trainNumber }}</div>\\n\\t\\t\\t<div><ArrowIcon decorative /></div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"arrival\\\">\\n\\t\\t\\t<div class=\\\"station\\\">\\n\\t\\t\\t\\t{{ data.reservationFor.arrivalStation.name }}\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-if=\\\"arrivalDate\\\">\\n\\t\\t\\t\\t{{ arrivalDate }}\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-if=\\\"arrivalTime\\\">\\n\\t\\t\\t\\t{{ arrivalTime }}\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<CalendarImport v-if=\\\"canImport\\\" :calendars=\\\"calendars\\\" :handler=\\\"handleImport\\\" />\\n\\t</div>\\n</template>\\n\\n<script>\\nimport ArrowIcon from 'vue-material-design-icons/ArrowRight.vue'\\nimport ical from 'ical.js'\\nimport md5 from 'md5'\\nimport moment from '@nextcloud/moment'\\nimport { showError, showSuccess } from '@nextcloud/dialogs'\\nimport TrainIcon from 'vue-material-design-icons/Train.vue'\\n\\nimport CalendarImport from './CalendarImport.vue'\\nimport { importCalendarEvent } from '../../service/DAVService.js'\\nimport logger from '../../logger.js'\\n\\nexport default {\\n\\tname: 'TrainReservation',\\n\\tcomponents: {\\n\\t\\tArrowIcon,\\n\\t\\tCalendarImport,\\n\\t\\tTrainIcon,\\n\\t},\\n\\tprops: {\\n\\t\\tdata: {\\n\\t\\t\\ttype: Object,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tcalendars: {\\n\\t\\t\\ttype: Array,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tmessageId: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t},\\n\\tcomputed: {\\n\\t\\tdepartureTime() {\\n\\t\\t\\tif (!('departureTime' in this.data.reservationFor)) {\\n\\t\\t\\t\\treturn\\n\\t\\t\\t}\\n\\t\\t\\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.departureTime)).format('LT')\\n\\t\\t},\\n\\t\\tdepartureDate() {\\n\\t\\t\\tif ('departureTime' in this.data.reservationFor) {\\n\\t\\t\\t\\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.departureTime)).format('L')\\n\\t\\t\\t}\\n\\t\\t\\tif ('departureDay' in this.data.reservationFor) {\\n\\t\\t\\t\\treturn moment(this.data.reservationFor.departureDay).format('L')\\n\\t\\t\\t}\\n\\t\\t\\treturn undefined\\n\\t\\t},\\n\\t\\tarrivalTime() {\\n\\t\\t\\tif (!('arrivalTime' in this.data.reservationFor)) {\\n\\t\\t\\t\\treturn\\n\\t\\t\\t}\\n\\t\\t\\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.arrivalTime)).format('LT')\\n\\t\\t},\\n\\t\\tarrivalDate() {\\n\\t\\t\\tif (!('arrivalTime' in this.data.reservationFor)) {\\n\\t\\t\\t\\treturn\\n\\t\\t\\t}\\n\\t\\t\\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.arrivalTime)).format('L')\\n\\t\\t},\\n\\t\\ttrainNumber() {\\n\\t\\t\\treturn this.data.reservationFor.trainNumber\\n\\t\\t},\\n\\t\\tcanImport() {\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t('departureTime' in this.data.reservationFor && 'arrivalTime' in this.data.reservationFor)\\n\\t\\t\\t\\t|| 'departureDay' in this.data.reservationFor\\n\\t\\t\\t)\\n\\t\\t},\\n\\t},\\n\\tmethods: {\\n\\t\\thandleImport(calendar) {\\n\\t\\t\\tconst event = new ical.Component('VEVENT')\\n\\t\\t\\tif ('trainNumber' in this.data.reservationFor) {\\n\\t\\t\\t\\tevent.updatePropertyWithValue(\\n\\t\\t\\t\\t\\t'SUMMARY',\\n\\t\\t\\t\\t\\tt('mail', '{trainNr} from {depStation} to {arrStation}', {\\n\\t\\t\\t\\t\\t\\ttrainNr: this.data.reservationFor.trainNumber,\\n\\t\\t\\t\\t\\t\\tdepStation: this.data.reservationFor.departureStation.name,\\n\\t\\t\\t\\t\\t\\tarrStation: this.data.reservationFor.arrivalStation.name,\\n\\t\\t\\t\\t\\t}),\\n\\t\\t\\t\\t)\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tevent.updatePropertyWithValue(\\n\\t\\t\\t\\t\\t'SUMMARY',\\n\\t\\t\\t\\t\\tt('mail', 'Train from {depStation} to {arrStation}', {\\n\\t\\t\\t\\t\\t\\tdepStation: this.data.reservationFor.departureStation.name,\\n\\t\\t\\t\\t\\t\\tarrStation: this.data.reservationFor.arrivalStation.name,\\n\\t\\t\\t\\t\\t}),\\n\\t\\t\\t\\t)\\n\\t\\t\\t}\\n\\n\\t\\t\\tif ('departureTime' in this.data.reservationFor && 'arrivalTime' in this.data.reservationFor) {\\n\\t\\t\\t\\tCalendarImport.addIcalTimeProperty(event, this.data.reservationFor.departureTime, 'DTSTART')\\n\\t\\t\\t\\tCalendarImport.addIcalTimeProperty(event, this.data.reservationFor.arrivalTime, 'DTEND')\\n\\t\\t\\t} else if ('departureDay' in this.data.reservationFor) {\\n\\t\\t\\t\\tconst date = moment(this.data.reservationFor.departureDay).format()\\n\\t\\t\\t\\tevent.updatePropertyWithValue('DTSTART', ical.Time.fromDateTimeString(date))\\n\\t\\t\\t}\\n\\n\\t\\t\\t// TODO: read version from package.json\\n\\t\\t\\tevent.updatePropertyWithValue('PRODID', 'Nextcloud Mail')\\n\\n\\t\\t\\t// TODO: is this free of collisions? the bug reports will tell us!\\n\\t\\t\\tevent.updatePropertyWithValue('UID', md5(this.messageId + this.departureTime))\\n\\n\\t\\t\\tconst cal = new ical.Component('VCALENDAR')\\n\\t\\t\\tcal.addSubcomponent(event)\\n\\t\\t\\tlogger.debug('generated calendar event from train reservation data', { ical: cal.toString() })\\n\\n\\t\\t\\treturn importCalendarEvent(calendar.url)(cal.toString())\\n\\t\\t\\t\\t.then(() => {\\n\\t\\t\\t\\t\\tlogger.debug('event successfully imported')\\n\\t\\t\\t\\t\\tshowSuccess(t('mail', 'Event imported into {calendar}', { calendar: calendar.displayname }))\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\t.catch((error) => {\\n\\t\\t\\t\\t\\tlogger.error('Could not import event', { error })\\n\\t\\t\\t\\t\\tshowError(t('mail', 'Could not create event'))\\n\\t\\t\\t\\t})\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n\\n<style scoped>\\n.reservation {\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\tmargin: 30px 38px;\\n\\tborder: 1px solid var(--color-border);\\n\\tborder-radius: var(--border-radius);\\n\\tpadding: 20px;\\n\\talign-items: center;\\n}\\n\\n.departure,\\n.arrival {\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tflex-grow: 1;\\n}\\n\\n.departure,\\n.arrival,\\n.connection {\\n\\tjustify-content: center;\\n}\\n\\n.station {\\n\\tfont-size: larger;\\n\\tfont-weight: bold;\\n}\\n\\n.departure {\\n\\ttext-align: end;\\n}\\n\\n.connection {\\n\\ttext-align: center;\\n\\tpadding: 0 40px;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.composer-session[data-v-9f4f667e]{position:fixed;bottom:calc(var(--body-container-margin) + var(--default-grid-baseline));inset-inline-end:calc(var(--body-container-margin) + var(--default-grid-baseline));z-index:1000;display:flex;align-items:center;gap:var(--default-grid-baseline);width:360px;padding:0 calc(var(--default-grid-baseline)*2);border-radius:var(--body-container-radius);background-color:var(--color-primary-element-light)}@media(max-width: 1024px){.composer-session[data-v-9f4f667e]{width:calc(100% - 2*var(--default-grid-baseline));height:44px;border-radius:var(--border-radius-pill)}}.composer-session[data-v-9f4f667e]:not(.composer-session--disabled):hover{background-color:var(--color-primary-element-light-hover)}.composer-session[data-v-9f4f667e]:not(.composer-session--disabled),.composer-session:not(.composer-session--disabled) *[data-v-9f4f667e]{cursor:pointer}.composer-session__icon[data-v-9f4f667e]{width:44px}.composer-session__text[data-v-9f4f667e]{flex:1 auto;font-weight:bold;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.composer-session__actions[data-v-9f4f667e]{display:flex;flex-shrink:0}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/ComposerSessionIndicator.vue\"],\"names\":[],\"mappings\":\"AACA,mCACC,cAAA,CACA,wEAAA,CACA,kFAAA,CACA,YAAA,CAEA,YAAA,CACA,kBAAA,CACA,gCAAA,CAEA,WAAA,CACA,8CAAA,CAGA,0CAAA,CAUA,mDAAA,CAPA,0BAjBD,mCAkBE,iDAAA,CACA,WAAA,CACA,uCAAA,CAAA,CAMA,0EACC,yDAAA,CAGD,0IACC,cAAA,CAIF,yCACC,UAAA,CAGD,yCACC,WAAA,CACA,gBAAA,CACA,eAAA,CACA,sBAAA,CACA,kBAAA,CAGD,4CACC,YAAA,CACA,aAAA\",\"sourcesContent\":[\"\\n.composer-session {\\n\\tposition: fixed;\\n\\tbottom: calc(var(--body-container-margin) + var(--default-grid-baseline));\\n\\tinset-inline-end: calc(var(--body-container-margin) + var(--default-grid-baseline));\\n\\tz-index: 1000;\\n\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tgap: var(--default-grid-baseline);\\n\\n\\twidth: 360px;\\n\\tpadding: 0 calc(var(--default-grid-baseline) * 2);\\n\\n\\t// Retain border radius from outer body container for visual consistency\\n\\tborder-radius: var(--body-container-radius);\\n\\n\\t// Mobile\\n\\t@media (max-width: 1024px) {\\n\\t\\twidth: calc(100% - 2 * var(--default-grid-baseline));\\n\\t\\theight: 44px;\\n\\t\\tborder-radius: var(--border-radius-pill);\\n\\t}\\n\\n\\t// Conditional hover and pointer styles\\n\\tbackground-color: var(--color-primary-element-light);\\n\\t&:not(&--disabled) {\\n\\t\\t&:hover {\\n\\t\\t\\tbackground-color: var(--color-primary-element-light-hover);\\n\\t\\t}\\n\\n\\t\\t&, * {\\n\\t\\t\\tcursor: pointer;\\n\\t\\t}\\n\\t}\\n\\n\\t&__icon {\\n\\t\\twidth: 44px;\\n\\t}\\n\\n\\t&__text {\\n\\t\\tflex: 1 auto;\\n\\t\\tfont-weight: bold;\\n\\t\\toverflow: hidden;\\n\\t\\ttext-overflow: ellipsis;\\n\\t\\twhite-space: nowrap;\\n\\t}\\n\\n\\t&__actions {\\n\\t\\tdisplay: flex;\\n\\t\\tflex-shrink: 0;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.source-modal[data-v-5414a134] .modal-container{height:800px}.source-modal .source-modal-content[data-v-5414a134]{width:100%;height:100%;overflow-y:scroll !important}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/MenuEnvelope.vue\"],\"names\":[],\"mappings\":\"AAEC,gDACC,YAAA,CAGD,qDACC,UAAA,CACA,WAAA,CACA,4BAAA\",\"sourcesContent\":[\"\\n.source-modal {\\n\\t:deep(.modal-container) {\\n\\t\\theight: 800px;\\n\\t}\\n\\n\\t.source-modal-content {\\n\\t\\twidth: 100%;\\n\\t\\theight: 100%;\\n\\t\\toverflow-y: scroll !important;\\n\\t}\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.phishing-warning[data-v-0378b788]{background-color:rgba(var(--color-warning-rgb), 0.2);border-radius:var(--border-radius);text-align:start;padding:8px;margin:calc(var(--default-grid-baseline)*2);margin-inline-start:50px}.phishing-warning__title[data-v-0378b788]{display:flex}.phishing-warning__list[data-v-0378b788]{list-style-position:inside;list-style-type:disc}.phishing-warning__list__item[data-v-0378b788]{word-wrap:break-word}.phishing-warning__links[data-v-0378b788]{margin-top:10px}.phishing-warning__links__button[data-v-0378b788]{margin-bottom:10px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/PhishingWarning.vue\"],\"names\":[],\"mappings\":\"AACA,mCACC,oDAAA,CACG,kCAAA,CACA,gBAAA,CACA,WAAA,CACA,2CAAA,CAEH,wBAAA,CACA,0CACC,YAAA,CAED,yCACC,0BAAA,CACA,oBAAA,CACA,+CACC,oBAAA,CAGC,0CACE,eAAA,CACJ,kDACC,kBAAA\",\"sourcesContent\":[\"\\n.phishing-warning {\\n\\tbackground-color:rgba(var(--color-warning-rgb), 0.2);\\n    border-radius: var(--border-radius);\\n    text-align: start;\\n    padding: 8px;\\n    margin: calc(var(--default-grid-baseline) * 2);\\n\\t// To match the html message margin\\n\\tmargin-inline-start: 50px;\\n\\t&__title {\\n\\t\\tdisplay: flex;\\n\\t}\\n\\t&__list {\\n\\t\\tlist-style-position: inside;\\n\\t\\tlist-style-type: disc;\\n\\t\\t&__item {\\n\\t\\t\\tword-wrap: break-word;\\n\\t\\t}\\n\\t}\\n    &__links {\\n      margin-top: 10px;\\n\\t\\t&__button{\\n\\t\\t\\tmargin-bottom: 10px;\\n\\t\\t}\\n    }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\n/**\n * @param {Text} message the message\n * @return {boolean|*}\n */\nexport const isPgpgMessage = (message) =>\n\tmessage.format === 'plain' && message.value.startsWith('-----BEGIN PGP MESSAGE-----')\n\nexport function isPgpText(text) {\n\treturn text.startsWith('-----BEGIN PGP MESSAGE-----')\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.event-data[data-v-b537fd88]{display:flex;flex-direction:column;gap:5px}.event-data__heading[data-v-b537fd88]{margin-inline-start:36px}.event-data__row[data-v-b537fd88]{display:flex}.event-data__row__icon[data-v-b537fd88]{align-self:start;margin:0 8px;padding-top:2px}.muted[data-v-b537fd88]{color:var(--color-text-lighter)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/imip/EventData.vue\"],\"names\":[],\"mappings\":\"AACA,6BACC,YAAA,CACA,qBAAA,CACA,OAAA,CAEA,sCACC,wBAAA,CAGD,kCACC,YAAA,CAEA,wCACC,gBAAA,CACA,YAAA,CAGA,eAAA,CAKH,wBACC,+BAAA\",\"sourcesContent\":[\"\\n.event-data {\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tgap: 5px;\\n\\n\\t&__heading {\\n\\t\\tmargin-inline-start: 36px;\\n\\t}\\n\\n\\t&__row {\\n\\t\\tdisplay: flex;\\n\\n\\t\\t&__icon {\\n\\t\\t\\talign-self: start;\\n\\t\\t\\tmargin: 0 8px;\\n\\n\\t\\t\\t// Fix slight misalignment caused by align-self: start\\n\\t\\t\\tpadding-top: 2px;\\n\\t\\t}\\n\\t}\\n}\\n\\n.muted {\\n\\tcolor: var(--color-text-lighter);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n#priority[data-v-5cc766b6] {\n\tdisplay: inline-block;\n}\n.app-content-list-item[data-v-5cc766b6] {\n\topacity: .8;\n}\n.app-content-list-item[data-v-5cc766b6]:hover {\n\tbackground-color: transparent;\n\topacity: 0.8;\n}\nh2[data-v-5cc766b6] {\n\tfont-weight: normal;\n\tfont-size: 17px;\n\tmargin-bottom: 2px;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/SectionTitle.vue\"],\"names\":[],\"mappings\":\";AAyBA;CACA,qBAAA;AACA;AAEA;CACA,WAAA;AACA;AAEA;CACA,6BAAA;CACA,YAAA;AACA;AAEA;CACA,mBAAA;CACA,eAAA;CACA,kBAAA;AACA\",\"sourcesContent\":[\"<!--\\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\\n  - SPDX-License-Identifier: AGPL-3.0-or-later\\n-->\\n\\n<template>\\n\\t<div id=\\\"priority\\\">\\n\\t\\t<div class=\\\"app-content-list-item\\\">\\n\\t\\t\\t<h2>{{ name }}</h2>\\n\\t\\t</div>\\n\\t</div>\\n</template>\\n<script>\\nexport default {\\n\\tname: 'SectionTitle',\\n\\tprops: {\\n\\t\\tname: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n\\n<style scoped>\\n#priority {\\n\\tdisplay: inline-block;\\n}\\n\\n.app-content-list-item {\\n\\topacity: .8;\\n}\\n\\n.app-content-list-item:hover {\\n\\tbackground-color: transparent;\\n\\topacity: 0.8;\\n}\\n\\nh2 {\\n\\tfont-weight: normal;\\n\\tfont-size: 17px;\\n\\tmargin-bottom: 2px;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.list-item-content__quick-actions[data-v-ce546ee4]{display:none}.list-item:hover .list-item-content__quick-actions[data-v-ce546ee4]{display:flex}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/EnvelopeSingleClickActions.vue\"],\"names\":[],\"mappings\":\"AACA,mDACC,YAAA,CAIA,oEACC,YAAA\",\"sourcesContent\":[\"\\n.list-item-content__quick-actions {\\n\\tdisplay: none;\\n}\\n\\n.list-item:hover {\\n\\t.list-item-content__quick-actions {\\n\\t\\tdisplay: flex;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `div[data-v-78a42752]{position:relative}.load-more[data-v-78a42752]{text-align:center;margin-top:10px;cursor:pointer;margin-inline-start:28px;color:var(--color-text-maxcontrast);display:inline-flex;gap:12px}.load-more .plus-icon[data-v-78a42752]{transform:translateX(-8px)}.multiselect-header[data-v-78a42752]{display:flex;flex-direction:row;align-items:center;justify-content:center;background-color:var(--color-main-background-translucent);position:sticky;top:0;height:48px;z-index:100}.multiselect-header .action-buttons[data-v-78a42752]{display:flex}#load-more-mail-messages[data-v-78a42752]{background-position:9px center}.multiselect-header-enter-active[data-v-78a42752],.multiselect-header-leave-active[data-v-78a42752],.list-enter-active[data-v-78a42752],.list-leave-active[data-v-78a42752]{transition:all calc(var(--animation-slow)/2)}.multiselect-header-enter[data-v-78a42752],.multiselect-header-leave-to[data-v-78a42752],.list-enter[data-v-78a42752],.list-leave-to[data-v-78a42752]{opacity:0;height:0;transform:scaleY(0)}#action-label[data-v-78a42752]{vertical-align:middle}@media only screen and (min-width: 600px){#action-label[data-v-78a42752]{display:block}}[data-v-78a42752] .button-vue--text-only{padding:0 !important}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/EnvelopeList.vue\"],\"names\":[],\"mappings\":\"AACA,qBAEC,iBAAA,CAGD,4BACC,iBAAA,CACA,eAAA,CACA,cAAA,CACA,wBAAA,CACA,mCAAA,CACA,mBAAA,CACA,QAAA,CACA,uCACC,0BAAA,CAIF,qCACC,YAAA,CACA,kBAAA,CACA,kBAAA,CACA,sBAAA,CACA,yDAAA,CACA,eAAA,CACA,KAAA,CACA,WAAA,CACA,WAAA,CACA,qDACC,YAAA,CAIF,0CACC,8BAAA,CAGD,4KAIC,4CAAA,CAGD,sJAIC,SAAA,CACA,QAAA,CACA,mBAAA,CAGD,+BACC,qBAAA,CAED,0CACC,+BACC,aAAA,CAAA,CAIF,yCACC,oBAAA\",\"sourcesContent\":[\"\\ndiv {\\n\\t// So we can align the loading spinner in the Priority inbox\\n\\tposition: relative;\\n}\\n\\n.load-more {\\n\\ttext-align: center;\\n\\tmargin-top: 10px;\\n\\tcursor: pointer;\\n\\tmargin-inline-start: 28px;\\n\\tcolor: var(--color-text-maxcontrast);\\n\\tdisplay: inline-flex;\\n\\tgap: 12px;\\n\\t.plus-icon{\\n\\t\\ttransform: translateX(-8px);\\n\\t}\\n}\\n\\n.multiselect-header {\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\tbackground-color: var(--color-main-background-translucent);\\n\\tposition: sticky;\\n\\ttop: 0;\\n\\theight: 48px;\\n\\tz-index: 100;\\n\\t.action-buttons {\\n\\t\\tdisplay: flex;\\n\\t}\\n}\\n\\n#load-more-mail-messages {\\n\\tbackground-position: 9px center;\\n}\\n\\n.multiselect-header-enter-active,\\n.multiselect-header-leave-active,\\n.list-enter-active,\\n.list-leave-active {\\n\\ttransition: all calc(var(--animation-slow) / 2);\\n}\\n\\n.multiselect-header-enter,\\n.multiselect-header-leave-to,\\n.list-enter,\\n.list-leave-to {\\n\\topacity: 0;\\n\\theight: 0;\\n\\ttransform: scaleY(0);\\n}\\n\\n#action-label {\\n\\tvertical-align: middle;\\n}\\n@media only screen and (min-width: 600px) {\\n\\t#action-label {\\n\\t\\tdisplay: block;\\n\\t}\\n}\\n\\n:deep(.button-vue--text-only) {\\n\\tpadding: 0 !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.html-message-body[data-v-703f68fa]{margin:2px calc(var(--default-grid-baseline)*2) 0 calc(var(--default-grid-baseline)*14);background-color:#fff}#mail-message-has-blocked-content[data-v-703f68fa]{margin-inline-start:10px;color:var(--color-text-maxcontrast) !important}#message-container[data-v-703f68fa]{flex:1;display:flex;background-color:#fff}@media only screen{#message-container.scroll[data-v-703f68fa]{overflow-y:auto}}[data-v-703f68fa] .button-vue__text{border:none !important;font-weight:normal !important;padding-inline:14px 10px !important;text-decoration:underline !important}.message-frame[data-v-703f68fa]{width:100%}[data-v-703f68fa] .button-vue__icon{display:none !important}[data-v-703f68fa] .button-vue--vue-tertiary{color:var(--color-text-maxcontrast)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/MessageHTMLBody.vue\"],\"names\":[],\"mappings\":\"AAEA,oCACC,uFAAA,CACA,qBAAA,CAGD,mDACC,wBAAA,CACA,8CAAA,CAGD,oCACC,MAAA,CACA,YAAA,CACA,qBAAA,CAGA,mBACC,2CACC,eAAA,CAAA,CAKH,oCACC,sBAAA,CACA,6BAAA,CACA,mCAAA,CACA,oCAAA,CAGD,gCACC,UAAA,CAGD,oCACC,uBAAA,CAGD,4CACC,mCAAA\",\"sourcesContent\":[\"\\n// account for 8px margin on iframe body\\n.html-message-body {\\n\\tmargin : 2px calc(var(--default-grid-baseline) * 2) 0 calc(var(--default-grid-baseline) * 14);\\n\\tbackground-color: #FFFFFF;\\n}\\n\\n#mail-message-has-blocked-content {\\n\\tmargin-inline-start: 10px;\\n\\tcolor: var(--color-text-maxcontrast) !important;\\n}\\n\\n#message-container {\\n\\tflex: 1;\\n\\tdisplay: flex;\\n\\tbackground-color: #FFFFFF;\\n\\n\\t// TODO: collapse quoted text and remove inner scrollbar\\n\\t@media only screen {\\n\\t\\t&.scroll {\\n\\t\\t\\toverflow-y: auto;\\n\\t\\t}\\n\\t}\\n}\\n\\n:deep(.button-vue__text) {\\n\\tborder: none !important;\\n\\tfont-weight: normal !important;\\n\\tpadding-inline: 14px 10px !important;\\n\\ttext-decoration: underline !important;\\n}\\n\\n.message-frame {\\n\\twidth: 100%;\\n}\\n\\n:deep(.button-vue__icon) {\\n\\tdisplay: none !important;\\n}\\n\\n:deep(.button-vue--vue-tertiary) {\\n\\tcolor: var(--color-text-maxcontrast);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.v-popover>.trigger>.action-item[data-v-bdd2c54c]{border-radius:22px;background-color:var(--color-background-darker)}.message-imip[data-v-bdd2c54c]{padding:5px 10px}.invalid-signature-warning[data-v-bdd2c54c]{display:flex;align-items:center;gap:5px;border:solid 2px var(--color-border);border-radius:var(--border-radius-large);border-color:var(--color-warning);margin:5px 10px;padding:10px}.invalid-signature-warning__icon[data-v-bdd2c54c]{margin-top:-5px}.reply-buttons[data-v-bdd2c54c]{margin:0 calc(var(--default-grid-baseline)*4) calc(var(--default-grid-baseline)*2) calc(var(--default-grid-baseline)*14);display:flex;flex-wrap:wrap;gap:8px;justify-content:space-between;align-items:center}.reply-buttons__suggested[data-v-bdd2c54c]{display:flex;flex-wrap:wrap;gap:8px}.reply-buttons__suggested__button[data-v-bdd2c54c]{box-sizing:border-box}.reply-buttons__suggested__button[data-v-bdd2c54c] .button-vue__text{font-weight:normal}.reply-buttons__notsuggested[data-v-bdd2c54c]{margin-inline-start:auto}@media screen and (max-width: 600px){.reply-buttons[data-v-bdd2c54c]{display:flex;flex-wrap:wrap;gap:5px}.reply-buttons__suggested[data-v-bdd2c54c]{display:flex;flex-wrap:wrap;gap:5px}.reply-buttons__notsuggested[data-v-bdd2c54c]{margin-inline-start:0}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Message.vue\"],\"names\":[],\"mappings\":\"AACA,kDACC,kBAAA,CACA,+CAAA,CAGD,+BACC,gBAAA,CAGD,4CACC,YAAA,CACA,kBAAA,CACA,OAAA,CAEA,oCAAA,CACA,wCAAA,CACA,iCAAA,CAEA,eAAA,CACA,YAAA,CAEA,kDAEC,eAAA,CAIF,gCACC,wHAAA,CACA,YAAA,CACA,cAAA,CACA,OAAA,CACA,6BAAA,CACA,kBAAA,CAEA,2CACC,YAAA,CACA,cAAA,CACA,OAAA,CAEA,mDACC,qBAAA,CAEA,qEACC,kBAAA,CAKH,8CACC,wBAAA,CAIF,qCACC,gCACC,YAAA,CACA,cAAA,CACA,OAAA,CAEA,2CACC,YAAA,CACA,cAAA,CACA,OAAA,CAGD,8CACC,qBAAA,CAAA\",\"sourcesContent\":[\"\\n.v-popover > .trigger > .action-item {\\n\\tborder-radius: 22px;\\n\\tbackground-color: var(--color-background-darker);\\n}\\n\\n.message-imip {\\n\\tpadding: 5px 10px;\\n}\\n\\n.invalid-signature-warning {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tgap: 5px;\\n\\n\\tborder: solid 2px var(--color-border);\\n\\tborder-radius: var(--border-radius-large);\\n\\tborder-color: var(--color-warning);\\n\\n\\tmargin: 5px 10px;\\n\\tpadding: 10px;\\n\\n\\t&__icon {\\n\\t\\t// Fix alignment with message\\n\\t\\tmargin-top: -5px;\\n\\t}\\n}\\n\\n.reply-buttons {\\n\\tmargin: 0 calc(var(--default-grid-baseline) * 4) calc(var(--default-grid-baseline) * 2) calc(var(--default-grid-baseline) * 14);\\n\\tdisplay: flex;\\n\\tflex-wrap: wrap;\\n\\tgap: 8px;\\n\\tjustify-content: space-between;\\n\\talign-items: center;\\n\\n\\t&__suggested {\\n\\t\\tdisplay: flex;\\n\\t\\tflex-wrap: wrap;\\n\\t\\tgap: 8px;\\n\\n\\t\\t&__button {\\n\\t\\t\\tbox-sizing: border-box;\\n\\n\\t\\t\\t:deep(.button-vue__text) {\\n\\t\\t\\t\\tfont-weight: normal;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t&__notsuggested {\\n\\t\\tmargin-inline-start: auto;\\n\\t}\\n}\\n\\n@media screen and (max-width: 600px) {\\n\\t.reply-buttons {\\n\\t\\tdisplay: flex;\\n\\t\\tflex-wrap: wrap;\\n\\t\\tgap: 5px;\\n\\n\\t\\t&__suggested {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\tflex-wrap: wrap;\\n\\t\\t\\tgap: 5px;\\n\\t\\t}\\n\\n\\t\\t&__notsuggested {\\n\\t\\t\\tmargin-inline-start: 0;\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.reservation[data-v-43311de6] {\n\tdisplay: flex;\n\tflex-direction: row;\n\tmargin: 30px 38px;\n\tborder: 1px solid var(--color-border);\n\tborder-radius: var(--border-radius);\n\tpadding: 20px;\n\talign-items: center;\n}\n.departure[data-v-43311de6],\n.arrival[data-v-43311de6] {\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-grow: 1;\n}\n.departure[data-v-43311de6],\n.arrival[data-v-43311de6],\n.connection[data-v-43311de6] {\n\tjustify-content: center;\n}\n.iata[data-v-43311de6] {\n\tfont-size: larger;\n\tfont-weight: bold;\n}\n.airport[data-v-43311de6] {\n\tfont-size: large;\n}\n.departure[data-v-43311de6] {\n\ttext-align: end;\n}\n.connection[data-v-43311de6] {\n\ttext-align: center;\n\tpadding: 0 40px;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/itinerary/FlightReservation.vue\"],\"names\":[],\"mappings\":\";AA+JA;CACA,aAAA;CACA,mBAAA;CACA,iBAAA;CACA,qCAAA;CACA,mCAAA;CACA,aAAA;CACA,mBAAA;AACA;AAEA;;CAEA,aAAA;CACA,sBAAA;CACA,YAAA;AACA;AAEA;;;CAGA,uBAAA;AACA;AAEA;CACA,iBAAA;CACA,iBAAA;AACA;AAEA;CACA,gBAAA;AACA;AAEA;CACA,eAAA;AACA;AAEA;CACA,kBAAA;CACA,eAAA;AACA\",\"sourcesContent\":[\"<!--\\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\\n  - SPDX-License-Identifier: AGPL-3.0-or-later\\n-->\\n<template>\\n\\t<div class=\\\"reservation\\\">\\n\\t\\t<div class=\\\"departure\\\">\\n\\t\\t\\t<div class=\\\"iata\\\">\\n\\t\\t\\t\\t{{ data.reservationFor.departureAirport.iataCode }}\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"airport\\\">\\n\\t\\t\\t\\t{{ data.reservationFor.departureAirport.name }}\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-if=\\\"departureDate\\\">\\n\\t\\t\\t\\t{{ departureDate }}\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-if=\\\"departureTime\\\">\\n\\t\\t\\t\\t{{ departureTime }}\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"connection\\\">\\n\\t\\t\\t<div><AirplaneIcon :title=\\\"t('mail', 'Airplane')\\\" /></div>\\n\\t\\t\\t<div>{{ flightNumber }}</div>\\n\\t\\t\\t<div v-if=\\\"reservation\\\">\\n\\t\\t\\t\\t{{ t('mail', 'Reservation {id}', {id: reservation}) }}\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-else>\\n\\t\\t\\t\\t<ArrowIcon decorative />\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"arrival\\\">\\n\\t\\t\\t<div class=\\\"iata\\\">\\n\\t\\t\\t\\t{{ data.reservationFor.arrivalAirport.iataCode }}\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"airport\\\">\\n\\t\\t\\t\\t{{ data.reservationFor.arrivalAirport.name }}\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-if=\\\"arrivalDate\\\">\\n\\t\\t\\t\\t{{ arrivalDate }}\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-if=\\\"arrivalTime\\\">\\n\\t\\t\\t\\t{{ arrivalTime }}\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<CalendarImport :calendars=\\\"calendars\\\" :handler=\\\"handleImport\\\" />\\n\\t</div>\\n</template>\\n\\n<script>\\nimport AirplaneIcon from 'vue-material-design-icons/Airplane.vue'\\nimport ArrowIcon from 'vue-material-design-icons/ArrowRight.vue'\\nimport ical from 'ical.js'\\nimport md5 from 'md5'\\nimport moment from '@nextcloud/moment'\\nimport { showError, showSuccess } from '@nextcloud/dialogs'\\n\\nimport CalendarImport from './CalendarImport.vue'\\nimport { importCalendarEvent } from '../../service/DAVService.js'\\nimport logger from '../../logger.js'\\n\\nexport default {\\n\\tname: 'FlightReservation',\\n\\tcomponents: {\\n\\t\\tAirplaneIcon,\\n\\t\\tArrowIcon,\\n\\t\\tCalendarImport,\\n\\t},\\n\\tprops: {\\n\\t\\tdata: {\\n\\t\\t\\ttype: Object,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tcalendars: {\\n\\t\\t\\ttype: Array,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tmessageId: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t},\\n\\tcomputed: {\\n\\t\\tdepartureTime() {\\n\\t\\t\\tif (!('departureTime' in this.data.reservationFor)) {\\n\\t\\t\\t\\treturn\\n\\t\\t\\t}\\n\\t\\t\\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.departureTime)).format('LT')\\n\\t\\t},\\n\\t\\tdepartureDate() {\\n\\t\\t\\tif (!('departureTime' in this.data.reservationFor)) {\\n\\t\\t\\t\\treturn\\n\\t\\t\\t}\\n\\t\\t\\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.departureTime)).format('L')\\n\\t\\t},\\n\\t\\tarrivalTime() {\\n\\t\\t\\tif (!('arrivalTime' in this.data.reservationFor)) {\\n\\t\\t\\t\\treturn\\n\\t\\t\\t}\\n\\t\\t\\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.arrivalTime)).format('LT')\\n\\t\\t},\\n\\t\\tarrivalDate() {\\n\\t\\t\\tif (!('arrivalTime' in this.data.reservationFor)) {\\n\\t\\t\\t\\treturn\\n\\t\\t\\t}\\n\\t\\t\\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.arrivalTime)).format('L')\\n\\t\\t},\\n\\t\\tflightNumber() {\\n\\t\\t\\treturn this.data.reservationFor.airline.iataCode + this.data.reservationFor.flightNumber\\n\\t\\t},\\n\\t\\treservation() {\\n\\t\\t\\tif (!('reservationNumber' in this.data)) {\\n\\t\\t\\t\\treturn\\n\\t\\t\\t}\\n\\t\\t\\treturn this.data.reservationNumber\\n\\t\\t},\\n\\t\\tcanImport() {\\n\\t\\t\\treturn 'departureTime' in this.data.reservationFor && 'arrivalTime' in this.data.reservationFor\\n\\t\\t},\\n\\t},\\n\\tmethods: {\\n\\t\\thandleImport(calendar) {\\n\\t\\t\\tconst event = new ical.Component('VEVENT')\\n\\t\\t\\tevent.updatePropertyWithValue(\\n\\t\\t\\t\\t'SUMMARY',\\n\\t\\t\\t\\tt('mail', 'Flight {flightNr} from {depAirport} to {arrAirport}', {\\n\\t\\t\\t\\t\\tflightNr: this.flightNumber,\\n\\t\\t\\t\\t\\tdepAirport: this.data.reservationFor.departureAirport.iataCode,\\n\\t\\t\\t\\t\\tarrAirport: this.data.reservationFor.arrivalAirport.iataCode,\\n\\t\\t\\t\\t}),\\n\\t\\t\\t)\\n\\n\\t\\t\\tCalendarImport.addIcalTimeProperty(event, this.data.reservationFor.departureTime, 'DTSTART')\\n\\t\\t\\tCalendarImport.addIcalTimeProperty(event, this.data.reservationFor.arrivalTime, 'DTEND')\\n\\n\\t\\t\\t// TODO: read version from package.json\\n\\t\\t\\tevent.updatePropertyWithValue('PRODID', 'Nextcloud Mail')\\n\\n\\t\\t\\t// TODO: is this free of collisions? the bug reports will tell us!\\n\\t\\t\\tevent.updatePropertyWithValue('UID', md5(this.messageId + this.flightNumber))\\n\\n\\t\\t\\tconst cal = new ical.Component('VCALENDAR')\\n\\t\\t\\tcal.addSubcomponent(event)\\n\\t\\t\\tlogger.debug('generated calendar event from flight reservation data', { ical: cal.toString() })\\n\\n\\t\\t\\treturn importCalendarEvent(calendar.url)(cal.toString())\\n\\t\\t\\t\\t.then(() => {\\n\\t\\t\\t\\t\\tlogger.debug('event successfully imported')\\n\\t\\t\\t\\t\\tshowSuccess(t('mail', 'Event imported into {calendar}', { calendar: calendar.displayname }))\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\t.catch((error) => {\\n\\t\\t\\t\\t\\tlogger.error('Could not import event', { error })\\n\\t\\t\\t\\t\\tshowError(t('mail', 'Could not create event'))\\n\\t\\t\\t\\t})\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n\\n<style scoped>\\n.reservation {\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\tmargin: 30px 38px;\\n\\tborder: 1px solid var(--color-border);\\n\\tborder-radius: var(--border-radius);\\n\\tpadding: 20px;\\n\\talign-items: center;\\n}\\n\\n.departure,\\n.arrival {\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tflex-grow: 1;\\n}\\n\\n.departure,\\n.arrival,\\n.connection {\\n\\tjustify-content: center;\\n}\\n\\n.iata {\\n\\tfont-size: larger;\\n\\tfont-weight: bold;\\n}\\n\\n.airport {\\n\\tfont-size: large;\\n}\\n\\n.departure {\\n\\ttext-align: end;\\n}\\n\\n.connection {\\n\\ttext-align: center;\\n\\tpadding: 0 40px;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.outbox-message[data-v-1a5facf2]{list-style:none}.outbox-message.active[data-v-1a5facf2]{background-color:var(--color-background-dark);border-radius:16px}.outbox-message .account-color[data-v-1a5facf2]{position:absolute;inset-inline-start:0;width:2px;height:69px;z-index:1}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/OutboxMessageListItem.vue\"],\"names\":[],\"mappings\":\"AACA,iCACC,eAAA,CACA,wCACC,6CAAA,CACA,kBAAA,CAGD,gDACC,iBAAA,CACA,oBAAA,CACA,SAAA,CACA,WAAA,CACA,SAAA\",\"sourcesContent\":[\"\\n.outbox-message {\\n\\tlist-style: none;\\n\\t&.active {\\n\\t\\tbackground-color: var(--color-background-dark);\\n\\t\\tborder-radius: 16px;\\n\\t}\\n\\n\\t.account-color {\\n\\t\\tposition: absolute;\\n\\t\\tinset-inline-start: 0;\\n\\t\\twidth: 2px;\\n\\t\\theight: 69px;\\n\\t\\tz-index: 1;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `@media print{body{position:relative;height:initial}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/views/Home.vue\"],\"names\":[],\"mappings\":\"AACA,aACC,KAKC,iBAAA,CACA,cAAA,CAAA\",\"sourcesContent\":[\"\\n@media print {\\n\\tbody {\\n\\t\\t/*\\n\\t\\t * Nextcloud uses an inner scrolling but we need the\\n\\t\\t * full page to scroll for print\\n\\t\\t */\\n\\t\\tposition: relative;\\n\\t\\theight: initial;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","/**\n * SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport Axios from '@nextcloud/axios'\nimport { generateUrl } from '@nextcloud/router'\n\nexport async function saveAttachmentToFiles(id, attachmentId, directory) {\n\tconst url = generateUrl(\n\t\t'/apps/mail/api/messages/{id}/attachment/{attachmentId}',\n\t\t{\n\t\t\tid,\n\t\t\tattachmentId,\n\t\t},\n\t)\n\n\treturn await Axios.post(url, {\n\t\ttargetPath: directory,\n\t})\n}\n\nexport async function saveAttachmentsToFiles(id, directory) {\n\t// attachmentId = 0 means 'all attachments' (see MessageController.php::saveAttachement)\n\treturn await saveAttachmentToFiles(id, 0, directory)\n}\n\nexport function downloadAttachment(url) {\n\treturn Axios.get(url).then((res) => res.data)\n}\n\nexport const uploadLocalAttachment = (file, progress, controller) => {\n\tconst url = generateUrl('/apps/mail/api/attachments')\n\tconst data = new FormData()\n\tconst opts = {\n\t\tonUploadProgress: (prog) => progress(prog, prog.loaded, prog.total),\n\t}\n\tif (controller) {\n\t\topts.signal = controller.signal\n\t}\n\tdata.append('attachment', file)\n\n\treturn Axios.post(url, data, opts)\n\t\t.then((resp) => resp.data)\n\t\t.then(({ id }) => {\n\t\t\treturn {\n\t\t\t\tfile,\n\t\t\t\tid,\n\t\t\t}\n\t\t})\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.wrapper[data-v-36ae8188]{max-width:calc(100% - 20px);margin:0 auto;width:100%}.summary[data-v-36ae8188]{position:relative;border-radius:var(--border-radius-large);padding:10px;display:flex;flex-direction:column}.summary__header[data-v-36ae8188]{display:flex;flex-direction:column}.summary__header__actions[data-v-36ae8188]{display:flex;justify-content:space-between;align-items:center;padding-bottom:10px}.summary__header__info[data-v-36ae8188]{display:flex;align-items:center;gap:var(--default-grid-baseline)}.summary__header__text[data-v-36ae8188]{display:flex;flex-direction:column;line-height:1.2}.summary__header__title[data-v-36ae8188]{font-weight:bold}.summary__header__brand[data-v-36ae8188]{color:var(--color-text-maxcontrast)}.summary__header__icon[data-v-36ae8188]{padding-inline-end:14px}.summary__body[data-v-36ae8188]{margin-inline-start:35px}@media only screen and (max-width: 600px){.summary .summary__header[data-v-36ae8188]{flex-direction:column}.summary .summary__header__actions[data-v-36ae8188]{flex-direction:column}}.summary .summary__notice[data-v-36ae8188]{margin-top:.5rem;margin-inline-start:35px;color:var(--color-text-maxcontrast)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/ThreadSummary.vue\"],\"names\":[],\"mappings\":\"AACA,0BACC,2BAAA,CACA,aAAA,CACA,UAAA,CAGD,0BACC,iBAAA,CACA,wCAAA,CACA,YAAA,CACA,YAAA,CACA,qBAAA,CACA,kCACC,YAAA,CACA,qBAAA,CAEA,2CACC,YAAA,CACA,6BAAA,CACA,kBAAA,CACA,mBAAA,CAGD,wCACC,YAAA,CACA,kBAAA,CACA,gCAAA,CAGD,wCACC,YAAA,CACA,qBAAA,CACA,eAAA,CAGD,yCACC,gBAAA,CAGD,yCACC,mCAAA,CAED,wCACC,uBAAA,CAGF,gCACC,wBAAA,CAED,0CAEE,2CACC,qBAAA,CACA,oDACC,qBAAA,CAAA,CAKJ,2CACC,gBAAA,CACA,wBAAA,CACA,mCAAA\",\"sourcesContent\":[\"\\n.wrapper {\\n\\tmax-width: calc(100% - 20px);\\n\\tmargin: 0 auto;\\n\\twidth: 100%;\\n}\\n\\n.summary {\\n\\tposition: relative;\\n\\tborder-radius: var(--border-radius-large);\\n\\tpadding: 10px;\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\t&__header {\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\n\\t\\t&__actions {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\tjustify-content: space-between;\\n\\t\\t\\talign-items: center;\\n\\t\\t\\tpadding-bottom: 10px;\\n\\t\\t}\\n\\n\\t\\t&__info {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\talign-items: center;\\n\\t\\t\\tgap: var(--default-grid-baseline);\\n\\t\\t}\\n\\n\\t\\t&__text {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\tflex-direction: column;\\n\\t\\t\\tline-height: 1.2;\\n\\t\\t}\\n\\n\\t\\t&__title {\\n\\t\\t\\tfont-weight: bold;\\n\\t\\t}\\n\\n\\t\\t&__brand {\\n\\t\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\t}\\n\\t\\t&__icon {\\n\\t\\t\\tpadding-inline-end: 14px;\\n\\t\\t}\\n\\t}\\n\\t&__body {\\n\\t\\tmargin-inline-start: 35px;\\n\\t}\\n\\t@media only screen and (max-width: 600px) {\\n\\t\\t.summary {\\n\\t\\t\\t&__header {\\n\\t\\t\\t\\tflex-direction: column;\\n\\t\\t\\t\\t&__actions {\\n\\t\\t\\t\\t\\tflex-direction: column;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\t.summary__notice {\\n\\t\\tmargin-top: 0.5rem;\\n\\t\\tmargin-inline-start: 35px;\\n\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","/**\n * SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport Axios from '@nextcloud/axios'\nimport { generateUrl } from '@nextcloud/router'\n\nexport const findRecipient = (term) => {\n\tconst url = generateUrl('/apps/mail/api/autoComplete?term={term}', {\n\t\tterm,\n\t})\n\n\treturn Axios.get(url).then((resp) => resp.data)\n}\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","getClient","memoize","service","axios","defaults","headers","webdav","patch","generateRemoteUrl","getCurrentUser","uid","name","components","NcAvatar","props","displayName","type","String","required","avatar","Object","default","fetchAvatar","Boolean","email","disableTooltip","size","Number","data","loading","avatarUrl","undefined","computed","hasAvatar","mounted","isExternal","generateUrl","url","fetchAvatarUrlMemoized","logger","debug","_vm","this","_c","_self","attrs","Promise","resolve","Axios","get","adapter","fetchOptions","priority","then","res","status","mailvelope","getMailvelope","async","window","addEventListener","exports","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","staticClass","_v","_s","ctx","getScrollTop","element","Math","max","pageYOffset","document","documentElement","scrollTop","getComputedStyle","defaultView","getElementTop","getBoundingClientRect","top","isAttached","currentNode","parentNode","tagName","nodeType","doBind","binded","fn","delay","now","lastExec","timer","context","args","execute","directive","el","throttleDelayExpr","getAttribute","throttleDelay","vm","isNaN","scrollEventTarget","overflowY","getScrollEventTarget","scrollListener","doCheck","bind","apply","arguments","Date","clearTimeout","diff","setTimeout","$on","removeEventListener","disabledExpr","disabled","$watch","value","immediateCheck","call","distanceExpr","distance","immediateCheckExpr","eventName","force","viewportScrollTop","viewportBottom","clientHeight","getVisibleHeight","scrollHeight","offsetHeight","expression","binding","vnode","console","info","$nextTick","bindTryCount","tryBind","unbind","IconMail","NcEmptyContent","t","scopedSlots","_u","key","proxy","EmailRead","EmailUnread","ImportantIcon","ImportantOutlineIcon","IconDelete","NcButton","isRead","isImportant","on","$event","preventDefault","$emit","NcActions","NcCounterBubble","NcVNodes","EnvelopeSingleClickActions","DotsHorizontal","details","exact","to","href","target","anchorId","bold","compact","active","linkAriaLabel","actionsAriaLabel","counterNumber","counterType","validator","indexOf","forceDisplayActions","oneLine","emits","hovered","hasActions","hasSubname","displayActionsOnHoverFocus","menuOpen","hasIndicator","hasDetails","showAdditionalElements","showDetails","computedActionsAriaLabel","watch","newValue","checkSlots","updated","methods","onClick","event","navigate","routerLinkHref","metaKey","altKey","ctrlKey","shiftKey","showActions","hideActions","handleBlur","$refs","contains","relatedTarget","handleMouseleave","handleMouseover","handleActionsUpdateOpen","e","$slots","actions","subname","indicator","tag","_ref","isActive","class","ref","_k","keyCode","_t","_e","tags","directives","rawName","DraggableEnvelope","constructor","componentInstance","registerListeners","setInitialAttributes","setAttribute","classList","add","update","instance","onDragStart","onDragEnd","removeListeners","isDraggable","accountId","mailboxId","selectedEnvelopes","dataTransfer","clearData","effectAllowed","envelopes","length","forEach","envelope","index","databaseId","draggableLabel","subject","from","label","setData","JSON","stringify","attachGhost","dragEventBus","emit","itemCount","baseClass","dragNode","createElement","counterNode","textCountNode","createTextNode","appendChild","labelWrapperNode","labelNode","textLabelNode","body","setDragImage","defer","removeChild","instances","DraggableEnvelopeDirective","componentUpdated","filter","shortRelativeDatetime","curry","date","momentDate","moment","getFullYear","getMonth","getDate","format","getTime","shortDatetime","MailboxPicker","account","Array","moveThread","moving","destMailboxId","mapStores","useMainStore","onClose","onMove","mainStore","moveMessage","syncEnvelopes","error","title","fillColor","_g","_b","listeners","NcModal","confirmText","confirmUrl","confirm","cancel","ConfirmationModal","deleting","removeTag","imapLabel","removeEnvelopeTag","deleteTag","showSuccess","showInfo","translateTagDisplayName","FOLLOW_UP_TAG_LABEL","NcColorPicker","Actions","NcActionButton","ActionText","ActionInput","IconLoading","DeleteIcon","IconEdit","isAdded","editing","tagLabel","tagInput","showSaving","renameTagLabel","renameTagInput","updateColor","newColor","editColor","updateTag","color","openEditTag","renameTag","querySelector","convertHex","opacity","parseInt","substring","isSet","some","getEnvelopeTags","addTag","addEnvelopeTag","style","backgroundColor","isDefaultTag","randomColor","randomHexColor","random","toString","Modal","DeleteTagModal","IconTag","TagItem","IconAdd","deleteTagModal","tagToDelete","getTags","toLowerCase","hiddenTags","sort","a","b","localeCompare","closeDeleteModal","addTagInput","createTag","showError","trim","_l","uidToHexColor","uidToColor","convert","hex","r","g","hash","match","md5","replace","steps","red","Color","yellow","blue","palette1","mixPalette","palette2","palette3","concat","GenColors","finalInt","result","i","charAt","j","hashToInt","color1","color2","palette","step","ends","stepCalc","canWrite","properties","acls","acl","ace","isArray","grant","privilege","write","getCalendarData","calendar","displayname","order","vevent","writable","filename","getUserCalendars","getDirectoryContents","map","getRandomString","str","createICalElement","root","ical","Component","updatePropertyWithValue","OC","theme","importCalendarEvent","Logger","promises","file","timezones","allObjects","jCal","parse","getAllSubcomponents","vtimezone","componentNames","componentName","vobjects","vobject","getFirstPropertyValue","split","objectsId","objects","component","addSubcomponent","objectId","splitCalendar","componentId","put","all","displayIcon","needsTranslation","messageId","resp","Error","requiresTranslation","convertAxiosError","RecipientListItem","CalendarPickerOption","DatetimePicker","NcSelect","defaultTimezone","jstz","defaultTimezoneId","calendars","eventTitle","startDate","endDate","isAllDay","startTimezoneId","endTimezoneId","saving","selectedCalendar","description","previewText","generatingData","llmProcessingEnabled","loadState","attendeesList","attendeesOptions","mapState","organizerEmail","dateFormat","datePickerType","prefilledAttendees","attendees","person","created","generateEventData","c","addAttendee","option","attendee","removeAttendee","summary","threadId","createRecipientOption","onSave","startTimezone","endTimezone","timezoneManager","getTimezoneManager","registerDefaultTimezones","getTimezoneForId","startDateTime","DateTimeValue","fromJSDate","getInTimezone","endDateTime","isDate","createEvent","getFirstComponent","addProperty","TextProperty","att","AttendeeProperty","vObject","getVObjectIterator","undirtify","toICS","domProps","composing","model","callback","$$v","_i","$$a","$$el","$$c","checked","$$i","slice","events","attributes","_ref2","Task","vcalendar","ICAL","vCalendar","subTasks","conflict","initTodo","syncStatus","deleteCountdown","vtodo","getFirstSubcomponent","hasProperty","addPropertyWithValue","uuid","_uid","_summary","_priority","_complete","comp","_completed","_completedDate","toJSDate","_completedDateMoment","_status","_note","_related","getParent","getFirstValue","_hideSubtaks","_hideCompletedSubtaks","_start","_startMoment","_due","_dueMoment","start","d","_allDay","_loaded","_tags","_modified","_modifiedMoment","_created","_createdMoment","_class","_pinned","sortOrder","getSortOrder","_sortOrder","_searchQuery","_matchesSearchQuery","updateTask","updateCalendar","firstIfArray","dav","uri","lastIndexOf","updateLastModified","removeProperty","closed","complete","setComplete","setCompleted","setStatus","completed","Time","completedDate","completedDateMoment","clone","note","related","parent","setValue","getAllProperties","find","getFirstParameter","pinned","hideSubtasks","hide","hideCompletedSubtasks","startMoment","due","dueMoment","allDay","comments","loadedCompleted","reminder","getValues","newTags","prop","Property","setValues","toRemove","includes","toAdd","ts","removeAllProperties","modified","modifiedMoment","createdMoment","createdDate","classification","subtractDate","year","month","day","hour","minute","second","toSeconds","matches","searchQuery","keys","taskTitle","selectedCalendarChoice","getAllTags","getTaskCalendarsForCurrentUser","calendarChoices","cal","getCalendarById","createTask","taskData","task","getAppVersion","hidesubtasks","vData","createVObject","set","AlertOctagonIcon","Avatar","IconCreateEvent","CheckIcon","ChevronLeft","ArchiveIcon","TaskIcon","DotsHorizontalIcon","EnvelopePrimaryActions","EventModal","TaskModal","EnvelopeSkeleton","JunkIcon","ActionButton","MoveModal","OpenInNewIcon","PlusIcon","TagIcon","TagModal","Star","StarOutline","IconAttachment","IconBullet","Reply","ActionLink","DownloadIcon","ClockOutlineIcon","NcActionSeparator","NcActionInput","CalendarClock","AlarmIcon","NcAssistantIcon","CogIcon","IconEmailFast","Icon","draggableEnvelope","withReply","mailbox","selectMode","selected","hasMultipleAccounts","showMoveModal","showEventModal","showTaskModal","showTagModal","moreActionsOpen","snoozeOptions","quickActionMenu","customSnoozeDateTime","valueOf","overwriteOneLineMobile","hoveringAvatar","filteredQuickActions","quickActionLoading","isRTL","messageLongDate","dateInt","oneLineLayout","getPreference","layoutMessageViewThreaded","hasMultipleRecipients","recipients","buildReplyRecipients","emailAddress","cc","draft","flags","getAccount","link","params","$route","addresses","specialRole","sentMailboxId","flat","recipient","join","avatarEmail","showArchiveButton","archiveMailboxId","disableArchiveButton","showFavoriteIconVariant","flagged","showImportantIconVariant","seen","isEncrypted","encrypted","isPgpText","isUnified","sender","mailboxHasRights","subjectForSubtitle","escapeHtml","escape","storeActions","getQuickActions","exportMessageLink","hasSeenAcl","hasArchiveAcl","hasDeleteSourceAcl","hasCreateDestinationAcl","archiveMailbox","hasDeleteAcl","hasWriteAcl","getMailbox","isSnoozedMailbox","snoozeMailboxId","reminderOptions","currentDateTime","laterTodayTime","tomorrowTime","thisWeekendTime","nextWeekTime","timestamp","getTimestamp","timeLocale","ariaLabel","filterAndEnrichQuickActions","onWindowResize","setSelected","formatted","quickActions","action","findAllStepsForAction","every","icon","executeQuickAction","closeQuickActionsMenu","onToggleJunk","tagId","setTag","showWarning","onToggleImportant","onToggleFlagged","onToggleSeen","onDelete","warn","getTag","threadEnvelopes","getEnvelopesByThreadRootId","threadRootId","unselect","toggleSelected","defaultPrevented","startComposerSession","draftId","templateMessageId","onSelectMultiple","toggleEnvelopeImportant","toggleEnvelopeFlagged","toggleEnvelopeSeen","removeEnvelope","moveEnvelopeToJunk","toggleEnvelopeJunk","deleteThread","deleteMessage","matchError","NoTrashMailboxConfiguredError","getName","showMoreActionOptions","showSnoozeOptions","closeMoreAndSnoozeOptions","showQuickActionsMenu","onArchive","onSnooze","createAndSetSnoozeMailbox","snoozeThread","unixTimestamp","snoozeMessage","onUnSnooze","unSnoozeThread","unSnoozeMessage","onOpenEditAsNew","onOpenMoveModal","onOpenEventModal","onCloseMoveModal","onOpenTagModal","onCloseTagModal","momentObject","millisecond","setCustomSnoozeDateTime","setCustomSnooze","widthOutput","innerWidth","$junk","stopPropagation","fetchAvatarFromClient","answered","hasAttachments","isSnoozeDisabled","listViewThreaded","IconUnFavorite","AddIcon","NcDialog","Envelope","IconFavorite","IconSelect","ShareIcon","Settings","loadMoreLabel","loadingMore","loadMoreButton","skipTransition","selection","lastToggledIndex","showQuickActionsSettings","sortedEnvelops","isAtLeastOneSelectedRead","env","isAtLeastOneSelectedUnread","isAtLeastOneSelectedImportant","isAtLeastOneSelectedUnimportant","isAtLeastOneSelectedJunk","isAtLeastOneSelectedNotJunk","isAtLeastOneSelectedFavorite","isAtLeastOneSelectedUnFavorite","mailboxIds","Set","listTransitionName","newVal","oldVal","newIds","differenceWith","unselectAll","beforeDestroy","off","isEnvelopeSelected","idx","markSelectedRead","markSelectedUnread","markSelectionImportant","markEnvelopeImportantOrUnimportant","markSelectionUnimportant","markSelectionJunk","markSelectionNotJunk","favoriteAll","favFlag","markEnvelopeFavoriteOrUnfavorite","unFavoriteAll","deleteAllSelected","nextEnvelopeToNavigate","isAllSelected","findIndex","selectedEnvelope","lastSelectedEnvelope","lastIndex","catch","$router","fetchNextEnvelopes","query","quantity","setEnvelopeSelected","alreadySelected","splice","onEnvelopeSelectToggle","onEnvelopeSelectMultiple","findSelectionIndex","min","end","forwardSelectedAsAttachment","forwardedMessages","entries","n","number","numberOfLines","withAvatar","_m","AlertCircleIcon","message","autoMargin","reportUrl","endsWith","template","IssueTemplateBuilder","addEmptyStepsToReproduce","addExpectedActualBehaviour","addLogs","text","trace","reduce","acc","entry","function","line","stack","flattenError","render","encodeURIComponent","getReportUrl","EmptyContent","hint","slowHint","slow","slowTimer","EmptyMailboxSection","EmptyMailbox","EnvelopeList","Loading","LoadingSkeleton","SectionTitle","mixins","isMobile","groupEnvelopes","bus","paginate","initialPageSize","isPriorityInbox","refreshing","loadingEnvelopes","loadingCacheInitialization","loadMailboxInterval","expanded","endReached","syncedMailboxes","skipListTransition","getEnvelopes","envelopesToShow","hasGroupedEnvelopes","hasMessages","values","group","showLoadMore","loadEnvelopes","sync","onScroll","handleShortcut","setInterval","loadMailbox","hasFetchedInitialEnvelopes","prefetchOtherMailboxes","setHasFetchedInitialEnvelopesMutation","destroyed","stopInterval","initializeCache","has","fetchEnvelopes","limit","MailboxLockedError","wait","MailboxNotCachedError","loadMore","fetchNextEnvelopePage","getRecursiveMailboxIterator","isSubscribed","includeCacheBuster","currentId","next","srcKey","init","updateSyncTimestamp","propEq","clearInterval","getLabelForGroup","debouncedSearch","debouncePromise","findRecipient","NcDateTimePickerNative","NcCheckboxRadioSwitch","FilterVariantIcon","Close","showButtons","debouncedSearchQuery","sendQueryEvent","autocompleteRecipients","selectedTags","moreSearchActions","searchInFrom","searchInTo","searchInCc","searchInBcc","searchInSubject","searchInMessageBody","searchFlags","mentionsMe","hasAttachmentActive","hasLast7daysActive","hasFromMeActive","dialogButtons","resetFilter","IconClose","closeSearchModal","IconMagnify","filterChanged","filterData","val","searchBody","address","bcc","item","mentions","prepareStart","prepareEnd","_search","encodeURI","word","hideButtonsWithDelay","toggleGetAttachments","flag","toggleCurrentUser","toggleLastWeekFilter","setDate","unix","searchRecipients","term","results","uniqBy","removeAddress","NewMessageButtonHeader","AppContentDetails","setup","isDarkTheme","useIsDarkTheme","backgroundImgSrc","generateFilePath","isThemed","getPropertyValue","productName","smileys","autoCompleteByName","ContactSelectionStateEnum","freeze","new","existing","select","ButtonVue","UserBubble","Popover","IconReply","IconUser","IconClipboard","IconDetails","IconCheck","loadingContacts","contactsWithEmail","autoCompleteContacts","selectedContact","newContactName","isContactPopoverOpen","avatarUrlAbsolute","startsWith","location","protocol","host","selectableContacts","contact","contactsWithEmailComputed","additional","addButtonDisabled","onClickCopyToClipboard","navigator","clipboard","writeText","onClickReply","onClickOpenContactDialog","findMatches","onClickAddToContact","newContact","addToContact","onAutocomplete","handler","Function","cals","original","$set","onImport","itineraryDateTime","dt","addIcalTimeProperty","icalEvent","itineraryDt","icalPropertyName","fromDateTimeString","setParameter","timezone","CalendarImport","reservationFor","time","canImport","getEndDateTime","handleImport","geo","latitude","longitude","AirplaneIcon","ArrowIcon","departureTime","departureDate","arrivalTime","arrivalDate","flightNumber","airline","iataCode","reservation","reservationNumber","flightNr","depAirport","departureAirport","arrAirport","arrivalAirport","TrainIcon","departureDay","trainNumber","trainNr","depStation","departureStation","arrStation","arrivalStation","getUserCalendarsOnce","once","EventReservation","FlightReservation","TrainReservation","FilePicker","IconArrow","IconSave","IconDownload","onClickOutside","fileName","mime","mimeUrl","isImage","isCalendarEvent","canPreview","savingToCloud","loadingCalendars","showCalendarPopover","saveAttachementButtons","saveToCloud","isFilePickerOpen","formatFileSize","calendarMenuEntries","importCalendar","boundariesElement","humanReadable","dest","path","saveAttachmentToFiles","download","loadCalendars","closeCalendarPopover","downloadAttachment","close","MessageAttachment","Download","CloudDownload","ChevronDown","ChevronUp","attachments","visible","showPreview","attachmentImageURL","hasNextLine","isToggled","saveAll","fileInfos","attachment","downloadUrl","source","basename","etag","hasPreview","fileid","previewableFileInfos","fileInfo","OCA","Viewer","mimetypes","moreThanOne","zipUrl","prevTop","$el","saveAttachmentsToFiles","finally","downloadZip","showViewer","open","list","refInFor","count","click","IconAlertOutline","phishingData","showMore","warnings","check","isPhishing","linkWarning","warning","additionalData","linkText","hasMdnRequest","dispositionNotificationTo","mdnSent","mdnsent","sendMdn","flagEnvelopeMutation","MdnRequest","createDisplayContainer","senderAddress","isHtml","availableOutputLanguages","localLanguage","lang","getLanguage","language","scout","PrintScout","NeedsTranslationInfo","IconImage","IconDomain","fullHeight","hasBlockedContent","isSenderTrusted","enabledFreePrompt","domain","pop","beforeMount","onBeforePrint","iframeResize","license","log","scrolling","iframe","iFrameResizer","getIframeDoc","contentDocument","contentWindow","onMessageFrameLoad","iframeDoc","querySelectorAll","displayIframe","node","display","innerHTML","onShowBlockedContent","trustSender","onShowBlockedContentForDomain","staticStyle","scroll","regFirstParagraph","signature","enhancedBody","signatureSummaryAndBody","lines","signatureSummary","nl2br","removeMailtoPrefix","isSameDay","getTimezoneFromDate","timezoneId","getReadableTimezoneName","AccountMultipleIcon","CalendarIcon","MapMarkerIcon","jsDate","getPropertyIterator","getAttendeeIterator","commonName","isOrganizer","NEEDS_ACTION","ACCEPTED","TENTATIVE","DECLINED","findAttendee","vEvent","CloseIcon","EventData","NcLoadingIcon","scheduling","commentFieldId","randomId","targetCalendarPickerId","showMoreOptions","existingEvent","existingEventFetched","targetCalendar","comment","currentUserPrincipalEmail","clonedWriteableCalendars","currentUserPrincipal","method","isRequest","isReply","isCancel","isExistingEvent","wasProcessed","existingParticipationStatus","attachedVCalendar","parser","getParserManager","getParserForFileType","contents","getItemIterator","attachedVEvent","existingVCalendar","existingVEvent","eventIsInFuture","isRecurring","recurrence","recurrenceManager","getClosestOccurrence","userIsAttendee","participationStatus","replyStatusMessage","getAttendeeList","partStat","attendeeName","calendarsForPicker","currentUserPrivilegeSet","targetCalendarDavObject","immediate","fetchExistingEvent","defaultCalendar","scheduleDefaultCalendarUrl","accept","saveEventWithParticipationStatus","acceptTentatively","decline","Parameter","pLimit","calendarQuery","NS","IETF_CALDAV","children","flatten","Itinerary","MessageAttachments","MessageEncryptedBody","MessageHTMLBody","MessagePlainTextBody","PhishingWarning","Imip","LockOffIcon","ReplyIcon","NcAssistantButton","smartReplies","replyButtonLabel","htmlUrl","isPgpgMessage","hasHtmlBody","html","plain","isPgpMimeEncrypted","itineraries","hasCurrentUserPrincipalAndCollections","onReply","replyBody","phishingDetails","checks","smime","isSigned","signatureIsValid","reply","CalendarBlankIcon","TranslationIcon","InformationIcon","PrinterIcon","FilterIcon","withSelect","withShowSource","isTranslationAvailable","localMoreActionsOpen","snoozeActionsOpen","forwardMessages","threadingFile","Base64","encode","inReplyTo","references","threadingFileName","onForward","mode","onlySender","onPrint","isSieveEnabled","sieveEnabled","isTranslationEnabled","NcRichText","ArrowRight","ContentCopy","richParameters","isMounted","selectedFrom","selectedTo","isLoading","translatedMessage","availableInputLanguages","userLanguage","translateDialog","navigationId","handleTranslate","translateMessage","response","translateText","ocs","handleCopyTranslation","currentFilter","useMailFilterStore","prepareHeaders","field","MailFilterConditionField","Subject","enable","btoa","From","To","createFilter","structuredClone","header","closeModal","CreateModal","UpdateModal","filters","mailFilterStore","fetch","subjectTest","MailFilterCondition","operator","MailFilterConditionOperator","Contains","fromTest","toTest","moveAction","MailFilterActionMailbox","stopAction","MailFilterActionStop","MailFilter","MailFilterOperator","All","tests","hasValues","updateFilter","store","fetchActiveSieveScript","rawMessage","seal","Done","Silent","Skeleton","MailFilterFromEnvelope","TranslationModal","ConfirmModal","MessageLoadingSkeleton","MenuEnvelope","Moment","Message","LockIcon","LockPlusIcon","NcActionText","ReplyAllIcon","SourceModal","threadSubject","threadIndex","showListUnsubscribeConfirmation","importantSvg","unsubscribing","seenTimer","recomputeMenuSize","showSourceModal","showTranslationModal","plainTextBody","isInternal","loadingBodyTimeout","showMailFilterFromEnvelope","useOutboxStore","inlineMenuSize","spaceToFill","clientWidth","floor","senderEmailColor","getNcVersion","route","hasChangedSubject","cleanSubject","cleanThreadSubject","filterSubject","showSubline","junkFavoritePosition","smimeData","smimeHeading","smimeMessage","formattedSentAt","showFollowUpHeader","fetchMessage","redrawMenuBar","handleThreadScrolling","isInternalAddress","$checkInterval","onMessageLoaded","loadingTimeout","getMessage","fetchItineraries","dkimValid","fetchDkim","smartReply","$parent","toggleExpand","expandedThreads","scrollToThread","scrollToEnvelope","threadElement","scrollIntoView","behavior","block","envelopeElement","hasDkimSignature","dkim","followUp","replySenderOnly","onDisableFollowUpReminder","clearFollowUpReminder","unsubscribeViaOneClick","post","unsubscribe","unsubscribeViaMailto","mailto","unsubscribeMailto","paramString","encoded","decodeURIComponent","outboxStore","enqueueMessage","editorBody","aliasId","inReplyToMessageId","sendAt","smimeEncrypt","smimeSign","sendMessage","onCloseEventModal","onOpenTaskModal","onCloseTaskModal","onOpenTranslationModal","Text","toPlain","onCloseTranslationModal","onShowSourceModal","onCloseSourceModal","nativeOn","unsubscribeUrl","isOneClickUnsubscribe","ArrowDownIcon","NcAssistantContent","brand","Theming","container","scrollTo","left","RecipientBubble","ThreadSummary","ThreadEnvelope","currentAccountEmail","summaryLoading","errorMessage","participantsToDisplay","resizeDebounced","debounce","updateParticipantsToDisplay","enabledThreadSummary","summaryText","summaryError","loadedThreads","moreParticipantsString","threadParticipants","thread","getEnvelope","currentMailbox","trashMailbox","getMailboxes","junkMailbox","limitEnvelopesToCurrentMailbox","mailboxesToIgnore","flatMap","participant","showSummaryBox","resetThread","handleKeyDown","updateSummary","summarizeThread","avatarHeader","maxWidth","childrenWidth","fits","childNodes","fetchThread","oldId","newId","getRandomMessageErrorMessage","texts","virtualIframe","virtualIframeDocument","addThreadInfo","messageContainers","messageContainer","addMessageInfo","div","readyState","onload","iframeContent","images","imagesLoaded","img","print","removeIframe","hr","border","subjectSpan","fontWeight","textContent","senderSpan","dateSpan","recipientSpan","threadInfo","marginTop","marginBottom","className","subjectLine","participantsLine","addLoadedThread","messages","newIframe","iframeDocument","insertBefore","firstChild","remove","infiniteScroll","AppContent","AppContentList","IconInfo","Mailbox","NoMessageSelected","SearchMessages","Thread","importantInfo","followupInfo","mitt","shortkeys","del","arch","prev","refresh","unseen","priorityImportantQuery","priorityOtherQuery","startMailboxTimer","hasContent","layoutMode","horizontalListMinWidth","horizontalListMaxWidth","unifiedAccount","UNIFIED_ACCOUNT_ID","unifiedInbox","UNIFIED_INBOX_ID","followUpMailbox","FOLLOW_UP_MAILBOX_ID","followUpQuery","getFollowUpTag","notAfter","round","hasEnvelopes","appendToSearch","hasImportantEnvelopes","hasFollowUpEnvelopes","importantMessagesInitialPageSize","innerHeight","messagesOrderBydate","followUpMessagesInitialPageSize","showThread","isThreadShown","allEnvelopes","groupEnvelopesByDate","syncTimestamp","handleMailto","PRIORITY_INBOX_ID","onPriorityMailboxOpened","saveStartMailbox","beforeUnmount","oneHourAgo","startOfToday","startOfYesterday","startOfLastWeek","startOfLastMonth","setMonth","groups","lastHour","today","yesterday","lastWeek","lastMonth","older","fromEntries","_","checkFollowUpReminders","onShortcut","hideMessage","stringToRecipients","detect","savePreference","addressParser","onUpdateSearchQuery","list__wrapper","modifiers","avatarDisplayName","ListItem","Send","Copy","OutboxAvatarMixin","recipientToString","Intl","ListFormat","STATUS_IMAP_SENT_MAILBOX_FAIL","STATUS_SMTP_ERROR","STATUS_RAW","fromNow","statusImapSentMailboxFail","statusSmtpError","sendMessageNow","failed","UNDO_DELAY","updateMessage","sendMessageWithUndo","copyMessageToSentMailbox","openModal","OutboxMessageListItem","OutboxMessageContent","refreshInterval","isMessageShown","currentMessage","getAllMessages","fetchMessages","PencilIcon","ArrowExpandIcon","composerMessage","indicatorDisabled","onShowComposer","showMessageComposerMutation","NcContent","MailboxThread","Navigation","NewMessageModal","Outbox","ComposerSessionIndicator","hasComposerSession","accounts","getAccounts","activeAccount","activeMailbox","composerSessionId","patchAccountMutation","connectionStatus","testAccountConnection","startMailboxId","firstAccount","firstMailbox","onCloseMessageModal","newMessageModal","ListItemIcon","removeRecipient","photo","attachmentId","directory","targetPath","uploadLocalAttachment","progress","controller","FormData","opts","onUploadProgress","prog","loaded","total","signal","append"],"sourceRoot":""}