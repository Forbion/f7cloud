'use strict';

var transform = require('./transform.cjs');
require('path');
require('crypto');

const NAME = 'webpackStats';
const webpackStats = (options = {}) => ({
    name: NAME,
    generateBundle(outputOptions, bundle) {
        const resolvedOptions = typeof options === 'function' ? options(outputOptions) : options;
        const result = transform.bundleToWebpackStats(bundle, resolvedOptions);
        this.emitFile({
            type: 'asset',
            fileName: resolvedOptions.fileName || 'webpack-stats.json',
            source: JSON.stringify(result),
        });
    },
});

module.exports = webpackStats;
//# sourceMappingURL=index.cjs.map
