import { bundleToWebpackStats } from './transform.mjs';
import 'path';
import 'crypto';

const NAME = 'webpackStats';
const webpackStats = (options = {}) => ({
    name: NAME,
    generateBundle(outputOptions, bundle) {
        const resolvedOptions = typeof options === 'function' ? options(outputOptions) : options;
        const result = bundleToWebpackStats(bundle, resolvedOptions);
        this.emitFile({
            type: 'asset',
            fileName: resolvedOptions.fileName || 'webpack-stats.json',
            source: JSON.stringify(result),
        });
    },
});

export { webpackStats as default };
//# sourceMappingURL=index.mjs.map
