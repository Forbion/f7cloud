(e=>{addEventListener("rl-view-model.create",(t=>{if("MailMessageList"===t.detail.viewModelTemplateID){let a=t.detail;a.nextcloudSaveMsgs=()=>{a.messageList.hasChecked()&&e.nextcloud.selectFolder().then((t=>{t&&a.messageList.forEach((a=>{a.checked()&&e.pluginRemoteRequest(((e,t)=>{}),"NextcloudSaveMsg",{msgHash:a.requestHash,folder:t,filename:a.subject()})}))}))}}}));const t=document.getElementById("MailMessageList").content.querySelector('#more-list-dropdown-id + menu [data-bind*="forwardCommand"]');t&&t.after(Element.fromHTML('<li role="presentation" data-bind="css:{disabled:!messageList.hasChecked()}">\n\t\t\t<a href="#" tabindex="-1" data-icon="ðŸ“¥" data-bind="click: nextcloudSaveMsgs" data-i18n="NEXTCLOUD/SAVE_EML"></a>\n\t\t</li>'))})(window.rl);