{"version":3,"file":"deck-node_modules_moment_locale_sync_recursive_-src_views_BoardReferenceWidget_vue-data_image_svg_-373c63.js?v=76037727f580ccc750c7","mappings":"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","sources":["webpack:///deck/src/components/cards/AvatarList.vue","webpack://deck/./src/components/cards/AvatarList.vue?cfa7","webpack:///deck/src/mixins/labelStyle.js","webpack:///deck/src/components/ActivityEntry.vue?vue&type=style&index=0&id=4ec0d815&prod&scoped=true&lang=scss","webpack:///deck/src/components/Controls.vue?vue&type=style&index=0&id=8382b7c2&prod&lang=scss&scoped=true","webpack:///deck/src/components/Controls.vue?vue&type=style&index=1&id=8382b7c2&prod&lang=scss","webpack:///deck/src/components/SessionList.vue?vue&type=style&index=0&id=3a1cc12a&prod&scoped=true&lang=scss","webpack:///deck/src/components/board/Board.vue?vue&type=style&index=0&id=046cdef2&prod&lang=scss&scoped=true","webpack:///deck/src/components/board/Stack.vue?vue&type=style&index=0&id=5851d20e&prod&lang=scss&scoped=true","webpack:///deck/src/components/card/CardSidebar.vue?vue&type=style&index=0&id=60af2d5c&prod&lang=scss","webpack:///deck/src/components/card/CardSidebarTabComments.vue?vue&type=style&index=0&id=cd53af20&prod&scoped=true&lang=scss","webpack:///deck/src/components/card/CardSidebarTabDetails.vue?vue&type=style&index=0&id=0ae6769e&prod&lang=scss&scoped=true","webpack:///deck/src/components/card/CommentForm.vue?vue&type=style&index=0&id=c798075e&prod&scoped=true&lang=scss","webpack:///deck/src/components/card/CommentItem.vue?vue&type=style&index=0&id=3656a553&prod&scoped=true&lang=scss","webpack:///deck/src/components/cards/AvatarList.vue?vue&type=style&index=0&id=6596f216&prod&scoped=true&lang=scss","webpack:///deck/src/components/cards/CardBadges.vue?vue&type=style&index=0&id=60d5294a&prod&lang=scss&scoped=true","webpack:///deck/src/components/cards/CardCover.vue?vue&type=style&index=0&id=0cccbb6d&prod&lang=scss&scoped=true","webpack:///deck/src/components/cards/CardItem.vue?vue&type=style&index=0&id=2d75480a&prod&lang=scss&scoped=true","webpack:///deck/src/components/cards/badges/CardId.vue?vue&type=style&index=0&id=4f03dbb8&prod&lang=scss&scoped=true","webpack:///deck/src/components/cards/badges/DueDate.vue?vue&type=style&index=0&id=335a1ab6&prod&lang=scss&scoped=true","webpack:///deck/src/components/search/GlobalSearchResults.vue?vue&type=style&index=0&id=7711a4ae&prod&lang=scss&scoped=true","webpack:///deck/src/components/search/Placeholder.vue?vue&type=style&index=0&id=2ec8f4d4&prod&lang=scss&scoped=true","webpack:///deck/src/views/BoardReferenceWidget.vue?vue&type=style&index=0&id=5ea0696f&prod&scoped=true&lang=scss","webpack:///deck/src/components/ActivityEntry.vue?vue&type=style&index=1&id=4ec0d815&prod&lang=css","webpack:///deck/src/components/ActivityList.vue?vue&type=style&index=0&id=54d90076&prod&scoped=true&lang=css","webpack:///deck/node_modules/moment/locale|sync|/^\\.\\/.*$","webpack://deck/./src/components/cards/AvatarList.vue?76e7","webpack://deck/./src/components/cards/AvatarList.vue?41a1","webpack://deck/./src/views/BoardReferenceWidget.vue?5cf6","webpack:///deck/src/components/SessionList.vue","webpack:///deck/src/components/SessionList.vue?vue&type=script&lang=js","webpack://deck/./src/components/SessionList.vue?2561","webpack://deck/./src/components/SessionList.vue?8f30","webpack://deck/./src/components/SessionList.vue?a91b","webpack:///deck/src/services/SessionApi.js","webpack:///deck/src/store/actions.js","webpack:///deck/src/services/StackApi.js","webpack:///deck/src/helpers/applyOrderToArray.js","webpack:///deck/src/store/stack.js","webpack:///deck/src/store/card.js","webpack:///deck/src/store/comment.js","webpack:///deck/src/services/CommentApi.js","webpack:///deck/src/store/trashbin.js","webpack:///deck/src/store/attachment.js","webpack:///deck/src/services/AttachmentApi.js","webpack:///deck/src/store/overview.js","webpack:///deck/src/services/OverviewApi.js","webpack:///deck/src/store/main.js","webpack:///deck/src/sessions.js","webpack:///deck/src/components/Controls.vue","webpack:///deck/src/components/Controls.vue?vue&type=script&lang=js","webpack://deck/./src/components/Controls.vue?864a","webpack://deck/./src/components/Controls.vue?0bdd","webpack://deck/./src/components/Controls.vue?dd9d","webpack://deck/./src/components/Controls.vue?c75a","webpack:///deck/src/components/cards/badges/CardId.vue","webpack:///deck/src/components/cards/badges/CardId.vue?vue&type=script&lang=js","webpack://deck/./src/components/cards/badges/CardId.vue?a0a8","webpack://deck/./src/components/cards/badges/CardId.vue?60d3","webpack://deck/./src/components/cards/badges/CardId.vue?5b8a","webpack:///deck/src/components/cards/badges/DueDate.vue","webpack:///deck/src/components/cards/badges/DueDate.vue?vue&type=script&lang=js","webpack://deck/./src/components/cards/badges/DueDate.vue?cf3d","webpack://deck/./src/components/cards/badges/DueDate.vue?d84d","webpack://deck/./src/components/cards/badges/DueDate.vue?d8e0","webpack:///deck/src/components/cards/CardBadges.vue?vue&type=script&lang=js","webpack:///deck/src/components/cards/CardBadges.vue","webpack://deck/./src/components/cards/CardBadges.vue?29e1","webpack://deck/./src/components/cards/CardBadges.vue?c0f4","webpack://deck/./src/components/cards/CardBadges.vue?151a","webpack:///deck/src/components/cards/CardMenuEntries.vue","webpack:///deck/src/components/cards/CardMenuEntries.vue?vue&type=script&lang=js","webpack://deck/./src/components/cards/CardMenuEntries.vue?316b","webpack://deck/./src/components/cards/CardMenuEntries.vue?8852","webpack:///deck/src/components/cards/CardMenu.vue?vue&type=script&lang=js","webpack:///deck/src/components/cards/CardMenu.vue","webpack://deck/./src/components/cards/CardMenu.vue?c2df","webpack://deck/./src/components/cards/CardMenu.vue?194d","webpack:///deck/src/components/cards/CardCover.vue","webpack:///deck/src/components/cards/CardCover.vue?vue&type=script&lang=js","webpack://deck/./src/components/cards/CardCover.vue?0f31","webpack://deck/./src/components/cards/CardCover.vue?4181","webpack://deck/./src/components/cards/CardCover.vue?545a","webpack:///deck/src/components/cards/CardItem.vue","webpack:///deck/src/components/cards/CardItem.vue?vue&type=script&lang=js","webpack://deck/./src/components/cards/CardItem.vue?df3c","webpack://deck/./src/components/cards/CardItem.vue?3fc9","webpack://deck/./src/components/cards/CardItem.vue?c235","webpack:///deck/src/components/board/Stack.vue","webpack:///deck/src/components/board/Stack.vue?vue&type=script&lang=js","webpack://deck/./src/components/board/Stack.vue?813f","webpack://deck/./src/components/board/Stack.vue?6b66","webpack://deck/./src/components/board/Stack.vue?5935","webpack://deck/./src/components/search/GlobalSearchResults.vue?3c40","webpack:///deck/src/components/search/Placeholder.vue","webpack:///deck/src/components/search/Placeholder.vue?vue&type=script&lang=js","webpack://deck/./src/components/search/Placeholder.vue?b8b9","webpack://deck/./src/components/search/Placeholder.vue?e780","webpack://deck/./src/components/search/Placeholder.vue?d187","webpack:///deck/src/components/search/GlobalSearchResults.vue","webpack:///deck/src/components/search/GlobalSearchResults.vue?vue&type=script&lang=js","webpack://deck/./src/components/search/GlobalSearchResults.vue?0bd3","webpack://deck/./src/components/search/GlobalSearchResults.vue?f1cf","webpack:///deck/src/components/card/CardSidebarTabDetails.vue","webpack:///deck/src/components/card/CardSidebarTabDetails.vue?vue&type=script&lang=js","webpack://deck/./src/components/card/CardSidebarTabDetails.vue?9fdb","webpack://deck/./src/components/card/CardSidebarTabDetails.vue?bca5","webpack://deck/./src/components/card/CardSidebarTabDetails.vue?bdf5","webpack:///deck/src/components/card/CardSidebarTabAttachments.vue","webpack:///deck/src/components/card/CardSidebarTabAttachments.vue?vue&type=script&lang=js","webpack://deck/./src/components/card/CardSidebarTabAttachments.vue?cad2","webpack://deck/./src/components/card/CardSidebarTabAttachments.vue?9e0c","webpack://deck/./src/components/card/CardSidebarTabComments.vue?d02c","webpack:///deck/src/helpers/mentions.js","webpack:///deck/src/components/card/CommentForm.vue?vue&type=script&lang=js","webpack:///deck/src/components/card/CommentForm.vue","webpack://deck/./src/components/card/CommentForm.vue?f24b","webpack://deck/./src/components/card/CommentForm.vue?e107","webpack://deck/./src/components/card/CommentForm.vue?32ab","webpack:///deck/src/components/card/CommentItem.vue","webpack:///deck/src/components/card/CommentItem.vue?vue&type=script&lang=js","webpack://deck/./src/components/card/CommentItem.vue?33e6","webpack://deck/./src/components/card/CommentItem.vue?7213","webpack://deck/./src/components/card/CommentItem.vue?0964","webpack:///deck/src/components/card/CardSidebarTabComments.vue?vue&type=script&lang=js","webpack:///deck/src/components/card/CardSidebarTabComments.vue","webpack://deck/./src/components/card/CardSidebarTabComments.vue?4cf1","webpack://deck/./src/components/card/CardSidebarTabComments.vue?454d","webpack://deck/./src/components/card/CardSidebarTabActivity.vue?3a31","webpack:///deck/src/components/ActivityEntry.vue","webpack:///deck/src/components/ActivityEntry.vue?vue&type=script&lang=js","webpack://deck/./src/components/ActivityEntry.vue?d986","webpack://deck/./src/components/ActivityEntry.vue?1fb9","webpack://deck/./src/components/ActivityEntry.vue?a0a4","webpack://deck/./src/components/ActivityEntry.vue?3a91","webpack:///deck/src/components/ActivityList.vue?vue&type=script&lang=js","webpack:///deck/src/components/ActivityList.vue","webpack://deck/./src/components/ActivityList.vue?67de","webpack://deck/./src/components/ActivityList.vue?011f","webpack:///deck/src/components/card/CardSidebarTabActivity.vue?vue&type=script&lang=js","webpack:///deck/src/components/card/CardSidebarTabActivity.vue","webpack://deck/./src/components/ActivityList.vue?7342","webpack://deck/./src/components/card/CardSidebarTabActivity.vue?9b0e","webpack:///deck/src/components/card/CardSidebar.vue","webpack:///deck/src/components/card/CardSidebar.vue?vue&type=script&lang=js","webpack://deck/./src/components/card/CardSidebar.vue?7a16","webpack://deck/./src/components/card/CardSidebar.vue?ebb2","webpack://deck/./src/components/card/CardSidebar.vue?beff","webpack:///deck/src/components/board/Board.vue?vue&type=script&lang=js","webpack:///deck/src/components/board/Board.vue","webpack://deck/./src/components/board/Board.vue?7878","webpack://deck/./src/components/board/Board.vue?2041","webpack://deck/./src/components/board/Board.vue?b5a9","webpack:///deck/src/views/BoardReferenceWidget.vue","webpack:///deck/src/views/BoardReferenceWidget.vue?vue&type=script&lang=js","webpack://deck/./src/views/BoardReferenceWidget.vue?9ae2","webpack://deck/./src/views/BoardReferenceWidget.vue?29e5","webpack:///deck/src/components/cards/AvatarList.vue?vue&type=script&lang=js"],"sourcesContent":["<!--\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div class=\"avatars\">\n\t\t<div>\n\t\t\t<NcPopover>\n\t\t\t\t<template #trigger=\"{ attrs }\">\n\t\t\t\t\t<button class=\"avatar-list\" v-bind=\"attrs\" @click.stop>\n\t\t\t\t\t\t<div v-if=\"popover.length > 0\">\n\t\t\t\t\t\t\t<AccountMultiple class=\"avatardiv more-avatars\" :size=\"24\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div v-for=\"user in firstUsers\" :key=\"user.id\">\n\t\t\t\t\t\t\t<NcAvatar v-if=\"user.type === 0\"\n\t\t\t\t\t\t\t\t:user=\"user.participant.uid\"\n\t\t\t\t\t\t\t\t:display-name=\"user.participant.displayname\"\n\t\t\t\t\t\t\t\t:disable-menu=\"true\"\n\t\t\t\t\t\t\t\t:show-user-status=\"false\"\n\t\t\t\t\t\t\t\t:size=\"32\" />\n\t\t\t\t\t\t\t<NcAvatar v-if=\"user.type === 1\"\n\t\t\t\t\t\t\t\t:user=\"user.participant.uid\"\n\t\t\t\t\t\t\t\t:display-name=\"user.participant.displayname\"\n\t\t\t\t\t\t\t\t:tooltip-message=\"user.participant.displayname + ' ' + t('deck', '(Group)')\"\n\t\t\t\t\t\t\t\t:is-no-user=\"true\"\n\t\t\t\t\t\t\t\t:disable-=\"true\"\n\t\t\t\t\t\t\t\t:size=\"32\" />\n\t\t\t\t\t\t\t<NcAvatar v-if=\"user.type === 7\"\n\t\t\t\t\t\t\t\t:user=\"user.participant.uid\"\n\t\t\t\t\t\t\t\t:display-name=\"user.participant.displayname\"\n\t\t\t\t\t\t\t\t:tooltip-message=\"user.participant.displayname + ' ' + t('deck', '(Team)')\"\n\t\t\t\t\t\t\t\t:is-no-user=\"true\"\n\t\t\t\t\t\t\t\t:disable-=\"true\"\n\t\t\t\t\t\t\t\t:size=\"32\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</button>\n\t\t\t\t</template>\n\t\t\t\t<div>\n\t\t\t\t\t<div v-for=\"user in users\"\n\t\t\t\t\t\t:key=\"user.id\"\n\t\t\t\t\t\tclass=\"avatar-list-entry\">\n\t\t\t\t\t\t<NcAvatar :user=\"user.participant.uid\"\n\t\t\t\t\t\t\t:display-name=\"user.participant.displayname\"\n\t\t\t\t\t\t\t:disable-menu=\"true\"\n\t\t\t\t\t\t\t:is-no-user=\"user.type !== 0\"\n\t\t\t\t\t\t\t:size=\"32\" />\n\t\t\t\t\t\t<div class=\"avatar-list-entry__label\">\n\t\t\t\t\t\t\t{{ user.participant.displayname }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</NcPopover>\n\t\t</div>\n\n\t\t<div class=\"avatar-print-list\">\n\t\t\t<div v-for=\"user in avatarUsers\" :key=\"user.id\" class=\"avatar-print-list-item\">\n\t\t\t\t<NcAvatar class=\"avatar-print-list-avatar\"\n\t\t\t\t\t:user=\"user.participant.uid\"\n\t\t\t\t\t:display-name=\"user.participant.displayname\"\n\t\t\t\t\t:disable-menu=\"true\"\n\t\t\t\t\t:is-no-user=\"user.type !== 0\"\n\t\t\t\t\t:size=\"24\" />\n\t\t\t\t{{ user.participant.displayname }}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { NcAvatar, NcPopover } from '@nextcloud/vue'\nimport { generateUrl } from '@nextcloud/router'\nimport AccountMultiple from 'vue-material-design-icons/AccountMultiple.vue'\n\nexport default {\n\tname: 'AvatarList',\n\tcomponents: {\n\t\tNcAvatar,\n\t\tNcPopover,\n\t\tAccountMultiple,\n\t},\n\tprops: {\n\t\tusers: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => ([]),\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tpopoverVisible: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\tfirstUsers() {\n\t\t\tif (!this.users || this.users.length === 0) {\n\t\t\t\treturn []\n\t\t\t}\n\t\t\treturn this.users.slice(0, 3)\n\t\t},\n\t\tavatarUrl() {\n\t\t\treturn (assignable) => {\n\t\t\t\tif (assignable.type === 1) {\n\t\t\t\t\treturn 'icon-group'\n\t\t\t\t}\n\t\t\t\tconst user = assignable.participant.uid\n\t\t\t\tconst size = 32\n\t\t\t\tconst avatarUrl = generateUrl('/avatar/{user}/{size}',\n\t\t\t\t\t{\n\t\t\t\t\t\tuser,\n\t\t\t\t\t\tsize,\n\t\t\t\t\t})\n\t\t\t\treturn window.location.protocol + '//' + window.location.host + avatarUrl\n\t\t\t}\n\t\t},\n\t\tpopover() {\n\t\t\tif (!this.users || this.users.length === 0) {\n\t\t\t\treturn []\n\t\t\t}\n\t\t\treturn [\n\t\t\t\t...this.users.slice(3).map((session) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\thref: '#',\n\t\t\t\t\t\ticon: this.avatarUrl(session),\n\t\t\t\t\t\ttext: session.participant.displayname + (session.type === 1 ? ' ' + t('deck', '(group)') : ''),\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t]\n\t\t},\n\t\tavatarUsers() {\n\t\t\tif (!this.users) {\n\t\t\t\treturn []\n\t\t\t}\n\n\t\t\treturn this.users.filter((user) => {\n\t\t\t\treturn [0, 1, 7].includes(user.type)\n\t\t\t})\n\t\t},\n\t},\n\tmethods: {\n\t\ttogglePopover() {\n\t\t\tif (this.popover.length > 0) {\n\t\t\t\tthis.popoverVisible = !this.popoverVisible\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n\t.avatars {\n\t\tposition: relative;\n\t\tflex-grow: 1;\n\t\t:deep(.popovermenu) {\n\t\t\tmargin-right: -4px;\n\t\t\timg {\n\t\t\t\tpadding: 0;\n\t\t\t\twidth: 32px !important;\n\t\t\t\theight: 32px !important;\n\t\t\t\tmargin: 6px;\n\t\t\t\tborder-radius: 50%;\n\t\t\t}\n\t\t}\n\t}\n\n\t$avatar-offset: 12px;\n\n\t.avatar-list {\n\t\tfloat: right;\n\t\tdisplay: inline-flex;\n\t\tflex-direction: row-reverse;\n\t\tpadding: 0;\n\t\tpadding-right: $avatar-offset;\n\t\tmargin: 0;\n\t\tborder: 0;\n\t\tbackground: transparent;\n\n\t\t& > div {\n\t\t\theight: 32px;\n\t\t}\n\n\t\t.avatardiv,\n\t\t:deep(.avatardiv) {\n\t\t\twidth: 32px;\n\t\t\theight: 32px;\n\t\t\tbox-sizing: content-box !important;\n\t\t\tmargin-right: -$avatar-offset;\n\t\t\ttransition: margin-right 0.2s ease-in-out;\n\t\t\tborder: 2px solid var(--color-main-background);\n\t\t}\n\n\t\t.more-avatars {\n\t\t\twidth: 32px;\n\t\t\theight: 32px;\n\t\t\tbackground-color: var(--color-background-dark) !important;\n\t\t\tcursor: pointer;\n\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t}\n\n\t}\n\n\t.avatar-list-entry {\n\t\tdisplay: flex;\n\t\tpadding: 6px 12px;\n\n\t\t&__label {\n\t\t\tpadding: 4px 12px;\n\t\t}\n\t}\n\n\t.popovermenu {\n\t\tdisplay: block;\n\t\tmargin: 40px -6px;\n\t}\n\n\t.avatar-print-list {\n\t\tdisplay: none;\n\t}\n\n\t@media print {\n\t\t.avatar-list {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t.avatar-print-list-item {\n\t\t\talign-items: center;\n\t\t\tdisplay: flex;\n\t\t\tgap: 10px;\n\t\t\tmargin-bottom: 10px;\n\t\t}\n\n\t\t.avatar-print-list {\n\t\t\tdisplay: block;\n\t\t\tpadding-top: 5px;\n\t\t}\n\t}\n</style>\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"avatars\"},[_c('div',[_c('NcPopover',{scopedSlots:_vm._u([{key:\"trigger\",fn:function({ attrs }){return [_c('button',_vm._b({staticClass:\"avatar-list\",on:{\"click\":function($event){$event.stopPropagation();}}},'button',attrs,false),[(_vm.popover.length > 0)?_c('div',[_c('AccountMultiple',{staticClass:\"avatardiv more-avatars\",attrs:{\"size\":24}})],1):_vm._e(),_vm._v(\" \"),_vm._l((_vm.firstUsers),function(user){return _c('div',{key:user.id},[(user.type === 0)?_c('NcAvatar',{attrs:{\"user\":user.participant.uid,\"display-name\":user.participant.displayname,\"disable-menu\":true,\"show-user-status\":false,\"size\":32}}):_vm._e(),_vm._v(\" \"),(user.type === 1)?_c('NcAvatar',{attrs:{\"user\":user.participant.uid,\"display-name\":user.participant.displayname,\"tooltip-message\":user.participant.displayname + ' ' + _vm.t('deck', '(Group)'),\"is-no-user\":true,\"disable-\":true,\"size\":32}}):_vm._e(),_vm._v(\" \"),(user.type === 7)?_c('NcAvatar',{attrs:{\"user\":user.participant.uid,\"display-name\":user.participant.displayname,\"tooltip-message\":user.participant.displayname + ' ' + _vm.t('deck', '(Team)'),\"is-no-user\":true,\"disable-\":true,\"size\":32}}):_vm._e()],1)})],2)]}}])},[_vm._v(\" \"),_c('div',_vm._l((_vm.users),function(user){return _c('div',{key:user.id,staticClass:\"avatar-list-entry\"},[_c('NcAvatar',{attrs:{\"user\":user.participant.uid,\"display-name\":user.participant.displayname,\"disable-menu\":true,\"is-no-user\":user.type !== 0,\"size\":32}}),_vm._v(\" \"),_c('div',{staticClass:\"avatar-list-entry__label\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(user.participant.displayname)+\"\\n\\t\\t\\t\\t\\t\")])],1)}),0)])],1),_vm._v(\" \"),_c('div',{staticClass:\"avatar-print-list\"},_vm._l((_vm.avatarUsers),function(user){return _c('div',{key:user.id,staticClass:\"avatar-print-list-item\"},[_c('NcAvatar',{staticClass:\"avatar-print-list-avatar\",attrs:{\"user\":user.participant.uid,\"display-name\":user.participant.displayname,\"disable-menu\":true,\"is-no-user\":user.type !== 0,\"size\":24}}),_vm._v(\"\\n\\t\\t\\t\"+_vm._s(user.participant.displayname)+\"\\n\\t\\t\")],1)}),0)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport Color from './color.js'\n\nexport default {\n\tmixins: [Color],\n\tcomputed: {\n\t\tlabelStyle() {\n\t\t\treturn (label) => {\n\t\t\t\treturn {\n\t\t\t\t\tbackgroundColor: '#' + label.color,\n\t\t\t\t\tcolor: this.textColor(label.color),\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.activity .activity--header[data-v-4ec0d815]{display:flex;padding:10px}.activity .activity--icon[data-v-4ec0d815]{width:16px;height:16px;flex-shrink:0;flex-grow:0}.activity .activity--subject[data-v-4ec0d815]{margin-left:10px}.activity .activity--message[data-v-4ec0d815]{margin-left:var(--default-clickable-area);color:var(--color-text-light);margin-bottom:10px}.activity .activity--timestamp[data-v-4ec0d815]{flex-grow:1;color:var(--color-text-maxcontrast);text-align:right;font-size:.8em;padding:1px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/ActivityEntry.vue\"],\"names\":[],\"mappings\":\"AAGC,6CACC,YAAA,CACA,YAAA,CAGD,2CACC,UAAA,CACA,WAAA,CACA,aAAA,CACA,WAAA,CAED,8CACC,gBAAA,CAED,8CACC,yCAAA,CACA,6BAAA,CACA,kBAAA,CAED,gDACC,WAAA,CACA,mCAAA,CACA,gBAAA,CACA,cAAA,CACA,WAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.controls[data-v-8382b7c2]{display:flex;margin:calc(var(--default-grid-baseline)*2);height:var(--default-clickable-area);padding-left:var(--default-clickable-area)}.controls .board-title[data-v-8382b7c2]{display:flex;align-items:center}.controls .board-title h2[data-v-8382b7c2]{margin:0;margin-right:10px;font-size:18px}.controls .board-title .board-bullet[data-v-8382b7c2]{display:inline-block;width:16px;height:16px;border:none;border-radius:50%;background-color:rgba(0,0,0,0);margin:var(--default-grid-baseline)}.controls #stack-add form[data-v-8382b7c2]{display:flex}#app-navigation-toggle-custom[data-v-8382b7c2]{position:static;width:var(--default-clickable-area);height:var(--default-clickable-area);cursor:pointer;opacity:1;display:inline-block !important}.board-actions[data-v-8382b7c2]{flex-grow:1;order:100;display:flex;justify-content:flex-end}.board-action-buttons[data-v-8382b7c2]{display:flex}.deck-search[data-v-8382b7c2]{display:flex;align-items:center;justify-content:center}.deck-search input[type=search][data-v-8382b7c2]{background-position:5px;padding-left:24px !important}.filter--item input+label[data-v-8382b7c2]{display:block;padding:var(--default-grid-baseline) 0}.filter--item input+label .avatardiv[data-v-8382b7c2]{vertical-align:middle;margin-bottom:2px;margin-right:3px}.filter--item input+label .label[data-v-8382b7c2]{padding:5px;border-radius:3px}.filter[data-v-8382b7c2]{width:240px;max-height:calc(100vh - 150px);position:relative;overflow:auto;padding:8px}.filter h3[data-v-8382b7c2]{margin-top:0px;margin-bottom:5px}.filter-button[data-v-8382b7c2]{padding:0;border-radius:50%;width:var(--default-clickable-area);height:var(--default-clickable-area)}.filter-button[data-popper-shown][data-v-8382b7c2]{background-color:var(--color-background-hover)}.filter-button[data-popper-shown].button-vue--vue-primary[data-v-8382b7c2]{background-color:var(--color-primary-element)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Controls.vue\"],\"names\":[],\"mappings\":\"AACA,2BACC,YAAA,CACA,2CAAA,CACA,oCAAA,CACA,0CAAA,CAEA,wCACC,YAAA,CACA,kBAAA,CAEA,2CACC,QAAA,CACA,iBAAA,CACA,cAAA,CAGD,sDACC,oBAAA,CACA,UAAA,CACA,WAAA,CACA,WAAA,CACA,iBAAA,CACA,8BAAA,CACA,mCAAA,CAIF,2CACC,YAAA,CAIF,+CACC,eAAA,CACA,mCAAA,CACA,oCAAA,CACA,cAAA,CACA,SAAA,CACA,+BAAA,CAGD,gCACC,WAAA,CACA,SAAA,CACA,YAAA,CACA,wBAAA,CAGD,uCACC,YAAA,CAGD,8BACC,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,iDACC,uBAAA,CACA,4BAAA,CAKD,2CACC,aAAA,CACA,sCAAA,CACA,sDACC,qBAAA,CACA,iBAAA,CACA,gBAAA,CAED,kDACC,WAAA,CACA,iBAAA,CAKH,yBACC,WAAA,CACA,8BAAA,CACA,iBAAA,CACA,aAAA,CACA,WAAA,CAGD,4BACC,cAAA,CACA,iBAAA,CAGD,gCACC,SAAA,CACA,iBAAA,CACA,mCAAA,CACA,oCAAA,CAEA,mDACC,8CAAA,CACA,2EACC,6CAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.popover:focus{outline:2px solid var(--color-main-text)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Controls.vue\"],\"names\":[],\"mappings\":\"AACA,eACC,wCAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.avatar-list[data-v-3a1cc12a]{min-height:var(--default-clickable-area);align-items:center;padding-right:.5em;border:none;background-color:var(--color-main-background);margin:0;padding-left:6px;display:inline-flex;flex-direction:row-reverse}.avatar-list[data-v-3a1cc12a]:focus{background-color:#eee}.avatar-wrapper[data-v-3a1cc12a]{background-color:#b9b9b9;border-radius:50%;border:1px solid var(--color-border-dark);width:var(--size);height:var(--size);text-align:center;color:#fff;line-height:var(--size);font-size:var(--font-size);font-weight:normal;z-index:1;overflow:hidden;box-sizing:content-box !important;margin-left:-8px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/SessionList.vue\"],\"names\":[],\"mappings\":\"AAEA,8BACC,wCAAA,CACA,kBAAA,CACA,kBAAA,CACA,WAAA,CACA,6CAAA,CACA,QAAA,CACA,gBAAA,CACA,mBAAA,CACA,0BAAA,CAEA,oCACC,qBAAA,CAKF,iCACC,wBAAA,CACA,iBAAA,CACA,yCAAA,CACA,iBAAA,CACA,kBAAA,CACA,iBAAA,CACA,UAAA,CACA,uBAAA,CACA,0BAAA,CACA,kBAAA,CACA,SAAA,CACA,eAAA,CACA,iCAAA,CACA,gBAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.fade-enter-active[data-v-046cdef2]{transition:opacity 250ms}.fade-enter[data-v-046cdef2],.fade-leave-to[data-v-046cdef2]{opacity:0}.zoom-appear-active-class[data-v-046cdef2],.zoom-enter-active[data-v-046cdef2]{animation:zoom-in-046cdef2 var(--animation-quick)}.zoom-leave-active[data-v-046cdef2]{animation:zoom-in-046cdef2 var(--animation-quick) reverse;will-change:transform}@keyframes zoom-in-046cdef2{0%{transform:scale(0);opacity:0}100%{transform:scale(1);opacity:1}}/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */form[data-v-046cdef2]{text-align:center;display:flex;width:100%;margin:auto;margin-top:calc(var(--default-grid-baseline)*4);gap:var(--default-grid-baseline)}form input[type=text][data-v-046cdef2]{flex-grow:1}form button[type=submit][data-v-046cdef2]{flex-shrink:0}.board-wrapper[data-v-046cdef2]{position:relative;width:100%;height:100%;max-height:calc(100vh - 50px);display:flex;flex-direction:column}.board[data-v-046cdef2]{padding-left:16px;position:relative;max-height:calc(100% - var(--default-clickable-area));overflow:hidden;overflow-x:auto;flex-grow:1}.smooth-dnd-container.horizontal[data-v-046cdef2]{display:flex;align-items:stretch;height:100%}.smooth-dnd-container.horizontal[data-v-046cdef2] .stack-draggable-wrapper.smooth-dnd-draggable-wrapper{display:flex;height:auto}.smooth-dnd-container.horizontal[data-v-046cdef2] .stack-draggable-wrapper.smooth-dnd-draggable-wrapper .stack{display:flex;flex-direction:column;position:relative}.smooth-dnd-container.horizontal[data-v-046cdef2] .stack-draggable-wrapper.smooth-dnd-draggable-wrapper .stack .smooth-dnd-container.vertical{flex-grow:1;display:flex;flex-direction:column;margin-left:12px;padding-right:12px;overflow-x:hidden;overflow-y:auto;padding-top:15px;margin-top:-10px;scrollbar-gutter:stable}.smooth-dnd-container.horizontal[data-v-046cdef2] .stack-draggable-wrapper.smooth-dnd-draggable-wrapper .stack .smooth-dnd-container.vertical>.smooth-dnd-draggable-wrapper{overflow:initial}.smooth-dnd-container.horizontal[data-v-046cdef2] .stack-draggable-wrapper.smooth-dnd-draggable-wrapper .stack .smooth-dnd-container.vertical .smooth-dnd-draggable-wrapper{height:auto}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/animations.scss\",\"webpack://./src/css/variables.scss\",\"webpack://./src/components/board/Board.vue\"],\"names\":[],\"mappings\":\"AAAA;;;EAAA,CAIA,oCACC,wBAAA,CAGD,6DACC,SAAA,CAGD,+EAEC,iDAAA,CAGD,oCACC,yDAAA,CACA,qBAAA,CAED,4BACC,GACC,kBAAA,CACA,SAAA,CAED,KACC,kBAAA,CACA,SAAA,CAAA,CC5BF;;;EAAA,CCIA,sBACC,iBAAA,CACA,YAAA,CACA,UAAA,CACA,WAAA,CACA,+CAAA,CACA,gCAAA,CAEA,uCACC,WAAA,CAED,0CACC,aAAA,CAIF,gCACC,iBAAA,CACA,UAAA,CACA,WAAA,CACA,6BAAA,CACA,YAAA,CACA,qBAAA,CAGD,wBACC,iBDtBgB,CCuBhB,iBAAA,CACA,qDAAA,CACA,eAAA,CACA,eAAA,CACA,WAAA,CAOD,kDACC,YAAA,CACA,mBAAA,CACA,WAAA,CAEA,wGACC,YAAA,CACA,WAAA,CAEA,+GACC,YAAA,CACA,qBAAA,CACA,iBAAA,CAEA,8IACC,WAAA,CACA,YAAA,CACA,qBAAA,CAEA,gBDvDa,CCwDb,kBDxDa,CCyDb,iBAAA,CACA,eAAA,CACA,gBAAA,CACA,gBAAA,CACA,uBAAA,CAGD,4KACC,gBAAA,CAGD,4KACC,WAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.stack[data-v-5851d20e]{width:316px}.stack__header[data-v-5851d20e]{display:flex;position:sticky;top:0;z-index:100;padding-left:8px;padding-right:8px;margin:6px;margin-top:0;cursor:grab;background-color:var(--color-main-background)}.stack__header[data-v-5851d20e]:before{content:\" \";display:block;position:absolute;width:calc(100% - 16px);height:20px;top:30px;left:0px;z-index:99;transition:top var(--animation-slow);background-image:linear-gradient(180deg, var(--color-main-background) 3px, rgba(255, 255, 255, 0) 100%)}body.theme--dark .stack__header[data-v-5851d20e]:before{background-image:linear-gradient(180deg, var(--color-main-background) 3px, rgba(0, 0, 0, 0) 100%)}.stack__header>*[data-v-5851d20e]{position:relative;z-index:100}.stack__header h3[data-v-5851d20e],.stack__header form[data-v-5851d20e]{flex-grow:1;display:flex;cursor:inherit;margin:0}.stack__header h3 input[type=text][data-v-5851d20e],.stack__header form input[type=text][data-v-5851d20e]{flex-grow:1}.stack__header h3.stack__title[data-v-5851d20e]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:220px;border-radius:3px;padding:4px 4px;font-size:var(--default-font-size)}.stack__header h3.stack__title[data-v-5851d20e]:focus-visible{outline:2px solid var(--color-border-dark);border-radius:3px}.stack__header form[data-v-5851d20e]{margin:-4px}.stack__header form input[data-v-5851d20e]{font-weight:bold;padding:0 6px}.stack__header form input[type=submit][data-v-5851d20e]{border-style:solid;border-left-style:none}.stack__header[data-v-5851d20e] .action-item,.stack__header[data-v-5851d20e] .v-popper--theme-dropdown{display:flex}.stack__card-add[data-v-5851d20e]{flex-shrink:0;z-index:100;display:flex;margin-bottom:5px;padding-top:var(--default-grid-baseline);background-color:var(--color-main-background)}.stack__card-add form[data-v-5851d20e]{display:flex;margin-left:12px;margin-right:12px;width:100%;border:2px solid var(--color-border-maxcontrast);border-radius:var(--border-radius-large);overflow:hidden;padding:2px}.stack__card-add.icon-loading-small[data-v-5851d20e]:after,.stack__card-add.icon-loading-small-dark[data-v-5851d20e]:after{margin-left:calc(50% - 25px)}.stack__card-add input[type=text][data-v-5851d20e]{flex-grow:1;padding-right:16px}.stack__card-add input[data-v-5851d20e]{border:none;margin:0;padding:4px}.slide-top-enter-active[data-v-5851d20e],.slide-top-leave-active[data-v-5851d20e]{transition:all 100ms ease}.slide-top-enter[data-v-5851d20e],.slide-top-leave-to[data-v-5851d20e]{transform:translateY(-10px);opacity:0}.slide-bottom-enter-active[data-v-5851d20e],.slide-bottom-leave-active[data-v-5851d20e]{transition:all 100ms ease}.slide-bottom-enter[data-v-5851d20e],.slide-bottom-leave-to[data-v-5851d20e]{transform:translateY(20px);opacity:0}.modal__content[data-v-5851d20e]{width:25vw;min-width:250px;min-height:100px;text-align:center;margin:20px 20px 20px 20px}.modal__content button[data-v-5851d20e]{float:right}progress[data-v-5851d20e]{margin-top:3px;margin-bottom:30px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/variables.scss\",\"webpack://./src/components/board/Stack.vue\"],\"names\":[],\"mappings\":\"AAAA;;;EAAA,CCMA,wBACC,WAAA,CAGD,gCACC,YAAA,CACA,eAAA,CACA,KAAA,CACA,WAAA,CACA,gBDXe,CCYf,iBDZe,CCaf,UAAA,CACA,YAAA,CACA,WAAA,CACA,6CAAA,CAGA,uCACC,WAAA,CACA,aAAA,CACA,iBAAA,CACA,uBAAA,CACA,WAAA,CACA,QAAA,CACA,QAAA,CACA,UAAA,CACA,oCAAA,CAEA,uGAAA,CACA,wDACC,iGAAA,CAIF,kCACC,iBAAA,CACA,WAAA,CAGD,wEACC,WAAA,CACA,YAAA,CACA,cAAA,CACA,QAAA,CAEA,0GACC,WAAA,CAIF,gDACC,kBAAA,CACA,eAAA,CACA,sBAAA,CACA,eAAA,CACA,iBAAA,CACA,eAAA,CACA,kCAAA,CAEA,8DACC,0CAAA,CACA,iBAAA,CAIF,qCACC,WAAA,CACA,2CACC,gBAAA,CACA,aAAA,CAED,wDACC,kBAAA,CACA,sBAAA,CAKD,uGAEC,YAAA,CAKH,kCACC,aAAA,CACA,WAAA,CACA,YAAA,CACA,iBAAA,CACA,wCAAA,CACA,6CAAA,CAEA,uCACC,YAAA,CACA,gBD/Fe,CCgGf,iBDhGe,CCiGf,UAAA,CACA,gDAAA,CACA,wCAAA,CACA,eAAA,CACA,WAAA,CAGD,2HAEC,4BAAA,CAGD,mDACC,WAAA,CACA,kBAAA,CAGD,wCACC,WAAA,CACA,QAAA,CACA,WAAA,CAQF,kFAEC,yBAAA,CAGD,uEACC,2BAAA,CACA,SAAA,CAGD,wFAEC,yBAAA,CAGD,6EACC,0BAAA,CACA,SAAA,CAGD,iCACC,UAAA,CACA,eAAA,CACA,gBAAA,CACA,iBAAA,CACA,0BAAA,CAGD,wCACC,WAAA,CAGD,0BACC,cAAA,CACA,kBAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `section.app-sidebar__tab--active{min-height:auto;display:flex;flex-direction:column;height:100%}.modal-container{overflow:hidden}.modal__card .app-sidebar{box-sizing:unset;border:0;min-width:calc(100% - 28px);position:relative;top:0;left:0;right:0;max-width:calc(100% - 28px);min-height:calc(100vh - var(--header-height)*4);padding:0 14px;height:97%;overflow:hidden !important;user-select:text;-webkit-user-select:text}.modal__card .app-sidebar .app-sidebar-header__mainname-container{padding-top:calc(var(--default-grid-baseline, 4px)*2)}.modal__card .app-sidebar .app-sidebar-tabs{max-height:90%}.modal__card .app-sidebar .app-sidebar__tab{min-height:calc(100% - 20px);max-height:calc(100% - 20px)}.modal__card .app-sidebar:deep .app-sidebar-header{position:sticky;top:0;z-index:100;background-color:var(--color-main-background)}.modal__card .app-sidebar:deep .app-sidebar-tabs__nav{position:sticky;top:87px;margin:0;z-index:100;background-color:var(--color-main-background)}.modal__card .app-sidebar:deep .app-sidebar__tab{overflow:initial}.modal__card .app-sidebar:deep #emptycontent,.modal__card .app-sidebar:deep .emptycontent{margin-top:88px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/card/CardSidebar.vue\"],\"names\":[],\"mappings\":\"AAEA,iCACC,eAAA,CACA,YAAA,CACA,qBAAA,CACA,WAAA,CAGD,iBACC,eAAA,CAKD,0BACC,gBAAA,CAEA,QAAA,CACA,2BAAA,CACA,iBAAA,CACA,KAAA,CACA,MAAA,CACA,OAAA,CACA,2BAAA,CACA,+CAAA,CACA,cAAA,CACA,UAAA,CACA,0BAAA,CACA,gBAAA,CACA,wBAAA,CAEA,kEACC,qDAAA,CAGD,4CACC,cAAA,CAGD,4CACC,4BAAA,CACA,4BAAA,CAKA,mDACC,eAAA,CACA,KAAA,CACA,WAAA,CACA,6CAAA,CAED,sDACC,eAAA,CACA,QAAA,CACA,QAAA,CACA,WAAA,CACA,6CAAA,CAGD,iDACC,gBAAA,CAGD,0FACC,eAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.comment-form form[data-v-cd53af20]{display:flex;flex-grow:1;position:relative}.comment-form form .editor__content[data-v-cd53af20]{flex-grow:1;margin-left:var(--default-clickable-area)}.comment-form form .editor__content[data-v-cd53af20] .ProseMirror{width:100%}.comment-form form input[type=submit][data-v-cd53af20]{width:var(--default-clickable-area);height:var(--default-clickable-area);margin:0;padding:13px;background-color:rgba(0,0,0,0);border:none;opacity:.3;position:absolute;bottom:0;right:0}.comment[data-v-cd53af20]{margin-bottom:10px}.comment--header[data-v-cd53af20]{display:flex;align-items:center;color:var(--color-text-light)}.comment--header .username[data-v-cd53af20]{padding:10px}.comment--header .spacer[data-v-cd53af20]{flex-grow:1}.comment--header .timestamp[data-v-cd53af20]{color:var(--color-text-maxcontrast)}.comment--content[data-v-cd53af20]{margin-left:var(--default-clickable-area);word-break:break-word}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/comments.scss\"],\"names\":[],\"mappings\":\"AAAA;;;EAAA,CAIA,oCACC,YAAA,CACA,WAAA,CACA,iBAAA,CAEA,qDACC,WAAA,CACA,yCAAA,CAEA,kEACC,UAAA,CAIF,uDACC,mCAAA,CACA,oCAAA,CACA,QAAA,CACA,YAAA,CACA,8BAAA,CACA,WAAA,CACA,UAAA,CACA,iBAAA,CACA,QAAA,CACA,OAAA,CAIF,0BACC,kBAAA,CAGD,kCACC,YAAA,CACA,kBAAA,CACA,6BAAA,CAEA,4CACC,YAAA,CAED,0CACC,WAAA,CAED,6CACC,mCAAA,CAIF,mCACC,yCAAA,CACA,qBAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.section-wrapper[data-v-0ae6769e]{display:flex;max-width:100%;margin-top:10px}.section-wrapper .section-label[data-v-0ae6769e]{background-position:0px center;width:28px;margin-left:9px;flex-shrink:0}.section-wrapper .section-details[data-v-0ae6769e]{flex-grow:1;display:flex;flex-wrap:wrap}.section-wrapper .section-details .remove-due-button[data-v-0ae6769e]{margin-top:-2px;margin-left:6px}.button-group[data-v-0ae6769e]{width:100%;display:flex}.button-group button[data-v-0ae6769e]{width:100%}.done[data-v-0ae6769e]{display:flex}.tag[data-v-0ae6769e]{flex-grow:0;flex-shrink:1;overflow:hidden;padding:0px 5px;border-radius:15px;font-size:85%;margin-right:3px}.avatarLabel[data-v-0ae6769e]{padding:6px}.section-details[data-v-0ae6769e] .multiselect__tags-wrap{flex-wrap:wrap}.avatar-list--readonly .avatardiv[data-v-0ae6769e]{margin-right:3px}.avatarlist--inline[data-v-0ae6769e]{display:flex;align-items:center;margin-right:3px}.avatarlist--inline .avatarLabel[data-v-0ae6769e]{padding:0}.multiselect[data-v-0ae6769e] .multiselect__tags-wrap{z-index:2}.multiselect.multiselect--active[data-v-0ae6769e] .multiselect__tags-wrap{z-index:0}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/card/CardSidebarTabDetails.vue\"],\"names\":[],\"mappings\":\"AACA,kCACC,YAAA,CACA,cAAA,CACA,eAAA,CAEA,iDACC,8BAAA,CACA,UAAA,CACA,eAAA,CACA,aAAA,CAGD,mDACC,WAAA,CACA,YAAA,CACA,cAAA,CAEA,sEACC,eAAA,CACA,eAAA,CAKH,+BACC,UAAA,CACA,YAAA,CAEA,sCACC,UAAA,CAIF,uBACC,YAAA,CAGD,sBACC,WAAA,CACA,aAAA,CACA,eAAA,CACA,eAAA,CACA,kBAAA,CACA,aAAA,CACA,gBAAA,CAGD,8BACC,WAAA,CAGD,0DACC,cAAA,CAGD,mDACC,gBAAA,CAGD,qCACC,YAAA,CACA,kBAAA,CACA,gBAAA,CACA,kDACC,SAAA,CAIF,sDACC,SAAA,CAGD,0EACC,SAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.comment-form form[data-v-c798075e]{display:flex;flex-grow:1;position:relative}.comment-form form .editor__content[data-v-c798075e]{flex-grow:1;margin-left:var(--default-clickable-area)}.comment-form form .editor__content[data-v-c798075e] .ProseMirror{width:100%}.comment-form form input[type=submit][data-v-c798075e]{width:var(--default-clickable-area);height:var(--default-clickable-area);margin:0;padding:13px;background-color:rgba(0,0,0,0);border:none;opacity:.3;position:absolute;bottom:0;right:0}.comment[data-v-c798075e]{margin-bottom:10px}.comment--header[data-v-c798075e]{display:flex;align-items:center;color:var(--color-text-light)}.comment--header .username[data-v-c798075e]{padding:10px}.comment--header .spacer[data-v-c798075e]{flex-grow:1}.comment--header .timestamp[data-v-c798075e]{color:var(--color-text-maxcontrast)}.comment--content[data-v-c798075e]{margin-left:var(--default-clickable-area);word-break:break-word}.comment-form__contenteditable[data-v-c798075e]{word-break:break-word;border-radius:var(--border-radius-large)}.atwho-wrap[data-v-c798075e]{width:100%}.atwho-wrap>div[contenteditable][data-v-c798075e]{width:100%}.atwho-wrap>div[contenteditable][data-v-c798075e]>span>div{vertical-align:middle}.comment-form[data-v-c798075e] .atwho-li{height:32px}.atwho-li--avatar[data-v-c798075e]{margin-right:10px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/comments.scss\",\"webpack://./src/components/card/CommentForm.vue\"],\"names\":[],\"mappings\":\"AAAA;;;EAAA,CAIA,oCACC,YAAA,CACA,WAAA,CACA,iBAAA,CAEA,qDACC,WAAA,CACA,yCAAA,CAEA,kEACC,UAAA,CAIF,uDACC,mCAAA,CACA,oCAAA,CACA,QAAA,CACA,YAAA,CACA,8BAAA,CACA,WAAA,CACA,UAAA,CACA,iBAAA,CACA,QAAA,CACA,OAAA,CAIF,0BACC,kBAAA,CAGD,kCACC,YAAA,CACA,kBAAA,CACA,6BAAA,CAEA,4CACC,YAAA,CAED,0CACC,WAAA,CAED,6CACC,mCAAA,CAIF,mCACC,yCAAA,CACA,qBAAA,CCnDD,gDACC,qBAAA,CACA,wCAAA,CAGD,6BACC,UAAA,CACA,kDACC,UAAA,CAEA,2DACC,qBAAA,CAKH,yCACC,WAAA,CAGD,mCACC,iBAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.comment-form form[data-v-3656a553]{display:flex;flex-grow:1;position:relative}.comment-form form .editor__content[data-v-3656a553]{flex-grow:1;margin-left:var(--default-clickable-area)}.comment-form form .editor__content[data-v-3656a553] .ProseMirror{width:100%}.comment-form form input[type=submit][data-v-3656a553]{width:var(--default-clickable-area);height:var(--default-clickable-area);margin:0;padding:13px;background-color:rgba(0,0,0,0);border:none;opacity:.3;position:absolute;bottom:0;right:0}.comment[data-v-3656a553]{margin-bottom:10px}.comment--header[data-v-3656a553]{display:flex;align-items:center;color:var(--color-text-light)}.comment--header .username[data-v-3656a553]{padding:10px}.comment--header .spacer[data-v-3656a553]{flex-grow:1}.comment--header .timestamp[data-v-3656a553]{color:var(--color-text-maxcontrast)}.comment--content[data-v-3656a553]{margin-left:var(--default-clickable-area);word-break:break-word}.reply[data-v-3656a553]{margin:0 0 0 var(--default-clickable-area)}.reply.reply--preview[data-v-3656a553]{margin:4px 0;padding:8px;background-color:var(--color-background-hover);border-radius:var(--border-radius-large)}.reply.reply--preview .reply--wrapper[data-v-3656a553]{margin:8px}.reply.reply--preview .reply--cancel[data-v-3656a553]{margin-right:-12px;margin-top:-12px}.reply .reply--wrapper[data-v-3656a553]{border-left:4px solid var(--color-border-dark);padding-left:8px}.reply[data-v-3656a553] .rich-text--wrapper{margin-top:-3px;color:var(--color-text-lighter)}.reply .reply--header[data-v-3656a553]{display:flex}.reply .reply--hint[data-v-3656a553]{color:var(--color-text-lighter);flex-grow:1}.reply .comment--content[data-v-3656a553]{margin:0}.comment--content[data-v-3656a553] a{text-decoration:underline}.comment--content[data-v-3656a553] p{margin-bottom:1em}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/comments.scss\",\"webpack://./src/components/card/CommentItem.vue\"],\"names\":[],\"mappings\":\"AAAA;;;EAAA,CAIA,oCACC,YAAA,CACA,WAAA,CACA,iBAAA,CAEA,qDACC,WAAA,CACA,yCAAA,CAEA,kEACC,UAAA,CAIF,uDACC,mCAAA,CACA,oCAAA,CACA,QAAA,CACA,YAAA,CACA,8BAAA,CACA,WAAA,CACA,UAAA,CACA,iBAAA,CACA,QAAA,CACA,OAAA,CAIF,0BACC,kBAAA,CAGD,kCACC,YAAA,CACA,kBAAA,CACA,6BAAA,CAEA,4CACC,YAAA,CAED,0CACC,WAAA,CAED,6CACC,mCAAA,CAIF,mCACC,yCAAA,CACA,qBAAA,CCnDD,wBACC,0CAAA,CAEA,uCACC,YAAA,CACA,WAAA,CACA,8CAAA,CACA,wCAAA,CAEA,uDACC,UAAA,CAGD,sDACC,kBAAA,CACA,gBAAA,CAIF,wCACC,8CAAA,CACA,gBAAA,CAGD,4CACC,eAAA,CACA,+BAAA,CAGD,uCACC,YAAA,CAGD,qCACC,+BAAA,CACA,WAAA,CAGD,0CACC,QAAA,CAKD,qCACC,yBAAA,CAGD,qCACC,iBAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.avatars[data-v-6596f216]{position:relative;flex-grow:1}.avatars[data-v-6596f216] .popovermenu{margin-right:-4px}.avatars[data-v-6596f216] .popovermenu img{padding:0;width:32px !important;height:32px !important;margin:6px;border-radius:50%}.avatar-list[data-v-6596f216]{float:right;display:inline-flex;flex-direction:row-reverse;padding:0;padding-right:12px;margin:0;border:0;background:rgba(0,0,0,0)}.avatar-list>div[data-v-6596f216]{height:32px}.avatar-list .avatardiv[data-v-6596f216],.avatar-list[data-v-6596f216] .avatardiv{width:32px;height:32px;box-sizing:content-box !important;margin-right:-12px;transition:margin-right .2s ease-in-out;border:2px solid var(--color-main-background)}.avatar-list .more-avatars[data-v-6596f216]{width:32px;height:32px;background-color:var(--color-background-dark) !important;cursor:pointer;color:var(--color-text-maxcontrast)}.avatar-list-entry[data-v-6596f216]{display:flex;padding:6px 12px}.avatar-list-entry__label[data-v-6596f216]{padding:4px 12px}.popovermenu[data-v-6596f216]{display:block;margin:40px -6px}.avatar-print-list[data-v-6596f216]{display:none}@media print{.avatar-list[data-v-6596f216]{display:none}.avatar-print-list-item[data-v-6596f216]{align-items:center;display:flex;gap:10px;margin-bottom:10px}.avatar-print-list[data-v-6596f216]{display:block;padding-top:5px}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/cards/AvatarList.vue\"],\"names\":[],\"mappings\":\"AACA,0BACC,iBAAA,CACA,WAAA,CACA,uCACC,iBAAA,CACA,2CACC,SAAA,CACA,qBAAA,CACA,sBAAA,CACA,UAAA,CACA,iBAAA,CAOH,8BACC,WAAA,CACA,mBAAA,CACA,0BAAA,CACA,SAAA,CACA,kBAPe,CAQf,QAAA,CACA,QAAA,CACA,wBAAA,CAEA,kCACC,WAAA,CAGD,kFAEC,UAAA,CACA,WAAA,CACA,iCAAA,CACA,kBAAA,CACA,uCAAA,CACA,6CAAA,CAGD,4CACC,UAAA,CACA,WAAA,CACA,wDAAA,CACA,cAAA,CACA,mCAAA,CAKF,oCACC,YAAA,CACA,gBAAA,CAEA,2CACC,gBAAA,CAIF,8BACC,aAAA,CACA,gBAAA,CAGD,oCACC,YAAA,CAGD,aACC,8BACC,YAAA,CAGD,yCACC,kBAAA,CACA,YAAA,CACA,QAAA,CACA,kBAAA,CAGD,oCACC,aAAA,CACA,eAAA,CAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.badges[data-v-60d5294a]{display:flex;width:100%;flex-grow:1;flex-direction:row;gap:3px}.badges .icon-badge[data-v-60d5294a]{color:var(--color-text-maxcontrast);display:flex;margin-right:2px}.badges .icon-badge span[data-v-60d5294a],.badges .icon-badge[data-v-60d5294a] span{padding:2px}.inline-badges[data-v-60d5294a]{display:flex;flex-direction:row;flex-wrap:wrap;gap:3px}.badges .icon.due[data-v-60d5294a]{background-position:4px center;border-radius:var(--border-radius);padding:4px;font-size:13px;display:flex;align-items:center;opacity:.5;flex-shrink:1}.badges .icon.due .icon[data-v-60d5294a]{background-size:contain}.badges .icon.due.overdue[data-v-60d5294a]{background-color:var(--color-error);color:var(--color-primary-element-text);opacity:.7}.badges .icon.due.now[data-v-60d5294a]{background-color:var(--color-warning);opacity:.7}.badges .icon.due.next[data-v-60d5294a]{background-color:var(--color-background-dark);opacity:.7}.badges .icon.due span[data-v-60d5294a]{margin-left:20px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.badge-left[data-v-60d5294a],.badge-right[data-v-60d5294a]{display:flex}.badge-left[data-v-60d5294a]{flex-basis:auto;flex-grow:1;flex-shrink:1;flex-wrap:wrap;align-content:flex-end;align-items:center;align-self:center;gap:3px}.badge-right[data-v-60d5294a]{align-items:center;align-self:flex-end;display:flex;justify-items:center;max-width:165px;flex-grow:0;flex-shrink:0}.fade-enter-active[data-v-60d5294a],.fade-leave-active[data-v-60d5294a]{transition:opacity .125s}.fade-enter[data-v-60d5294a],.fade-leave-to[data-v-60d5294a]{opacity:0}.avatars[data-v-60d5294a] button{margin:0}@media print{.badges[data-v-60d5294a]{align-items:flex-start;max-height:none !important}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/cards/CardBadges.vue\"],\"names\":[],\"mappings\":\"AACA,yBACC,YAAA,CACA,UAAA,CACA,WAAA,CACA,kBAAA,CACA,OAAA,CAEA,qCACC,mCAAA,CACA,YAAA,CACA,gBAAA,CAEA,oFAEC,WAAA,CAKH,gCACC,YAAA,CACA,kBAAA,CACA,cAAA,CACA,OAAA,CAGD,mCACC,8BAAA,CACA,kCAAA,CACA,WAAA,CACA,cAAA,CACA,YAAA,CACA,kBAAA,CACA,UAAA,CACA,aAAA,CAEA,yCACC,uBAAA,CAGD,2CACC,mCAAA,CACA,uCAAA,CACA,UAAA,CAED,uCACC,qCAAA,CACA,UAAA,CAED,wCACC,6CAAA,CACA,UAAA,CAGD,wCACC,gBAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CAIF,2DACC,YAAA,CAGD,6BACC,eAAA,CACA,WAAA,CACA,aAAA,CACA,cAAA,CACA,sBAAA,CACA,kBAAA,CACA,iBAAA,CACA,OAAA,CAGD,8BACC,kBAAA,CACA,mBAAA,CACA,YAAA,CACA,oBAAA,CACA,eAAA,CACA,WAAA,CACA,aAAA,CAGD,wEACC,wBAAA,CAGD,6DACC,SAAA,CAGD,iCACC,QAAA,CAGD,aACC,yBACC,sBAAA,CACA,0BAAA,CAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.card-cover[data-v-0cccbb6d]{height:90px;display:flex;margin-top:-4px;margin-left:-4px;margin-right:-4px}.card-cover .image-wrapper[data-v-0cccbb6d]{flex:1;position:relative;background-size:cover;background-repeat:no-repeat;background-position:center center}.card-cover .image-wrapper.rounded-left[data-v-0cccbb6d]{border-top-left-radius:calc(var(--border-radius-large) - 1px)}.card-cover .image-wrapper.rounded-right[data-v-0cccbb6d]{border-top-right-radius:calc(var(--border-radius-large) - 1px)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/variables.scss\",\"webpack://./src/components/cards/CardCover.vue\"],\"names\":[],\"mappings\":\"AAAA;;;EAAA,CCGA,6BACC,WAAA,CACA,YAAA,CACA,eAAA,CACA,gBAAA,CACA,iBAAA,CAEA,4CACC,MAAA,CACA,iBAAA,CACA,qBAAA,CACA,2BAAA,CACA,iCAAA,CACA,yDACC,6DAAA,CAED,0DACC,8DAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.fade-enter-active[data-v-2d75480a]{transition:opacity 250ms}.fade-enter[data-v-2d75480a],.fade-leave-to[data-v-2d75480a]{opacity:0}.zoom-appear-active-class[data-v-2d75480a],.zoom-enter-active[data-v-2d75480a]{animation:zoom-in-2d75480a var(--animation-quick)}.zoom-leave-active[data-v-2d75480a]{animation:zoom-in-2d75480a var(--animation-quick) reverse;will-change:transform}@keyframes zoom-in-2d75480a{0%{transform:scale(0);opacity:0}100%{transform:scale(1);opacity:1}}/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.card[data-v-2d75480a]{transition:border .1s ease-in-out;border-radius:var(--border-radius-large);font-size:100%;background-color:var(--color-main-background);margin-bottom:8px;padding:var(--default-grid-baseline) 4px;border:2px solid var(--color-border-dark);width:100%;display:flex;flex-direction:column;/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */}.card[data-v-2d75480a] *{cursor:pointer}.card.current-card[data-v-2d75480a]{border:2px solid var(--color-primary-element)}.card[data-v-2d75480a]:focus,.card[data-v-2d75480a]:focus-visible,.card[data-v-2d75480a]:focus-within{outline:none;border:2px solid var(--color-border-maxcontrast)}.card:focus.current-card[data-v-2d75480a],.card:focus-visible.current-card[data-v-2d75480a],.card:focus-within.current-card[data-v-2d75480a]{border:2px solid var(--color-primary-element)}.card .card-upper[data-v-2d75480a]{display:flex}.card .card-upper h4[data-v-2d75480a]{font-weight:normal;margin:0;padding:var(--default-grid-baseline);flex-grow:1;font-size:100%;overflow:hidden;word-wrap:break-word;padding-left:4px;align-self:center}.card .card-upper h4.editable span[data-v-2d75480a]{cursor:text;padding-right:8px;padding-top:3px;padding-bottom:3px}.card .card-upper h4.editable span[data-v-2d75480a]:focus,.card .card-upper h4.editable span[data-v-2d75480a]:focus-visible{outline:none}.card .card-upper h4.editable[data-v-2d75480a]:focus-within{outline:2px solid var(--color-border-dark);border-radius:3px}.card .card-upper .card-menu[data-v-2d75480a]{height:var(--default-clickable-area);align-self:end}.card .labels[data-v-2d75480a]{flex-grow:1;flex-shrink:1;min-width:0;display:flex;flex-direction:row;gap:3px}.card .labels li[data-v-2d75480a]{flex-grow:0;flex-shrink:1;display:flex;flex-direction:row;overflow:hidden;padding:1px 8px;border-radius:15px;font-size:13px}.card .labels li[data-v-2d75480a]:hover{overflow:unset}.card .labels li span[data-v-2d75480a]{flex-grow:0;flex-shrink:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.card .card-controls[data-v-2d75480a]{display:flex}.card.card__editable .card-controls[data-v-2d75480a]{margin-right:0}.card.card__archived[data-v-2d75480a]{background-color:var(--color-background-dark)}@keyframes highlight-2d75480a{0%{border-color:var(--color-border-dark)}20%{border-color:var(--color-primary-element)}70%{border-color:var(--color-primary-element)}100%{border-color:var(--color-border-dark)}}.card.card__highlight[data-v-2d75480a]{animation:highlight-2d75480a 2s}.card .card-labels[data-v-2d75480a]{display:flex;align-items:end;padding-left:var(--default-grid-baseline);padding-top:var(--default-grid-baseline)}.card .card-labels .labels[data-v-2d75480a]{flex-wrap:wrap;align-self:flex-start}.right[data-v-2d75480a]{display:flex;align-items:flex-start}.card-related[data-v-2d75480a]{display:flex;padding:12px;padding-bottom:0px;color:var(--color-text-maxcontrast)}.card-related .board-bullet[data-v-2d75480a]{display:inline-block;width:12px;height:12px;border:none;border-radius:50%;background-color:rgba(0,0,0,0);margin-top:4px;margin-right:4px}.compact[data-v-2d75480a]{min-height:var(--default-clickable-area)}.compact .duedate[data-v-2d75480a]{margin-right:0;display:flex;height:32px;width:32px}.compact.has-labels[data-v-2d75480a]{padding-bottom:4px}.compact .labels[data-v-2d75480a]{height:6px;margin-top:-7px;margin-bottom:3px}.compact .labels li[data-v-2d75480a]{width:30px;height:6px;font-size:0;color:rgba(0,0,0,0)}.compact .card-menu[data-v-2d75480a]{align-self:start !important}@media(prefers-color-scheme: dark){.card[data-v-2d75480a]{border:2px solid var(--color-border-dark);box-shadow:none}}@media print{.card-menu[data-v-2d75480a]{display:none}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/animations.scss\",\"webpack://./src/css/variables.scss\",\"webpack://./src/components/cards/CardItem.vue\",\"webpack://./src/css/labels.scss\"],\"names\":[],\"mappings\":\"AAAA;;;EAAA,CAIA,oCACC,wBAAA,CAGD,6DACC,SAAA,CAGD,+EAEC,iDAAA,CAGD,oCACC,yDAAA,CACA,qBAAA,CAED,4BACC,GACC,kBAAA,CACA,SAAA,CAED,KACC,kBAAA,CACA,SAAA,CAAA,CC5BF;;;EAAA,CCSA,uBACC,iCAAA,CACA,wCAAA,CACA,cAAA,CACA,6CAAA,CACA,iBDVe,CCWf,wCAAA,CACA,yCAAA,CACA,UAAA,CACA,YAAA,CACA,qBAAA,CCnBD;;;EAAA,CAAA,CDqBC,yBACC,cAAA,CAGD,oCACC,6CAAA,CAGD,sGACC,YAAA,CACA,gDAAA,CACA,6IACC,6CAAA,CAIF,mCACC,YAAA,CACA,sCACC,kBAAA,CACA,QAAA,CACA,oCAAA,CACA,WAAA,CACA,cAAA,CACA,eAAA,CACA,oBAAA,CACA,gBAAA,CACA,iBAAA,CAEC,oDACC,WAAA,CACA,iBAAA,CACA,eAAA,CACA,kBAAA,CAEA,4HACC,YAAA,CAIF,4DACC,0CAAA,CACA,iBAAA,CAIH,8CACC,oCAAA,CACA,cAAA,CC9DH,+BACC,WAAA,CACA,aAAA,CACA,WAAA,CACA,YAAA,CACA,kBAAA,CACA,OAAA,CAEA,kCACC,WAAA,CACA,aAAA,CACA,YAAA,CACA,kBAAA,CACA,eAAA,CACA,eAAA,CACA,kBAAA,CACA,cAAA,CAEA,wCACC,cAAA,CAGD,uCACC,WAAA,CACA,aAAA,CACA,WAAA,CACA,eAAA,CACA,sBAAA,CACA,kBAAA,CDyCF,sCACC,YAAA,CAED,qDACC,cAAA,CAED,sCACC,6CAAA,CAED,8BACC,GACC,qCAAA,CAED,IACC,yCAAA,CAED,IACC,yCAAA,CAED,KACC,qCAAA,CAAA,CAGF,uCACC,+BAAA,CAED,oCACC,YAAA,CACA,eAAA,CACA,yCAAA,CACA,wCAAA,CAEA,4CACC,cAAA,CACA,qBAAA,CAKH,wBACC,YAAA,CACA,sBAAA,CAGD,+BACC,YAAA,CACA,YAAA,CACA,kBAAA,CACA,mCAAA,CAEA,6CACC,oBAAA,CACA,UAAA,CACA,WAAA,CACA,WAAA,CACA,iBAAA,CACA,8BAAA,CACA,cAAA,CACA,gBAAA,CAIF,0BACC,wCAAA,CAEA,mCACC,cAAA,CACA,YAAA,CACA,WAAA,CACA,UAAA,CAED,qCACC,kBD/Ic,CCiJf,kCACC,UAAA,CACA,eAAA,CACA,iBAAA,CAED,qCACC,UAAA,CACA,UAAA,CACA,WAAA,CACA,mBAAA,CAED,qCACC,2BAAA,CAIF,mCACC,uBAlKA,yCAAA,CACA,eAAA,CAAA,CAsKD,aACC,4BACC,YAAA,CAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.cardid[data-v-4f03dbb8]{font-size:.9em}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/cards/badges/CardId.vue\"],\"names\":[],\"mappings\":\"AACA,yBACC,cAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.due[data-v-335a1ab6]{background-position:4px center;border-radius:var(--border-radius-pill);padding:1px 8px;font-size:90%;display:flex;align-items:center;flex-shrink:1;z-index:2}[data-due-state=Overdue] .due[data-v-335a1ab6]{color:var(--color-error-text);background-color:rgba(var(--color-error-rgb), 0.1)}[data-due-state=Now] .due[data-v-335a1ab6]{color:var(--color-warning-text);background-color:rgba(var(--color-warning-rgb), 0.1)}[data-due-state=Done] .due[data-v-335a1ab6]{color:var(--color-success-text);background-color:rgba(var(--color-success-rgb), 0.1)}.due .due--label[data-v-335a1ab6]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;margin-left:4px;font-size:13px}@media print{.icon.due[data-v-335a1ab6]{background-color:rgba(0,0,0,0) !important}.icon.due span[data-v-335a1ab6]{display:none}.icon.due[data-v-335a1ab6]::before{content:attr(title)}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/cards/badges/DueDate.vue\"],\"names\":[],\"mappings\":\"AACA,sBACC,8BAAA,CACA,uCAAA,CACA,eAAA,CACA,aAAA,CACA,YAAA,CACA,kBAAA,CACA,aAAA,CACA,SAAA,CAEA,+CACC,6BAAA,CACA,kDAAA,CAED,2CACC,+BAAA,CACA,oDAAA,CAED,4CACC,+BAAA,CACA,oDAAA,CAGD,kCACC,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,eAAA,CACA,cAAA,CAIF,aACC,2BACC,yCAAA,CAEA,gCACC,YAAA,CAGD,mCACC,mBAAA,CAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.global-search[data-v-7711a4ae]{width:100%;padding:28px;padding-bottom:0;overflow:hidden;min-height:35vh;max-height:50vh;flex-shrink:1;flex-grow:1;border-top:1px solid var(--color-border);z-index:1010;position:relative}.global-search .action-item.icon-close[data-v-7711a4ae]{position:absolute;top:10px;right:10px}.global-search .search-wrapper[data-v-7711a4ae]{overflow:scroll;height:100%;position:relative;padding:10px}.global-search h2>div[data-v-7711a4ae]{display:inline-block}.global-search h2>div.icon-loading-small[data-v-7711a4ae]{margin-right:20px}.global-search h2[data-v-7711a4ae] span{background-color:var(--color-background-dark);padding:3px;border-radius:var(--border-radius)}.global-search .search-results[data-v-7711a4ae]{display:flex;flex-wrap:wrap}.global-search .search-results>div[data-v-7711a4ae]{flex-grow:0}.global-search[data-v-7711a4ae] .card{width:280px;margin-right:12px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/variables.scss\",\"webpack://./src/components/search/GlobalSearchResults.vue\"],\"names\":[],\"mappings\":\"AAAA;;;EAAA,CCGA,gCACC,UAAA,CACA,YAAA,CACA,gBAAA,CACA,eAAA,CACA,eAAA,CACA,eAAA,CACA,aAAA,CACA,WAAA,CACA,wCAAA,CACA,YAAA,CACA,iBAAA,CAEA,wDACC,iBAAA,CACA,QAAA,CACA,UAAA,CAED,gDACC,eAAA,CACA,WAAA,CACA,iBAAA,CACA,YAAA,CAGD,uCACC,oBAAA,CAEA,0DACC,iBAAA,CAGF,wCACC,6CAAA,CACA,WAAA,CACA,kCAAA,CAGD,gDACC,YAAA,CACA,cAAA,CAEA,oDACC,WAAA,CAGF,sCACC,WD3Ca,CC4Cb,iBD7Ce\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.card--placeholder[data-v-2ec8f4d4]{width:280px;margin-right:12px;padding:4px;transition:box-shadow .1s ease-in-out;box-shadow:0 0 2px 0 var(--color-box-shadow);border-radius:var(--border-radius-large);font-size:100%;margin-bottom:8px;height:100px}.card-placeholder__gradient[data-v-2ec8f4d4]{position:fixed;height:0;width:0;z-index:-1}.card-placeholder__placeholder[data-v-2ec8f4d4]{width:100%}.card-placeholder__placeholder-line-header[data-v-2ec8f4d4],.card-placeholder__placeholder-line-one[data-v-2ec8f4d4],.card-placeholder__placeholder-line-two[data-v-2ec8f4d4]{width:100%;height:1em;x:0}.card-placeholder__placeholder-line-header[data-v-2ec8f4d4]{visibility:hidden}.card-placeholder__placeholder-line-one[data-v-2ec8f4d4]{y:5px}.card-placeholder__placeholder-line-two[data-v-2ec8f4d4]{y:25px}.card-placeholder__placeholder.standalone .card-placeholder__placeholder-line-header[data-v-2ec8f4d4]{visibility:visible;y:5px}.card-placeholder__placeholder.standalone .card-placeholder__placeholder-line-one[data-v-2ec8f4d4]{y:40px}.card-placeholder__placeholder.standalone .card-placeholder__placeholder-line-two[data-v-2ec8f4d4]{y:60px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/variables.scss\",\"webpack://./src/components/search/Placeholder.vue\"],\"names\":[],\"mappings\":\"AAAA;;;EAAA,CCIA,oCACC,WDEc,CCDd,iBAAA,CACA,WDFe,CCGf,qCAAA,CACA,4CAAA,CACA,wCAAA,CACA,cAAA,CACA,iBDRe,CCSf,YAAA,CAGD,6CACC,cAAA,CACA,QAAA,CACA,OAAA,CACA,UAAA,CAGD,gDACC,UAAA,CACA,8KAGC,UAAA,CACA,UAAA,CACA,GAAA,CAED,4DACC,iBAAA,CAED,yDACC,KAAA,CAGD,yDACC,MAAA,CAIA,sGACC,kBAAA,CACA,KAAA,CAED,mGACC,MAAA,CAGD,mGACC,MAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.deck-board-reference[data-v-5ea0696f]{width:100%;white-space:normal;padding:12px}.editor__content .deck-board-reference[data-v-5ea0696f]{width:calc(100% - 24px)}.deck-board-reference .link[data-v-5ea0696f]{text-decoration:underline;color:var(--color-main-text) !important;padding:0 !important}.deck-board-reference .line[data-v-5ea0696f]{display:flex;align-items:center}.deck-board-reference .line .icon[data-v-5ea0696f]{margin-right:4px}.deck-board-reference .line .title-icon[data-v-5ea0696f]{margin-right:8px}.deck-board-reference-interactive[data-v-5ea0696f]{width:100%;min-height:min(50vh,100vh - 100px);max-height:calc(100vh - 120px)}.deck-board-reference-interactive[data-v-5ea0696f] .controls{padding-left:12px}.deck-board-reference-interactive[data-v-5ea0696f] .board{padding-left:0}.deck-board-reference-interactive[data-v-5ea0696f] *{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/views/BoardReferenceWidget.vue\"],\"names\":[],\"mappings\":\"AACA,uCACC,UAAA,CAKA,kBAAA,CACA,YAAA,CAJA,wDACC,uBAAA,CAKD,6CACC,yBAAA,CACA,uCAAA,CACA,oBAAA,CAGD,6CACC,YAAA,CACA,kBAAA,CACA,mDACC,gBAAA,CAED,yDACC,gBAAA,CAKH,mDACC,UAAA,CACA,kCAAA,CACA,8BAAA,CACA,6DACC,iBAAA,CAED,0DACC,cAAA,CAED,qDACC,6BAAA,CACA,0BAAA,CACA,qBAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.visualdiff ins {\n\tcolor: green;\n}\n.visualdiff del {\n\tcolor: darkred;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/ActivityEntry.vue\"],\"names\":[],\"mappings\":\";AAiJA;CACA,YAAA;AACA;AAEA;CACA,cAAA;AACA\",\"sourcesContent\":[\"<!--\\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\\n  - SPDX-License-Identifier: AGPL-3.0-or-later\\n-->\\n\\n<template>\\n\\t<div v-if=\\\"activity\\\" class=\\\"activity\\\">\\n\\t\\t<div class=\\\"activity--header\\\">\\n\\t\\t\\t<img :src=\\\"activity.icon\\\" class=\\\"activity--icon\\\">\\n\\t\\t\\t<NcRichText class=\\\"activity--subject\\\" :text=\\\"message.subject\\\" :arguments=\\\"message.parameters\\\" />\\n\\t\\t\\t<div class=\\\"activity--timestamp\\\" :name=\\\"formatReadableDate(activity.datetime)\\\">\\n\\t\\t\\t\\t{{ relativeDate(activity.datetime) }}\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<!-- FIXME ins/del tags do no longer work with activity so we should get rid of that -->\\n\\t\\t<p v-if=\\\"activity.message\\\" class=\\\"activity--message\\\" v-html=\\\"sanitizedMessage\\\" />\\n\\t</div>\\n</template>\\n\\n<script>\\nimport { NcRichText, NcUserBubble } from '@nextcloud/vue'\\nimport moment from '@nextcloud/moment'\\nimport DOMPurify from 'dompurify'\\nimport relativeDate from '../mixins/relativeDate.js'\\nimport formatReadableDate from '../mixins/readableDate.js'\\n\\nconst InternalLink = {\\n\\tname: 'InternalLink',\\n\\tfunctional: true,\\n\\tprops: {\\n\\t\\thref: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\tdefault: '',\\n\\t\\t},\\n\\t\\tname: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\tdefault: '',\\n\\t\\t},\\n\\t},\\n\\trender(createElement, context) {\\n\\t\\treturn createElement('a', { attrs: { href: context.props.href }, style: { 'font-weight': 600 } }, context.props.name)\\n\\t},\\n}\\nexport default {\\n\\tname: 'ActivityEntry',\\n\\tcomponents: {\\n\\t\\tNcRichText,\\n\\t},\\n\\tmixins: [relativeDate, formatReadableDate],\\n\\tprops: {\\n\\t\\tactivity: {\\n\\t\\t\\ttype: Object,\\n\\t\\t\\tdefault: null,\\n\\t\\t},\\n\\t},\\n\\tcomputed: {\\n\\t\\tmessage() {\\n\\t\\t\\tconst subject = this.activity.subject_rich[0]\\n\\t\\t\\tconst parameters = JSON.parse(JSON.stringify(this.activity.subject_rich[1]))\\n\\t\\t\\tif (parameters.after && typeof parameters.after.id === 'string' && parameters.after.id.startsWith('dt:')) {\\n\\t\\t\\t\\tconst dateTime = parameters.after.id.slice(3)\\n\\t\\t\\t\\tparameters.after.name = moment(dateTime).format('L LTS')\\n\\t\\t\\t}\\n\\n\\t\\t\\tObject.keys(parameters).forEach(function(key, index) {\\n\\t\\t\\t\\tconst { type } = parameters[key]\\n\\t\\t\\t\\tswitch (type) {\\n\\t\\t\\t\\tcase 'highlight':\\n\\t\\t\\t\\t\\tparameters[key] = {\\n\\t\\t\\t\\t\\t\\tcomponent: InternalLink,\\n\\t\\t\\t\\t\\t\\tprops: {\\n\\t\\t\\t\\t\\t\\t\\thref: parameters[key].link,\\n\\t\\t\\t\\t\\t\\t\\tname: parameters[key].name,\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tbreak\\n\\t\\t\\t\\tcase 'user':\\n\\t\\t\\t\\t\\tparameters[key] = {\\n\\t\\t\\t\\t\\t\\tcomponent: NcUserBubble,\\n\\t\\t\\t\\t\\t\\tprops: {\\n\\t\\t\\t\\t\\t\\t\\tuser: parameters[key].id,\\n\\t\\t\\t\\t\\t\\t\\tdisplayName: parameters[key].name,\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tbreak\\n\\t\\t\\t\\tdefault:\\n\\t\\t\\t\\t\\tparameters[key] = `{${key}}`\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t})\\n\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tsubject, parameters,\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\tsanitizedMessage() {\\n\\t\\t\\treturn DOMPurify.sanitize(this.activity.message, { ALLOWED_TAGS: ['ins', 'del'], ALLOWED_ATTR: ['class'] })\\n\\t\\t},\\n\\n\\t},\\n}\\n</script>\\n\\n<style scoped lang=\\\"scss\\\">\\n\\t.activity {\\n\\n\\t\\t.activity--header {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\tpadding: 10px;\\n\\t\\t}\\n\\n\\t\\t.activity--icon {\\n\\t\\t\\twidth: 16px;\\n\\t\\t\\theight: 16px;\\n\\t\\t\\tflex-shrink: 0;\\n\\t\\t\\tflex-grow: 0;\\n\\t\\t}\\n\\t\\t.activity--subject {\\n\\t\\t\\tmargin-left: 10px;\\n\\t\\t}\\n\\t\\t.activity--message {\\n\\t\\t\\tmargin-left: var(--default-clickable-area);\\n\\t\\t\\tcolor: var(--color-text-light);\\n\\t\\t\\tmargin-bottom: 10px;\\n\\t\\t}\\n\\t\\t.activity--timestamp {\\n\\t\\t\\tflex-grow: 1;\\n\\t\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\t\\ttext-align: right;\\n\\t\\t\\tfont-size: 0.8em;\\n\\t\\t\\tpadding: 1px;\\n\\t\\t}\\n\\t}\\n</style>\\n<style>\\n\\t.visualdiff ins {\\n\\t\\tcolor: green;\\n\\t}\\n\\n\\t.visualdiff del {\\n\\t\\tcolor: darkred;\\n\\t}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.activity-list[data-v-54d90076] {\n\tmargin-bottom: 100px;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/ActivityList.vue\"],\"names\":[],\"mappings\":\";AA2HA;CACA,oBAAA;AACA\",\"sourcesContent\":[\"<!--\\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\\n  - SPDX-License-Identifier: AGPL-3.0-or-later\\n-->\\n\\n<template>\\n\\t<div class=\\\"activity-list\\\">\\n\\t\\t<div v-if=\\\"isLoading\\\" class=\\\"icon icon-loading\\\" />\\n\\t\\t<ActivityEntry v-for=\\\"activity in activities\\\"\\n\\t\\t\\t:key=\\\"activity.activity_id\\\"\\n\\t\\t\\t:activity=\\\"activity\\\" />\\n\\t\\t<InfiniteLoading :identifier=\\\"objectId\\\" @infinite=\\\"infiniteHandler\\\" @change=\\\"changeObject\\\">\\n\\t\\t\\t<div slot=\\\"spinner\\\" class=\\\"icon-loading\\\" />\\n\\t\\t\\t<div slot=\\\"no-more\\\" />\\n\\t\\t\\t<div slot=\\\"no-results\\\" />\\n\\t\\t</InfiniteLoading>\\n\\t</div>\\n</template>\\n\\n<script>\\nimport axios from '@nextcloud/axios'\\nimport { generateOcsUrl } from '@nextcloud/router'\\nimport ActivityEntry from './ActivityEntry.vue'\\nimport InfiniteLoading from 'vue-infinite-loading'\\n\\nconst ACTIVITY_FETCH_LIMIT = 50\\n\\nexport default {\\n\\tname: 'ActivityList',\\n\\tcomponents: {\\n\\t\\tActivityEntry,\\n\\t\\tInfiniteLoading,\\n\\t},\\n\\tprops: {\\n\\t\\tfilter: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\tdefault: 'deck',\\n\\t\\t},\\n\\t\\ttype: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tobjectId: {\\n\\t\\t\\ttype: Number,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tobjectType: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tactivities: [],\\n\\t\\t\\tisLoading: false,\\n\\t\\t\\tsince: 0,\\n\\t\\t\\tendReached: false,\\n\\t\\t}\\n\\t},\\n\\tmethods: {\\n\\t\\tasync loadActivity() {\\n\\t\\t\\tconst params = new URLSearchParams()\\n\\t\\t\\tparams.append('format', 'json')\\n\\t\\t\\tparams.append('type', this.type)\\n\\t\\t\\tparams.append('since', this.since)\\n\\t\\t\\tparams.append('object_type', this.objectType)\\n\\t\\t\\tparams.append('object_id', '' + this.objectId)\\n\\t\\t\\tparams.append('limit', ACTIVITY_FETCH_LIMIT)\\n\\n\\t\\t\\tconst response = await axios.get(\\n\\t\\t\\t\\tgenerateOcsUrl(`apps/activity/api/v2/activity/${this.filter}`) + '?' + params,\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tvalidateStatus: (status) => {\\n\\t\\t\\t\\t\\t\\treturn (status >= 200 && status < 300) || status === 304\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t},\\n\\t\\t\\t)\\n\\n\\t\\t\\tif (response.status === 304) {\\n\\t\\t\\t\\tthis.endReached = true\\n\\t\\t\\t\\treturn []\\n\\t\\t\\t}\\n\\n\\t\\t\\tlet activities = response.data.ocs.data\\n\\t\\t\\tif (this.filter === 'deck') {\\n\\t\\t\\t\\t// We need to manually filter activities here, since currently we use two different types and there is no way\\n\\t\\t\\t\\t// to tell the backend to fetch all activites related to cards of a given board\\n\\t\\t\\t\\tactivities = activities.filter((activity) => {\\n\\t\\t\\t\\t\\treturn (activity.object_type === 'deck_board' && activity.object_id === this.objectId)\\n\\t\\t\\t\\t\\t\\t\\t|| (activity.object_type === 'deck_card' && activity.subject_rich[1].board.id === this.objectId)\\n\\t\\t\\t\\t})\\n\\t\\t\\t}\\n\\t\\t\\tthis.activities.push(...activities)\\n\\t\\t\\tif (activities.length === 0) {\\n\\t\\t\\t\\tthis.endReached = true\\n\\t\\t\\t\\treturn []\\n\\t\\t\\t}\\n\\t\\t\\tthis.since = (activities[activities.length - 1].activity_id)\\n\\t\\t\\treturn activities\\n\\t\\t},\\n\\t\\tasync infiniteHandler($state) {\\n\\t\\t\\tawait this.loadActivity()\\n\\t\\t\\tif (!this.endReached) {\\n\\t\\t\\t\\t$state.loaded()\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t$state.complete()\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tchangeObject() {\\n\\t\\t\\tthis.since = 0\\n\\t\\t\\tthis.activities = []\\n\\t\\t\\tthis.endReached = false\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n\\n<style scoped>\\n\\t.activity-list {\\n\\t\\tmargin-bottom: 100px;\\n\\t}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var map = {\n\t\"./af\": 25177,\n\t\"./af.js\": 25177,\n\t\"./ar\": 61509,\n\t\"./ar-dz\": 41488,\n\t\"./ar-dz.js\": 41488,\n\t\"./ar-kw\": 58676,\n\t\"./ar-kw.js\": 58676,\n\t\"./ar-ly\": 42353,\n\t\"./ar-ly.js\": 42353,\n\t\"./ar-ma\": 24496,\n\t\"./ar-ma.js\": 24496,\n\t\"./ar-ps\": 6947,\n\t\"./ar-ps.js\": 6947,\n\t\"./ar-sa\": 82682,\n\t\"./ar-sa.js\": 82682,\n\t\"./ar-tn\": 89756,\n\t\"./ar-tn.js\": 89756,\n\t\"./ar.js\": 61509,\n\t\"./az\": 95533,\n\t\"./az.js\": 95533,\n\t\"./be\": 28959,\n\t\"./be.js\": 28959,\n\t\"./bg\": 47777,\n\t\"./bg.js\": 47777,\n\t\"./bm\": 54903,\n\t\"./bm.js\": 54903,\n\t\"./bn\": 61290,\n\t\"./bn-bd\": 17357,\n\t\"./bn-bd.js\": 17357,\n\t\"./bn.js\": 61290,\n\t\"./bo\": 31545,\n\t\"./bo.js\": 31545,\n\t\"./br\": 11470,\n\t\"./br.js\": 11470,\n\t\"./bs\": 44429,\n\t\"./bs.js\": 44429,\n\t\"./ca\": 7306,\n\t\"./ca.js\": 7306,\n\t\"./cs\": 56464,\n\t\"./cs.js\": 56464,\n\t\"./cv\": 73635,\n\t\"./cv.js\": 73635,\n\t\"./cy\": 64226,\n\t\"./cy.js\": 64226,\n\t\"./da\": 93601,\n\t\"./da.js\": 93601,\n\t\"./de\": 77853,\n\t\"./de-at\": 26111,\n\t\"./de-at.js\": 26111,\n\t\"./de-ch\": 54697,\n\t\"./de-ch.js\": 54697,\n\t\"./de.js\": 77853,\n\t\"./dv\": 60708,\n\t\"./dv.js\": 60708,\n\t\"./el\": 54691,\n\t\"./el.js\": 54691,\n\t\"./en-au\": 53872,\n\t\"./en-au.js\": 53872,\n\t\"./en-ca\": 28298,\n\t\"./en-ca.js\": 28298,\n\t\"./en-gb\": 56195,\n\t\"./en-gb.js\": 56195,\n\t\"./en-ie\": 66584,\n\t\"./en-ie.js\": 66584,\n\t\"./en-il\": 65543,\n\t\"./en-il.js\": 65543,\n\t\"./en-in\": 9033,\n\t\"./en-in.js\": 9033,\n\t\"./en-nz\": 79402,\n\t\"./en-nz.js\": 79402,\n\t\"./en-sg\": 43004,\n\t\"./en-sg.js\": 43004,\n\t\"./eo\": 32934,\n\t\"./eo.js\": 32934,\n\t\"./es\": 97650,\n\t\"./es-do\": 20838,\n\t\"./es-do.js\": 20838,\n\t\"./es-mx\": 17730,\n\t\"./es-mx.js\": 17730,\n\t\"./es-us\": 56575,\n\t\"./es-us.js\": 56575,\n\t\"./es.js\": 97650,\n\t\"./et\": 3035,\n\t\"./et.js\": 3035,\n\t\"./eu\": 3508,\n\t\"./eu.js\": 3508,\n\t\"./fa\": 119,\n\t\"./fa.js\": 119,\n\t\"./fi\": 90527,\n\t\"./fi.js\": 90527,\n\t\"./fil\": 95995,\n\t\"./fil.js\": 95995,\n\t\"./fo\": 52477,\n\t\"./fo.js\": 52477,\n\t\"./fr\": 85498,\n\t\"./fr-ca\": 26435,\n\t\"./fr-ca.js\": 26435,\n\t\"./fr-ch\": 37892,\n\t\"./fr-ch.js\": 37892,\n\t\"./fr.js\": 85498,\n\t\"./fy\": 37071,\n\t\"./fy.js\": 37071,\n\t\"./ga\": 41734,\n\t\"./ga.js\": 41734,\n\t\"./gd\": 70217,\n\t\"./gd.js\": 70217,\n\t\"./gl\": 77329,\n\t\"./gl.js\": 77329,\n\t\"./gom-deva\": 32124,\n\t\"./gom-deva.js\": 32124,\n\t\"./gom-latn\": 93383,\n\t\"./gom-latn.js\": 93383,\n\t\"./gu\": 95050,\n\t\"./gu.js\": 95050,\n\t\"./he\": 11713,\n\t\"./he.js\": 11713,\n\t\"./hi\": 43861,\n\t\"./hi.js\": 43861,\n\t\"./hr\": 26308,\n\t\"./hr.js\": 26308,\n\t\"./hu\": 90609,\n\t\"./hu.js\": 90609,\n\t\"./hy-am\": 17160,\n\t\"./hy-am.js\": 17160,\n\t\"./id\": 74063,\n\t\"./id.js\": 74063,\n\t\"./is\": 89374,\n\t\"./is.js\": 89374,\n\t\"./it\": 88383,\n\t\"./it-ch\": 21827,\n\t\"./it-ch.js\": 21827,\n\t\"./it.js\": 88383,\n\t\"./ja\": 23827,\n\t\"./ja.js\": 23827,\n\t\"./jv\": 89722,\n\t\"./jv.js\": 89722,\n\t\"./ka\": 41794,\n\t\"./ka.js\": 41794,\n\t\"./kk\": 27088,\n\t\"./kk.js\": 27088,\n\t\"./km\": 96870,\n\t\"./km.js\": 96870,\n\t\"./kn\": 84451,\n\t\"./kn.js\": 84451,\n\t\"./ko\": 63164,\n\t\"./ko.js\": 63164,\n\t\"./ku\": 98174,\n\t\"./ku-kmr\": 6181,\n\t\"./ku-kmr.js\": 6181,\n\t\"./ku.js\": 98174,\n\t\"./ky\": 78474,\n\t\"./ky.js\": 78474,\n\t\"./lb\": 79680,\n\t\"./lb.js\": 79680,\n\t\"./lo\": 15867,\n\t\"./lo.js\": 15867,\n\t\"./lt\": 45766,\n\t\"./lt.js\": 45766,\n\t\"./lv\": 69532,\n\t\"./lv.js\": 69532,\n\t\"./me\": 58076,\n\t\"./me.js\": 58076,\n\t\"./mi\": 41848,\n\t\"./mi.js\": 41848,\n\t\"./mk\": 30306,\n\t\"./mk.js\": 30306,\n\t\"./ml\": 73739,\n\t\"./ml.js\": 73739,\n\t\"./mn\": 99053,\n\t\"./mn.js\": 99053,\n\t\"./mr\": 86169,\n\t\"./mr.js\": 86169,\n\t\"./ms\": 73386,\n\t\"./ms-my\": 92297,\n\t\"./ms-my.js\": 92297,\n\t\"./ms.js\": 73386,\n\t\"./mt\": 77075,\n\t\"./mt.js\": 77075,\n\t\"./my\": 72264,\n\t\"./my.js\": 72264,\n\t\"./nb\": 22274,\n\t\"./nb.js\": 22274,\n\t\"./ne\": 8235,\n\t\"./ne.js\": 8235,\n\t\"./nl\": 92572,\n\t\"./nl-be\": 43784,\n\t\"./nl-be.js\": 43784,\n\t\"./nl.js\": 92572,\n\t\"./nn\": 54566,\n\t\"./nn.js\": 54566,\n\t\"./oc-lnc\": 69330,\n\t\"./oc-lnc.js\": 69330,\n\t\"./pa-in\": 29849,\n\t\"./pa-in.js\": 29849,\n\t\"./pl\": 94418,\n\t\"./pl.js\": 94418,\n\t\"./pt\": 79834,\n\t\"./pt-br\": 48303,\n\t\"./pt-br.js\": 48303,\n\t\"./pt.js\": 79834,\n\t\"./ro\": 24457,\n\t\"./ro.js\": 24457,\n\t\"./ru\": 82271,\n\t\"./ru.js\": 82271,\n\t\"./sd\": 1221,\n\t\"./sd.js\": 1221,\n\t\"./se\": 33478,\n\t\"./se.js\": 33478,\n\t\"./si\": 17538,\n\t\"./si.js\": 17538,\n\t\"./sk\": 5784,\n\t\"./sk.js\": 5784,\n\t\"./sl\": 46637,\n\t\"./sl.js\": 46637,\n\t\"./sq\": 86794,\n\t\"./sq.js\": 86794,\n\t\"./sr\": 45719,\n\t\"./sr-cyrl\": 3322,\n\t\"./sr-cyrl.js\": 3322,\n\t\"./sr.js\": 45719,\n\t\"./ss\": 56000,\n\t\"./ss.js\": 56000,\n\t\"./sv\": 41011,\n\t\"./sv.js\": 41011,\n\t\"./sw\": 40748,\n\t\"./sw.js\": 40748,\n\t\"./ta\": 11025,\n\t\"./ta.js\": 11025,\n\t\"./te\": 11885,\n\t\"./te.js\": 11885,\n\t\"./tet\": 28861,\n\t\"./tet.js\": 28861,\n\t\"./tg\": 86571,\n\t\"./tg.js\": 86571,\n\t\"./th\": 55802,\n\t\"./th.js\": 55802,\n\t\"./tk\": 59527,\n\t\"./tk.js\": 59527,\n\t\"./tl-ph\": 29231,\n\t\"./tl-ph.js\": 29231,\n\t\"./tlh\": 31052,\n\t\"./tlh.js\": 31052,\n\t\"./tr\": 85096,\n\t\"./tr.js\": 85096,\n\t\"./tzl\": 79846,\n\t\"./tzl.js\": 79846,\n\t\"./tzm\": 81765,\n\t\"./tzm-latn\": 97711,\n\t\"./tzm-latn.js\": 97711,\n\t\"./tzm.js\": 81765,\n\t\"./ug-cn\": 48414,\n\t\"./ug-cn.js\": 48414,\n\t\"./uk\": 16618,\n\t\"./uk.js\": 16618,\n\t\"./ur\": 57777,\n\t\"./ur.js\": 57777,\n\t\"./uz\": 57609,\n\t\"./uz-latn\": 72475,\n\t\"./uz-latn.js\": 72475,\n\t\"./uz.js\": 57609,\n\t\"./vi\": 21135,\n\t\"./vi.js\": 21135,\n\t\"./x-pseudo\": 64051,\n\t\"./x-pseudo.js\": 64051,\n\t\"./yo\": 82218,\n\t\"./yo.js\": 82218,\n\t\"./zh-cn\": 52648,\n\t\"./zh-cn.js\": 52648,\n\t\"./zh-hk\": 1632,\n\t\"./zh-hk.js\": 1632,\n\t\"./zh-mo\": 31541,\n\t\"./zh-mo.js\": 31541,\n\t\"./zh-tw\": 50304,\n\t\"./zh-tw.js\": 50304\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 35358;","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AvatarList.vue?vue&type=style&index=0&id=6596f216&prod&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AvatarList.vue?vue&type=style&index=0&id=6596f216&prod&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./AvatarList.vue?vue&type=template&id=6596f216&scoped=true\"\nimport script from \"./AvatarList.vue?vue&type=script&lang=js\"\nexport * from \"./AvatarList.vue?vue&type=script&lang=js\"\nimport style0 from \"./AvatarList.vue?vue&type=style&index=0&id=6596f216&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6596f216\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.interactive)?_c('div',{staticClass:\"deck-board-reference-interactive\"},[_c('Board',{attrs:{\"id\":_vm.board.id}})],1):_c('div',{staticClass:\"deck-board-reference\"},[_c('div',{staticClass:\"line\"},[_c('DeckIcon',{staticClass:\"title-icon\",attrs:{\"size\":20}}),_vm._v(\" \"),_c('strong',[_c('a',{staticClass:\"link\",attrs:{\"href\":_vm.boardLink,\"title\":_vm.boardTooltip,\"target\":\"_blank\"}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.board.title)+\"\\n\\t\\t\\t\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"line\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('deck', 'Owner') + ': ')+\"\\n\\t\\t\"),_c('NcUserBubble',{attrs:{\"user\":_vm.boardOwnerUserId,\"display-name\":_vm.boardOwnerDisplayName}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div :title=\"t('deck', 'Currently present people')\"\n\t\tclass=\"avatar-list\">\n\t\t<div v-for=\"session in sessionsVisible\"\n\t\t\t:key=\"session.uid\"\n\t\t\tclass=\"avatar-wrapper\"\n\t\t\t:style=\"sessionAvatarStyle\">\n\t\t\t<NcAvatar :user=\"session.uid\"\n\t\t\t\t:display-name=\"session.displayname\"\n\t\t\t\t:disable-menu=\"true\"\n\t\t\t\t:show-user-status=\"false\"\n\t\t\t\t:disable-tooltip=\"true\"\n\t\t\t\t:size=\"size\" />\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { NcAvatar } from '@nextcloud/vue'\n\nexport default {\n\tname: 'SessionList',\n\tcomponents: {\n\t\tNcAvatar,\n\t},\n\tprops: {\n\t\tsessions: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => { return [] },\n\t\t},\n\t\tsize: {\n\t\t\ttype: Number,\n\t\t\tdefault: () => 32,\n\t\t},\n\t},\n\tcomputed: {\n\t\tsessionsVisible() {\n\t\t\tif (!this.sessions) return []\n\t\t\treturn this.sessions.slice(0, 5)\n\t\t},\n\t\tsessionAvatarStyle() {\n\t\t\treturn {\n\t\t\t\t'--size': this.size + 'px',\n\t\t\t\t'--font-size': this.size / 2 + 'px',\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n\n.avatar-list {\n\tmin-height: var(--default-clickable-area);\n\talign-items: center;\n\tpadding-right: 0.5em;\n\tborder: none;\n\tbackground-color: var(--color-main-background);\n\tmargin: 0;\n\tpadding-left: 6px;\n\tdisplay: inline-flex;\n\tflex-direction: row-reverse;\n\n\t&:focus {\n\t\tbackground-color: #eee;\n\t}\n\n}\n\n.avatar-wrapper {\n\tbackground-color: #b9b9b9;\n\tborder-radius: 50%;\n\tborder: 1px solid var(--color-border-dark);\n\twidth: var(--size);\n\theight: var(--size);\n\ttext-align: center;\n\tcolor: #ffffff;\n\tline-height: var(--size);\n\tfont-size: var(--font-size);\n\tfont-weight: normal;\n\tz-index: 1;\n\toverflow: hidden;\n\tbox-sizing: content-box !important;\n\tmargin-left: -8px;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SessionList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SessionList.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SessionList.vue?vue&type=style&index=0&id=3a1cc12a&prod&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SessionList.vue?vue&type=style&index=0&id=3a1cc12a&prod&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./SessionList.vue?vue&type=template&id=3a1cc12a&scoped=true\"\nimport script from \"./SessionList.vue?vue&type=script&lang=js\"\nexport * from \"./SessionList.vue?vue&type=script&lang=js\"\nimport style0 from \"./SessionList.vue?vue&type=style&index=0&id=3a1cc12a&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a1cc12a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"avatar-list\",attrs:{\"title\":_vm.t('deck', 'Currently present people')}},_vm._l((_vm.sessionsVisible),function(session){return _c('div',{key:session.uid,staticClass:\"avatar-wrapper\",style:(_vm.sessionAvatarStyle)},[_c('NcAvatar',{attrs:{\"user\":session.uid,\"display-name\":session.displayname,\"disable-menu\":true,\"show-user-status\":false,\"disable-tooltip\":true,\"size\":_vm.size}})],1)}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport axios from '@nextcloud/axios'\nimport { generateOcsUrl } from '@nextcloud/router'\n\nexport class SessionApi {\n\n\turl(url) {\n\t\treturn generateOcsUrl(`apps/deck/api/v1.0${url}`)\n\t}\n\n\tasync createSession(boardId) {\n\t\treturn (await axios.put(this.url('/session/create'), { boardId })).data.ocs.data\n\t}\n\n\tasync syncSession(boardId, token) {\n\t\treturn await axios.post(this.url('/session/sync'), { boardId, token })\n\t}\n\n\tasync closeSession(boardId, token) {\n\t\treturn await axios.post(this.url('/session/close'), { boardId, token })\n\t}\n\n\tasync closeSessionViaBeacon(boardId, token) {\n\t\tconst body = {\n\t\t\tboardId,\n\t\t\ttoken,\n\t\t}\n\t\tconst headers = {\n\t\t\ttype: 'application/json',\n\t\t}\n\t\tconst blob = new Blob([JSON.stringify(body)], headers)\n\t\tnavigator.sendBeacon(this.url('/session/close'), blob)\n\t}\n\n}\n\nexport const sessionApi = new SessionApi()\n","/**\n * SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nexport default {\n\tstate: {\n\t\tactions: {\n\t\t\tcard: [],\n\t\t},\n\t},\n\tgetters: {\n\t\tcardActions: (state) => state.actions.card,\n\t},\n\tmutations: {\n\t\tADD_CARD_ACTION(state, action) {\n\t\t\tstate.actions.card.push(action)\n\t\t},\n\t},\n\tactions: {\n\t\tasync addCardAction({ commit }, action) {\n\t\t\tcommit('ADD_CARD_ACTION', action)\n\t\t},\n\t},\n}\n","/**\n * SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport axios from '@nextcloud/axios'\nimport { generateUrl } from '@nextcloud/router'\nimport '../models/index.js'\n\nexport class StackApi {\n\n\turl(url) {\n\t\turl = `/apps/deck${url}`\n\t\treturn generateUrl(url)\n\t}\n\n\tloadStacks(boardId) {\n\t\treturn axios.get(this.url(`/stacks/${boardId}`))\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\tdeletedStacks(boardId) {\n\t\treturn axios.get(this.url(`/${boardId}/stacks/deleted`))\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\tloadArchivedStacks(boardId) {\n\t\treturn axios.get(this.url(`/stacks/${boardId}/archived`))\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\t/**\n\t * @param {Stack} stack stack object to create\n\t * @return {Promise}\n\t */\n\tcreateStack(stack) {\n\t\treturn axios.post(this.url('/stacks'), stack)\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\treorderStack(stackId, order) {\n\t\treturn axios.put(this.url(`/stacks/${stackId}/reorder`), { order })\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\tdeleteStack(stackId) {\n\t\treturn axios.delete(this.url(`/stacks/${stackId}`))\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\tupdateStack(stack) {\n\t\treturn axios.put(this.url(`/stacks/${stack.id}`), stack)\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n}\n","/**\n * SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nconst arrayMove = function(arrayToSort, removedIndex, addedIndex) {\n\tif (removedIndex === null && addedIndex === null) return arrayToSort\n\n\tconst result = [...arrayToSort]\n\tlet itemToAdd = arrayToSort[removedIndex]\n\n\tif (removedIndex !== null) {\n\t\titemToAdd = result.splice(removedIndex, 1)[0]\n\t}\n\n\tif (addedIndex !== null) {\n\t\tresult.splice(addedIndex, 0, itemToAdd)\n\t}\n\treturn result\n}\n\nexport default arrayMove\n","/**\n * SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport Vue from 'vue'\nimport { StackApi } from './../services/StackApi.js'\nimport applyOrderToArray from './../helpers/applyOrderToArray.js'\n\nconst apiClient = new StackApi()\n\nexport default {\n\tstate: {\n\t\tstacks: [],\n\t},\n\tgetters: {\n\t\tstacksByBoard: state => (id) => {\n\t\t\treturn state.stacks.filter((stack) => stack.boardId === id).sort((a, b) => a.order - b.order)\n\t\t},\n\t\tstackById: state => (id) => {\n\t\t\treturn state.stacks.find((stack) => stack.id === id)\n\t\t},\n\t},\n\tmutations: {\n\t\taddStack(state, stack) {\n\t\t\tconst existingIndex = state.stacks.findIndex(_stack => _stack.id === stack.id)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tconst existingStack = state.stacks.find(_stack => _stack.id === stack.id)\n\t\t\t\tVue.set(state.stacks, existingIndex, Object.assign({}, existingStack, stack))\n\t\t\t} else {\n\t\t\t\tstate.stacks.push(stack)\n\t\t\t}\n\t\t},\n\t\torderStack(state, { stack, removedIndex, addedIndex }) {\n\t\t\tconst currentOrder = state.stacks.filter((_stack) => _stack.boardId === stack.boardId).sort((a, b) => a.order - b.order)\n\t\t\tconst newOrder = applyOrderToArray(currentOrder, removedIndex, addedIndex)\n\t\t\tfor (let i = 0; i < newOrder.length; i++) {\n\t\t\t\tnewOrder[i].order = parseInt(i)\n\t\t\t}\n\t\t},\n\t\tdeleteStack(state, stack) {\n\t\t\tconst existingIndex = state.stacks.findIndex(_stack => _stack.id === stack.id)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tstate.stacks.splice(existingIndex, 1)\n\t\t\t}\n\t\t},\n\t\tupdateStack(state, stack) {\n\t\t\tconst existingIndex = state.stacks.findIndex(_stack => _stack.id === stack.id)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tstate.stacks[existingIndex].title = stack.title\n\t\t\t}\n\t\t},\n\t},\n\tactions: {\n\t\torderStack({ commit }, { stack, removedIndex, addedIndex }) {\n\t\t\tcommit('orderStack', { stack, removedIndex, addedIndex })\n\t\t\tapiClient.reorderStack(stack.id, addedIndex)\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tOC.Notification.showTemporary('Failed to change order')\n\t\t\t\t\tconsole.error(err.response.data.message)\n\t\t\t\t\tcommit('orderStack', { stack, addedIndex, removedIndex })\n\t\t\t\t})\n\t\t},\n\t\tasync loadStacks({ commit }, boardId) {\n\t\t\tlet call = 'loadStacks'\n\t\t\tif (this.state.showArchived === true) {\n\t\t\t\tcall = 'loadArchivedStacks'\n\t\t\t}\n\t\t\tconst stacks = await apiClient[call](boardId)\n\t\t\tconst cards = []\n\t\t\tfor (const i in stacks) {\n\t\t\t\tconst stack = stacks[i]\n\t\t\t\tfor (const j in stack.cards) {\n\t\t\t\t\tcards.push(stack.cards[j])\n\t\t\t\t}\n\t\t\t\tdelete stack.cards\n\t\t\t\tcommit('addStack', stack)\n\t\t\t}\n\t\t\tcommit('setCards', cards)\n\t\t},\n\t\tasync loadArchivedStacks({ commit, getters }, boardId) {\n\t\t\tconst archivedStacks = await apiClient.loadArchivedStacks(boardId)\n\t\t\tconst cards = []\n\t\t\tfor (const i in archivedStacks) {\n\t\t\t\tconst stack = archivedStacks[i]\n\t\t\t\tfor (const j in stack.cards) {\n\t\t\t\t\tcards.push(stack.cards[j])\n\t\t\t\t}\n\t\t\t\tdelete stack.cards\n\t\t\t\tif (!getters.stackById(stack.id)) {\n\t\t\t\t\tcommit('addStack', stack)\n\t\t\t\t}\n\t\t\t}\n\t\t\tcommit('setCards', cards)\n\t\t},\n\t\tcreateStack({ commit }, stack) {\n\t\t\tstack.boardId = this.state.currentBoard.id\n\t\t\tapiClient.createStack(stack)\n\t\t\t\t.then((createdStack) => {\n\t\t\t\t\tcommit('addStack', createdStack)\n\t\t\t\t})\n\t\t},\n\t\tdeleteStack({ commit }, stack) {\n\t\t\tapiClient.deleteStack(stack.id)\n\t\t\t\t.then((stack) => {\n\t\t\t\t\tcommit('deleteStack', stack)\n\t\t\t\t\tcommit('moveStackToTrash', stack)\n\t\t\t\t})\n\t\t},\n\t\tupdateStack({ commit }, stack) {\n\t\t\tapiClient.updateStack(stack)\n\t\t\t\t.then((stack) => {\n\t\t\t\t\tcommit('updateStack', stack)\n\t\t\t\t})\n\t\t},\n\t},\n}\n","/**\n * SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport { CardApi } from './../services/CardApi.js'\nimport moment from 'moment'\nimport Vue from 'vue'\n\nconst apiClient = new CardApi()\n\nexport default {\n\tstate: {\n\t\tcards: [],\n\t},\n\tgetters: {\n\t\tcardsByStack: (state, getters, rootState) => (id) => {\n\t\t\treturn state.cards.filter((card) => {\n\t\t\t\tconst { tags, users, due, unassigned, completed } = rootState.filter\n\n\t\t\t\tif (completed === 'open' && card.done !== null) { return false }\n\t\t\t\tif (completed === 'completed' && card.done == null) { return false }\n\t\t\t\tlet allTagsMatch = true\n\t\t\t\tlet allUsersMatch = true\n\n\t\t\t\tif (tags.length > 0) {\n\t\t\t\t\ttags.forEach((tag) => {\n\t\t\t\t\t\tif (card.labels.findIndex((l) => l.id === tag) === -1) {\n\t\t\t\t\t\t\tallTagsMatch = false\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tif (!allTagsMatch) {\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (users.length > 0) {\n\t\t\t\t\tusers.forEach((user) => {\n\t\t\t\t\t\tif (!card?.assignedUsers || card.assignedUsers.findIndex((u) => u.participant.uid === user) === -1) {\n\t\t\t\t\t\t\tallUsersMatch = false\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tif (!allUsersMatch) {\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (unassigned && card.assignedUsers.length > 0) {\n\t\t\t\t\treturn false\n\t\t\t\t}\n\n\t\t\t\tif (due !== '') {\n\t\t\t\t\tconst datediffHour = ((new Date(card.duedate) - new Date()) / 3600 / 1000)\n\t\t\t\t\tswitch (due) {\n\t\t\t\t\tcase 'noDue':\n\t\t\t\t\t\treturn (card.duedate === null)\n\t\t\t\t\tcase 'overdue':\n\t\t\t\t\t\treturn (card.overdue === 3)\n\t\t\t\t\tcase 'dueToday':\n\t\t\t\t\t\treturn (card.overdue >= 2)\n\t\t\t\t\tcase 'dueWeek':\n\t\t\t\t\t\treturn (datediffHour <= 7 * 24 && card.duedate !== null)\n\t\t\t\t\tcase 'dueMonth':\n\t\t\t\t\t\treturn (datediffHour <= 30 * 24 && card.duedate !== null)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn true\n\t\t\t})\n\t\t\t\t.filter((card) => card.stackId === id)\n\t\t\t\t.filter((card) => {\n\t\t\t\t\tif (getters.getSearchQuery === '') {\n\t\t\t\t\t\treturn true\n\t\t\t\t\t}\n\n\t\t\t\t\tlet hasMatch = true\n\t\t\t\t\tconst matches = getters.getSearchQuery.match(/(?:[^\\s\"]+|\"[^\"]*\")+/g)\n\n\t\t\t\t\tconst filterOutQuotes = (q) => {\n\t\t\t\t\t\tif (q[0] === '\"' && q[q.length - 1] === '\"') {\n\t\t\t\t\t\t\treturn q.slice(1, -1)\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn q\n\t\t\t\t\t}\n\t\t\t\t\tfor (const match of matches) {\n\t\t\t\t\t\tlet [filter, query] = match.indexOf(':') !== -1 ? match.split(/:(.*)/) : [null, match]\n\t\t\t\t\t\tconst isEmptyQuery = typeof query === 'undefined' || filterOutQuotes(query) === ''\n\n\t\t\t\t\t\tif (filter === 'title') {\n\t\t\t\t\t\t\tif (isEmptyQuery) {\n\t\t\t\t\t\t\t\tcontinue\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thasMatch = hasMatch && card.title.toLowerCase().includes(filterOutQuotes(query).toLowerCase())\n\t\t\t\t\t\t} else if (filter === 'description') {\n\t\t\t\t\t\t\tif (isEmptyQuery) {\n\t\t\t\t\t\t\t\thasMatch = hasMatch && !!card.description\n\t\t\t\t\t\t\t\tcontinue\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thasMatch = hasMatch && card.description.toLowerCase().includes(filterOutQuotes(query).toLowerCase())\n\t\t\t\t\t\t} else if (filter === 'list') {\n\t\t\t\t\t\t\tif (isEmptyQuery) {\n\t\t\t\t\t\t\t\tcontinue\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconst stack = getters.stackById(card.stackId)\n\t\t\t\t\t\t\tif (!stack) {\n\t\t\t\t\t\t\t\treturn false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thasMatch = hasMatch && stack.title.toLowerCase().includes(filterOutQuotes(query).toLowerCase())\n\t\t\t\t\t\t} else if (filter === 'tag') {\n\t\t\t\t\t\t\tif (isEmptyQuery) {\n\t\t\t\t\t\t\t\thasMatch = hasMatch && card.labels.length > 0\n\t\t\t\t\t\t\t\tcontinue\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thasMatch = hasMatch && card.labels.findIndex((label) => label.title.toLowerCase().includes(filterOutQuotes(query).toLowerCase())) !== -1\n\t\t\t\t\t\t} else if (filter === 'date') {\n\t\t\t\t\t\t\tconst datediffHour = ((new Date(card.duedate) - new Date()) / 3600 / 1000)\n\t\t\t\t\t\t\tquery = filterOutQuotes(query)\n\t\t\t\t\t\t\tswitch (query) {\n\t\t\t\t\t\t\tcase 'overdue':\n\t\t\t\t\t\t\t\thasMatch = hasMatch && (card.overdue === 3)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 'today':\n\t\t\t\t\t\t\t\thasMatch = hasMatch && (datediffHour > 0 && datediffHour <= 24 && card.duedate !== null)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 'week':\n\t\t\t\t\t\t\t\thasMatch = hasMatch && (datediffHour > 0 && datediffHour <= 7 * 24 && card.duedate !== null)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 'month':\n\t\t\t\t\t\t\t\thasMatch = hasMatch && (datediffHour > 0 && datediffHour <= 30 * 24 && card.duedate !== null)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 'none':\n\t\t\t\t\t\t\t\thasMatch = hasMatch && (card.duedate === null)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (card.duedate === null || !hasMatch) {\n\t\t\t\t\t\t\t\treturn false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconst comparator = query[0] + (query[1] === '=' ? '=' : '')\n\t\t\t\t\t\t\tconst isValidComparator = ['<', '<=', '>', '>='].indexOf(comparator) !== -1\n\t\t\t\t\t\t\tconst parsedCardDate = moment(card.duedate)\n\t\t\t\t\t\t\tconst parsedDate = moment(query.slice(isValidComparator ? comparator.length : 0))\n\t\t\t\t\t\t\tswitch (comparator) {\n\t\t\t\t\t\t\tcase '<':\n\t\t\t\t\t\t\t\thasMatch = hasMatch && parsedCardDate.isBefore(parsedDate)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase '<=':\n\t\t\t\t\t\t\t\thasMatch = hasMatch && parsedCardDate.isSameOrBefore(parsedDate)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase '>':\n\t\t\t\t\t\t\t\thasMatch = hasMatch && parsedCardDate.isAfter(parsedDate)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase '>=':\n\t\t\t\t\t\t\t\thasMatch = hasMatch && parsedCardDate.isSameOrAfter(parsedDate)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\thasMatch = hasMatch && parsedCardDate.isSame(parsedDate)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else if (filter === 'assigned') {\n\t\t\t\t\t\t\tif (isEmptyQuery) {\n\t\t\t\t\t\t\t\thasMatch = hasMatch && card.assignedUsers.length > 0\n\t\t\t\t\t\t\t\tcontinue\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thasMatch = hasMatch && card.assignedUsers.findIndex((assignment) => {\n\t\t\t\t\t\t\t\treturn assignment.participant.primaryKey.toLowerCase() === filterOutQuotes(query).toLowerCase()\n\t\t\t\t\t\t\t\t\t|| assignment.participant.displayname.toLowerCase() === filterOutQuotes(query).toLowerCase()\n\t\t\t\t\t\t\t}) !== -1\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thasMatch = hasMatch && (card.title.toLowerCase().includes(filterOutQuotes(match).toLowerCase())\n\t\t\t\t\t\t\t\t|| card.description.toLowerCase().includes(filterOutQuotes(match).toLowerCase()) || card.id === parseInt(filterOutQuotes(match)))\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!hasMatch) {\n\t\t\t\t\t\t\treturn false\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn true\n\t\t\t\t})\n\t\t\t\t.sort((a, b) => a.order - b.order || a.createdAt - b.createdAt)\n\t\t},\n\t\tcardById: state => (id) => {\n\t\t\treturn state.cards.find((card) => card.id === id)\n\t\t},\n\t},\n\tmutations: {\n\t\taddCard(state, card) {\n\t\t\tcard.labels = card.labels || []\n\t\t\tcard.assignedUsers = card.assignedUsers || []\n\t\t\tconst existingIndex = state.cards.findIndex(_card => _card.id === card.id)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tconst existingCard = state.cards.find(_card => _card.id === card.id)\n\t\t\t\tVue.set(state.cards, existingIndex, Object.assign({}, existingCard, card))\n\t\t\t} else {\n\t\t\t\tstate.cards.push(card)\n\t\t\t}\n\t\t},\n\t\tdeleteCard(state, card) {\n\t\t\tconst existingIndex = state.cards.findIndex(_card => _card.id === card.id)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tstate.cards.splice(existingIndex, 1)\n\t\t\t}\n\t\t},\n\t\tupdateCard(state, card) {\n\t\t\tconst existingIndex = state.cards.findIndex(_card => _card.id === card.id)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tVue.set(state.cards, existingIndex, Object.assign({}, state.cards[existingIndex], card))\n\t\t\t}\n\t\t},\n\t\tupdateCardsReorder(state, cards) {\n\t\t\tfor (const newCard of cards) {\n\t\t\t\tconst existingIndex = state.cards.findIndex(_card => _card.id === newCard.id)\n\t\t\t\tif (existingIndex !== -1) {\n\t\t\t\t\tVue.set(state.cards[existingIndex], 'order', newCard.order)\n\t\t\t\t\tVue.set(state.cards[existingIndex], 'stackId', newCard.stackId)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tassignCardToUser(state, user) {\n\t\t\tconst existingIndex = state.cards.findIndex(_card => _card.id === user.cardId)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tstate.cards[existingIndex].assignedUsers.push(user)\n\t\t\t}\n\t\t},\n\t\tremoveUserFromCard(state, user) {\n\t\t\tconst existingIndex = state.cards.findIndex(_card => _card.id === user.cardId)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tconst foundIndex = state.cards[existingIndex].assignedUsers.findIndex(_user => _user.id === user.id)\n\t\t\t\tif (foundIndex !== -1) {\n\t\t\t\t\tstate.cards[existingIndex].assignedUsers.splice(foundIndex, 1)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tupdateCardProperty(state, { card, property }) {\n\t\t\tconst existingIndex = state.cards.findIndex(_card => _card.id === card.id)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tVue.set(state.cards[existingIndex], property, card[property])\n\t\t\t\tVue.set(state.cards[existingIndex], 'lastModified', Date.now() / 1000)\n\t\t\t}\n\t\t},\n\t\tcardSetAttachmentCount(state, { cardId, count }) {\n\t\t\tconst existingIndex = state.cards.findIndex(_card => _card.id === cardId)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tVue.set(state.cards[existingIndex], 'attachmentCount', count)\n\t\t\t}\n\t\t},\n\t\tcardIncreaseAttachmentCount(state, cardId) {\n\t\t\tconst existingIndex = state.cards.findIndex(_card => _card.id === cardId)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tVue.set(state.cards[existingIndex], 'attachmentCount', state.cards[existingIndex].attachmentCount + 1)\n\t\t\t}\n\t\t},\n\t\tcardDecreaseAttachmentCount(state, cardId) {\n\t\t\tconst existingIndex = state.cards.findIndex(_card => _card.id === cardId)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tVue.set(state.cards[existingIndex], 'attachmentCount', state.cards[existingIndex].attachmentCount - 1)\n\t\t\t}\n\t\t},\n\t\taddNewCard(state, card) {\n\t\t\tstate.cards.push(card)\n\t\t},\n\t\tsetCards(state, cards) {\n\t\t\tconst deletedCards = state.cards.filter(_card => {\n\t\t\t\treturn cards.findIndex(c => _card.id === c.id) === -1\n\t\t\t})\n\t\t\tfor (const card of deletedCards) {\n\t\t\t\tthis.commit('deleteCard', card)\n\t\t\t}\n\t\t\tfor (const card of cards) {\n\t\t\t\tthis.commit('addCard', card)\n\t\t\t}\n\t\t},\n\t},\n\tactions: {\n\t\tasync addCard({ commit }, card) {\n\t\t\tconst createdCard = await apiClient.addCard(card)\n\t\t\tcommit('addCard', createdCard)\n\t\t\treturn createdCard\n\t\t},\n\t\tasync updateCardTitle({ commit }, card) {\n\t\t\tconst updatedCard = await apiClient.updateCard(card)\n\t\t\tcommit('updateCardProperty', { property: 'title', card: updatedCard })\n\t\t},\n\t\tasync moveCard({ commit }, card) {\n\t\t\tconst updatedCard = await apiClient.updateCard(card)\n\t\t\tcommit('deleteCard', updatedCard)\n\t\t},\n\t\tasync reorderCard({ commit, getters }, card) {\n\t\t\tlet i = 0\n\t\t\tconst newCards = []\n\t\t\tfor (const c of getters.cardsByStack(card.stackId)) {\n\t\t\t\tif (c.id === card.id) {\n\t\t\t\t\tnewCards.push(card)\n\t\t\t\t}\n\t\t\t\tif (i === card.order) {\n\t\t\t\t\ti++\n\t\t\t\t}\n\t\t\t\tif (c.id !== card.id) {\n\t\t\t\t\tnewCards.push({ ...c, order: i++ })\n\t\t\t\t}\n\t\t\t}\n\t\t\tnewCards.push(card)\n\t\t\tawait commit('updateCardsReorder', newCards)\n\n\t\t\tapiClient.reorderCard(card).then((cards) => {\n\t\t\t\tcommit('updateCardsReorder', Object.values(cards))\n\t\t\t})\n\t\t},\n\t\tasync deleteCard({ commit }, card) {\n\t\t\tawait apiClient.deleteCard(card.id)\n\t\t\tcommit('deleteCard', card)\n\t\t\tcommit('moveCardToTrash', card)\n\t\t},\n\t\tasync archiveUnarchiveCard({ commit }, card) {\n\t\t\tlet call = 'archiveCard'\n\t\t\tif (card.archived === false) {\n\t\t\t\tcall = 'unArchiveCard'\n\t\t\t}\n\n\t\t\tconst updatedCard = await apiClient[call](card)\n\t\t\tcommit('updateCard', updatedCard)\n\t\t},\n\t\tasync changeCardDoneStatus({ commit }, card) {\n\t\t\tlet call = 'markCardAsDone'\n\t\t\tif (card.done === false) {\n\t\t\t\tcall = 'markCardAsUndone'\n\t\t\t}\n\n\t\t\tconst updatedCard = await apiClient[call](card)\n\t\t\tcommit('updateCardProperty', { property: 'done', card: updatedCard })\n\t\t},\n\t\tasync assignCardToUser({ commit }, { card, assignee }) {\n\t\t\tconst user = await apiClient.assignUser(card.id, assignee.userId, assignee.type)\n\t\t\tcommit('assignCardToUser', user)\n\t\t},\n\t\tasync removeUserFromCard({ commit }, { card, assignee }) {\n\t\t\tconst user = await apiClient.removeUser(card.id, assignee.userId, assignee.type)\n\t\t\tcommit('removeUserFromCard', user)\n\t\t},\n\t\tasync addLabel({ commit }, data) {\n\t\t\tawait apiClient.assignLabelToCard(data)\n\t\t\tcommit('updateCardProperty', { property: 'labels', card: data.card })\n\t\t},\n\t\tasync removeLabel({ commit }, data) {\n\t\t\tawait apiClient.removeLabelFromCard(data)\n\t\t\tcommit('updateCardProperty', { property: 'labels', card: data.card })\n\t\t},\n\t\tasync updateCardDesc({ commit }, card) {\n\t\t\tconst updatedCard = await apiClient.updateCard(card)\n\t\t\tcommit('updateCardProperty', { property: 'description', card: updatedCard })\n\t\t},\n\t\tasync updateCardDue({ commit }, card) {\n\t\t\tconst updatedCard = await apiClient.updateCard(card)\n\t\t\tcommit('updateCardProperty', { property: 'duedate', card: updatedCard })\n\t\t},\n\n\t\taddCardData({ commit }, cardData) {\n\t\t\tconst card = { ...cardData }\n\t\t\tcommit('addStack', card.relatedStack)\n\t\t\tcommit('addBoard', card.relatedBoard)\n\t\t\tdelete card.relatedStack\n\t\t\tdelete card.relatedBoard\n\t\t\tcommit('addCard', card)\n\t\t},\n\t},\n}\n","/**\n * SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport { CommentApi } from '../services/CommentApi.js'\nimport Vue from 'vue'\n\nconst apiClient = new CommentApi()\n\nconst COMMENT_FETCH_LIMIT = 10\n\nexport default {\n\tstate: {\n\t\tcomments: {},\n\t\treplyTo: null,\n\t},\n\tgetters: {\n\t\tgetCommentsForCard: (state) => (id) => {\n\t\t\tif (state.comments[id]) {\n\t\t\t\treturn [...state.comments[id].comments].sort((a, b) => b.id - a.id)\n\t\t\t}\n\t\t\treturn []\n\t\t},\n\t\thasMoreComments: (state) => (cardId) => {\n\t\t\treturn state.comments[cardId] && state.comments[cardId].hasMore\n\t\t},\n\t},\n\tmutations: {\n\t\tendReached(state, { cardId }) {\n\t\t\tif (state.comments[cardId]) {\n\t\t\t\tstate.comments[cardId].hasMore = false\n\t\t\t}\n\t\t},\n\t\taddComments(state, { comments, cardId }) {\n\t\t\tif (state.comments[cardId] === undefined) {\n\t\t\t\tVue.set(state.comments, cardId, {\n\t\t\t\t\thasMore: comments.length > 0,\n\t\t\t\t\tcomments: [...comments],\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tconst newComments = comments.filter((comment) => {\n\t\t\t\t\treturn state.comments[cardId].comments.findIndex((item) => item.id === comment.id) === -1\n\t\t\t\t})\n\t\t\t\tstate.comments[cardId].comments.push(...newComments)\n\t\t\t}\n\t\t},\n\t\tupdateComment(state, { cardId, comment }) {\n\t\t\tconst existingIndex = state.comments[cardId].comments.findIndex(c => c.id === comment.id)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tObject.assign(state.comments[cardId].comments[existingIndex], comment)\n\t\t\t}\n\t\t},\n\t\tdeleteComment(state, comment) {\n\t\t\tconst existingIndex = state.comments[comment.cardId].comments.findIndex(_comment => _comment.id === comment.id)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tstate.comments[comment.cardId].comments.splice(existingIndex, 1)\n\t\t\t}\n\t\t},\n\t\tmarkCommentsAsRead(state, cardId) {\n\t\t\tstate.comments[cardId].comments.forEach(_comment => {\n\t\t\t\tVue.set(_comment, 'isUnread', false)\n\t\t\t})\n\t\t},\n\t\tsetReplyTo(state, comment) {\n\t\t\tVue.set(state, 'replyTo', comment)\n\t\t},\n\t},\n\tactions: {\n\t\tasync fetchComments({ commit }, { cardId, offset }) {\n\t\t\tconst comments = await apiClient.loadComments({\n\t\t\t\tcardId,\n\t\t\t\tlimit: COMMENT_FETCH_LIMIT,\n\t\t\t\toffset: offset || 0,\n\t\t\t})\n\n\t\t\tcommit('addComments', {\n\t\t\t\tcardId,\n\t\t\t\tcomments,\n\t\t\t})\n\n\t\t\tif (comments.length < COMMENT_FETCH_LIMIT) {\n\t\t\t\tcommit('endReached', { cardId })\n\n\t\t\t}\n\t\t},\n\t\tasync fetchMore({ commit, dispatch, getters }, { cardId }) {\n\t\t\t// fetch newer comments first\n\t\t\tawait dispatch('fetchComments', { cardId })\n\t\t\tawait dispatch('fetchComments', { cardId, offset: getters.getCommentsForCard(cardId).length })\n\n\t\t},\n\t\tasync createComment({ commit, dispatch, state }, { cardId, comment }) {\n\t\t\tawait apiClient.createComment({ cardId, comment, replyTo: state.replyTo })\n\t\t\tawait dispatch('fetchComments', { cardId })\n\t\t},\n\t\tasync deleteComment({ commit }, data) {\n\t\t\tawait apiClient.deleteComment(data)\n\t\t\tcommit('deleteComment', data)\n\t\t},\n\t\tasync updateComment({ commit }, data) {\n\t\t\tconst comment = await apiClient.updateComment(data)\n\t\t\tawait commit('updateComment', { cardId: data.cardId, comment })\n\t\t},\n\t\tasync markCommentsAsRead({ commit }, cardId) {\n\t\t\tawait apiClient.markCommentsAsRead(cardId)\n\t\t\tawait commit('markCommentsAsRead', cardId)\n\t\t},\n\t\tsetReplyTo({ commit }, comment) {\n\t\t\tcommit('setReplyTo', comment)\n\t\t},\n\t},\n}\n","/**\n * SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport axios from '@nextcloud/axios'\nimport { generateOcsUrl, generateRemoteUrl } from '@nextcloud/router'\n\nexport class CommentApi {\n\n\turl(url) {\n\t\turl = `dav/comments/deckCard/${url}`\n\t\treturn generateRemoteUrl(url)\n\t}\n\n\tasync loadComments({ cardId, limit, offset }) {\n\t\tconst api = await axios.get(generateOcsUrl(`apps/deck/api/v1.0/cards/${cardId}/comments`), {\n\t\t\tparams: { limit, offset },\n\t\t\theaders: { 'OCS-APIRequest': 'true' },\n\t\t})\n\t\treturn api.data.ocs.data\n\t}\n\n\tasync createComment({ cardId, comment, replyTo }) {\n\t\tconst api = await axios.post(generateOcsUrl(`apps/deck/api/v1.0/cards/${cardId}/comments`), {\n\t\t\tmessage: `${comment}`,\n\t\t\tparentId: replyTo ? replyTo.id : null,\n\t\t})\n\t\treturn api.data.ocs.data\n\t}\n\n\tasync updateComment({ cardId, id, comment }) {\n\t\tconst api = await axios.put(generateOcsUrl(`apps/deck/api/v1.0/cards/${cardId}/comments/${id}`), {\n\t\t\tmessage: `${comment}`,\n\t\t})\n\t\treturn api.data.ocs.data\n\t}\n\n\tasync deleteComment({ cardId, id }) {\n\t\tconst api = await axios.delete(generateOcsUrl(`apps/deck/api/v1.0/cards/${cardId}/comments/${id}`))\n\t\treturn api.data.ocs.data\n\t}\n\n\tasync markCommentsAsRead(cardId) {\n\t\tconst readMarker = (new Date()).toUTCString()\n\t\tconst response = await axios({\n\t\t\tmethod: 'PROPPATCH',\n\t\t\turl: this.url(`${cardId}`),\n\t\t\tdata: `<?xml version=\"1.0\"?>\n\t\t\t\t<d:propertyupdate  xmlns:d=\"DAV:\" xmlns:oc=\"http://owncloud.org/ns\">\n\t\t\t\t  <d:set>\n\t\t\t\t   <d:prop>\n\t\t\t\t\t  <oc:readMarker>${readMarker}</oc:readMarker>\n\t\t\t\t\t</d:prop>\n\t\t\t\t  </d:set>\n\t\t\t\t</d:propertyupdate>`,\n\t\t})\n\t\treturn response.data\n\t}\n\n}\n","/**\n * SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport { StackApi } from '../services/StackApi.js'\nimport { CardApi } from '../services/CardApi.js'\n\nconst stackApi = new StackApi()\nconst cardApi = new CardApi()\n\nexport default {\n\tstate: {\n\t\tdeletedStacks: [],\n\t\tdeletedCards: [],\n\t},\n\tmutations: {\n\t\tsetDeletedStacks(state, delStacks) {\n\t\t\tstate.deletedStacks = []\n\t\t\tif (delStacks.length > 0) {\n\t\t\t\tstate.deletedStacks = delStacks\n\t\t\t}\n\t\t},\n\n\t\tmoveStackToTrash(state, stack) {\n\t\t\tstack.deletedAt = Math.floor(Date.now() / 1000)\n\t\t\tstate.deletedStacks.push(stack)\n\t\t},\n\n\t\tremoveStackFromTrash(state, stack) {\n\t\t\tconst existingIndex = state.deletedStacks.findIndex(_stack => _stack.id === stack.id)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tstate.deletedStacks.splice(existingIndex, 1)\n\t\t\t}\n\t\t},\n\n\t\tsetDeletedCards(state, delCards) {\n\t\t\tstate.deletedCards = []\n\t\t\tstate.deletedCards = delCards\n\t\t},\n\n\t\tmoveCardToTrash(state, card) {\n\t\t\tcard.deletedAt = Math.floor(Date.now() / 1000)\n\t\t\tstate.deletedCards.push(card)\n\t\t},\n\n\t\tremoveCardFromTrash(state, card) {\n\t\t\tconst existingIndex = state.deletedCards.findIndex(_card => _card.id === card.id)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tstate.deletedCards.splice(existingIndex, 1)\n\t\t\t}\n\t\t},\n\t},\n\tactions: {\n\t\tfetchDeletedItems({ commit }, boardId) {\n\t\t\tstackApi.deletedStacks(boardId)\n\t\t\t\t.then((deletedStacks) => {\n\t\t\t\t\tcommit('setDeletedStacks', deletedStacks)\n\t\t\t\t})\n\t\t\tcardApi.deletedCards(boardId)\n\t\t\t\t.then((deletedCards) => {\n\t\t\t\t\tcommit('setDeletedCards', deletedCards)\n\t\t\t\t})\n\t\t},\n\t\tstackUndoDelete({ commit }, stack) {\n\t\t\tstackApi.updateStack(stack)\n\t\t\t\t.then((stack) => {\n\t\t\t\t\tcommit('addStack', stack)\n\t\t\t\t\tcommit('removeStackFromTrash', stack)\n\t\t\t\t})\n\t\t},\n\t\tcardUndoDelete({ commit }, card) {\n\t\t\tcardApi.updateCard(card)\n\t\t\t\t.then((card) => {\n\t\t\t\t\tcommit('removeCardFromTrash', card)\n\t\t\t\t\tcommit('addCard', card)\n\t\t\t\t})\n\t\t},\n\t},\n}\n","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport { AttachmentApi } from './../services/AttachmentApi.js'\nimport Vue from 'vue'\n\nconst apiClient = new AttachmentApi()\n\nexport default {\n\tstate: {\n\t\tattachments: {},\n\t},\n\tgetters: {\n\t\tattachmentsByCard: state => (cardId) => {\n\t\t\tif (typeof state.attachments[cardId] === 'undefined') {\n\t\t\t\treturn []\n\t\t\t}\n\t\t\treturn state.attachments[cardId]\n\t\t},\n\n\t},\n\tmutations: {\n\t\tcreateAttachment(state, { cardId, attachment }) {\n\t\t\tif (typeof state.attachments[cardId] === 'undefined') {\n\t\t\t\tVue.set(state.attachments, cardId, [attachment])\n\t\t\t} else {\n\t\t\t\tstate.attachments[cardId].push(attachment)\n\t\t\t}\n\t\t},\n\n\t\tcreateAttachments(state, { cardId, attachments }) {\n\t\t\tVue.set(state.attachments, cardId, attachments)\n\t\t},\n\n\t\tupdateAttachment(state, { cardId, attachment }) {\n\t\t\tconst existingIndex = state.attachments[attachment.cardId].findIndex(a => a.id === attachment.id && a.type === attachment.type)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tVue.set(state.attachments[cardId], existingIndex, attachment)\n\t\t\t}\n\t\t},\n\n\t\tdeleteAttachment(state, deletedAttachment) {\n\t\t\tconst existingIndex = state.attachments[deletedAttachment.cardId].findIndex(a => a.id === deletedAttachment.id && a.type === deletedAttachment.type)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tstate.attachments[deletedAttachment.cardId][existingIndex].deletedAt = Date.now() / 1000 | 0\n\t\t\t}\n\t\t},\n\n\t\tunshareAttachment(state, deletedAttachment) {\n\t\t\tconst existingIndex = state.attachments[deletedAttachment.cardId].findIndex(a => a.id === deletedAttachment.id && a.type === deletedAttachment.type)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tstate.attachments[deletedAttachment.cardId][existingIndex].deletedAt = -1\n\t\t\t}\n\t\t},\n\n\t\trestoreAttachment(state, restoredAttachment) {\n\t\t\tconst existingIndex = state.attachments[restoredAttachment.cardId].findIndex(a => a.id === restoredAttachment.id && a.type === restoredAttachment.type)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tstate.attachments[restoredAttachment.cardId][existingIndex].deletedAt = 0\n\t\t\t}\n\t\t},\n\n\t},\n\tactions: {\n\t\tasync fetchAttachments({ commit }, cardId) {\n\t\t\tconst attachments = await apiClient.fetchAttachments(cardId)\n\t\t\tcommit('createAttachments', { cardId, attachments })\n\t\t\tcommit('cardSetAttachmentCount', { cardId, count: attachments.length })\n\t\t},\n\n\t\tasync createAttachment({ commit }, { cardId, formData, onUploadProgress }) {\n\t\t\tconst attachment = await apiClient.createAttachment({ cardId, formData, onUploadProgress })\n\t\t\tcommit('createAttachment', { cardId, attachment })\n\t\t\tcommit('cardIncreaseAttachmentCount', cardId)\n\t\t},\n\n\t\tasync updateAttachment({ commit }, { cardId, attachment, formData }) {\n\t\t\tconst result = await apiClient.updateAttachment({ cardId, attachment, formData })\n\t\t\tcommit('updateAttachment', { cardId, attachment: result })\n\t\t},\n\n\t\tasync deleteAttachment({ commit }, attachment) {\n\t\t\tawait apiClient.deleteAttachment(attachment)\n\t\t\tcommit('deleteAttachment', attachment)\n\t\t\tcommit('cardDecreaseAttachmentCount', attachment.cardId)\n\t\t},\n\n\t\tasync unshareAttachment({ commit }, attachment) {\n\t\t\tawait apiClient.deleteAttachment(attachment)\n\t\t\tcommit('unshareAttachment', attachment)\n\t\t\tcommit('cardDecreaseAttachmentCount', attachment.cardId)\n\t\t},\n\n\t\tasync restoreAttachment({ commit }, attachment) {\n\t\t\tconst restoredAttachment = await apiClient.restoreAttachment(attachment)\n\t\t\tcommit('restoreAttachment', restoredAttachment)\n\t\t\tcommit('cardIncreaseAttachmentCount', attachment.cardId)\n\t\t},\n\n\t},\n}\n","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport axios from '@nextcloud/axios'\nimport { generateUrl } from '@nextcloud/router'\n\nexport class AttachmentApi {\n\n\turl(url) {\n\t\treturn generateUrl(`/apps/deck${url}`)\n\t}\n\n\tasync fetchAttachments(cardId) {\n\t\tconst response = await axios({\n\t\t\tmethod: 'GET',\n\t\t\turl: this.url(`/cards/${cardId}/attachments`),\n\t\t})\n\t\treturn response.data\n\t}\n\n\tasync createAttachment({ cardId, formData, onUploadProgress }) {\n\t\tconst response = await axios({\n\t\t\tmethod: 'POST',\n\t\t\turl: this.url(`/cards/${cardId}/attachment`),\n\t\t\tdata: formData,\n\t\t\tonUploadProgress,\n\t\t})\n\t\treturn response.data\n\t}\n\n\tasync updateAttachment({ cardId, attachment, formData }) {\n\t\tconst response = await axios({\n\t\t   method: 'POST',\n\t\t   url: this.url(`/cards/${cardId}/attachment/${attachment.type}:${attachment.id}`),\n\t\t   data: formData,\n\t   })\n\t   return response.data\n\t}\n\n\tasync deleteAttachment(attachment) {\n\t\tawait axios({\n\t\t\tmethod: 'DELETE',\n\t\t\turl: this.url(`/cards/${attachment.cardId}/attachment/${attachment.type}:${attachment.id}`),\n\t\t})\n\t}\n\n\tasync restoreAttachment(attachment) {\n\t\tconst response = await axios({\n\t\t\tmethod: 'GET',\n\t\t\turl: this.url(`/cards/${attachment.cardId}/attachment/${attachment.type}:${attachment.id}/restore`),\n\t\t})\n\t\treturn response.data\n\t}\n\n\tasync displayAttachment(attachment) {\n\t\tconst response = await axios({\n\t\t\tmethod: 'GET',\n\t\t\turl: this.url(`/cards/${attachment.cardId}/attachment/${attachment.type}:${attachment.id}`),\n\t\t})\n\t\treturn response.data\n\t}\n\n}\n","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport Vue from 'vue'\nimport Vuex from 'vuex'\nimport { OverviewApi } from '../services/OverviewApi.js'\nVue.use(Vuex)\n\nconst apiClient = new OverviewApi()\nexport default {\n\tstate: {\n\t\tassignedCards: [],\n\t\tloading: false,\n\t},\n\tgetters: {\n\t\tassignedCardsDashboard: state => {\n\t\t\treturn state.assignedCards\n\t\t},\n\t},\n\tmutations: {\n\t\tsetAssignedCards(state, assignedCards) {\n\t\t\tstate.assignedCards = assignedCards\n\t\t},\n\t\tsetLoading(state, promise) {\n\t\t\tstate.loading = promise\n\t\t},\n\t},\n\tactions: {\n\t\tasync loadUpcoming({ state, commit }) {\n\t\t\tif (state.loading) {\n\t\t\t\treturn state.loading\n\t\t\t}\n\t\t\tconst promise = (async () => {\n\t\t\t\tcommit('setCurrentBoard', null)\n\t\t\t\tconst assignedCards = await apiClient.get('upcoming')\n\t\t\t\tconst assignedCardsFlat = Object.values(assignedCards).flat()\n\t\t\t\tfor (const i in assignedCardsFlat) {\n\t\t\t\t\tcommit('addCard', assignedCardsFlat[i])\n\t\t\t\t}\n\t\t\t\tcommit('setAssignedCards', assignedCards)\n\t\t\t\tcommit('setLoading', false)\n\t\t\t})()\n\t\t\tcommit('setLoading', promise)\n\t\t\treturn promise\n\t\t},\n\t},\n}\n","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport axios from '@nextcloud/axios'\nimport { generateOcsUrl } from '@nextcloud/router'\n\nexport class OverviewApi {\n\n\turl(url) {\n\t\treturn generateOcsUrl(`apps/deck/api/v1.0/${url}`)\n\t}\n\n\tget(filter) {\n\t\treturn axios.get(this.url(`overview/${filter}`), {\n\t\t\theaders: { 'OCS-APIRequest': 'true' },\n\t\t})\n\t\t\t.then(\n\t\t\t\t(response) => Promise.resolve(response.data.ocs.data),\n\t\t\t\t(err) => Promise.reject(err),\n\t\t\t)\n\t\t\t.catch((err) => Promise.reject(err),\n\t\t\t)\n\t}\n\n}\n","/**\n * SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport 'url-search-params-polyfill'\n\nimport { loadState } from '@nextcloud/initial-state'\nimport Vue from 'vue'\nimport Vuex from 'vuex'\nimport axios from '@nextcloud/axios'\nimport { generateOcsUrl, generateUrl } from '@nextcloud/router'\nimport { BoardApi } from '../services/BoardApi.js'\nimport actions from './actions.js'\nimport stack from './stack.js'\nimport card from './card.js'\nimport comment from './comment.js'\nimport trashbin from './trashbin.js'\nimport attachment from './attachment.js'\nimport overview from './overview.js'\nVue.use(Vuex)\n\nconst apiClient = new BoardApi()\nconst debug = process.env.NODE_ENV !== 'production'\n\nexport const BOARD_FILTERS = {\n\tALL: '',\n\tARCHIVED: 'archived',\n\tSHARED: 'shared',\n}\n\nexport default new Vuex.Store({\n\tmodules: {\n\t\tactions,\n\t\tstack,\n\t\tcard,\n\t\tcomment,\n\t\ttrashbin,\n\t\tattachment,\n\t\toverview,\n\t},\n\tstrict: debug,\n\tstate: {\n\t\tisFullApp: true,\n\t\tconfig: loadState('deck', 'config', {}),\n\t\tshowArchived: false,\n\t\tnavShown: localStorage.getItem('deck.navShown') === null || localStorage.getItem('deck.navShown') === 'true',\n\t\tcompactMode: localStorage.getItem('deck.compactMode') === 'true',\n\t\tshowCardCover: localStorage.getItem('deck.showCardCover') === 'true',\n\t\tsidebarShown: false,\n\t\tcurrentBoard: null,\n\t\tcurrentCard: null,\n\t\tboards: loadState('deck', 'initialBoards', []),\n\t\tsharees: [],\n\t\tassignableUsers: [],\n\t\tboardFilter: BOARD_FILTERS.ALL,\n\t\tsearchQuery: '',\n\t\tactivity: [],\n\t\tactivityLoadMore: true,\n\t\tfilter: { tags: [], users: [], due: '', completed: 'both' },\n\t\tshortcutLock: false,\n\t},\n\tgetters: {\n\t\tconfig: state => (key) => {\n\t\t\tif (!state.isFullApp && key === 'cardDetailsInModal') {\n\t\t\t\treturn true\n\t\t\t}\n\n\t\t\treturn state.config[key]\n\t\t},\n\t\tgetSearchQuery: state => {\n\t\t\treturn state.searchQuery\n\t\t},\n\t\tgetFilter: state => {\n\t\t\treturn state.filter\n\t\t},\n\t\tboards: state => {\n\t\t\treturn state.boards\n\t\t},\n\t\tboardById: state => (id) => {\n\t\t\treturn state.boards.find((board) => board.id === id)\n\t\t},\n\t\tassignables: state => {\n\t\t\treturn [\n\t\t\t\t...state.assignableUsers.map((user) => ({ ...user, type: 0 })),\n\t\t\t\t...state.currentBoard.acl.filter((acl) => acl.type === 1 && typeof acl.participant === 'object').map((group) => ({ ...group.participant, type: 1 })),\n\t\t\t\t...state.currentBoard.acl.filter((acl) => acl.type === 7 && typeof acl.participant === 'object').map((circle) => ({ ...circle.participant, type: 7 })),\n\t\t\t]\n\t\t},\n\t\tnoneArchivedBoards: state => {\n\t\t\treturn state.boards.filter(board => {\n\t\t\t\treturn board.archived === false && !board.deletedAt\n\t\t\t})\n\t\t},\n\t\tarchivedBoards: state => {\n\t\t\treturn state.boards.filter(board => {\n\t\t\t\treturn board.archived === true && !board.deletedAt\n\t\t\t})\n\t\t},\n\t\tsharedBoards: state => {\n\t\t\treturn state.boards.filter(board => {\n\t\t\t\treturn board.shared && !board.deletedAt\n\t\t\t})\n\t\t},\n\t\tfilteredBoards: state => {\n\t\t\t// filters the boards depending on the active filter\n\t\t\tconst boards = state.boards.filter(board => {\n\t\t\t\treturn (state.boardFilter === BOARD_FILTERS.ALL && board.archived === false)\n\t\t\t\t\t|| (state.boardFilter === BOARD_FILTERS.ARCHIVED && board.archived === true)\n\t\t\t\t\t|| (state.boardFilter === BOARD_FILTERS.SHARED && board.shared === 1)\n\t\t\t})\n\t\t\treturn boards\n\t\t},\n\t\tcurrentBoardLabels: state => {\n\t\t\treturn state.currentBoard ? state.currentBoard.labels : []\n\t\t},\n\t\tcanEdit: state => {\n\t\t\treturn state.currentBoard ? state.currentBoard.permissions.PERMISSION_EDIT : false\n\t\t},\n\t\tcanManage: state => {\n\t\t\treturn state.currentBoard ? state.currentBoard.permissions.PERMISSION_MANAGE : false\n\t\t},\n\t\tcanShare: state => {\n\t\t\treturn state.currentBoard ? state.currentBoard.permissions.PERMISSION_SHARE : false\n\t\t},\n\t\tisArchived: state => {\n\t\t\treturn state.currentBoard && state.currentBoard.archived\n\t\t},\n\t},\n\tmutations: {\n\t\tsetFullApp(state, isFullApp) {\n\t\t\tVue.set(state, 'isFullApp', isFullApp)\n\t\t},\n\t\tSET_CONFIG(state, { key, value }) {\n\t\t\tconst [scope, id, configKey] = key.split(':', 3)\n\t\t\tlet indexExisting = -1\n\t\t\tswitch (scope) {\n\t\t\tcase 'board':\n\t\t\t\tindexExisting = state.boards.findIndex((b) => {\n\t\t\t\t\treturn id === '' + b.id\n\t\t\t\t})\n\n\t\t\t\tif (indexExisting > -1) {\n\t\t\t\t\tVue.set(state.boards[indexExisting].settings, configKey, value)\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tVue.set(state.config, key, value)\n\t\t\t}\n\t\t},\n\t\tsetSearchQuery(state, searchQuery) {\n\t\t\tstate.searchQuery = searchQuery\n\t\t},\n\t\tSET_FILTER(state, filter) {\n\t\t\tObject.assign(state.filter, filter)\n\t\t},\n\t\tTOGGLE_FILTER(state, filter) {\n\t\t\tObject.keys(filter).forEach((key) => {\n\t\t\t\tswitch (key) {\n\t\t\t\tcase 'due':\n\t\t\t\t\tVue.set(state.filter, key, filter.due)\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tfilter[key].forEach((item) => {\n\t\t\t\t\t\tif (state.filter[key].indexOf(item) === -1) {\n\t\t\t\t\t\t\tstate.filter[key].push(item)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstate.filter[key].splice(state.filter[key].indexOf(item), 1)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\ttoggleShowArchived(state, newState = undefined) {\n\t\t\tstate.showArchived = newState !== undefined ? newState : !state.showArchived\n\t\t},\n\t\t/*\n\t\t * Adds or replaces a board in the store.\n\t\t * Matches a board by it's id.\n\t\t */\n\t\taddBoard(state, board) {\n\t\t\tconst indexExisting = state.boards.findIndex((b) => {\n\t\t\t\treturn board.id === b.id\n\t\t\t})\n\n\t\t\tif (indexExisting > -1) {\n\t\t\t\tVue.set(state.boards, indexExisting, board)\n\t\t\t} else {\n\t\t\t\tstate.boards.push(board)\n\t\t\t}\n\t\t},\n\n\t\tcloneBoard(state, board) {\n\t\t\tconst indexExisting = state.boards.findIndex((b) => {\n\t\t\t\treturn board.id === b.id\n\t\t\t})\n\n\t\t\tif (indexExisting > -1) {\n\t\t\t\tVue.set(state.boards, indexExisting, board)\n\t\t\t} else {\n\t\t\t\tstate.boards.push(board)\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t * Removes the board from the store.\n\t\t */\n\t\tremoveBoard(state, board) {\n\t\t\tstate.boards = state.boards.filter((b) => {\n\t\t\t\treturn board.id !== b.id\n\t\t\t})\n\t\t},\n\t\ttoggleNav(state, navState) {\n\t\t\tstate.navShown = navState\n\t\t\tlocalStorage.setItem('deck.navShown', navState)\n\t\t},\n\t\ttoggleSidebar(state) {\n\t\t\tstate.sidebarShown = !state.sidebarShown\n\t\t},\n\t\ttoggleCompactMode(state) {\n\t\t\tstate.compactMode = !state.compactMode\n\t\t\tlocalStorage.setItem('deck.compactMode', state.compactMode)\n\t\t},\n\t\ttoggleShowCardCover(state) {\n\t\t\tstate.showCardCover = !state.showCardCover\n\t\t\tlocalStorage.setItem('deck.showCardCover', state.showCardCover)\n\t\t},\n\t\tsetBoards(state, boards) {\n\t\t\tstate.boards = boards\n\t\t},\n\t\tsetSharees(state, shareesUsersAndGroups) {\n\t\t\tVue.set(state, 'sharees', shareesUsersAndGroups.exact.users)\n\t\t\tstate.sharees.push(...shareesUsersAndGroups.exact.groups)\n\t\t\tstate.sharees.push(...shareesUsersAndGroups.exact.circles)\n\n\t\t\tstate.sharees.push(...shareesUsersAndGroups.users)\n\t\t\tstate.sharees.push(...shareesUsersAndGroups.groups)\n\t\t\tstate.sharees.push(...shareesUsersAndGroups.circles)\n\t\t},\n\t\tsetAssignableUsers(state, users) {\n\t\t\tstate.assignableUsers = users\n\t\t},\n\t\tsetBoardFilter(state, filter) {\n\t\t\tstate.boardFilter = filter\n\t\t},\n\t\tsetCurrentBoard(state, board) {\n\t\t\tstate.currentBoard = board\n\t\t},\n\t\tsetCurrentCard(state, card) {\n\t\t\tstate.currentCard = card\n\t\t},\n\n\t\t// label mutators\n\t\tremoveLabelFromCurrentBoard(state, labelId) {\n\t\t\tconst removeIndex = state.currentBoard.labels.findIndex((l) => {\n\t\t\t\treturn labelId === l.id\n\t\t\t})\n\n\t\t\tif (removeIndex > -1) {\n\t\t\t\tstate.currentBoard.labels.splice(removeIndex, 1)\n\t\t\t}\n\t\t},\n\t\tupdateLabelFromCurrentBoard(state, newLabel) {\n\t\t\tconst labelToUpdate = state.currentBoard.labels.find((l) => {\n\t\t\t\treturn newLabel.id === l.id\n\t\t\t})\n\n\t\t\tlabelToUpdate.title = newLabel.title\n\t\t\tlabelToUpdate.color = newLabel.color\n\t\t},\n\t\taddLabelToCurrentBoard(state, newLabel) {\n\t\t\tstate.currentBoard.labels.push(newLabel)\n\t\t},\n\n\t\t// acl mutators\n\t\taddAclToCurrentBoard(state, createdAcl) {\n\t\t\tstate.currentBoard.acl.push(createdAcl)\n\t\t},\n\t\tupdateAclFromCurrentBoard(state, acl) {\n\t\t\tfor (const acl_ in state.currentBoard.acl) {\n\t\t\t\tif (state.currentBoard.acl[acl_].participant.uid === acl.participant.uid) {\n\t\t\t\t\tVue.set(state.currentBoard.acl, acl_, acl)\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tdeleteAclFromCurrentBoard(state, acl) {\n\t\t\tlet removeIndex = -1\n\t\t\tfor (const index in state.currentBoard.acl) {\n\t\t\t\tconst attr = state.currentBoard.acl[index]\n\t\t\t\tif (acl.id === attr.id) {\n\t\t\t\t\tremoveIndex = index\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (removeIndex > -1) {\n\t\t\t\tVue.delete(state.currentBoard.acl, removeIndex)\n\t\t\t}\n\t\t},\n\t\tTOGGLE_SHORTCUT_LOCK(state, lock) {\n\t\t\tstate.shortcutLock = lock\n\t\t},\n\t},\n\tactions: {\n\t\tsetFullApp({ commit }, isFullApp) {\n\t\t\tcommit('setFullApp', isFullApp)\n\t\t},\n\t\tasync setConfig({ commit }, config) {\n\t\t\tfor (const key in config) {\n\t\t\t\ttry {\n\t\t\t\t\tawait axios.post(generateOcsUrl(`apps/deck/api/v1.0/config/${key}`), {\n\t\t\t\t\t\tvalue: config[key],\n\t\t\t\t\t})\n\t\t\t\t\tcommit('SET_CONFIG', { key, value: config[key] })\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(`Error while saving ${key}`, e.response)\n\t\t\t\t\tthrow e\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tsetFilter({ commit }, filter) {\n\t\t\tcommit('SET_FILTER', filter)\n\t\t},\n\t\ttoggleFilter({ commit }, filter) {\n\t\t\tcommit('TOGGLE_FILTER', filter)\n\t\t},\n\t\tasync loadBoardById({ commit, dispatch }, boardId) {\n\t\t\tconst filterReset = { tags: [], users: [], due: '' }\n\t\t\tdispatch('setFilter', filterReset)\n\t\t\tcommit('setCurrentBoard', null)\n\t\t\tconst board = await apiClient.loadById(boardId)\n\t\t\tcommit('setCurrentBoard', board)\n\t\t\tcommit('setAssignableUsers', board.users)\n\t\t},\n\n\t\tasync refreshBoard({ commit, dispatch }, boardId) {\n\t\t\tconst board = await apiClient.loadById(boardId)\n\t\t\tconst etagHasChanged = board.ETag !== this.state.currentBoard.ETag\n\t\t\tcommit('setCurrentBoard', board)\n\t\t\tcommit('setAssignableUsers', board.users)\n\n\t\t\tif (etagHasChanged) {\n\t\t\t\tdispatch('loadStacks', boardId)\n\t\t\t}\n\t\t},\n\n\t\ttoggleShowArchived({ commit }) {\n\t\t\tcommit('toggleShowArchived')\n\t\t},\n\n\t\t/**\n\t\t * @param commit.commit\n\t\t * @param commit\n\t\t * @param state\n\t\t * @param {Board} board\n\t\t */\n\t\tarchiveBoard({ commit }, board) {\n\t\t\tconst boardCopy = JSON.parse(JSON.stringify(board))\n\t\t\tboardCopy.archived = true\n\t\t\tapiClient.updateBoard(boardCopy)\n\t\t\t\t.then((board) => {\n\t\t\t\t\tcommit('addBoard', board)\n\t\t\t\t})\n\t\t},\n\t\t/**\n\t\t * @param commit.commit\n\t\t * @param commit\n\t\t * @param state\n\t\t * @param {Board} board\n\t\t */\n\t\tunarchiveBoard({ commit }, board) {\n\t\t\tconst boardCopy = JSON.parse(JSON.stringify(board))\n\t\t\tboardCopy.archived = false\n\t\t\tapiClient.updateBoard(boardCopy)\n\t\t\t\t.then((board) => {\n\t\t\t\t\tcommit('addBoard', board)\n\t\t\t\t})\n\t\t},\n\t\t/**\n\t\t * Updates a board API side.\n\t\t *\n\t\t * @param commit.commit\n\t\t * @param commit\n\t\t * @param board The board to update.\n\t\t * @return {Promise<void>}\n\t\t */\n\t\tasync updateBoard({ commit }, board) {\n\t\t\tconst storedBoard = await apiClient.updateBoard(board)\n\t\t\tcommit('addBoard', storedBoard)\n\t\t},\n\t\tasync createBoard({ commit }, boardData) {\n\t\t\ttry {\n\t\t\t\tconst board = await apiClient.createBoard(boardData)\n\t\t\t\tcommit('addBoard', board)\n\t\t\t} catch (err) {\n\t\t\t\treturn err\n\t\t\t}\n\t\t},\n\t\tasync cloneBoard({ commit }, boardData) {\n\t\t\ttry {\n\t\t\t\tconst newBoard = await apiClient.cloneBoard(boardData)\n\t\t\t\tcommit('cloneBoard', newBoard)\n\t\t\t\treturn newBoard\n\t\t\t} catch (err) {\n\t\t\t\treturn err\n\t\t\t}\n\t\t},\n\t\tremoveBoard({ commit }, board) {\n\t\t\tcommit('removeBoard', board)\n\t\t},\n\t\tasync loadBoards({ commit }) {\n\t\t\tconst boards = await apiClient.loadBoards()\n\t\t\tcommit('setBoards', boards)\n\t\t},\n\t\tasync loadSharees({ commit }, query) {\n\t\t\tconst params = new URLSearchParams()\n\t\t\tif (typeof query === 'undefined') {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tparams.append('search', query)\n\t\t\tparams.append('format', 'json')\n\t\t\tparams.append('perPage', 20)\n\t\t\tparams.append('itemType', [0, 1, 4, 7])\n\t\t\tparams.append('lookup', false)\n\n\t\t\tconst response = await axios.get(generateOcsUrl('apps/files_sharing/api/v1/sharees'), { params })\n\t\t\tcommit('setSharees', response.data.ocs.data)\n\t\t},\n\n\t\tsetBoardFilter({ commmit }, filter) {\n\t\t\tcommmit('setBoardFilter', filter)\n\t\t},\n\t\ttoggleNav({ commit }, navState) {\n\t\t\tcommit('toggleNav', navState)\n\t\t},\n\t\ttoggleSidebar({ commit }) {\n\t\t\tcommit('toggleSidebar')\n\t\t},\n\t\ttoggleCompactMode({ commit }) {\n\t\t\tcommit('toggleCompactMode')\n\t\t},\n\t\ttoggleShowCardCover({ commit }) {\n\t\t\tcommit('toggleShowCardCover')\n\t\t},\n\t\tsetCurrentBoard({ commit }, board) {\n\t\t\tcommit('setCurrentBoard', board)\n\t\t},\n\t\tsetAssignableUsers({ commit }, board) {\n\t\t\tcommit('setAssignableUsers', board)\n\t\t},\n\t\tsetCurrentCard({ commit }, card) {\n\t\t\tcommit('setCurrentCard', card)\n\t\t},\n\n\t\t// label actions\n\t\tremoveLabelFromCurrentBoard({ commit }, label) {\n\t\t\tapiClient.deleteLabel(label)\n\t\t\t\t.then((label) => {\n\t\t\t\t\tcommit('removeLabelFromCurrentBoard', label.id)\n\t\t\t\t})\n\t\t},\n\t\tupdateLabelFromCurrentBoard({ commit }, newLabel) {\n\t\t\tapiClient.updateLabel(newLabel)\n\t\t\t\t.then((newLabel) => {\n\t\t\t\t\tcommit('updateLabelFromCurrentBoard', newLabel)\n\t\t\t\t})\n\t\t},\n\t\taddLabelToCurrentBoard({ commit }, newLabel) {\n\t\t\tnewLabel.boardId = this.state.currentBoard.id\n\t\t\tapiClient.createLabel(newLabel)\n\t\t\t\t.then((newLabel) => {\n\t\t\t\t\tcommit('addLabelToCurrentBoard', newLabel)\n\t\t\t\t})\n\t\t},\n\t\tasync addLabelToCurrentBoardAndCard({ dispatch, commit }, { newLabel, card }) {\n\t\t\tnewLabel.boardId = this.state.currentBoard.id\n\t\t\tconst label = await apiClient.createLabel(newLabel)\n\t\t\tcommit('addLabelToCurrentBoard', label)\n\t\t\tdispatch('addLabel', {\n\t\t\t\tcard,\n\t\t\t\tlabelId: label.id,\n\t\t\t})\n\t\t\treturn label\n\t\t},\n\n\t\t// acl actions\n\t\tasync addAclToCurrentBoard({ dispatch, commit }, newAcl) {\n\t\t\tnewAcl.boardId = this.state.currentBoard.id\n\t\t\tconst result = await apiClient.addAcl(newAcl)\n\t\t\tcommit('addAclToCurrentBoard', result)\n\t\t\tdispatch('refreshBoard', newAcl.boardId)\n\t\t},\n\t\tupdateAclFromCurrentBoard({ commit }, acl) {\n\t\t\tacl.boardId = this.state.currentBoard.id\n\t\t\tapiClient.updateAcl(acl)\n\t\t\t\t.then((acl) => {\n\t\t\t\t\tcommit('updateAclFromCurrentBoard', acl)\n\t\t\t\t})\n\t\t},\n\t\tdeleteAclFromCurrentBoard({ dispatch, commit }, acl) {\n\t\t\tacl.boardId = this.state.currentBoard.id\n\t\t\tapiClient.deleteAcl(acl)\n\t\t\t\t.then((acl) => {\n\t\t\t\t\tcommit('deleteAclFromCurrentBoard', acl)\n\t\t\t\t\tdispatch('loadBoardById', acl.boardId)\n\t\t\t\t})\n\t\t},\n\t\tasync transferOwnership({ commit }, { boardId, newOwner }) {\n\t\t\tawait axios.put(generateUrl(`apps/deck/boards/${boardId}/transferOwner`), {\n\t\t\t\tnewOwner,\n\t\t\t})\n\t\t},\n\t\ttoggleShortcutLock({ commit }, lock) {\n\t\t\tcommit('TOGGLE_SHORTCUT_LOCK', lock)\n\t\t},\n\t},\n})\n","/**\n * SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport { listen } from '@nextcloud/notify_push'\nimport { sessionApi } from './services/SessionApi.js'\nimport store from './store/main.js'\nimport axios from '@nextcloud/axios'\n\nconst SESSION_INTERVAL = 90 // in seconds\n\nlet hasPush = false\n\nlet syncRunning = false\n\n/**\n * used to verify, whether an event is originated by ourselves\n *\n * @param token\n */\nfunction isOurSessionToken(token) {\n\tif (axios.defaults.headers['x-nc-deck-session']\n\t\t&& axios.defaults.headers['x-nc-deck-session'].startsWith(token)) {\n\t\treturn true\n\t} else {\n\t\treturn false\n\t}\n}\n\nhasPush = listen('deck_board_update', (name, body) => {\n\t// ignore update events which we have triggered ourselves\n\tif (isOurSessionToken(body._causingSessionToken)) return\n\n\t// only handle update events for the currently open board\n\tconst currentBoardId = store.state.currentBoard?.id\n\tif (body.id !== currentBoardId) return\n\n\tstore.dispatch('refreshBoard', currentBoardId)\n})\n\nlisten('deck_card_update', (name, body) => {\n\n\t// ignore update events which we have triggered ourselves\n\tif (isOurSessionToken(body._causingSessionToken)) return\n\n\t// only handle update events for the currently open board\n\tconst currentBoardId = store.state.currentBoard?.id\n\tif (body.boardId !== currentBoardId) return\n\n\tstore.dispatch('loadStacks', currentBoardId)\n})\n\n/**\n * is the notify_push app active and can\n * provide us with real time updates?\n */\nexport function isNotifyPushEnabled() {\n\treturn hasPush\n}\n\n/**\n *\n * @param boardId\n */\nexport function createSession(boardId) {\n\n\tif (!isNotifyPushEnabled()) {\n\t\t// return a dummy object\n\t\treturn {\n\t\t\tasync close() {},\n\t\t}\n\t}\n\n\t// let's try to make createSession() synchronous, so that\n\t// the component doesn't need to bother about the asynchronousness\n\tlet tokenPromise\n\tlet token\n\tconst create = () => {\n\t\ttokenPromise = sessionApi.createSession(boardId).then(res => res.token)\n\t\ttokenPromise.then((t) => {\n\t\t\ttoken = t\n\t\t\taxios.defaults.headers['x-nc-deck-session'] = t\n\t\t})\n\t}\n\tcreate()\n\n\tconst ensureSession = async () => {\n\t\tif (!tokenPromise) {\n\t\t\tcreate()\n\t\t\treturn\n\t\t}\n\n\t\tif (syncRunning) {\n\t\t\treturn\n\t\t}\n\n\t\ttry {\n\t\t\tsyncRunning = true\n\t\t\tawait sessionApi.syncSession(boardId, await tokenPromise)\n\t\t} catch (err) {\n\t\t\tif (err.response.status === 404) {\n\t\t\t\t// session probably expired, let's\n\t\t\t\t// create a fresh session\n\t\t\t\tcreate()\n\t\t\t} else {\n\t\t\t\tconsole.error('Failed to sync deck session', err)\n\t\t\t}\n\t\t} finally {\n\t\t\tsyncRunning = false\n\t\t}\n\t}\n\n\t// periodically notify the server that we are still here\n\tlet interval = setInterval(ensureSession, SESSION_INTERVAL * 1000)\n\n\t// close session when tab gets hidden/inactive\n\tconst visibilitychangeListener = () => {\n\t\tif (document.visibilityState === 'hidden' && token) {\n\t\t\tsessionApi.closeSessionViaBeacon(boardId, token)\n\t\t\ttokenPromise = null\n\t\t\ttoken = null\n\t\t\tdelete axios.defaults.headers['x-nc-deck-session']\n\n\t\t\t// stop session refresh interval\n\t\t\tclearInterval(interval)\n\t\t} else {\n\t\t\t// tab is back in focus or was restored from the bfcache\n\t\t\tensureSession()\n\n\t\t\t// we must assume that the websocket connection was\n\t\t\t// paused and we have missed updates in the meantime.\n\t\t\tstore.dispatch('refreshBoard', store.state.currentBoard?.id)\n\n\t\t\t// restart session refresh interval\n\t\t\tclearInterval(interval)\n\t\t\tinterval = setInterval(ensureSession, SESSION_INTERVAL * 1000)\n\t\t}\n\t}\n\tdocument.addEventListener('visibilitychange', visibilitychangeListener)\n\n\treturn {\n\t\tasync close() {\n\t\t\tclearInterval(interval)\n\t\t\tdocument.removeEventListener('visibilitychange', visibilitychangeListener)\n\t\t\tif (token) {\n\t\t\t\tawait sessionApi.closeSession(boardId, token)\n\t\t\t\ttokenPromise = null\n\t\t\t\ttoken = null\n\t\t\t\tdelete axios.defaults.headers['x-nc-deck-session']\n\t\t\t}\n\t\t},\n\t}\n}\n","<!--\n  - SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div class=\"controls\">\n\t\t<NcModal v-if=\"showAddCardModal\" class=\"card-selector\" @close=\"clickHideAddCardModel\">\n\t\t\t<CreateNewCardCustomPicker show-created-notice @cancel=\"clickHideAddCardModel\" />\n\t\t</NcModal>\n\t\t<div v-if=\"overviewName\" class=\"board-title\">\n\t\t\t<div class=\"board-bullet icon-calendar-dark\" />\n\t\t\t<h2 dir=\"auto\">\n\t\t\t\t{{ overviewName }}\n\t\t\t</h2>\n\t\t\t<NcActions>\n\t\t\t\t<NcActionButton icon=\"icon-add\" @click=\"clickShowAddCardModel\">\n\t\t\t\t\t{{ t('deck', 'Add card') }}\n\t\t\t\t</NcActionButton>\n\t\t\t</NcActions>\n\t\t</div>\n\t\t<div v-else-if=\"board\" class=\"board-title\">\n\t\t\t<div :style=\"{backgroundColor: '#' + board.color}\" class=\"board-bullet\" />\n\t\t\t<h2 dir=\"auto\">\n\t\t\t\t{{ board.title }}\n\t\t\t</h2>\n\t\t\t<p v-if=\"showArchived\">\n\t\t\t\t({{ t('deck', 'Archived cards') }})\n\t\t\t</p>\n\t\t</div>\n\t\t<div class=\"board-actions\">\n\t\t\t<SessionList v-if=\"isNotifyPushEnabled && presentUsers.length\"\n\t\t\t\t:sessions=\"presentUsers\" />\n\t\t\t<!-- Hide but not remove for now as search might change in the future -->\n\t\t\t<div v-if=\"false\" class=\"deck-search\">\n\t\t\t\t<input id=\"deck-search-input\"\n\t\t\t\t\tref=\"search\"\n\t\t\t\t\t:tabindex=\"0\"\n\t\t\t\t\ttype=\"search\"\n\t\t\t\t\tclass=\"icon-search\"\n\t\t\t\t\t:value=\"searchQuery\"\n\t\t\t\t\t@focus=\"$store.dispatch('toggleShortcutLock', true)\"\n\t\t\t\t\t@blur=\"$store.dispatch('toggleShortcutLock', false)\"\n\t\t\t\t\t@input=\"$store.commit('setSearchQuery', $event.target.value)\">\n\t\t\t</div>\n\t\t\t<div v-if=\"board && canManage && !showArchived && !board.archived\"\n\t\t\t\tid=\"stack-add\"\n\t\t\t\tv-click-outside=\"hideAddStack\">\n\t\t\t\t<NcActions v-if=\"!isAddStackVisible\">\n\t\t\t\t\t<NcActionButton @click.stop=\"showAddStack\">\n\t\t\t\t\t\t{{ t('deck', 'Add list') }}\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<TableColumnPlusAfter :size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</NcActionButton>\n\t\t\t\t</NcActions>\n\t\t\t\t<form v-else @submit.prevent=\"addNewStack()\">\n\t\t\t\t\t<label for=\"new-stack-input-main\" class=\"hidden-visually\">{{ t('deck', 'Add list') }}</label>\n\t\t\t\t\t<input id=\"new-stack-input-main\"\n\t\t\t\t\t\tv-model=\"newStackTitle\"\n\t\t\t\t\t\tv-focus\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclass=\"no-close\"\n\t\t\t\t\t\t:placeholder=\"t('deck', 'List name')\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\t@focus=\"$store.dispatch('toggleShortcutLock', true)\"\n\t\t\t\t\t\t@blur=\"$store.dispatch('toggleShortcutLock', false)\">\n\t\t\t\t\t<input :title=\"t('deck', 'Add list')\"\n\t\t\t\t\t\tclass=\"icon-confirm\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tvalue=\"\">\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t\t<div v-if=\"board\" class=\"board-action-buttons\">\n\t\t\t\t<div class=\"board-action-buttons__filter\">\n\t\t\t\t\t<NcPopover :placement=\"'bottom-end'\"\n\t\t\t\t\t\t:aria-label=\"t('deck', 'Active filters')\"\n\t\t\t\t\t\t:name=\"t('deck', 'Active filters')\"\n\t\t\t\t\t\t@show=\"filterVisible=true\"\n\t\t\t\t\t\t@hide=\"filterVisible=false\">\n\t\t\t\t\t\t<!-- We cannot use NcActions here are the popover trigger does not update on reactive icons -->\n\t\t\t\t\t\t<template #trigger>\n\t\t\t\t\t\t\t<NcButton ref=\"filterPopover\"\n\t\t\t\t\t\t\t\t:title=\"t('deck', 'Apply filter')\"\n\t\t\t\t\t\t\t\t:aria-label=\"t('deck', 'Apply filter')\"\n\t\t\t\t\t\t\t\tclass=\"filter-button\"\n\t\t\t\t\t\t\t\t:type=\"isFilterActive ? 'primary' : 'tertiary'\">\n\t\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t\t<FilterIcon v-if=\"isFilterActive\" :size=\"20\" decorative />\n\t\t\t\t\t\t\t\t\t<FilterOffIcon v-else :size=\"20\" decorative />\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</NcButton>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<div v-if=\"filterVisible\" class=\"filter\">\n\t\t\t\t\t\t\t<h3>{{ t('deck', 'Filter by tag') }}</h3>\n\t\t\t\t\t\t\t<div v-for=\"label in labelsSorted\" :key=\"label.id\" class=\"filter--item\">\n\t\t\t\t\t\t\t\t<input :id=\"label.id\"\n\t\t\t\t\t\t\t\t\tv-model=\"filter.tags\"\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\tclass=\"checkbox\"\n\t\t\t\t\t\t\t\t\t:value=\"label.id\"\n\t\t\t\t\t\t\t\t\t@change=\"setFilter\">\n\t\t\t\t\t\t\t\t<label :for=\"label.id\"><span class=\"label\" :style=\"labelStyle(label)\">{{ label.title }}</span></label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<h3>{{ t('deck', 'Filter by assigned user') }}</h3>\n\t\t\t\t\t\t\t<div class=\"filter--item\">\n\t\t\t\t\t\t\t\t<input id=\"unassigned\"\n\t\t\t\t\t\t\t\t\tv-model=\"filter.unassigned\"\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\tclass=\"checkbox\"\n\t\t\t\t\t\t\t\t\tvalue=\"unassigned\"\n\t\t\t\t\t\t\t\t\t@change=\"setFilter\"\n\t\t\t\t\t\t\t\t\t@click=\"beforeSetFilter\">\n\t\t\t\t\t\t\t\t<label for=\"unassigned\">{{ t('deck', 'Unassigned') }}</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div v-for=\"user in board.users\" :key=\"user.uid\" class=\"filter--item\">\n\t\t\t\t\t\t\t\t<input :id=\"user.uid\"\n\t\t\t\t\t\t\t\t\tv-model=\"filter.users\"\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\tclass=\"checkbox\"\n\t\t\t\t\t\t\t\t\t:value=\"user.uid\"\n\t\t\t\t\t\t\t\t\t@change=\"setFilter\">\n\t\t\t\t\t\t\t\t<label :for=\"user.uid\"><NcAvatar :user=\"user.uid\" :size=\"24\" :disable-menu=\"true\" /> {{ user.displayname }}</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<h3>{{ t('deck', 'Filter by status') }}</h3>\n\t\t\t\t\t\t\t<div class=\"filter--item\">\n\t\t\t\t\t\t\t\t<input id=\"filter-option-both\"\n\t\t\t\t\t\t\t\t\tv-model=\"filter.completed\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tclass=\"radio\"\n\t\t\t\t\t\t\t\t\tvalue=\"both\"\n\t\t\t\t\t\t\t\t\t@change=\"setFilter\"\n\t\t\t\t\t\t\t\t\t@click=\"beforeSetFilter\">\n\t\t\t\t\t\t\t\t<label for=\"filter-option-both\">{{ t('deck', 'Open and completed') }}</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"filter--item\">\n\t\t\t\t\t\t\t\t<input id=\"filter-option-open\"\n\t\t\t\t\t\t\t\t\tv-model=\"filter.completed\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tclass=\"radio\"\n\t\t\t\t\t\t\t\t\tvalue=\"open\"\n\t\t\t\t\t\t\t\t\t@change=\"setFilter\"\n\t\t\t\t\t\t\t\t\t@click=\"beforeSetFilter\">\n\t\t\t\t\t\t\t\t<label for=\"filter-option-open\">{{ t('deck', 'Open') }}</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"filter--item\">\n\t\t\t\t\t\t\t\t<input id=\"filter-option-completed\"\n\t\t\t\t\t\t\t\t\tv-model=\"filter.completed\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tclass=\"radio\"\n\t\t\t\t\t\t\t\t\tvalue=\"completed\"\n\t\t\t\t\t\t\t\t\t@change=\"setFilter\"\n\t\t\t\t\t\t\t\t\t@click=\"beforeSetFilter\">\n\t\t\t\t\t\t\t\t<label for=\"filter-option-completed\">{{ t('deck', 'Completed') }}</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<h3>{{ t('deck', 'Filter by due date') }}</h3>\n\t\t\t\t\t\t\t<div class=\"filter--item\">\n\t\t\t\t\t\t\t\t<input id=\"overdue\"\n\t\t\t\t\t\t\t\t\tv-model=\"filter.due\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tclass=\"radio\"\n\t\t\t\t\t\t\t\t\tvalue=\"overdue\"\n\t\t\t\t\t\t\t\t\t@change=\"setFilter\"\n\t\t\t\t\t\t\t\t\t@click=\"beforeSetFilter\">\n\t\t\t\t\t\t\t\t<label for=\"overdue\">{{ t('deck', 'Overdue') }}</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"filter--item\">\n\t\t\t\t\t\t\t\t<input id=\"dueToday\"\n\t\t\t\t\t\t\t\t\tv-model=\"filter.due\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tclass=\"radio\"\n\t\t\t\t\t\t\t\t\tvalue=\"dueToday\"\n\t\t\t\t\t\t\t\t\t@change=\"setFilter\"\n\t\t\t\t\t\t\t\t\t@click=\"beforeSetFilter\">\n\t\t\t\t\t\t\t\t<label for=\"dueToday\">{{ t('deck', 'Next 24 hours') }}</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"filter--item\">\n\t\t\t\t\t\t\t\t<input id=\"dueWeek\"\n\t\t\t\t\t\t\t\t\tv-model=\"filter.due\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tclass=\"radio\"\n\t\t\t\t\t\t\t\t\tvalue=\"dueWeek\"\n\t\t\t\t\t\t\t\t\t@change=\"setFilter\"\n\t\t\t\t\t\t\t\t\t@click=\"beforeSetFilter\">\n\t\t\t\t\t\t\t\t<label for=\"dueWeek\">{{ t('deck', 'Next 7 days') }}</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"filter--item\">\n\t\t\t\t\t\t\t\t<input id=\"dueMonth\"\n\t\t\t\t\t\t\t\t\tv-model=\"filter.due\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tclass=\"radio\"\n\t\t\t\t\t\t\t\t\tvalue=\"dueMonth\"\n\t\t\t\t\t\t\t\t\t@change=\"setFilter\"\n\t\t\t\t\t\t\t\t\t@click=\"beforeSetFilter\">\n\t\t\t\t\t\t\t\t<label for=\"dueMonth\">{{ t('deck', 'Next 30 days') }}</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"filter--item\">\n\t\t\t\t\t\t\t\t<input id=\"noDue\"\n\t\t\t\t\t\t\t\t\tv-model=\"filter.due\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tclass=\"radio\"\n\t\t\t\t\t\t\t\t\tvalue=\"noDue\"\n\t\t\t\t\t\t\t\t\t@change=\"setFilter\"\n\t\t\t\t\t\t\t\t\t@click=\"beforeSetFilter\">\n\t\t\t\t\t\t\t\t<label for=\"noDue\">{{ t('deck', 'No due date') }}</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<NcButton :disabled=\"!isFilterActive\" :wide=\"true\" @click=\"clearFilter\">\n\t\t\t\t\t\t\t\t{{ t('deck', 'Clear filter') }}\n\t\t\t\t\t\t\t</NcButton>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</NcPopover>\n\t\t\t\t</div>\n\n\t\t\t\t<NcActions :aria-label=\"t('deck', 'View Modes')\"\n\t\t\t\t\t:name=\"t('deck', 'Toggle View Modes')\">\n\t\t\t\t\t<NcActionButton @click=\"toggleShowArchived\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<ArchiveIcon :size=\"20\" decorative />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ showArchived ? t('deck', 'Hide archived cards') : t('deck', 'Show archived cards') }}\n\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t<NcActionButton v-if=\"compactMode\"\n\t\t\t\t\t\t@click=\"toggleCompactMode\">\n\t\t\t\t\t\t<ArrowExpandVerticalIcon slot=\"icon\" :size=\"20\" decorative />\n\t\t\t\t\t\t{{ t('deck', 'Toggle compact mode') }}\n\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t<NcActionButton v-else\n\t\t\t\t\t\t@click=\"toggleCompactMode\">\n\t\t\t\t\t\t<ArrowCollapseVerticalIcon slot=\"icon\" :size=\"20\" decorative />\n\t\t\t\t\t\t{{ t('deck', 'Toggle compact mode') }}\n\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t<NcActionButton @click=\"toggleShowCardCover\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<ImageIcon :size=\"20\" decorative />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ showCardCover ? t('deck', 'Hide card cover images') : t('deck', 'Show card cover images') }}\n\t\t\t\t\t</NcActionButton>\n\t\t\t\t</NcActions>\n\t\t\t\t<!-- FIXME: NcActionRouter currently doesn't work as an inline action -->\n\t\t\t\t<NcActions v-if=\"isFullApp\">\n\t\t\t\t\t<NcActionButton icon=\"icon-menu-sidebar\"\n\t\t\t\t\t\t:aria-label=\"t('deck', 'Open details')\"\n\t\t\t\t\t\t:name=\"t('deck', 'Details')\"\n\t\t\t\t\t\t@click=\"toggleDetailsView\" />\n\t\t\t\t</NcActions>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { mapState, mapGetters } from 'vuex'\nimport { subscribe, unsubscribe } from '@nextcloud/event-bus'\nimport { NcActions, NcActionButton, NcAvatar, NcButton, NcPopover, NcModal } from '@nextcloud/vue'\nimport labelStyle from '../mixins/labelStyle.js'\nimport ArchiveIcon from 'vue-material-design-icons/Archive.vue'\nimport ImageIcon from 'vue-material-design-icons/ImageMultiple.vue'\nimport FilterIcon from 'vue-material-design-icons/Filter.vue'\nimport FilterOffIcon from 'vue-material-design-icons/FilterOff.vue'\nimport TableColumnPlusAfter from 'vue-material-design-icons/TableColumnPlusAfter.vue'\nimport ArrowCollapseVerticalIcon from 'vue-material-design-icons/ArrowCollapseVertical.vue'\nimport ArrowExpandVerticalIcon from 'vue-material-design-icons/ArrowExpandVertical.vue'\nimport SessionList from './SessionList.vue'\nimport { isNotifyPushEnabled } from '../sessions.js'\nimport CreateNewCardCustomPicker from '../views/CreateNewCardCustomPicker.vue'\nimport { getCurrentUser } from '@nextcloud/auth'\n\nexport default {\n\tname: 'Controls',\n\tcomponents: {\n\t\tCreateNewCardCustomPicker,\n\t\tNcModal,\n\t\tNcActions,\n\t\tNcActionButton,\n\t\tNcButton,\n\t\tNcPopover,\n\t\tNcAvatar,\n\t\tArchiveIcon,\n\t\tImageIcon,\n\t\tFilterIcon,\n\t\tFilterOffIcon,\n\t\tArrowCollapseVerticalIcon,\n\t\tArrowExpandVerticalIcon,\n\t\tTableColumnPlusAfter,\n\t\tSessionList,\n\t},\n\tmixins: [labelStyle],\n\tprops: {\n\t\tboard: {\n\t\t\ttype: Object,\n\t\t\trequired: false,\n\t\t\tdefault: null,\n\t\t},\n\t\toverviewName: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tnewStackTitle: '',\n\t\t\tstack: '',\n\t\t\tfilterVisible: false,\n\t\t\tshowArchived: false,\n\t\t\tisAddStackVisible: false,\n\t\t\tfilter: { tags: [], users: [], due: '', unassigned: false, completed: 'both' },\n\t\t\tshowAddCardModal: false,\n\t\t\tdefaultPageTitle: false,\n\t\t\tisNotifyPushEnabled: isNotifyPushEnabled(),\n\t\t}\n\t},\n\n\tcomputed: {\n\t\t...mapGetters([\n\t\t\t'canEdit',\n\t\t\t'canManage',\n\t\t]),\n\t\t...mapState({\n\t\t\tisFullApp: state => state.isFullApp,\n\t\t\tcompactMode: state => state.compactMode,\n\t\t\tshowCardCover: state => state.showCardCover,\n\t\t\tsearchQuery: state => state.searchQuery,\n\t\t}),\n\t\tdetailsRoute() {\n\t\t\treturn {\n\t\t\t\tname: 'board.details',\n\t\t\t}\n\t\t},\n\t\tisFilterActive() {\n\t\t\treturn this.filter.tags.length !== 0 || this.filter.users.length !== 0 || this.filter.due !== '' || this.filter.completed !== 'both'\n\t\t},\n\t\tlabelsSorted() {\n\t\t\treturn [...this.board.labels].sort((a, b) => (a.title < b.title) ? -1 : 1)\n\t\t},\n\t\tpresentUsers() {\n\t\t\tif (!this.board) return []\n\t\t\t// get user object including displayname from the list of all users with acces\n\t\t\treturn this.board.users.filter((user) => this.board.activeSessions.includes(user.uid))\n\t\t},\n\t},\n\twatch: {\n\t\tboard(current, previous) {\n\t\t\tif (current?.id !== previous?.id) {\n\t\t\t\tthis.clearFilter()\n\t\t\t}\n\t\t\tif (current) {\n\t\t\t\tthis.setPageTitle(current.title)\n\t\t\t}\n\t\t},\n\t},\n\tbeforeMount() {\n\t\tsubscribe('deck:board:show-new-card', this.clickShowAddCardModel)\n\t\tsubscribe('deck:board:toggle-filter-popover', this.triggerOpenFilters)\n\t\tsubscribe('deck:board:clear-filter', this.triggerClearFilter)\n\t\tsubscribe('deck:board:toggle-filter-by-me', this.triggerFilterByMe)\n\n\t},\n\tbeforeDestroy() {\n\t\tunsubscribe('deck:board:show-new-card', this.clickShowAddCardModel)\n\t\tunsubscribe('deck:board:toggle-filter-popover', this.triggerOpenFilters)\n\t\tunsubscribe('deck:board:clear-filter', this.triggerClearFilter)\n\t\tunsubscribe('deck:board:toggle-filter-by-me', this.triggerFilterByMe)\n\t\tthis.setPageTitle('')\n\t},\n\tmethods: {\n\t\tbeforeSetFilter(e) {\n\t\t\tif (this.filter.due === e.target.value) {\n\t\t\t\tthis.filter.due = ''\n\t\t\t\tthis.$store.dispatch('setFilter', { ...this.filter })\n\t\t\t}\n\t\t\tif (e.target.value === 'unassigned') {\n\t\t\t\tthis.filter.users = []\n\t\t\t\tthis.$store.dispatch('setFilter', { ...this.filter })\n\t\t\t} else {\n\t\t\t\tthis.filter.completed = 'both'\n\t\t\t\tthis.$store.dispatch('setFilter', { ...this.filter })\n\t\t\t}\n\t\t\tthis.$store.dispatch('setFilter', { ...this.filter })\n\t\t},\n\t\tsetFilter() {\n\t\t\tif (this.filter.users.length > 0) {\n\t\t\t\tthis.filter.unassigned = false\n\t\t\t}\n\t\t\tthis.$nextTick(() => this.$store.dispatch('setFilter', { ...this.filter }))\n\t\t},\n\t\ttoggleNav() {\n\t\t\tthis.$store.dispatch('toggleNav')\n\t\t},\n\t\ttoggleCompactMode() {\n\t\t\tthis.$store.dispatch('toggleCompactMode')\n\t\t},\n\t\ttoggleShowCardCover() {\n\t\t\tthis.$store.dispatch('toggleShowCardCover')\n\t\t},\n\t\ttoggleShowArchived() {\n\t\t\tthis.$store.dispatch('toggleShowArchived')\n\t\t\tthis.showArchived = !this.showArchived\n\t\t},\n\t\taddNewStack() {\n\t\t\tthis.stack = { title: this.newStackTitle }\n\t\t\tthis.$store.dispatch('createStack', this.stack)\n\t\t\tthis.newStackTitle = ''\n\t\t\tthis.stack = null\n\t\t\tthis.isAddStackVisible = false\n\t\t},\n\t\tshowAddStack() {\n\t\t\tthis.isAddStackVisible = true\n\t\t},\n\t\thideAddStack() {\n\t\t\tthis.isAddStackVisible = false\n\t\t},\n\t\ttoggleDetailsView() {\n\t\t\tif (this.$route.name === 'board.details') {\n\t\t\t\tthis.$router.push({ name: 'board' })\n\t\t\t} else {\n\t\t\t\tthis.$router.push({ name: 'board.details' })\n\t\t\t}\n\t\t},\n\t\tclearFilter() {\n\t\t\tconst filterReset = { tags: [], users: [], due: '', completed: 'both' }\n\t\t\tthis.$store.dispatch('setFilter', { ...filterReset })\n\t\t\tthis.filter = filterReset\n\t\t},\n\t\tclickShowAddCardModel() {\n\t\t\tthis.showAddCardModal = true\n\t\t},\n\t\tclickHideAddCardModel() {\n\t\t\tthis.showAddCardModal = false\n\t\t},\n\t\tsetPageTitle(title) {\n\t\t\tif (!this.isFullApp) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif (this.defaultPageTitle === false) {\n\t\t\t\tthis.defaultPageTitle = window.document.title\n\t\t\t\tif (this.defaultPageTitle.indexOf(' - Deck - ') !== -1) {\n\t\t\t\t\tthis.defaultPageTitle = this.defaultPageTitle.substring(this.defaultPageTitle.indexOf(' - Deck - ') + 3)\n\t\t\t\t}\n\t\t\t\tif (this.defaultPageTitle.indexOf('Deck - ') !== 0) {\n\t\t\t\t\tthis.defaultPageTitle = 'Deck - ' + this.defaultPageTitle\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet newTitle = this.defaultPageTitle\n\t\t\tif (title !== '') {\n\t\t\t\tnewTitle = `${title} - ${newTitle}`\n\t\t\t}\n\t\t\twindow.document.title = newTitle\n\t\t},\n\t\ttriggerOpenFilters() {\n\t\t\tthis.$refs.filterPopover.$el.click()\n\t\t},\n\t\ttriggerOpenSearch() {\n\t\t\tthis.$refs.search.focus()\n\t\t},\n\t\ttriggerClearFilter() {\n\t\t\tthis.clearFilter()\n\t\t},\n\t\ttriggerFilterByMe() {\n\t\t\tif (this.isFilterActive) {\n\t\t\t\tthis.clearFilter()\n\t\t\t} else {\n\t\t\t\tthis.filter.users = [getCurrentUser().uid]\n\t\t\t\tthis.setFilter()\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.controls {\n\t\tdisplay: flex;\n\t\tmargin: calc(var(--default-grid-baseline) * 2);\n\t\theight: var(--default-clickable-area);\n\t\tpadding-left: var(--default-clickable-area);\n\n\t\t.board-title {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\n\t\t\th2 {\n\t\t\t\tmargin: 0;\n\t\t\t\tmargin-right: 10px;\n\t\t\t\tfont-size: 18px;\n\t\t\t}\n\n\t\t\t.board-bullet {\n\t\t\t\tdisplay: inline-block;\n\t\t\t\twidth: 16px;\n\t\t\t\theight: 16px;\n\t\t\t\tborder: none;\n\t\t\t\tborder-radius: 50%;\n\t\t\t\tbackground-color: transparent;\n\t\t\t\tmargin: var(--default-grid-baseline);\n\t\t\t}\n\t\t}\n\n\t\t#stack-add form {\n\t\t\tdisplay: flex;\n\t\t}\n\t}\n\n\t#app-navigation-toggle-custom {\n\t\tposition: static;\n\t\twidth: var(--default-clickable-area);\n\t\theight: var(--default-clickable-area);\n\t\tcursor: pointer;\n\t\topacity: 1;\n\t\tdisplay: inline-block !important;\n\t}\n\n\t.board-actions {\n\t\tflex-grow: 1;\n\t\torder: 100;\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t}\n\n\t.board-action-buttons {\n\t\tdisplay: flex;\n\t}\n\n\t.deck-search {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tinput[type=search] {\n\t\t\tbackground-position: 5px;\n\t\t\tpadding-left: 24px !important;\n\t\t}\n\t}\n\n\t.filter--item {\n\t\tinput + label {\n\t\t\tdisplay: block;\n\t\t\tpadding: var(--default-grid-baseline) 0;\n\t\t\t.avatardiv {\n\t\t\t\tvertical-align: middle;\n\t\t\t\tmargin-bottom: 2px;\n\t\t\t\tmargin-right: 3px;\n\t\t\t}\n\t\t\t.label {\n\t\t\t\tpadding: 5px;\n\t\t\t\tborder-radius: 3px;\n\t\t\t}\n\t\t}\n\t}\n\n\t.filter {\n\t\twidth: 240px;\n\t\tmax-height: calc(100vh - 150px);\n\t\tposition: relative;\n\t\toverflow: auto;\n\t\tpadding: 8px;\n\t}\n\n\t.filter h3 {\n\t\tmargin-top: 0px;\n\t\tmargin-bottom: 5px;\n\t}\n\n\t.filter-button {\n\t\tpadding: 0;\n\t\tborder-radius: 50%;\n\t\twidth: var(--default-clickable-area);\n\t\theight: var(--default-clickable-area);\n\n\t\t&[data-popper-shown] {\n\t\t\tbackground-color: var(--color-background-hover);\n\t\t\t&.button-vue--vue-primary {\n\t\t\t\tbackground-color: var(--color-primary-element);\n\t\t\t}\n\t\t}\n\t}\n</style>\n<style lang=\"scss\">\n\t.popover:focus {\n\t\toutline: 2px solid var(--color-main-text);\n\t}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controls.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controls.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controls.vue?vue&type=style&index=0&id=8382b7c2&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controls.vue?vue&type=style&index=0&id=8382b7c2&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controls.vue?vue&type=style&index=1&id=8382b7c2&prod&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controls.vue?vue&type=style&index=1&id=8382b7c2&prod&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Controls.vue?vue&type=template&id=8382b7c2&scoped=true\"\nimport script from \"./Controls.vue?vue&type=script&lang=js\"\nexport * from \"./Controls.vue?vue&type=script&lang=js\"\nimport style0 from \"./Controls.vue?vue&type=style&index=0&id=8382b7c2&prod&lang=scss&scoped=true\"\nimport style1 from \"./Controls.vue?vue&type=style&index=1&id=8382b7c2&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8382b7c2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"controls\"},[(_vm.showAddCardModal)?_c('NcModal',{staticClass:\"card-selector\",on:{\"close\":_vm.clickHideAddCardModel}},[_c('CreateNewCardCustomPicker',{attrs:{\"show-created-notice\":\"\"},on:{\"cancel\":_vm.clickHideAddCardModel}})],1):_vm._e(),_vm._v(\" \"),(_vm.overviewName)?_c('div',{staticClass:\"board-title\"},[_c('div',{staticClass:\"board-bullet icon-calendar-dark\"}),_vm._v(\" \"),_c('h2',{attrs:{\"dir\":\"auto\"}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.overviewName)+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('NcActions',[_c('NcActionButton',{attrs:{\"icon\":\"icon-add\"},on:{\"click\":_vm.clickShowAddCardModel}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Add card'))+\"\\n\\t\\t\\t\")])],1)],1):(_vm.board)?_c('div',{staticClass:\"board-title\"},[_c('div',{staticClass:\"board-bullet\",style:({backgroundColor: '#' + _vm.board.color})}),_vm._v(\" \"),_c('h2',{attrs:{\"dir\":\"auto\"}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.board.title)+\"\\n\\t\\t\")]),_vm._v(\" \"),(_vm.showArchived)?_c('p',[_vm._v(\"\\n\\t\\t\\t(\"+_vm._s(_vm.t('deck', 'Archived cards'))+\")\\n\\t\\t\")]):_vm._e()]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"board-actions\"},[(_vm.isNotifyPushEnabled && _vm.presentUsers.length)?_c('SessionList',{attrs:{\"sessions\":_vm.presentUsers}}):_vm._e(),_vm._v(\" \"),(false)?_c('div',{staticClass:\"deck-search\"},[_c('input',{ref:\"search\",staticClass:\"icon-search\",attrs:{\"id\":\"deck-search-input\",\"tabindex\":0,\"type\":\"search\"},domProps:{\"value\":_vm.searchQuery},on:{\"focus\":function($event){return _vm.$store.dispatch('toggleShortcutLock', true)},\"blur\":function($event){return _vm.$store.dispatch('toggleShortcutLock', false)},\"input\":function($event){return _vm.$store.commit('setSearchQuery', $event.target.value)}}})]):_vm._e(),_vm._v(\" \"),(_vm.board && _vm.canManage && !_vm.showArchived && !_vm.board.archived)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.hideAddStack),expression:\"hideAddStack\"}],attrs:{\"id\":\"stack-add\"}},[(!_vm.isAddStackVisible)?_c('NcActions',[_c('NcActionButton',{on:{\"click\":function($event){$event.stopPropagation();return _vm.showAddStack.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('TableColumnPlusAfter',{attrs:{\"size\":20}})]},proxy:true}],null,false,3416413118)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Add list'))+\"\\n\\t\\t\\t\\t\\t\")])],1):_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.addNewStack()}}},[_c('label',{staticClass:\"hidden-visually\",attrs:{\"for\":\"new-stack-input-main\"}},[_vm._v(_vm._s(_vm.t('deck', 'Add list')))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newStackTitle),expression:\"newStackTitle\"},{name:\"focus\",rawName:\"v-focus\"}],staticClass:\"no-close\",attrs:{\"id\":\"new-stack-input-main\",\"type\":\"text\",\"placeholder\":_vm.t('deck', 'List name'),\"required\":\"\"},domProps:{\"value\":(_vm.newStackTitle)},on:{\"focus\":function($event){return _vm.$store.dispatch('toggleShortcutLock', true)},\"blur\":function($event){return _vm.$store.dispatch('toggleShortcutLock', false)},\"input\":function($event){if($event.target.composing)return;_vm.newStackTitle=$event.target.value}}}),_vm._v(\" \"),_c('input',{staticClass:\"icon-confirm\",attrs:{\"title\":_vm.t('deck', 'Add list'),\"type\":\"submit\",\"value\":\"\"}})])],1):_vm._e(),_vm._v(\" \"),(_vm.board)?_c('div',{staticClass:\"board-action-buttons\"},[_c('div',{staticClass:\"board-action-buttons__filter\"},[_c('NcPopover',{attrs:{\"placement\":'bottom-end',\"aria-label\":_vm.t('deck', 'Active filters'),\"name\":_vm.t('deck', 'Active filters')},on:{\"show\":function($event){_vm.filterVisible=true},\"hide\":function($event){_vm.filterVisible=false}},scopedSlots:_vm._u([{key:\"trigger\",fn:function(){return [_c('NcButton',{ref:\"filterPopover\",staticClass:\"filter-button\",attrs:{\"title\":_vm.t('deck', 'Apply filter'),\"aria-label\":_vm.t('deck', 'Apply filter'),\"type\":_vm.isFilterActive ? 'primary' : 'tertiary'},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.isFilterActive)?_c('FilterIcon',{attrs:{\"size\":20,\"decorative\":\"\"}}):_c('FilterOffIcon',{attrs:{\"size\":20,\"decorative\":\"\"}})]},proxy:true}],null,false,2332309571)})]},proxy:true}],null,false,2069517790)},[_vm._v(\" \"),(_vm.filterVisible)?_c('div',{staticClass:\"filter\"},[_c('h3',[_vm._v(_vm._s(_vm.t('deck', 'Filter by tag')))]),_vm._v(\" \"),_vm._l((_vm.labelsSorted),function(label){return _c('div',{key:label.id,staticClass:\"filter--item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.tags),expression:\"filter.tags\"}],staticClass:\"checkbox\",attrs:{\"id\":label.id,\"type\":\"checkbox\"},domProps:{\"value\":label.id,\"checked\":Array.isArray(_vm.filter.tags)?_vm._i(_vm.filter.tags,label.id)>-1:(_vm.filter.tags)},on:{\"change\":[function($event){var $$a=_vm.filter.tags,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=label.id,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.filter, \"tags\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.filter, \"tags\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.filter, \"tags\", $$c)}},_vm.setFilter]}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":label.id}},[_c('span',{staticClass:\"label\",style:(_vm.labelStyle(label))},[_vm._v(_vm._s(label.title))])])])}),_vm._v(\" \"),_c('h3',[_vm._v(_vm._s(_vm.t('deck', 'Filter by assigned user')))]),_vm._v(\" \"),_c('div',{staticClass:\"filter--item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.unassigned),expression:\"filter.unassigned\"}],staticClass:\"checkbox\",attrs:{\"id\":\"unassigned\",\"type\":\"checkbox\",\"value\":\"unassigned\"},domProps:{\"checked\":Array.isArray(_vm.filter.unassigned)?_vm._i(_vm.filter.unassigned,\"unassigned\")>-1:(_vm.filter.unassigned)},on:{\"change\":[function($event){var $$a=_vm.filter.unassigned,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"unassigned\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.filter, \"unassigned\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.filter, \"unassigned\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.filter, \"unassigned\", $$c)}},_vm.setFilter],\"click\":_vm.beforeSetFilter}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"unassigned\"}},[_vm._v(_vm._s(_vm.t('deck', 'Unassigned')))])]),_vm._v(\" \"),_vm._l((_vm.board.users),function(user){return _c('div',{key:user.uid,staticClass:\"filter--item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.users),expression:\"filter.users\"}],staticClass:\"checkbox\",attrs:{\"id\":user.uid,\"type\":\"checkbox\"},domProps:{\"value\":user.uid,\"checked\":Array.isArray(_vm.filter.users)?_vm._i(_vm.filter.users,user.uid)>-1:(_vm.filter.users)},on:{\"change\":[function($event){var $$a=_vm.filter.users,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=user.uid,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.filter, \"users\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.filter, \"users\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.filter, \"users\", $$c)}},_vm.setFilter]}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":user.uid}},[_c('NcAvatar',{attrs:{\"user\":user.uid,\"size\":24,\"disable-menu\":true}}),_vm._v(\" \"+_vm._s(user.displayname))],1)])}),_vm._v(\" \"),_c('h3',[_vm._v(_vm._s(_vm.t('deck', 'Filter by status')))]),_vm._v(\" \"),_c('div',{staticClass:\"filter--item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.completed),expression:\"filter.completed\"}],staticClass:\"radio\",attrs:{\"id\":\"filter-option-both\",\"type\":\"radio\",\"value\":\"both\"},domProps:{\"checked\":_vm._q(_vm.filter.completed,\"both\")},on:{\"change\":[function($event){return _vm.$set(_vm.filter, \"completed\", \"both\")},_vm.setFilter],\"click\":_vm.beforeSetFilter}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"filter-option-both\"}},[_vm._v(_vm._s(_vm.t('deck', 'Open and completed')))])]),_vm._v(\" \"),_c('div',{staticClass:\"filter--item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.completed),expression:\"filter.completed\"}],staticClass:\"radio\",attrs:{\"id\":\"filter-option-open\",\"type\":\"radio\",\"value\":\"open\"},domProps:{\"checked\":_vm._q(_vm.filter.completed,\"open\")},on:{\"change\":[function($event){return _vm.$set(_vm.filter, \"completed\", \"open\")},_vm.setFilter],\"click\":_vm.beforeSetFilter}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"filter-option-open\"}},[_vm._v(_vm._s(_vm.t('deck', 'Open')))])]),_vm._v(\" \"),_c('div',{staticClass:\"filter--item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.completed),expression:\"filter.completed\"}],staticClass:\"radio\",attrs:{\"id\":\"filter-option-completed\",\"type\":\"radio\",\"value\":\"completed\"},domProps:{\"checked\":_vm._q(_vm.filter.completed,\"completed\")},on:{\"change\":[function($event){return _vm.$set(_vm.filter, \"completed\", \"completed\")},_vm.setFilter],\"click\":_vm.beforeSetFilter}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"filter-option-completed\"}},[_vm._v(_vm._s(_vm.t('deck', 'Completed')))])]),_vm._v(\" \"),_c('h3',[_vm._v(_vm._s(_vm.t('deck', 'Filter by due date')))]),_vm._v(\" \"),_c('div',{staticClass:\"filter--item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.due),expression:\"filter.due\"}],staticClass:\"radio\",attrs:{\"id\":\"overdue\",\"type\":\"radio\",\"value\":\"overdue\"},domProps:{\"checked\":_vm._q(_vm.filter.due,\"overdue\")},on:{\"change\":[function($event){return _vm.$set(_vm.filter, \"due\", \"overdue\")},_vm.setFilter],\"click\":_vm.beforeSetFilter}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"overdue\"}},[_vm._v(_vm._s(_vm.t('deck', 'Overdue')))])]),_vm._v(\" \"),_c('div',{staticClass:\"filter--item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.due),expression:\"filter.due\"}],staticClass:\"radio\",attrs:{\"id\":\"dueToday\",\"type\":\"radio\",\"value\":\"dueToday\"},domProps:{\"checked\":_vm._q(_vm.filter.due,\"dueToday\")},on:{\"change\":[function($event){return _vm.$set(_vm.filter, \"due\", \"dueToday\")},_vm.setFilter],\"click\":_vm.beforeSetFilter}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"dueToday\"}},[_vm._v(_vm._s(_vm.t('deck', 'Next 24 hours')))])]),_vm._v(\" \"),_c('div',{staticClass:\"filter--item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.due),expression:\"filter.due\"}],staticClass:\"radio\",attrs:{\"id\":\"dueWeek\",\"type\":\"radio\",\"value\":\"dueWeek\"},domProps:{\"checked\":_vm._q(_vm.filter.due,\"dueWeek\")},on:{\"change\":[function($event){return _vm.$set(_vm.filter, \"due\", \"dueWeek\")},_vm.setFilter],\"click\":_vm.beforeSetFilter}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"dueWeek\"}},[_vm._v(_vm._s(_vm.t('deck', 'Next 7 days')))])]),_vm._v(\" \"),_c('div',{staticClass:\"filter--item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.due),expression:\"filter.due\"}],staticClass:\"radio\",attrs:{\"id\":\"dueMonth\",\"type\":\"radio\",\"value\":\"dueMonth\"},domProps:{\"checked\":_vm._q(_vm.filter.due,\"dueMonth\")},on:{\"change\":[function($event){return _vm.$set(_vm.filter, \"due\", \"dueMonth\")},_vm.setFilter],\"click\":_vm.beforeSetFilter}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"dueMonth\"}},[_vm._v(_vm._s(_vm.t('deck', 'Next 30 days')))])]),_vm._v(\" \"),_c('div',{staticClass:\"filter--item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.due),expression:\"filter.due\"}],staticClass:\"radio\",attrs:{\"id\":\"noDue\",\"type\":\"radio\",\"value\":\"noDue\"},domProps:{\"checked\":_vm._q(_vm.filter.due,\"noDue\")},on:{\"change\":[function($event){return _vm.$set(_vm.filter, \"due\", \"noDue\")},_vm.setFilter],\"click\":_vm.beforeSetFilter}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"noDue\"}},[_vm._v(_vm._s(_vm.t('deck', 'No due date')))])]),_vm._v(\" \"),_c('NcButton',{attrs:{\"disabled\":!_vm.isFilterActive,\"wide\":true},on:{\"click\":_vm.clearFilter}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Clear filter'))+\"\\n\\t\\t\\t\\t\\t\\t\")])],2):_vm._e()])],1),_vm._v(\" \"),_c('NcActions',{attrs:{\"aria-label\":_vm.t('deck', 'View Modes'),\"name\":_vm.t('deck', 'Toggle View Modes')}},[_c('NcActionButton',{on:{\"click\":_vm.toggleShowArchived},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ArchiveIcon',{attrs:{\"size\":20,\"decorative\":\"\"}})]},proxy:true}],null,false,2522540071)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.showArchived ? _vm.t('deck', 'Hide archived cards') : _vm.t('deck', 'Show archived cards'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),(_vm.compactMode)?_c('NcActionButton',{on:{\"click\":_vm.toggleCompactMode}},[_c('ArrowExpandVerticalIcon',{attrs:{\"slot\":\"icon\",\"size\":20,\"decorative\":\"\"},slot:\"icon\"}),_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Toggle compact mode'))+\"\\n\\t\\t\\t\\t\")],1):_c('NcActionButton',{on:{\"click\":_vm.toggleCompactMode}},[_c('ArrowCollapseVerticalIcon',{attrs:{\"slot\":\"icon\",\"size\":20,\"decorative\":\"\"},slot:\"icon\"}),_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Toggle compact mode'))+\"\\n\\t\\t\\t\\t\")],1),_vm._v(\" \"),_c('NcActionButton',{on:{\"click\":_vm.toggleShowCardCover},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ImageIcon',{attrs:{\"size\":20,\"decorative\":\"\"}})]},proxy:true}],null,false,4228331746)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.showCardCover ? _vm.t('deck', 'Hide card cover images') : _vm.t('deck', 'Show card cover images'))+\"\\n\\t\\t\\t\\t\")])],1),_vm._v(\" \"),(_vm.isFullApp)?_c('NcActions',[_c('NcActionButton',{attrs:{\"icon\":\"icon-menu-sidebar\",\"aria-label\":_vm.t('deck', 'Open details'),\"name\":_vm.t('deck', 'Details')},on:{\"click\":_vm.toggleDetailsView}})],1):_vm._e()],1):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div v-if=\"card\" class=\"cardid\">\n\t\t<span>#{{ card.id }}</span>\n\t</div>\n</template>\n\n<script>\n\nexport default {\n\tname: 'CardId',\n\tprops: {\n\t\tcard: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.cardid {\n\t\tfont-size: .9em;\n\t}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardId.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardId.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardId.vue?vue&type=style&index=0&id=4f03dbb8&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardId.vue?vue&type=style&index=0&id=4f03dbb8&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CardId.vue?vue&type=template&id=4f03dbb8&scoped=true\"\nimport script from \"./CardId.vue?vue&type=script&lang=js\"\nexport * from \"./CardId.vue?vue&type=script&lang=js\"\nimport style0 from \"./CardId.vue?vue&type=style&index=0&id=4f03dbb8&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f03dbb8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.card)?_c('div',{staticClass:\"cardid\"},[_c('span',[_vm._v(\"#\"+_vm._s(_vm.card.id))])]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div v-if=\"card\" class=\"duedate\" :data-due-state=\"dueState\">\n\t\t<transition name=\"zoom\">\n\t\t\t<div v-if=\"card.duedate || card.done\" class=\"due\" :name=\"absoluteDate\">\n\t\t\t\t<CheckCircle v-if=\"card.done\" :size=\"16\" />\n\t\t\t\t<Clock v-else-if=\"overdue\" :size=\"16\" />\n\t\t\t\t<ClockOutline v-else :size=\"16\" />\n\t\t\t\t<span v-if=\"!compactMode\" class=\"due--label\">{{ relativeDate }}</span>\n\t\t\t</div>\n\t\t</transition>\n\t</div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport moment from '@nextcloud/moment'\nimport Clock from 'vue-material-design-icons/Clock.vue'\nimport ClockOutline from 'vue-material-design-icons/ClockOutline.vue'\nimport CheckCircle from 'vue-material-design-icons/CheckCircle.vue'\n\nconst DueState = {\n\tDone: 'Done',\n\tFuture: 'Future',\n\tNext: 'Next',\n\tNow: 'Now',\n\tOverdue: 'Overdue',\n}\nexport default {\n\tname: 'DueDate',\n\tcomponents: {\n\t\tCheckCircle,\n\t\tClock,\n\t\tClockOutline,\n\t},\n\tprops: {\n\t\tcard: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\tcompactMode: state => state.compactMode,\n\t\t}),\n\t\tdueState() {\n\t\t\tif (this.card.done) {\n\t\t\t\treturn DueState.Done\n\t\t\t}\n\t\t\tconst days = Math.floor(moment(this.card.duedate).diff(this.$root.time, 'seconds') / 60 / 60 / 24)\n\t\t\tif (days < 0) {\n\t\t\t\treturn DueState.Overdue\n\t\t\t}\n\t\t\tif (days === 0) {\n\t\t\t\treturn DueState.Now\n\t\t\t}\n\t\t\tif (days === 1) {\n\t\t\t\treturn DueState.Next\n\t\t\t}\n\n\t\t\treturn DueState.Future\n\t\t},\n\t\toverdue() {\n\t\t\treturn this.dueState === DueState.Overdue\n\t\t},\n\t\trelativeDate() {\n\t\t\tconst date = this.card.done ? this.card.done : this.card.duedate\n\t\t\tconst diff = moment(this.$root.time).diff(date, 'seconds')\n\t\t\tif (diff >= 0 && diff < 45) {\n\t\t\t\treturn t('core', 'seconds ago')\n\t\t\t}\n\t\t\treturn moment(date).fromNow()\n\t\t},\n\t\tabsoluteDate() {\n\t\t\tconst date = this.card.done ? this.card.done : this.card.duedate\n\t\t\treturn moment(date).format('LLLL')\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.due {\n\t\tbackground-position: 4px center;\n\t\tborder-radius: var(--border-radius-pill);\n\t\tpadding: 1px 8px;\n\t\tfont-size: 90%;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tflex-shrink: 1;\n\t\tz-index: 2;\n\n\t\t[data-due-state='Overdue'] & {\n\t\t\tcolor: var(--color-error-text);\n\t\t\tbackground-color: rgba(var(--color-error-rgb), .1);\n\t\t}\n\t\t[data-due-state='Now'] & {\n\t\t\tcolor: var(--color-warning-text);\n\t\t\tbackground-color: rgba(var(--color-warning-rgb), .1);\n\t\t}\n\t\t[data-due-state='Done'] & {\n\t\t\tcolor: var(--color-success-text);\n\t\t\tbackground-color: rgba(var(--color-success-rgb), .1);\n\t\t}\n\n\t\t.due--label {\n\t\t\twhite-space: nowrap;\n\t\t\ttext-overflow: ellipsis;\n\t\t\toverflow: hidden;\n\t\t\tmargin-left: 4px;\n\t\t\tfont-size: 13px;\n\t\t}\n\t}\n\n\t@media print {\n\t\t.icon.due {\n\t\t\tbackground-color: transparent !important;\n\n\t\t\tspan {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\n\t\t\t&::before {\n\t\t\t\tcontent: attr(title);\n\t\t\t}\n\t\t}\n\t}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DueDate.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DueDate.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DueDate.vue?vue&type=style&index=0&id=335a1ab6&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DueDate.vue?vue&type=style&index=0&id=335a1ab6&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./DueDate.vue?vue&type=template&id=335a1ab6&scoped=true\"\nimport script from \"./DueDate.vue?vue&type=script&lang=js\"\nexport * from \"./DueDate.vue?vue&type=script&lang=js\"\nimport style0 from \"./DueDate.vue?vue&type=style&index=0&id=335a1ab6&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"335a1ab6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.card)?_c('div',{staticClass:\"duedate\",attrs:{\"data-due-state\":_vm.dueState}},[_c('transition',{attrs:{\"name\":\"zoom\"}},[(_vm.card.duedate || _vm.card.done)?_c('div',{staticClass:\"due\",attrs:{\"name\":_vm.absoluteDate}},[(_vm.card.done)?_c('CheckCircle',{attrs:{\"size\":16}}):(_vm.overdue)?_c('Clock',{attrs:{\"size\":16}}):_c('ClockOutline',{attrs:{\"size\":16}}),_vm._v(\" \"),(!_vm.compactMode)?_c('span',{staticClass:\"due--label\"},[_vm._v(_vm._s(_vm.relativeDate))]):_vm._e()],1):_vm._e()])],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardBadges.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardBadges.vue?vue&type=script&lang=js\"","<!--\n  - SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div v-if=\"card\" class=\"badges\">\n\t\t<div class=\"badge-left\">\n\t\t\t<DueDate v-if=\"card.duedate || card.done\" :card=\"card\" />\n\n\t\t\t<div class=\"inline-badges\">\n\t\t\t\t<CardId v-if=\"idBadge\" class=\"icon-badge\" :card=\"card\" />\n\n\t\t\t\t<div v-if=\"card.commentsCount > 0\"\n\t\t\t\t\t:title=\"commentsHint\"\n\t\t\t\t\tclass=\"icon-badge\"\n\t\t\t\t\t@click.stop=\"openComments\">\n\t\t\t\t\t<CommentUnreadIcon v-if=\"card.commentsUnread > 0\" :size=\"16\" />\n\t\t\t\t\t<CommentIcon v-else :size=\"16\" />\n\t\t\t\t\t<span>{{ card.commentsCount }}</span>\n\t\t\t\t</div>\n\n\t\t\t\t<div v-if=\"card.description && checkListCount > 0\" class=\"icon-badge\">\n\t\t\t\t\t<CheckmarkIcon :size=\"16\" :title=\"t('deck', 'Todo items')\" />\n\t\t\t\t\t<span>{{ checkListCheckedCount }}/{{ checkListCount }}</span>\n\t\t\t\t</div>\n\n\t\t\t\t<div v-else-if=\"card.description && card.description.trim() && checkListCount == 0\" class=\"icon-badge\">\n\t\t\t\t\t<TextIcon :size=\"16\" decorative />\n\t\t\t\t</div>\n\n\t\t\t\t<div v-if=\"card.attachmentCount > 0\" class=\"icon-badge\">\n\t\t\t\t\t<AttachmentIcon :size=\"16\" />\n\t\t\t\t\t<span>{{ card.attachmentCount }}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"badge-right\">\n\t\t\t<NcAvatarList :users=\"card.assignedUsers\" :size=\"32\" />\n\n\t\t\t<slot />\n\t\t</div>\n\t</div>\n</template>\n<script>\nimport NcAvatarList from './AvatarList.vue'\nimport CardId from './badges/CardId.vue'\nimport TextIcon from 'vue-material-design-icons/Text.vue'\nimport AttachmentIcon from 'vue-material-design-icons/Paperclip.vue'\nimport CheckmarkIcon from 'vue-material-design-icons/CheckboxMarked.vue'\nimport CommentIcon from 'vue-material-design-icons/Comment.vue'\nimport CommentUnreadIcon from 'vue-material-design-icons/CommentAccount.vue'\nimport DueDate from './badges/DueDate.vue'\n\nexport default {\n\tname: 'CardBadges',\n\tcomponents: {\n\t\tDueDate,\n\t\tNcAvatarList,\n\t\tTextIcon,\n\t\tAttachmentIcon,\n\t\tCheckmarkIcon,\n\t\tCommentIcon,\n\t\tCommentUnreadIcon,\n\t\tCardId,\n\t},\n\tprops: {\n\t\tcard: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tcomputed: {\n\t\tcheckListCount() {\n\t\t\treturn (this.card.description.match(/^\\s*([*+-]|(\\d\\.))\\s+\\[\\s*(\\s|x)\\s*\\](.*)$/gim) || []).length\n\t\t},\n\t\tcheckListCheckedCount() {\n\t\t\treturn (this.card.description.match(/^\\s*([*+-]|(\\d\\.))\\s+\\[\\s*x\\s*\\](.*)$/gim) || []).length\n\t\t},\n\t\tcommentsHint() {\n\t\t\tif (this.card.commentsUnread > 0) {\n\t\t\t\treturn t('deck', '{count} comments, {unread} unread', {\n\t\t\t\t\tcount: this.card.commentsCount,\n\t\t\t\t\tunread: this.card.commentsUnread,\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn null\n\t\t},\n\t\tidBadge() {\n\t\t\treturn this.$store.getters.config('cardIdBadge')\n\t\t},\n\t},\n\tmethods: {\n\t\topenComments() {\n\t\t\tconst boardId = this.card && this.card.boardId ? this.card.boardId : this.$route.params.id\n\t\t\tthis.$router.push({ name: 'card', params: { id: boardId, cardId: this.card.id, tabId: 'comments' } })\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.badges {\n\t\tdisplay: flex;\n\t\twidth: 100%;\n\t\tflex-grow: 1;\n\t\tflex-direction: row;\n\t\tgap: 3px;\n\n\t\t.icon-badge {\n\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t\tdisplay: flex;\n\t\t\tmargin-right: 2px;\n\n\t\t\tspan,\n\t\t\t&:deep(span) {\n\t\t\t\tpadding: 2px;\n\t\t\t}\n\t\t}\n\t}\n\n\t.inline-badges {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tflex-wrap: wrap;\n\t\tgap: 3px;\n\t}\n\n\t.badges .icon.due {\n\t\tbackground-position: 4px center;\n\t\tborder-radius: var(--border-radius);\n\t\tpadding: 4px;\n\t\tfont-size: 13px;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\topacity: .5;\n\t\tflex-shrink: 1;\n\n\t\t.icon {\n\t\t\tbackground-size: contain;\n\t\t}\n\n\t\t&.overdue {\n\t\t\tbackground-color: var(--color-error);\n\t\t\tcolor: var(--color-primary-element-text);\n\t\t\topacity: .7;\n\t\t}\n\t\t&.now {\n\t\t\tbackground-color: var(--color-warning);\n\t\t\topacity: .7;\n\t\t}\n\t\t&.next {\n\t\t\tbackground-color: var(--color-background-dark);\n\t\t\topacity: .7;\n\t\t}\n\n\t\tspan {\n\t\t\tmargin-left: 20px;\n\t\t\twhite-space: nowrap;\n\t\t\ttext-overflow: ellipsis;\n\t\t\toverflow: hidden;\n\t\t}\n\t}\n\n\t.badge-left, .badge-right {\n\t\tdisplay: flex;\n\t}\n\n\t.badge-left {\n\t\tflex-basis: auto;\n\t\tflex-grow: 1;\n\t\tflex-shrink: 1;\n\t\tflex-wrap: wrap;\n\t\talign-content: flex-end;\n\t\talign-items: center;\n\t\talign-self: center;\n\t\tgap: 3px;\n\t}\n\n\t.badge-right {\n\t\talign-items: center;\n\t\talign-self: flex-end;\n\t\tdisplay: flex;\n\t\tjustify-items: center;\n\t\tmax-width: 165px;\n\t\tflex-grow: 0;\n\t\tflex-shrink: 0;\n\t}\n\n\t.fade-enter-active, .fade-leave-active {\n\t\ttransition: opacity .125s;\n\t}\n\n\t.fade-enter, .fade-leave-to {\n\t\topacity: 0;\n\t}\n\n\t.avatars:deep(button) {\n\t\tmargin: 0;\n\t}\n\n\t@media print {\n\t\t.badges {\n\t\t\talign-items: flex-start;\n\t\t\tmax-height: none !important;\n\t\t}\n\t}\n</style>\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardBadges.vue?vue&type=style&index=0&id=60d5294a&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardBadges.vue?vue&type=style&index=0&id=60d5294a&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CardBadges.vue?vue&type=template&id=60d5294a&scoped=true\"\nimport script from \"./CardBadges.vue?vue&type=script&lang=js\"\nexport * from \"./CardBadges.vue?vue&type=script&lang=js\"\nimport style0 from \"./CardBadges.vue?vue&type=style&index=0&id=60d5294a&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"60d5294a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.card)?_c('div',{staticClass:\"badges\"},[_c('div',{staticClass:\"badge-left\"},[(_vm.card.duedate || _vm.card.done)?_c('DueDate',{attrs:{\"card\":_vm.card}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"inline-badges\"},[(_vm.idBadge)?_c('CardId',{staticClass:\"icon-badge\",attrs:{\"card\":_vm.card}}):_vm._e(),_vm._v(\" \"),(_vm.card.commentsCount > 0)?_c('div',{staticClass:\"icon-badge\",attrs:{\"title\":_vm.commentsHint},on:{\"click\":function($event){$event.stopPropagation();return _vm.openComments.apply(null, arguments)}}},[(_vm.card.commentsUnread > 0)?_c('CommentUnreadIcon',{attrs:{\"size\":16}}):_c('CommentIcon',{attrs:{\"size\":16}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.card.commentsCount))])],1):_vm._e(),_vm._v(\" \"),(_vm.card.description && _vm.checkListCount > 0)?_c('div',{staticClass:\"icon-badge\"},[_c('CheckmarkIcon',{attrs:{\"size\":16,\"title\":_vm.t('deck', 'Todo items')}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.checkListCheckedCount)+\"/\"+_vm._s(_vm.checkListCount))])],1):(_vm.card.description && _vm.card.description.trim() && _vm.checkListCount == 0)?_c('div',{staticClass:\"icon-badge\"},[_c('TextIcon',{attrs:{\"size\":16,\"decorative\":\"\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.card.attachmentCount > 0)?_c('div',{staticClass:\"icon-badge\"},[_c('AttachmentIcon',{attrs:{\"size\":16}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.card.attachmentCount))])],1):_vm._e()],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"badge-right\"},[_c('NcAvatarList',{attrs:{\"users\":_vm.card.assignedUsers,\"size\":32}}),_vm._v(\" \"),_vm._t(\"default\")],2)]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div>\n\t\t<NcActionButton v-if=\"!hideDetailsEntry\" :close-after-click=\"true\" @click=\"openCard\">\n\t\t\t<CardBulletedIcon slot=\"icon\" :size=\"20\" decorative />\n\t\t\t{{ t('deck', 'Card details') }}\n\t\t</NcActionButton>\n\t\t<NcActionButton v-if=\"canEdit && !isCurrentUserAssigned\"\n\t\t\ticon=\"icon-user\"\n\t\t\t:close-after-click=\"true\"\n\t\t\t@click=\"assignCardToMe()\">\n\t\t\t{{ t('deck', 'Assign to me') }}\n\t\t</NcActionButton>\n\t\t<NcActionButton v-if=\"canEdit && isCurrentUserAssigned\"\n\t\t\ticon=\"icon-user\"\n\t\t\t:close-after-click=\"true\"\n\t\t\t@click=\"unassignCardFromMe()\">\n\t\t\t{{ t('deck', 'Unassign myself') }}\n\t\t</NcActionButton>\n\t\t<NcActionButton v-if=\"canEdit\"\n\t\t\ticon=\"icon-checkmark\"\n\t\t\t:close-after-click=\"true\"\n\t\t\t@click=\"changeCardDoneStatus()\">\n\t\t\t{{ card.done ? t('deck', 'Mark as not done') : t('deck', 'Mark as done') }}\n\t\t</NcActionButton>\n\t\t<NcActionButton v-if=\"canEdit\"\n\t\t\ticon=\"icon-external\"\n\t\t\t:close-after-click=\"true\"\n\t\t\t@click=\"openCardMoveDialog\">\n\t\t\t{{ t('deck', 'Move card') }}\n\t\t</NcActionButton>\n\t\t<NcActionButton v-for=\"action in cardActions\"\n\t\t\t:key=\"action.label\"\n\t\t\t:close-after-click=\"true\"\n\t\t\t:icon=\"action.icon\"\n\t\t\t@click=\"action.callback(cardRichObject)\">\n\t\t\t{{ action.label }}\n\t\t</NcActionButton>\n\t\t<NcActionButton v-if=\"canEditBoard\" :close-after-click=\"true\" @click=\"archiveUnarchiveCard()\">\n\t\t\t<template #icon>\n\t\t\t\t<ArchiveIcon :size=\"20\" decorative />\n\t\t\t</template>\n\t\t\t{{ card.archived ? t('deck', 'Unarchive card') : t('deck', 'Archive card') }}\n\t\t</NcActionButton>\n\t\t<NcActionButton v-if=\"canEdit\"\n\t\t\ticon=\"icon-delete\"\n\t\t\t:close-after-click=\"true\"\n\t\t\t@click=\"deleteCard()\">\n\t\t\t{{ t('deck', 'Delete card') }}\n\t\t</NcActionButton>\n\t</div>\n</template>\n<script>\nimport { NcActionButton } from '@nextcloud/vue'\nimport { mapGetters, mapState } from 'vuex'\nimport ArchiveIcon from 'vue-material-design-icons/Archive.vue'\nimport CardBulletedIcon from 'vue-material-design-icons/CardBulleted.vue'\nimport { generateUrl } from '@nextcloud/router'\nimport { getCurrentUser } from '@nextcloud/auth'\nimport { showUndo } from '@nextcloud/dialogs'\n\nimport '@nextcloud/dialogs/style.css'\nimport { emit } from '@nextcloud/event-bus'\n\nexport default {\n\tname: 'CardMenuEntries',\n\tcomponents: { NcActionButton, ArchiveIcon, CardBulletedIcon },\n\tprops: {\n\t\tcard: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t\thideDetailsEntry: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmodalShow: false,\n\t\t\tselectedBoard: '',\n\t\t\tselectedStack: '',\n\t\t\tstacksFromBoard: [],\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapGetters([\n\t\t\t'isArchived',\n\t\t\t'boards',\n\t\t\t'cardActions',\n\t\t\t'stackById',\n\t\t\t'boardById',\n\t\t]),\n\t\t...mapState({\n\t\t\tshowArchived: state => state.showArchived,\n\t\t\tcurrentBoard: state => state.currentBoard,\n\t\t}),\n\t\tcanEdit() {\n\t\t\treturn !this.card.archived\n\t\t},\n\t\tcanEditBoard() {\n\t\t\tif (this.currentBoard) {\n\t\t\t\treturn this.$store.getters.canEdit\n\t\t\t}\n\t\t\tconst board = this.$store.getters.boards.find((item) => item.id === this.card.boardId)\n\t\t\treturn !!board?.permissions?.PERMISSION_EDIT\n\t\t},\n\t\tisCurrentUserAssigned() {\n\t\t\treturn this.card.assignedUsers.find((item) => item.type === 0 && item.participant.uid === getCurrentUser()?.uid)\n\t\t},\n\t\tboardId() {\n\t\t\treturn this.card?.boardId ? this.card.boardId : Number(this.$route.params.id)\n\t\t},\n\t\tcardRichObject() {\n\t\t\treturn {\n\t\t\t\tid: '' + this.card.id,\n\t\t\t\tname: this.card.title,\n\t\t\t\tboardname: this.boardById(this.boardId)?.title,\n\t\t\t\tstackname: this.stackById(this.card.stackId)?.title,\n\t\t\t\tlink: window.location.protocol + '//' + window.location.host + generateUrl('/apps/deck/') + `card/${this.card.id}`,\n\t\t\t}\n\t\t},\n\t},\n\tmethods: {\n\t\topenCard() {\n\t\t\tconst boardId = this.card?.boardId ? this.card.boardId : this.$route?.params.id ?? this.currentBoard.id\n\n\t\t\tif (this.$router) {\n\t\t\t\tthis.$router?.push({ name: 'card', params: { id: boardId, cardId: this.card.id } }).catch(() => {})\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.$root.$emit('open-card', this.card.id)\n\t\t},\n\t\tdeleteCard() {\n\t\t\tthis.$store.dispatch('deleteCard', this.card)\n\t\t\tconst undoCard = { ...this.card, deletedAt: 0 }\n\t\t\tshowUndo(t('deck', 'Card deleted'), () => this.$store.dispatch('cardUndoDelete', undoCard))\n\t\t\tif (this.$router.currentRoute.name === 'card') {\n\t\t\t\tthis.$router.push({ name: 'board' })\n\t\t\t}\n\t\t},\n\t\tchangeCardDoneStatus() {\n\t\t\tthis.$store.dispatch('changeCardDoneStatus', { ...this.card, done: !this.card.done })\n\t\t},\n\t\tarchiveUnarchiveCard() {\n\t\t\tthis.$store.dispatch('archiveUnarchiveCard', { ...this.card, archived: !this.card.archived })\n\t\t},\n\t\tassignCardToMe() {\n\t\t\tthis.$store.dispatch('assignCardToUser', {\n\t\t\t\tcard: this.card,\n\t\t\t\tassignee: {\n\t\t\t\t\tuserId: getCurrentUser()?.uid,\n\t\t\t\t\ttype: 0,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\tunassignCardFromMe() {\n\t\t\tthis.$store.dispatch('removeUserFromCard', {\n\t\t\t\tcard: this.card,\n\t\t\t\tassignee: {\n\t\t\t\t\tuserId: getCurrentUser()?.uid,\n\t\t\t\t\ttype: 0,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\topenCardMoveDialog() {\n\t\t\temit('deck:card:show-move-dialog', this.card)\n\t\t},\n\t},\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardMenuEntries.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardMenuEntries.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CardMenuEntries.vue?vue&type=template&id=7794ad2d\"\nimport script from \"./CardMenuEntries.vue?vue&type=script&lang=js\"\nexport * from \"./CardMenuEntries.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(!_vm.hideDetailsEntry)?_c('NcActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":_vm.openCard}},[_c('CardBulletedIcon',{attrs:{\"slot\":\"icon\",\"size\":20,\"decorative\":\"\"},slot:\"icon\"}),_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('deck', 'Card details'))+\"\\n\\t\")],1):_vm._e(),_vm._v(\" \"),(_vm.canEdit && !_vm.isCurrentUserAssigned)?_c('NcActionButton',{attrs:{\"icon\":\"icon-user\",\"close-after-click\":true},on:{\"click\":function($event){return _vm.assignCardToMe()}}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('deck', 'Assign to me'))+\"\\n\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.canEdit && _vm.isCurrentUserAssigned)?_c('NcActionButton',{attrs:{\"icon\":\"icon-user\",\"close-after-click\":true},on:{\"click\":function($event){return _vm.unassignCardFromMe()}}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('deck', 'Unassign myself'))+\"\\n\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.canEdit)?_c('NcActionButton',{attrs:{\"icon\":\"icon-checkmark\",\"close-after-click\":true},on:{\"click\":function($event){return _vm.changeCardDoneStatus()}}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.card.done ? _vm.t('deck', 'Mark as not done') : _vm.t('deck', 'Mark as done'))+\"\\n\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.canEdit)?_c('NcActionButton',{attrs:{\"icon\":\"icon-external\",\"close-after-click\":true},on:{\"click\":_vm.openCardMoveDialog}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('deck', 'Move card'))+\"\\n\\t\")]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.cardActions),function(action){return _c('NcActionButton',{key:action.label,attrs:{\"close-after-click\":true,\"icon\":action.icon},on:{\"click\":function($event){return action.callback(_vm.cardRichObject)}}},[_vm._v(\"\\n\\t\\t\"+_vm._s(action.label)+\"\\n\\t\")])}),_vm._v(\" \"),(_vm.canEditBoard)?_c('NcActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){return _vm.archiveUnarchiveCard()}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ArchiveIcon',{attrs:{\"size\":20,\"decorative\":\"\"}})]},proxy:true}],null,false,2522540071)},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.card.archived ? _vm.t('deck', 'Unarchive card') : _vm.t('deck', 'Archive card'))+\"\\n\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.canEdit)?_c('NcActionButton',{attrs:{\"icon\":\"icon-delete\",\"close-after-click\":true},on:{\"click\":function($event){return _vm.deleteCard()}}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('deck', 'Delete card'))+\"\\n\\t\")]):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardMenu.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardMenu.vue?vue&type=script&lang=js\"","<!--\n  - SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div v-if=\"card\" class=\"card-menu\" @click.stop.prevent>\n\t\t<NcActions>\n\t\t\t<CardMenuEntries :card=\"card\" />\n\t\t</NcActions>\n\t</div>\n</template>\n<script>\nimport { NcActions } from '@nextcloud/vue'\nimport CardMenuEntries from './CardMenuEntries.vue'\n\nexport default {\n\tname: 'CardMenu',\n\tcomponents: { NcActions, CardMenuEntries },\n\tprops: {\n\t\tcard: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t},\n}\n</script>\n","import { render, staticRenderFns } from \"./CardMenu.vue?vue&type=template&id=5bd822e5\"\nimport script from \"./CardMenu.vue?vue&type=script&lang=js\"\nexport * from \"./CardMenu.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.card)?_c('div',{staticClass:\"card-menu\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();}}},[_c('NcActions',[_c('CardMenuEntries',{attrs:{\"card\":_vm.card}})],1)],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div v-if=\"cardId && ( attachments.length > 0 )\" class=\"card-cover\">\n\t\t<div v-for=\"(attachment, index) in attachments\"\n\t\t\t:key=\"attachment.id\"\n\t\t\t:class=\"['image-wrapper', { 'rounded-left': index === 0 }, { 'rounded-right': index === attachments.length - 1 }]\"\n\t\t\t:style=\"{ backgroundImage: `url(${attachmentPreview(attachment)})` }\" />\n\t</div>\n</template>\n<script>\nimport { mapActions } from 'vuex'\nimport { generateUrl } from '@nextcloud/router'\nexport default {\n\tname: 'CardCover',\n\tprops: {\n\t\tcardId: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\tattachments() {\n\t\t\treturn [...this.$store.getters.attachmentsByCard(this.cardId)]\n\t\t\t\t// Filter deleted and hasPreview\n\t\t\t\t.filter(attachment => attachment.deletedAt >= 0 && attachment.extendedData.hasPreview)\n\t\t\t\t// sort by id (same as in AttachmentList) to get Newest\n\t\t\t\t.sort((a, b) => b.id - a.id)\n\t\t\t\t// limit to 3 like with android Deck app\n\t\t\t\t.slice(0, 3)\n\t\t},\n\t\tattachmentPreview() {\n\t\t\t// FIXME find a better way to get the stack-width\n\t\t\tconst stackWidth = getComputedStyle(document.documentElement).getPropertyValue('--stack-width').trim()\n\t\t\tconst x = Math.ceil(parseInt(stackWidth) / this.attachments.length) | 260\n\t\t\tconst y = 100\n\t\t\treturn attachment => (\n\t\t\t\t// The core preview provider is a bit strange at times, providing much larger than needed images\n\t\t\t\t// when cropping is enabled. Therefore use a=1 to not crop the image and let css handle the overflow\n\t\t\t\tattachment.extendedData.fileid ? generateUrl(`/core/preview?fileId=${attachment.extendedData.fileid}&x=${x}&y=${y}&a=1`) : null\n\t\t\t)\n\t\t},\n\t},\n\twatch: {\n\t\tcardId: {\n\t\t\timmediate: true,\n\t\t\thandler() {\n\t\t\t\tif (this.$store.getters.cardById(this.cardId)?.attachmentCount > 0) {\n\t\t\t\t\tthis.fetchAttachments(this.cardId)\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t},\n\tmethods: {\n\t\t...mapActions([\n\t\t\t'fetchAttachments',\n\t\t]),\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../css/variables';\n\n.card-cover {\n\theight: 90px;\n\tdisplay: flex;\n\tmargin-top: -4px;\n\tmargin-left: -4px;\n\tmargin-right: -4px;\n\n\t.image-wrapper {\n\t\tflex: 1;\n\t\tposition: relative;\n\t\tbackground-size: cover;\n\t\tbackground-repeat: no-repeat;\n\t\tbackground-position: center center;\n\t\t&.rounded-left {\n\t\t\tborder-top-left-radius: calc(var(--border-radius-large) - 1px);\n\t\t}\n\t\t&.rounded-right {\n\t\t\tborder-top-right-radius: calc(var(--border-radius-large) - 1px);\n\t\t}\n\t}\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardCover.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardCover.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardCover.vue?vue&type=style&index=0&id=0cccbb6d&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardCover.vue?vue&type=style&index=0&id=0cccbb6d&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CardCover.vue?vue&type=template&id=0cccbb6d&scoped=true\"\nimport script from \"./CardCover.vue?vue&type=script&lang=js\"\nexport * from \"./CardCover.vue?vue&type=script&lang=js\"\nimport style0 from \"./CardCover.vue?vue&type=style&index=0&id=0cccbb6d&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0cccbb6d\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.cardId && ( _vm.attachments.length > 0 ))?_c('div',{staticClass:\"card-cover\"},_vm._l((_vm.attachments),function(attachment,index){return _c('div',{key:attachment.id,class:['image-wrapper', { 'rounded-left': index === 0 }, { 'rounded-right': index === _vm.attachments.length - 1 }],style:({ backgroundImage: `url(${_vm.attachmentPreview(attachment)})` })})}),0):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<AttachmentDragAndDrop v-if=\"card\" :card-id=\"card.id\" class=\"drop-upload--card\">\n\t\t<div :ref=\"`card${card.id}`\"\n\t\t\t:class=\"{'compact': compactMode, 'current-card': currentCard, 'has-labels': card.labels && card.labels.length > 0, 'card__editable': canEdit, 'card__archived': card.archived, 'card__highlight': highlight}\"\n\t\t\ttag=\"div\"\n\t\t\t:tabindex=\"0\"\n\t\t\tclass=\"card\"\n\t\t\t@click=\"openCard\"\n\t\t\t@keyup.self=\"handleCardKeyboardShortcut\"\n\t\t\t@mouseenter=\"focus(card.id)\">\n\t\t\t<div v-if=\"standalone\" class=\"card-related\">\n\t\t\t\t<div :style=\"{backgroundColor: '#' + board.color}\" class=\"board-bullet\" dir=\"auto\" />\n\t\t\t\t{{ board.title }} » {{ stack.title }}\n\t\t\t</div>\n\t\t\t<CardCover v-if=\"showCardCover\" :card-id=\"card.id\" />\n\t\t\t<div class=\"card-upper\">\n\t\t\t\t<h4 v-if=\"inlineEditingBlocked\" dir=\"auto\">\n\t\t\t\t\t{{ card.title }}\n\t\t\t\t</h4>\n\t\t\t\t<h4 v-else\n\t\t\t\t\tdir=\"auto\"\n\t\t\t\t\tclass=\"editable\"\n\t\t\t\t\t:aria-label=\"t('deck', 'Edit card title')\">\n\t\t\t\t\t<span ref=\"titleContentEditable\"\n\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\tcontenteditable=\"true\"\n\t\t\t\t\t\trole=\"textbox\"\n\t\t\t\t\t\t@focus=\"onTitleFocus\"\n\t\t\t\t\t\t@blur=\"onTitleBlur\"\n\t\t\t\t\t\t@click.stop\n\t\t\t\t\t\t@keyup.esc=\"cancelEdit\"\n\t\t\t\t\t\t@keyup.stop>{{ card.title }}</span>\n\t\t\t\t</h4>\n\n\t\t\t\t<DueDate v-if=\"compactMode\" :card=\"card\" />\n\t\t\t\t<CardMenu v-if=\"showMenuAtTitle\" :card=\"card\" class=\"right card-menu\" />\n\t\t\t</div>\n\n\t\t\t<div v-if=\"hasLabels\" class=\"card-labels\">\n\t\t\t\t<transition-group v-if=\"card.labels && card.labels.length\"\n\t\t\t\t\tname=\"zoom\"\n\t\t\t\t\ttag=\"ul\"\n\t\t\t\t\tclass=\"labels\"\n\t\t\t\t\t@click.stop=\"openCard\">\n\t\t\t\t\t<li v-for=\"label in labelsSorted\" :key=\"label?.id ?? label?.title\" :style=\"labelStyle(label)\">\n\t\t\t\t\t\t<span @click.stop=\"applyLabelFilter(label)\">{{ label.title }}</span>\n\t\t\t\t\t</li>\n\t\t\t\t</transition-group>\n\t\t\t\t<CardMenu v-if=\"showMenuAtLabels\" :card=\"card\" class=\"right\" />\n\t\t\t</div>\n\n\t\t\t<div v-if=\"hasBadges\"\n\t\t\t\tv-show=\"!compactMode\"\n\t\t\t\tclass=\"card-controls compact-item\"\n\t\t\t\t@click=\"openCard\">\n\t\t\t\t<CardBadges :card=\"card\">\n\t\t\t\t\t<CardMenu v-if=\"showMenuAtBadges\" :card=\"card\" class=\"right\" />\n\t\t\t\t</CardBadges>\n\t\t\t</div>\n\t\t</div>\n\t</AttachmentDragAndDrop>\n</template>\n\n<script>\nimport ClickOutside from 'vue-click-outside'\nimport { mapState, mapGetters } from 'vuex'\nimport CardBadges from './CardBadges.vue'\nimport Color from '../../mixins/color.js'\nimport labelStyle from '../../mixins/labelStyle.js'\nimport AttachmentDragAndDrop from '../AttachmentDragAndDrop.vue'\nimport CardMenu from './CardMenu.vue'\nimport CardCover from './CardCover.vue'\nimport DueDate from './badges/DueDate.vue'\nimport { getCurrentUser } from '@nextcloud/auth'\n\nexport default {\n\tname: 'CardItem',\n\tcomponents: { CardBadges, AttachmentDragAndDrop, CardMenu, CardCover, DueDate },\n\tdirectives: {\n\t\tClickOutside,\n\t},\n\tmixins: [Color, labelStyle],\n\tprops: {\n\t\tid: {\n\t\t\ttype: Number,\n\t\t\tdefault: null,\n\t\t},\n\t\titem: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t\tstandalone: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tdragging: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\thighlight: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\tcompactMode: state => state.compactMode,\n\t\t\tshowArchived: state => state.showArchived,\n\t\t\tcurrentBoard: state => state.currentBoard,\n\t\t\tshowCardCover: state => state.showCardCover,\n\t\t\tshortcutLock: state => state.shortcutLock,\n\t\t}),\n\t\t...mapGetters([\n\t\t\t'isArchived',\n\t\t]),\n\t\tboard() {\n\t\t\treturn this.$store.getters.boardById(this?.stack?.boardId)\n\t\t},\n\t\tstack() {\n\t\t\treturn this.$store.getters.stackById(this?.card?.stackId)\n\t\t},\n\t\tcanEdit() {\n\t\t\tif (this.currentBoard) {\n\t\t\t\treturn !this.currentBoard.archived && this.$store.getters.canEdit\n\t\t\t}\n\t\t\tconst board = this.$store.getters.boards.find((item) => item.id === this.card.boardId)\n\t\t\treturn board ? !board.archived && board.permissions.PERMISSION_EDIT : false\n\t\t},\n\t\tinlineEditingBlocked() {\n\t\t\treturn this.isArchived || this.showArchived || !this.canEdit || this.standalone\n\t\t},\n\t\tcard() {\n\t\t\treturn this.item ? this.item : this.$store.getters.cardById(this.id)\n\t\t},\n\t\tcurrentCard() {\n\t\t\treturn this.card && this.$route && this.$route.params.cardId === this.card.id\n\t\t},\n\t\tlabelsSorted() {\n\t\t\treturn [...this.card.labels].sort((a, b) => (a.title < b.title) ? -1 : 1)\n\t\t},\n\t\thasLabels() {\n\t\t\treturn this.card.labels.length > 0\n\t\t},\n\t\thasBadges() {\n\t\t\treturn this.card.done\n\t\t\t\t|| this.card.duedate\n\t\t\t\t|| this.idBadge\n\t\t\t\t|| this.card.commentsCount > 0\n\t\t\t\t|| this.card.description\n\t\t\t\t|| this.card.attachmentCount > 0\n\t\t\t\t|| this.card.assignedUsers.length > 0\n\t\t},\n\t\tidBadge() {\n\t\t\treturn this.$store.getters.config('cardIdBadge')\n\t\t},\n\t\tshowMenuAtTitle() {\n\t\t\treturn this.compactMode || (!this.compactMode && !this.hasBadges && !this.hasLabels)\n\t\t},\n\t\tshowMenuAtLabels() {\n\t\t\tif (this.compactMode) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\treturn !this.hasBadges && this.hasLabels\n\t\t},\n\t\tshowMenuAtBadges() {\n\t\t\tif (this.compactMode) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\treturn this.hasBadges\n\t\t},\n\t},\n\twatch: {\n\t\tcurrentCard(newValue) {\n\t\t\tif (newValue) {\n\t\t\t\tthis.$nextTick(() => this.$el.scrollIntoView({ behavior: 'smooth', block: 'center', inline: 'center' }))\n\t\t\t}\n\t\t},\n\t\t'card.title'(value) {\n\t\t\tif (document.activeElement === this.$refs.titleContentEditable || this.$refs.titleContentEditable.textContent === value) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.$refs.titleContentEditable.textContent = value\n\t\t},\n\t},\n\tmethods: {\n\t\tfocus(card) {\n\t\t\tif (this.shortcutLock) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tcard = this.$refs[`card${card}`]\n\t\t\tcard.focus()\n\t\t},\n\t\topenCard() {\n\t\t\tif (this.dragging) {\n\t\t\t  return\n\t\t\t}\n\t\t\tconst boardId = this.card && this.card.boardId ? this.card.boardId : (this.$route?.params.id ?? this.currentBoard.id)\n\n\t\t\tif (this.$router) {\n\t\t\t\tthis.$router.push({ name: 'card', params: { id: boardId, cardId: this.card.id } }).catch(() => {})\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.$root.$emit('open-card', this.card.id)\n\t\t},\n\t\tonTitleBlur(e) {\n\t\t\t// TODO Handle empty title\n\t\t\tif (e.target.innerText !== this.card.title) {\n\t\t\t\tthis.$store.dispatch('updateCardTitle', {\n\t\t\t\t\t...this.card,\n\t\t\t\t\ttitle: e.target.innerText,\n\t\t\t\t})\n\t\t\t}\n\t\t\tthis.$store.dispatch('toggleShortcutLock', false)\n\t\t},\n\t\tonTitleFocus() {\n\t\t\tthis.$store.dispatch('toggleShortcutLock', true)\n\t\t},\n\t\tcancelEdit() {\n\t\t\tthis.$refs.titleContentEditable.textContent = this.card.title\n\t\t\tthis.$store.dispatch('toggleShortcutLock', false)\n\t\t},\n\t\thandleCardKeyboardShortcut(key) {\n\t\t\tif (OCP.Accessibility.disableKeyboardShortcuts()) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (!this.canEdit || this.$store.state.shortcutLock || key.shiftKey || key.ctrlKey || key.altKey || key.metaKey) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tswitch (key.code) {\n\t\t\tcase 'KeyE':\n\t\t\t\tthis.$refs.titleContentEditable?.focus()\n\t\t\t\tbreak\n\t\t\tcase 'KeyA':\n\t\t\t\tthis.$store.dispatch('archiveUnarchiveCard', { ...this.card, archived: !this.card.archived })\n\t\t\t\tbreak\n\t\t\tcase 'KeyO':\n\t\t\t\tthis.$store.dispatch('changeCardDoneStatus', { ...this.card, done: !this.card.done })\n\t\t\t\tbreak\n\t\t\tcase 'KeyM':\n\t\t\t\tthis.$el.querySelector('button.action-item__menutoggle')?.click()\n\t\t\t\tbreak\n\t\t\tcase 'Enter':\n\t\t\tcase 'Space':\n\t\t\t\tthis.openCard().then(() => document.getElementById('app-sidebar-vue')?.focus())\n\t\t\t\tbreak\n\t\t\tcase 'KeyS':\n\t\t\t\tthis.toggleSelfAsignment()\n\t\t\t\tbreak\n\t\t\t}\n\t\t},\n\t\tapplyLabelFilter(label) {\n\t\t\tif (this.dragging) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.$nextTick(() => this.$store.dispatch('toggleFilter', { tags: [label.id] }))\n\t\t},\n\t\ttoggleSelfAsignment() {\n\t\t\tconst isAssigned = this.card.assignedUsers.find(\n\t\t\t\t(item) => item.type === 0 && item.participant.uid === getCurrentUser()?.uid,\n\t\t\t)\n\t\t\tthis.$store.dispatch(isAssigned ? 'removeUserFromCard' : 'assignCardToUser', {\n\t\t\t\tcard: this.card,\n\t\t\t\tassignee: {\n\t\t\t\t\tuserId: getCurrentUser()?.uid,\n\t\t\t\t\ttype: 0,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\tscrollIntoView() {\n\t\t\tthis.$el.scrollIntoView({ behavior: 'smooth', block: 'center', inline: 'center' })\n\t\t\tthis.focus()\n\t\t\tthis.highlight = true\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.highlight = false\n\t\t\t}, 2000)\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\t@import './../../css/animations';\n\t@import './../../css/variables';\n\n\t@mixin dark-card {\n\t\tborder: 2px solid var(--color-border-dark);\n\t\tbox-shadow: none;\n\t}\n\n\t.card {\n\t\ttransition: border 0.1s ease-in-out;\n\t\tborder-radius: var(--border-radius-large);\n\t\tfont-size: 100%;\n\t\tbackground-color: var(--color-main-background);\n\t\tmargin-bottom: $card-spacing;\n\t\tpadding: var(--default-grid-baseline) $card-padding;\n\t\tborder: 2px solid var(--color-border-dark);\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\n\t\t&:deep(*) {\n\t\t\tcursor: pointer;\n\t\t}\n\n\t\t&.current-card {\n\t\t\tborder: 2px solid var(--color-primary-element);\n\t\t}\n\n\t\t&:focus, &:focus-visible, &:focus-within {\n\t\t\toutline: none;\n\t\t\tborder: 2px solid var(--color-border-maxcontrast);\n\t\t\t&.current-card {\n\t\t\t\tborder: 2px solid var(--color-primary-element);\n\t\t\t}\n\t\t}\n\n\t\t.card-upper {\n\t\t\tdisplay: flex;\n\t\t\th4 {\n\t\t\t\tfont-weight: normal;\n\t\t\t\tmargin: 0;\n\t\t\t\tpadding: var(--default-grid-baseline);\n\t\t\t\tflex-grow: 1;\n\t\t\t\tfont-size: 100%;\n\t\t\t\toverflow: hidden;\n\t\t\t\tword-wrap: break-word;\n\t\t\t\tpadding-left: 4px;\n\t\t\t\talign-self: center;\n\t\t\t\t&.editable {\n\t\t\t\t\tspan {\n\t\t\t\t\t\tcursor: text;\n\t\t\t\t\t\tpadding-right: 8px;\n\t\t\t\t\t\tpadding-top: 3px;\n\t\t\t\t\t\tpadding-bottom: 3px;\n\n\t\t\t\t\t\t&:focus, &:focus-visible {\n\t\t\t\t\t\t\toutline: none;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t&:focus-within {\n\t\t\t\t\t\toutline: 2px solid var(--color-border-dark);\n\t\t\t\t\t\tborder-radius: 3px;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t.card-menu {\n\t\t\t\theight: var(--default-clickable-area);\n\t\t\t\talign-self: end;\n\t\t\t}\n\t\t}\n\n\t\t/* stylelint-disable-next-line no-invalid-position-at-import-rule */\n\t\t@import './../../css/labels';\n\n\t\t.card-controls {\n\t\t\tdisplay: flex;\n\t\t}\n\t\t&.card__editable .card-controls {\n\t\t\tmargin-right: 0;\n\t\t}\n\t\t&.card__archived {\n\t\t\tbackground-color: var(--color-background-dark);\n\t\t}\n\t\t@keyframes highlight {\n\t\t\t0% {\n\t\t\t\tborder-color: var(--color-border-dark);\n\t\t\t}\n\t\t\t20% {\n\t\t\t\tborder-color: var(--color-primary-element);\n\t\t\t}\n\t\t\t70% {\n\t\t\t\tborder-color: var(--color-primary-element);\n\t\t\t}\n\t\t\t100% {\n\t\t\t\tborder-color: var(--color-border-dark);\n\t\t\t}\n\t\t}\n\t\t&.card__highlight {\n\t\t\tanimation: highlight 2s;\n\t\t}\n\t\t.card-labels {\n\t\t\tdisplay: flex;\n\t\t\talign-items: end;\n\t\t\tpadding-left: var(--default-grid-baseline);\n\t\t\tpadding-top: var(--default-grid-baseline);\n\n\t\t\t.labels {\n\t\t\t\tflex-wrap: wrap;\n\t\t\t\talign-self: flex-start;\n\t\t\t}\n\t\t}\n\t}\n\n\t.right {\n\t\tdisplay: flex;\n\t\talign-items: flex-start;\n\t}\n\n\t.card-related {\n\t\tdisplay: flex;\n\t\tpadding: 12px;\n\t\tpadding-bottom: 0px;\n\t\tcolor: var(--color-text-maxcontrast);\n\n\t\t.board-bullet {\n\t\t\tdisplay: inline-block;\n\t\t\twidth: 12px;\n\t\t\theight: 12px;\n\t\t\tborder: none;\n\t\t\tborder-radius: 50%;\n\t\t\tbackground-color: transparent;\n\t\t\tmargin-top: 4px;\n\t\t\tmargin-right: 4px;\n\t\t}\n\t}\n\n\t.compact {\n\t\tmin-height: var(--default-clickable-area);\n\n\t\t.duedate {\n\t\t\tmargin-right: 0;\n\t\t\tdisplay: flex;\n\t\t\theight: 32px;\n\t\t\twidth: 32px;\n\t\t}\n\t\t&.has-labels {\n\t\t\tpadding-bottom: $card-padding;\n\t\t}\n\t\t.labels {\n\t\t\theight: 6px;\n\t\t\tmargin-top: -7px;\n\t\t\tmargin-bottom: 3px;\n\t\t}\n\t\t.labels li {\n\t\t\twidth: 30px;\n\t\t\theight: 6px;\n\t\t\tfont-size: 0;\n\t\t\tcolor: transparent;\n\t\t}\n\t\t.card-menu {\n\t\t\talign-self: start !important;\n\t\t}\n\t}\n\n\t@media (prefers-color-scheme: dark) {\n\t\t.card {\n\t\t\t@include dark-card;\n\t\t}\n\t}\n\n\t@media print {\n\t\t.card-menu {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardItem.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardItem.vue?vue&type=style&index=0&id=2d75480a&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardItem.vue?vue&type=style&index=0&id=2d75480a&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CardItem.vue?vue&type=template&id=2d75480a&scoped=true\"\nimport script from \"./CardItem.vue?vue&type=script&lang=js\"\nexport * from \"./CardItem.vue?vue&type=script&lang=js\"\nimport style0 from \"./CardItem.vue?vue&type=style&index=0&id=2d75480a&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2d75480a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.card)?_c('AttachmentDragAndDrop',{staticClass:\"drop-upload--card\",attrs:{\"card-id\":_vm.card.id}},[_c('div',{ref:`card${_vm.card.id}`,staticClass:\"card\",class:{'compact': _vm.compactMode, 'current-card': _vm.currentCard, 'has-labels': _vm.card.labels && _vm.card.labels.length > 0, 'card__editable': _vm.canEdit, 'card__archived': _vm.card.archived, 'card__highlight': _vm.highlight},attrs:{\"tag\":\"div\",\"tabindex\":0},on:{\"click\":_vm.openCard,\"keyup\":function($event){if($event.target !== $event.currentTarget)return null;return _vm.handleCardKeyboardShortcut.apply(null, arguments)},\"mouseenter\":function($event){return _vm.focus(_vm.card.id)}}},[(_vm.standalone)?_c('div',{staticClass:\"card-related\"},[_c('div',{staticClass:\"board-bullet\",style:({backgroundColor: '#' + _vm.board.color}),attrs:{\"dir\":\"auto\"}}),_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.board.title)+\" » \"+_vm._s(_vm.stack.title)+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.showCardCover)?_c('CardCover',{attrs:{\"card-id\":_vm.card.id}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"card-upper\"},[(_vm.inlineEditingBlocked)?_c('h4',{attrs:{\"dir\":\"auto\"}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.card.title)+\"\\n\\t\\t\\t\")]):_c('h4',{staticClass:\"editable\",attrs:{\"dir\":\"auto\",\"aria-label\":_vm.t('deck', 'Edit card title')}},[_c('span',{ref:\"titleContentEditable\",attrs:{\"tabindex\":\"0\",\"contenteditable\":\"true\",\"role\":\"textbox\"},on:{\"focus\":_vm.onTitleFocus,\"blur\":_vm.onTitleBlur,\"click\":function($event){$event.stopPropagation();},\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"]))return null;return _vm.cancelEdit.apply(null, arguments)},function($event){$event.stopPropagation();}]}},[_vm._v(_vm._s(_vm.card.title))])]),_vm._v(\" \"),(_vm.compactMode)?_c('DueDate',{attrs:{\"card\":_vm.card}}):_vm._e(),_vm._v(\" \"),(_vm.showMenuAtTitle)?_c('CardMenu',{staticClass:\"right card-menu\",attrs:{\"card\":_vm.card}}):_vm._e()],1),_vm._v(\" \"),(_vm.hasLabels)?_c('div',{staticClass:\"card-labels\"},[(_vm.card.labels && _vm.card.labels.length)?_c('transition-group',{staticClass:\"labels\",attrs:{\"name\":\"zoom\",\"tag\":\"ul\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.openCard.apply(null, arguments)}}},_vm._l((_vm.labelsSorted),function(label){return _c('li',{key:label?.id ?? label?.title,style:(_vm.labelStyle(label))},[_c('span',{on:{\"click\":function($event){$event.stopPropagation();return _vm.applyLabelFilter(label)}}},[_vm._v(_vm._s(label.title))])])}),0):_vm._e(),_vm._v(\" \"),(_vm.showMenuAtLabels)?_c('CardMenu',{staticClass:\"right\",attrs:{\"card\":_vm.card}}):_vm._e()],1):_vm._e(),_vm._v(\" \"),(_vm.hasBadges)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.compactMode),expression:\"!compactMode\"}],staticClass:\"card-controls compact-item\",on:{\"click\":_vm.openCard}},[_c('CardBadges',{attrs:{\"card\":_vm.card}},[(_vm.showMenuAtBadges)?_c('CardMenu',{staticClass:\"right\",attrs:{\"card\":_vm.card}}):_vm._e()],1)],1):_vm._e()],1)]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n\t- SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n\t- SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div class=\"stack\" :data-cy-stack=\"stack.title\">\n\t\t<div v-click-outside=\"stopCardCreation\"\n\t\t\tclass=\"stack__header\"\n\t\t\t:class=\"{'stack__header--add': showAddCard}\"\n\t\t\t:aria-label=\"stack.title\">\n\t\t\t<transition name=\"fade\" mode=\"out-in\">\n\t\t\t\t<h3 v-if=\"!canManage || isArchived\" tabindex=\"0\">\n\t\t\t\t\t{{ stack.title }}\n\t\t\t\t</h3>\n\t\t\t\t<h3 v-else-if=\"!editing\"\n\t\t\t\t\ttitle=\"stack.title\"\n\t\t\t\t\tdir=\"auto\"\n\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t:aria-label=\"stack.title\"\n\t\t\t\t\tclass=\"stack__title\"\n\t\t\t\t\t@click=\"startEditing(stack)\"\n\t\t\t\t\t@keydown.enter=\"startEditing(stack)\">\n\t\t\t\t\t{{ stack.title }}\n\t\t\t\t</h3>\n\t\t\t\t<form v-else-if=\"editing\"\n\t\t\t\t\tv-click-outside=\"cancelEdit\"\n\t\t\t\t\tdata-cy=\"editStackTitleForm\"\n\t\t\t\t\t@submit.prevent=\"finishedEdit(stack)\"\n\t\t\t\t\t@keyup.esc=\"cancelEdit\">\n\t\t\t\t\t<input v-model=\"copiedStack.title\"\n\t\t\t\t\t\tv-focus\n\t\t\t\t\t\tdir=\"auto\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\trequired=\"required\">\n\t\t\t\t\t<input title=\"t('deck', 'Edit list title')\"\n\t\t\t\t\t\tclass=\"icon-confirm\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tvalue=\"\">\n\t\t\t\t</form>\n\t\t\t</transition>\n\t\t\t<NcActions v-if=\"canManage && !isArchived\" :force-menu=\"true\">\n\t\t\t\t<NcActionButton v-if=\"!showArchived\" icon=\"icon-archive\" @click=\"modalArchivAllCardsShow=true\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<ArchiveIcon decorative />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('deck', 'Archive all cards') }}\n\t\t\t\t</NcActionButton>\n\t\t\t\t<NcActionButton v-if=\"showArchived\" @click=\"modalArchivAllCardsShow=true\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<ArchiveIcon decorative />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('deck', 'Unarchive all cards') }}\n\t\t\t\t</NcActionButton>\n\t\t\t\t<NcActionButton icon=\"icon-delete\" @click=\"deleteStack(stack)\">\n\t\t\t\t\t{{ t('deck', 'Delete list') }}\n\t\t\t\t</NcActionButton>\n\t\t\t</NcActions>\n\t\t\t<NcActions v-if=\"canEdit && !showArchived && !isArchived\">\n\t\t\t\t<NcActionButton data-cy=\"action:add-card\" @click.stop=\"showAddCard=true\">\n\t\t\t\t\t{{ t('deck', 'Add card') }}\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<CardPlusOutline :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t</NcActionButton>\n\t\t\t</NcActions>\n\t\t</div>\n\n\t\t<NcModal v-if=\"modalArchivAllCardsShow\" @close=\"modalArchivAllCardsShow=false\">\n\t\t\t<div class=\"modal__content\">\n\t\t\t\t<h3 v-if=\"!showArchived\">\n\t\t\t\t\t{{ t('deck', 'Archive all cards in this list') }}\n\t\t\t\t</h3>\n\t\t\t\t<h3 v-else>\n\t\t\t\t\t{{ t('deck', 'Unarchive all cards in this list') }}\n\t\t\t\t</h3>\n\n\t\t\t\t<progress :value=\"stackTransfer.current\" :max=\"stackTransfer.total\" />\n\t\t\t\t<button v-if=\"!showArchived\" class=\"primary\" @click=\"setArchivedToAllCardsFromStack(stack, !showArchived)\">\n\t\t\t\t\t{{ t('deck', 'Archive all cards') }}\n\t\t\t\t</button>\n\t\t\t\t<button v-else class=\"primary\" @click=\"setArchivedToAllCardsFromStack(stack, !showArchived)\">\n\t\t\t\t\t{{ t('deck', 'Unarchive all cards') }}\n\t\t\t\t</button>\n\t\t\t\t<button @click=\"modalArchivAllCardsShow=false\">\n\t\t\t\t\t{{ t('deck', 'Cancel') }}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</NcModal>\n\n\t\t<Container :get-child-payload=\"payloadForCard(stack.id)\"\n\t\t\tgroup-name=\"stack\"\n\t\t\tdata-click-closes-sidebar=\"true\"\n\t\t\tnon-drag-area-selector=\".dragDisabled\"\n\t\t\t:drag-handle-selector=\"dragHandleSelector\"\n\t\t\tdata-dragscroll-enabled\n\t\t\t@should-accept-drop=\"canEdit\"\n\t\t\t@drag-start=\"draggingCard = true\"\n\t\t\t@drag-end=\"draggingCard = false\"\n\t\t\t@drop=\"($event) => onDropCard(stack.id, $event)\">\n\t\t\t<Draggable v-for=\"card in cardsByStack\" :key=\"card.id\">\n\t\t\t\t<transition :appear=\"animate && !card.animated && (card.animated=true)\"\n\t\t\t\t\t:appear-class=\"'zoom-appear-class'\"\n\t\t\t\t\t:appear-active-class=\"'zoom-appear-active-class'\">\n\t\t\t\t\t<CardItem :id=\"card.id\" ref=\"card\" :dragging=\"draggingCard\" />\n\t\t\t\t</transition>\n\t\t\t</Draggable>\n\t\t</Container>\n\n\t\t<transition name=\"slide-bottom\" appear>\n\t\t\t<div v-show=\"showAddCard\" class=\"stack__card-add\">\n\t\t\t\t<form :class=\"{ 'icon-loading-small': stateCardCreating }\"\n\t\t\t\t\t@submit.prevent.stop=\"clickAddCard()\">\n\t\t\t\t\t<label for=\"new-stack-input-main\" class=\"hidden-visually\">{{ t('deck', 'Add a new card') }}</label>\n\t\t\t\t\t<input id=\"new-stack-input-main\"\n\t\t\t\t\t\tref=\"newCardInput\"\n\t\t\t\t\t\tv-model=\"newCardTitle\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclass=\"no-close\"\n\t\t\t\t\t\t:disabled=\"stateCardCreating\"\n\t\t\t\t\t\t:placeholder=\"t('deck', 'Card name')\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tpattern=\".*\\S+.*\"\n\t\t\t\t\t\t@focus=\"onCreateCardFocus\"\n\t\t\t\t\t\t@keydown.esc=\"stopCardCreation\">\n\t\t\t\t\t<input v-show=\"!stateCardCreating\"\n\t\t\t\t\t\tclass=\"icon-confirm\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tvalue=\"\">\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</transition>\n\t</div>\n</template>\n\n<script>\nimport ClickOutside from 'vue-click-outside'\nimport { mapGetters, mapState } from 'vuex'\nimport { Container, Draggable } from 'vue-smooth-dnd'\nimport ArchiveIcon from 'vue-material-design-icons/Archive.vue'\nimport CardPlusOutline from 'vue-material-design-icons/CardPlusOutline.vue'\nimport { NcActions, NcActionButton, NcModal } from '@nextcloud/vue'\nimport { showError, showUndo } from '@nextcloud/dialogs'\n\nimport CardItem from '../cards/CardItem.vue'\n\nimport '@nextcloud/dialogs/style.css'\n\nexport default {\n\tname: 'Stack',\n\tcomponents: {\n\t\tNcActions,\n\t\tNcActionButton,\n\t\tCardItem,\n\t\tContainer,\n\t\tDraggable,\n\t\tNcModal,\n\t\tArchiveIcon,\n\t\tCardPlusOutline,\n\t},\n\tdirectives: {\n\t\tClickOutside,\n\t},\n\tprops: {\n\t\tdragging: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tstack: {\n\t\t\ttype: Object,\n\t\t\tdefault: undefined,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tediting: false,\n\t\t\tdraggingCard: false,\n\t\t\tcopiedStack: '',\n\t\t\tnewCardTitle: '',\n\t\t\tshowAddCard: false,\n\t\t\tstateCardCreating: false,\n\t\t\tanimate: false,\n\t\t\tmodalArchivAllCardsShow: false,\n\t\t\tstackTransfer: {\n\t\t\t\ttotal: 0,\n\t\t\t\tcurrent: null,\n\t\t\t},\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapGetters([\n\t\t\t'canManage',\n\t\t\t'canEdit',\n\t\t\t'isArchived',\n\t\t]),\n\t\t...mapState({\n\t\t\tshowArchived: state => state.showArchived,\n\t\t}),\n\t\tcardsByStack() {\n\t\t\treturn this.$store.getters.cardsByStack(this.stack.id).filter((card) => {\n\t\t\t\tif (this.showArchived) {\n\t\t\t\t\treturn card.archived\n\t\t\t\t}\n\t\t\t\treturn !card.archived\n\t\t\t})\n\t\t},\n\t\tdragHandleSelector() {\n\t\t\treturn this.canEdit && !this.showArchived ? null : '.no-drag'\n\t\t},\n\t\tcardDetailsInModal: {\n\t\t\tget() {\n\t\t\t\treturn this.$store.getters.config('cardDetailsInModal')\n\t\t\t},\n\t\t\tset(newValue) {\n\t\t\t\tthis.$store.dispatch('setConfig', { cardDetailsInModal: newValue })\n\t\t\t},\n\t\t},\n\t},\n\twatch: {\n\t\tshowAddCard(newValue) {\n\t\t\tif (!newValue) {\n\t\t\t\tthis.$store.dispatch('toggleShortcutLock', false)\n\t\t\t} else {\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tthis.$refs.newCardInput.focus()\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t},\n\n\tmounted() {\n\t\tthis.setupAutoscrollOnDrag()\n\t},\n\n\tmethods: {\n\t\tstopCardCreation(e) {\n\t\t\t// For some reason the submit event triggers a MouseEvent that is bubbling to the outside\n\t\t\t// so we have to ignore it\n\t\t\te.stopPropagation()\n\t\t\tif (this.$refs.newCardInput && this.$refs.newCardInput.parentElement === e.target.parentElement) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\tthis.showAddCard = false\n\t\t\treturn false\n\t\t},\n\t\tasync onDropCard(stackId, event) {\n\t\t\tconst { addedIndex, removedIndex, payload } = event\n\t\t\tconst card = Object.assign({}, payload)\n\t\t\tif (this.stack.id === stackId) {\n\t\t\t\tif (addedIndex !== null && removedIndex === null) {\n\t\t\t\t\t// move card to new stack\n\t\t\t\t\tcard.stackId = stackId\n\t\t\t\t\tcard.order = addedIndex\n\t\t\t\t\tconsole.debug('move card to stack', card.stackId, card.order)\n\t\t\t\t\tawait this.$store.dispatch('reorderCard', card)\n\t\t\t\t}\n\t\t\t\tif (addedIndex !== null && removedIndex !== null) {\n\t\t\t\t\tcard.order = addedIndex\n\t\t\t\t\tconsole.debug('move card in stack', card.stackId, card.order)\n\t\t\t\t\tawait this.$store.dispatch('reorderCard', card)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tpayloadForCard(stackId) {\n\t\t\treturn index => {\n\t\t\t\treturn this.cardsByStack[index]\n\t\t\t}\n\t\t},\n\t\tdeleteStack(stack) {\n\t\t\tthis.$store.dispatch('deleteStack', stack)\n\t\t\tshowUndo(t('deck', 'List deleted'), () => this.$store.dispatch('stackUndoDelete', stack))\n\t\t},\n\t\tsetArchivedToAllCardsFromStack(stack, isArchived) {\n\n\t\t\tthis.stackTransfer.total = this.cardsByStack.length\n\t\t\tthis.cardsByStack.forEach((card, index) => {\n\t\t\t\tthis.stackTransfer.current = index\n\t\t\t\tthis.$store.dispatch('archiveUnarchiveCard', { ...card, archived: isArchived })\n\t\t\t})\n\t\t\tthis.modalArchivAllCardsShow = false\n\t\t},\n\t\tstartEditing(stack) {\n\t\t\tif (this.dragging) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.copiedStack = Object.assign({}, stack)\n\t\t\tthis.editing = true\n\t\t},\n\t\tfinishedEdit(stack) {\n\t\t\tif (this.copiedStack.title !== stack.title) {\n\t\t\t\tthis.$store.dispatch('updateStack', this.copiedStack)\n\t\t\t}\n\t\t\tthis.editing = false\n\t\t},\n\t\tcancelEdit() {\n\t\t\tthis.editing = false\n\t\t},\n\t\tasync clickAddCard() {\n\t\t\tthis.stateCardCreating = true\n\t\t\ttry {\n\t\t\t\tthis.animate = true\n\t\t\t\tconst newCard = await this.$store.dispatch('addCard', {\n\t\t\t\t\ttitle: this.newCardTitle,\n\t\t\t\t\tstackId: this.stack.id,\n\t\t\t\t\tboardId: this.stack.boardId,\n\t\t\t\t})\n\t\t\t\tthis.newCardTitle = ''\n\t\t\t\tthis.showAddCard = true\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tthis.$refs.newCardInput.focus()\n\t\t\t\t\tthis.animate = false\n\t\t\t\t\tthis.$refs.card[(this.$refs.card.length - 1)].scrollIntoView()\n\t\t\t\t})\n\t\t\t\tif (!this.cardDetailsInModal) {\n\t\t\t\t\tthis.$router.push({ name: 'card', params: { cardId: newCard.id } })\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tshowError('Could not create card: ' + e.response.data.message)\n\t\t\t} finally {\n\t\t\t\tthis.stateCardCreating = false\n\t\t\t}\n\t\t},\n\t\tonCreateCardFocus() {\n\t\t\tthis.$store.dispatch('toggleShortcutLock', true)\n\t\t},\n\t\tsetupAutoscrollOnDrag() {\n\t\t\tlet timer\n\t\t\tconst autoscroll = (event) => {\n\t\t\t\tconst viewportX = event.clientX\n\t\t\t\tconst boardElement = document.querySelector('.board')\n\t\t\t\tconst viewportWidth = boardElement.clientWidth\n\t\t\t\tconst offset = viewportWidth - viewportX\n\t\t\t\tconst scrollMultiplier = 10\n\t\t\t\tconst scrollBoundary = window.innerWidth * 0.15\n\n\t\t\t\tif (offset < 100) {\n\t\t\t\t\tconst scrollToX = boardElement.scrollLeft + scrollMultiplier * (1 - offset / scrollBoundary)\n\t\t\t\t\tboardElement.scrollTo(scrollToX, boardElement.scrollTop)\n\t\t\t\t}\n\n\t\t\t\tif (boardElement.scrollLeft > 0 && viewportX < scrollBoundary) {\n\t\t\t\t\tconst scrollToX = boardElement.scrollLeft - scrollMultiplier * (1 - viewportX / scrollBoundary)\n\t\t\t\t\tboardElement.scrollTo(scrollToX, boardElement.scrollTop)\n\t\t\t\t}\n\t\t\t}\n\t\t\twindow.addEventListener('mousemove', (e) => {\n\t\t\t\tif (!this.draggingCard) {\n\t\t\t\t\ttimer && clearInterval(timer)\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tclearInterval(timer)\n\t\t\t\ttimer = window.setInterval(() => autoscroll(e), 25)\n\t\t\t})\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n\t@use 'sass:math';\n\n\t@import './../../css/variables';\n\n\t.stack {\n\t\twidth: $stack-width + $stack-spacing * 3;\n\t}\n\n\t.stack__header {\n\t\tdisplay: flex;\n\t\tposition: sticky;\n\t\ttop: 0;\n\t\tz-index: 100;\n\t\tpadding-left: $card-spacing;\n\t\tpadding-right: $card-spacing;\n\t\tmargin: 6px;\n\t\tmargin-top: 0;\n\t\tcursor: grab;\n\t\tbackground-color: var(--color-main-background);\n\n\t\t// Smooth fade out of the cards at the top\n\t\t&:before {\n\t\t\tcontent: ' ';\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\twidth: calc(100% - 16px);\n\t\t\theight: 20px;\n\t\t\ttop: 30px;\n\t\t\tleft: 0px;\n\t\t\tz-index: 99;\n\t\t\ttransition: top var(--animation-slow);\n\n\t\t\tbackground-image: linear-gradient(180deg, var(--color-main-background) 3px, rgba(255, 255, 255, 0) 100%);\n\t\t\tbody.theme--dark & {\n\t\t\t\tbackground-image: linear-gradient(180deg, var(--color-main-background) 3px, rgba(0, 0, 0, 0) 100%);\n\t\t\t}\n\t\t}\n\n\t\t& > * {\n\t\t\tposition: relative;\n\t\t\tz-index: 100;\n\t\t}\n\n\t\th3, form {\n\t\t\tflex-grow: 1;\n\t\t\tdisplay: flex;\n\t\t\tcursor: inherit;\n\t\t\tmargin: 0;\n\n\t\t\tinput[type=text] {\n\t\t\t\tflex-grow: 1;\n\t\t\t}\n\t\t}\n\n\t\th3.stack__title {\n\t\t\twhite-space: nowrap;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t\tmax-width: calc($stack-width - 60px);\n\t\t\tborder-radius: 3px;\n\t\t\tpadding: 4px 4px;\n\t\t\tfont-size: var(--default-font-size);\n\n\t\t\t&:focus-visible {\n\t\t\t\toutline: 2px solid var(--color-border-dark);\n\t\t\t\tborder-radius: 3px;\n\t\t\t}\n\t\t}\n\n\t\tform {\n\t\t\tmargin: -4px;\n\t\t\tinput {\n\t\t\t\tfont-weight: bold;\n\t\t\t\tpadding: 0 6px;\n\t\t\t}\n\t\t\tinput[type=\"submit\"] {\n\t\t\t\tborder-style: solid;\n\t\t\t\tborder-left-style: none;\n\t\t\t}\n\t\t}\n\n\t\t:deep {\n\t\t\t.action-item,\n\t\t\t.v-popper--theme-dropdown {\n\t\t\t\tdisplay: flex;\n\t\t\t}\n\t\t}\n\t}\n\n\t.stack__card-add {\n\t\tflex-shrink: 0;\n\t\tz-index: 100;\n\t\tdisplay: flex;\n\t\tmargin-bottom: 5px;\n\t\tpadding-top: var(--default-grid-baseline);\n\t\tbackground-color: var(--color-main-background);\n\n\t\tform {\n\t\t\tdisplay: flex;\n\t\t\tmargin-left: $stack-spacing;\n\t\t\tmargin-right: $stack-spacing;\n\t\t\twidth: 100%;\n\t\t\tborder: 2px solid var(--color-border-maxcontrast);\n\t\t\tborder-radius: var(--border-radius-large);\n\t\t\toverflow: hidden;\n\t\t\tpadding: 2px;\n\t\t}\n\n\t\t&.icon-loading-small:after,\n\t\t&.icon-loading-small-dark:after {\n\t\t\tmargin-left: calc(50% - 25px);\n\t\t}\n\n\t\tinput[type=text] {\n\t\t\tflex-grow: 1;\n\t\t\tpadding-right: 16px;\n\t\t}\n\n\t\tinput {\n\t\t\tborder: none;\n\t\t\tmargin: 0;\n\t\t\tpadding: 4px;\n\t\t}\n\t}\n\n\t/**\n\t * Rules to handle scrolling behaviour are inherited from Board.vue\n\t */\n\n\t.slide-top-enter-active,\n\t.slide-top-leave-active {\n\t\ttransition: all 100ms ease;\n\t}\n\n\t.slide-top-enter, .slide-top-leave-to {\n\t\ttransform: translateY(-10px);\n\t\topacity: 0;\n\t}\n\n\t.slide-bottom-enter-active,\n\t.slide-bottom-leave-active {\n\t\ttransition: all 100ms ease;\n\t}\n\n\t.slide-bottom-enter, .slide-bottom-leave-to {\n\t\ttransform: translateY(20px);\n\t\topacity: 0;\n\t}\n\n\t.modal__content {\n\t\twidth: 25vw;\n\t\tmin-width: 250px;\n\t\tmin-height: 100px;\n\t\ttext-align: center;\n\t\tmargin: 20px 20px 20px 20px;\n\t}\n\n\t.modal__content button {\n\t\tfloat: right;\n\t}\n\n\tprogress {\n\t\tmargin-top: 3px;\n\t\tmargin-bottom: 30px;\n\t}\n\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stack.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stack.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stack.vue?vue&type=style&index=0&id=5851d20e&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stack.vue?vue&type=style&index=0&id=5851d20e&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Stack.vue?vue&type=template&id=5851d20e&scoped=true\"\nimport script from \"./Stack.vue?vue&type=script&lang=js\"\nexport * from \"./Stack.vue?vue&type=script&lang=js\"\nimport style0 from \"./Stack.vue?vue&type=style&index=0&id=5851d20e&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5851d20e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"stack\",attrs:{\"data-cy-stack\":_vm.stack.title}},[_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.stopCardCreation),expression:\"stopCardCreation\"}],staticClass:\"stack__header\",class:{'stack__header--add': _vm.showAddCard},attrs:{\"aria-label\":_vm.stack.title}},[_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[(!_vm.canManage || _vm.isArchived)?_c('h3',{attrs:{\"tabindex\":\"0\"}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.stack.title)+\"\\n\\t\\t\\t\")]):(!_vm.editing)?_c('h3',{staticClass:\"stack__title\",attrs:{\"title\":\"stack.title\",\"dir\":\"auto\",\"tabindex\":\"0\",\"aria-label\":_vm.stack.title},on:{\"click\":function($event){return _vm.startEditing(_vm.stack)},\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.startEditing(_vm.stack)}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.stack.title)+\"\\n\\t\\t\\t\")]):(_vm.editing)?_c('form',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.cancelEdit),expression:\"cancelEdit\"}],attrs:{\"data-cy\":\"editStackTitleForm\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.finishedEdit(_vm.stack)},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"]))return null;return _vm.cancelEdit.apply(null, arguments)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.copiedStack.title),expression:\"copiedStack.title\"},{name:\"focus\",rawName:\"v-focus\"}],attrs:{\"dir\":\"auto\",\"type\":\"text\",\"required\":\"required\"},domProps:{\"value\":(_vm.copiedStack.title)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.copiedStack, \"title\", $event.target.value)}}}),_vm._v(\" \"),_c('input',{staticClass:\"icon-confirm\",attrs:{\"title\":\"t('deck', 'Edit list title')\",\"type\":\"submit\",\"value\":\"\"}})]):_vm._e()]),_vm._v(\" \"),(_vm.canManage && !_vm.isArchived)?_c('NcActions',{attrs:{\"force-menu\":true}},[(!_vm.showArchived)?_c('NcActionButton',{attrs:{\"icon\":\"icon-archive\"},on:{\"click\":function($event){_vm.modalArchivAllCardsShow=true}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ArchiveIcon',{attrs:{\"decorative\":\"\"}})]},proxy:true}],null,false,2570557878)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Archive all cards'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.showArchived)?_c('NcActionButton',{on:{\"click\":function($event){_vm.modalArchivAllCardsShow=true}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ArchiveIcon',{attrs:{\"decorative\":\"\"}})]},proxy:true}],null,false,2570557878)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Unarchive all cards'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('NcActionButton',{attrs:{\"icon\":\"icon-delete\"},on:{\"click\":function($event){return _vm.deleteStack(_vm.stack)}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Delete list'))+\"\\n\\t\\t\\t\")])],1):_vm._e(),_vm._v(\" \"),(_vm.canEdit && !_vm.showArchived && !_vm.isArchived)?_c('NcActions',[_c('NcActionButton',{attrs:{\"data-cy\":\"action:add-card\"},on:{\"click\":function($event){$event.stopPropagation();_vm.showAddCard=true}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('CardPlusOutline',{attrs:{\"size\":20}})]},proxy:true}],null,false,487288838)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Add card'))+\"\\n\\t\\t\\t\\t\")])],1):_vm._e()],1),_vm._v(\" \"),(_vm.modalArchivAllCardsShow)?_c('NcModal',{on:{\"close\":function($event){_vm.modalArchivAllCardsShow=false}}},[_c('div',{staticClass:\"modal__content\"},[(!_vm.showArchived)?_c('h3',[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Archive all cards in this list'))+\"\\n\\t\\t\\t\")]):_c('h3',[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Unarchive all cards in this list'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('progress',{attrs:{\"max\":_vm.stackTransfer.total},domProps:{\"value\":_vm.stackTransfer.current}}),_vm._v(\" \"),(!_vm.showArchived)?_c('button',{staticClass:\"primary\",on:{\"click\":function($event){return _vm.setArchivedToAllCardsFromStack(_vm.stack, !_vm.showArchived)}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Archive all cards'))+\"\\n\\t\\t\\t\")]):_c('button',{staticClass:\"primary\",on:{\"click\":function($event){return _vm.setArchivedToAllCardsFromStack(_vm.stack, !_vm.showArchived)}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Unarchive all cards'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){_vm.modalArchivAllCardsShow=false}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Cancel'))+\"\\n\\t\\t\\t\")])])]):_vm._e(),_vm._v(\" \"),_c('Container',{attrs:{\"get-child-payload\":_vm.payloadForCard(_vm.stack.id),\"group-name\":\"stack\",\"data-click-closes-sidebar\":\"true\",\"non-drag-area-selector\":\".dragDisabled\",\"drag-handle-selector\":_vm.dragHandleSelector,\"data-dragscroll-enabled\":\"\"},on:{\"should-accept-drop\":_vm.canEdit,\"drag-start\":function($event){_vm.draggingCard = true},\"drag-end\":function($event){_vm.draggingCard = false},\"drop\":($event) => _vm.onDropCard(_vm.stack.id, $event)}},_vm._l((_vm.cardsByStack),function(card){return _c('Draggable',{key:card.id},[_c('transition',{attrs:{\"appear\":_vm.animate && !card.animated && (card.animated=true),\"appear-class\":'zoom-appear-class',\"appear-active-class\":'zoom-appear-active-class'}},[_c('CardItem',{ref:\"card\",refInFor:true,attrs:{\"id\":card.id,\"dragging\":_vm.draggingCard}})],1)],1)}),1),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"slide-bottom\",\"appear\":\"\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showAddCard),expression:\"showAddCard\"}],staticClass:\"stack__card-add\"},[_c('form',{class:{ 'icon-loading-small': _vm.stateCardCreating },on:{\"submit\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.clickAddCard()}}},[_c('label',{staticClass:\"hidden-visually\",attrs:{\"for\":\"new-stack-input-main\"}},[_vm._v(_vm._s(_vm.t('deck', 'Add a new card')))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newCardTitle),expression:\"newCardTitle\"}],ref:\"newCardInput\",staticClass:\"no-close\",attrs:{\"id\":\"new-stack-input-main\",\"type\":\"text\",\"disabled\":_vm.stateCardCreating,\"placeholder\":_vm.t('deck', 'Card name'),\"required\":\"\",\"pattern\":\".*\\\\S+.*\"},domProps:{\"value\":(_vm.newCardTitle)},on:{\"focus\":_vm.onCreateCardFocus,\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"]))return null;return _vm.stopCardCreation.apply(null, arguments)},\"input\":function($event){if($event.target.composing)return;_vm.newCardTitle=$event.target.value}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.stateCardCreating),expression:\"!stateCardCreating\"}],staticClass:\"icon-confirm\",attrs:{\"type\":\"submit\",\"value\":\"\"}})])])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.searchQuery!=='')?_c('div',{staticClass:\"global-search\"},[_c('h2',[_c('NcRichText',{attrs:{\"text\":_vm.t('deck', 'Search for {searchQuery} in all boards'),\"arguments\":_vm.queryStringArgs}}),_vm._v(\" \"),(_vm.loading)?_c('div',{staticClass:\"icon-loading-small\"}):_vm._e()],1),_vm._v(\" \"),_c('NcActions',[_c('NcActionButton',{attrs:{\"icon\":\"icon-close\"},on:{\"click\":function($event){return _vm.$store.commit('setSearchQuery', '')}}})],1),_vm._v(\" \"),_c('div',{staticClass:\"search-wrapper\"},[(_vm.loading || _vm.filteredResults.length > 0)?_c('div',{staticClass:\"search-results\"},[_vm._l((_vm.filteredResults),function(card){return _c('CardItem',{key:card.id,attrs:{\"id\":card.id,\"standalone\":true}})}),_vm._v(\" \"),(_vm.loading)?_c('Placeholder'):_vm._e(),_vm._v(\" \"),_c('InfiniteLoading',{attrs:{\"identifier\":_vm.searchQuery},on:{\"infinite\":_vm.infiniteHandler}},[_c('div',{attrs:{\"slot\":\"spinner\"},slot:\"spinner\"}),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"no-more\"},slot:\"no-more\"}),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"no-results\"},slot:\"no-results\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'No results found'))+\"\\n\\t\\t\\t\\t\")])])],2):_c('div',[_c('p',[_vm._v(_vm._s(_vm.t('deck', 'No results found')))])])])],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div class=\"card--placeholder\">\n\t\t<svg class=\"card-placeholder__gradient\">\n\t\t\t<defs>\n\t\t\t\t<linearGradient id=\"card-placeholder__gradient\">\n\t\t\t\t\t<stop offset=\"0%\" :stop-color=\"light\">\n\t\t\t\t\t\t<animate attributeName=\"stop-color\"\n\t\t\t\t\t\t\t:values=\"`${light}; ${light}; ${dark}; ${dark}; ${light}`\"\n\t\t\t\t\t\t\tdur=\"2s\"\n\t\t\t\t\t\t\trepeatCount=\"indefinite\" />\n\t\t\t\t\t</stop>\n\t\t\t\t\t<stop offset=\"100%\" :stop-color=\"dark\">\n\t\t\t\t\t\t<animate attributeName=\"stop-color\"\n\t\t\t\t\t\t\t:values=\"`${dark}; ${light}; ${light}; ${dark}; ${dark}`\"\n\t\t\t\t\t\t\tdur=\"2s\"\n\t\t\t\t\t\t\trepeatCount=\"indefinite\" />\n\t\t\t\t\t</stop>\n\t\t\t\t</linearGradient>\n\t\t\t</defs>\n\t\t</svg>\n\t\t<svg class=\"card-placeholder__placeholder\"\n\t\t\t:class=\"{ 'standalone': standalone }\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\tfill=\"url(#card-placeholder__gradient)\">\n\t\t\t<rect class=\"card-placeholder__placeholder-line-header\" :style=\"{width: `calc(${randWidth()}%)`}\" />\n\t\t\t<rect class=\"card-placeholder__placeholder-line-one\" />\n\t\t\t<rect class=\"card-placeholder__placeholder-line-two\" :style=\"{width: `calc(${randWidth()}%)`}\" />\n\t\t</svg>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: 'Placeholder',\n\tdata() {\n\t\treturn {\n\t\t\tlight: null,\n\t\t\tdark: null,\n\t\t\tstandalone: true,\n\t\t}\n\t},\n\tmounted() {\n\t\tconst styles = getComputedStyle(document.documentElement)\n\t\tthis.dark = styles.getPropertyValue('--color-placeholder-dark')\n\t\tthis.light = styles.getPropertyValue('--color-placeholder-light')\n\t},\n\n\tmethods: {\n\t\trandWidth() {\n\t\t\treturn Math.floor(Math.random() * 20) + 40\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../css/variables';\n$clickable-area: var(--default-clickable-area);\n\n.card--placeholder {\n\twidth: $stack-width;\n\tmargin-right: $stack-spacing;\n\tpadding: $card-padding;\n\ttransition: box-shadow 0.1s ease-in-out;\n\tbox-shadow: 0 0 2px 0 var(--color-box-shadow);\n\tborder-radius: var(--border-radius-large);\n\tfont-size: 100%;\n\tmargin-bottom: $card-spacing;\n\theight: 100px;\n}\n\n.card-placeholder__gradient {\n\tposition: fixed;\n\theight: 0;\n\twidth: 0;\n\tz-index: -1;\n}\n\n.card-placeholder__placeholder {\n\twidth: 100%;\n\t&-line-header,\n\t&-line-one,\n\t&-line-two {\n\t\twidth: 100%;\n\t\theight: 1em;\n\t\tx: 0;\n\t}\n\t&-line-header {\n\t\tvisibility: hidden;\n\t}\n\t&-line-one {\n\t\ty: 5px;\n\t}\n\n\t&-line-two {\n\t\ty: 25px;\n\t}\n\n\t&.standalone {\n\t\t.card-placeholder__placeholder-line-header {\n\t\t\tvisibility: visible;\n\t\t\ty: 5px;\n\t\t}\n\t\t.card-placeholder__placeholder-line-one {\n\t\t\ty: 40px;\n\t\t}\n\n\t\t.card-placeholder__placeholder-line-two {\n\t\t\ty: 60px;\n\t\t}\n\t}\n}\n\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Placeholder.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Placeholder.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Placeholder.vue?vue&type=style&index=0&id=2ec8f4d4&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Placeholder.vue?vue&type=style&index=0&id=2ec8f4d4&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Placeholder.vue?vue&type=template&id=2ec8f4d4&scoped=true\"\nimport script from \"./Placeholder.vue?vue&type=script&lang=js\"\nexport * from \"./Placeholder.vue?vue&type=script&lang=js\"\nimport style0 from \"./Placeholder.vue?vue&type=style&index=0&id=2ec8f4d4&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ec8f4d4\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card--placeholder\"},[_c('svg',{staticClass:\"card-placeholder__gradient\"},[_c('defs',[_c('linearGradient',{attrs:{\"id\":\"card-placeholder__gradient\"}},[_c('stop',{attrs:{\"offset\":\"0%\",\"stop-color\":_vm.light}},[_c('animate',{attrs:{\"attributeName\":\"stop-color\",\"values\":`${_vm.light}; ${_vm.light}; ${_vm.dark}; ${_vm.dark}; ${_vm.light}`,\"dur\":\"2s\",\"repeatCount\":\"indefinite\"}})]),_vm._v(\" \"),_c('stop',{attrs:{\"offset\":\"100%\",\"stop-color\":_vm.dark}},[_c('animate',{attrs:{\"attributeName\":\"stop-color\",\"values\":`${_vm.dark}; ${_vm.light}; ${_vm.light}; ${_vm.dark}; ${_vm.dark}`,\"dur\":\"2s\",\"repeatCount\":\"indefinite\"}})])],1)],1)]),_vm._v(\" \"),_c('svg',{staticClass:\"card-placeholder__placeholder\",class:{ 'standalone': _vm.standalone },attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"url(#card-placeholder__gradient)\"}},[_c('rect',{staticClass:\"card-placeholder__placeholder-line-header\",style:({width: `calc(${_vm.randWidth()}%)`})}),_vm._v(\" \"),_c('rect',{staticClass:\"card-placeholder__placeholder-line-one\"}),_vm._v(\" \"),_c('rect',{staticClass:\"card-placeholder__placeholder-line-two\",style:({width: `calc(${_vm.randWidth()}%)`})})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div v-if=\"searchQuery!==''\" class=\"global-search\">\n\t\t<h2>\n\t\t\t<NcRichText :text=\"t('deck', 'Search for {searchQuery} in all boards')\" :arguments=\"queryStringArgs\" />\n\t\t\t<div v-if=\"loading\" class=\"icon-loading-small\" />\n\t\t</h2>\n\t\t<NcActions>\n\t\t\t<NcActionButton icon=\"icon-close\" @click=\"$store.commit('setSearchQuery', '')\" />\n\t\t</NcActions>\n\t\t<div class=\"search-wrapper\">\n\t\t\t<div v-if=\"loading || filteredResults.length > 0\" class=\"search-results\">\n\t\t\t\t<CardItem v-for=\"card in filteredResults\"\n\t\t\t\t\t:id=\"card.id\"\n\t\t\t\t\t:key=\"card.id\"\n\t\t\t\t\t:standalone=\"true\" />\n\t\t\t\t<Placeholder v-if=\"loading\" />\n\t\t\t\t<InfiniteLoading :identifier=\"searchQuery\" @infinite=\"infiniteHandler\">\n\t\t\t\t\t<div slot=\"spinner\" />\n\t\t\t\t\t<div slot=\"no-more\" />\n\t\t\t\t\t<div slot=\"no-results\">\n\t\t\t\t\t\t{{ t('deck', 'No results found') }}\n\t\t\t\t\t</div>\n\t\t\t\t</InfiniteLoading>\n\t\t\t</div>\n\t\t\t<div v-else>\n\t\t\t\t<p>{{ t('deck', 'No results found') }}</p>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport CardItem from '../cards/CardItem.vue'\nimport { mapState } from 'vuex'\nimport axios from '@nextcloud/axios'\nimport { generateOcsUrl } from '@nextcloud/router'\nimport InfiniteLoading from 'vue-infinite-loading'\nimport Placeholder from './Placeholder.vue'\nimport { NcActions, NcActionButton, NcRichText } from '@nextcloud/vue'\n\nconst createCancelToken = () => axios.CancelToken.source()\n\n/**\n * @param root0\n * @param root0.query\n * @param root0.cursor\n */\nfunction search({ query, cursor }) {\n\tconst cancelToken = createCancelToken()\n\n\tconst request = async () => axios.get(generateOcsUrl('apps/deck/api/v1.0/search'), {\n\t\tcancelToken: cancelToken.token,\n\t\tparams: {\n\t\t\tterm: query,\n\t\t\tlimit: 20,\n\t\t\tcursor,\n\t\t},\n\t})\n\n\treturn {\n\t\trequest,\n\t\tcancel: cancelToken.cancel,\n\t}\n}\n\nexport default {\n\tname: 'GlobalSearchResults',\n\tcomponents: { CardItem, InfiniteLoading, NcRichText, Placeholder, NcActions, NcActionButton },\n\tdata() {\n\t\treturn {\n\t\t\tresults: [],\n\t\t\tcancel: null,\n\t\t\tloading: false,\n\t\t\tcursor: null,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\tsearchQuery: state => state.searchQuery,\n\t\t}),\n\t\tfilteredResults() {\n\t\t\tconst sortFn = (a, b) => a.archived - b.archived || b.lastModified - a.lastModified\n\t\t\tif (this.$route.params.id) {\n\t\t\t\treturn this.results.filter((result) => result.relatedBoard.id.toString() !== this.$route.params.id.toString()).sort(sortFn)\n\t\t\t}\n\t\t\treturn [...this.results].sort(sortFn)\n\t\t},\n\t\tqueryStringArgs() {\n\t\t\treturn {\n\t\t\t\tsearchQuery: this.searchQuery,\n\t\t\t}\n\t\t},\n\t},\n\twatch: {\n\t\tasync searchQuery() {\n\t\t\tthis.cursor = null\n\t\t\tthis.loading = true\n\t\t\ttry {\n\t\t\t\tawait this.search()\n\t\t\t\tthis.loading = false\n\t\t\t} catch (e) {\n\t\t\t\tif (!axios.isCancel(e)) {\n\t\t\t\t\tconsole.error('Search request failed', e)\n\t\t\t\t\tthis.loading = false\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n\tmethods: {\n\t\tasync infiniteHandler($state) {\n\t\t\tthis.loading = true\n\t\t\ttry {\n\t\t\t\tconst data = await this.search()\n\t\t\t\tif (data.length) {\n\t\t\t\t\t$state.loaded()\n\t\t\t\t} else {\n\t\t\t\t\t$state.complete()\n\t\t\t\t}\n\t\t\t\tthis.loading = false\n\t\t\t} catch (e) {\n\t\t\t\tif (!axios.isCancel(e)) {\n\t\t\t\t\tconsole.error('Search request failed', e)\n\t\t\t\t\t$state.complete()\n\t\t\t\t\tthis.loading = false\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tasync search() {\n\t\t\tif (this.cancel) {\n\t\t\t\tthis.cancel()\n\t\t\t}\n\t\t\tconst { request, cancel } = await search({ query: this.searchQuery, cursor: this.cursor })\n\t\t\tthis.cancel = cancel\n\t\t\tconst { data } = await request()\n\n\t\t\tif (this.cursor === null) {\n\t\t\t\tthis.results = []\n\t\t\t}\n\t\t\tif (data.ocs.data.length > 0) {\n\t\t\t\tdata.ocs.data.forEach((card) => {\n\t\t\t\t\tthis.$store.dispatch('addCardData', card)\n\t\t\t\t})\n\t\t\t\tthis.results = [...this.results, ...data.ocs.data]\n\t\t\t\tthis.cursor = data.ocs.data[data.ocs.data.length - 1].lastModified\n\t\t\t}\n\t\t\treturn data.ocs.data\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../css/variables';\n\n.global-search {\n\twidth: 100%;\n\tpadding: $board-spacing + $stack-spacing;\n\tpadding-bottom: 0;\n\toverflow: hidden;\n\tmin-height: 35vh;\n\tmax-height: 50vh;\n\tflex-shrink: 1;\n\tflex-grow: 1;\n\tborder-top: 1px solid var(--color-border);\n\tz-index: 1010;\n\tposition: relative;\n\n\t.action-item.icon-close {\n\t\tposition: absolute;\n\t\ttop: 10px;\n\t\tright: 10px;\n\t}\n\t.search-wrapper {\n\t\toverflow: scroll;\n\t\theight: 100%;\n\t\tposition: relative;\n\t\tpadding: 10px;\n\t}\n\n\th2 > div {\n\t\tdisplay: inline-block;\n\n\t\t&.icon-loading-small {\n\t\t\tmargin-right: 20px;\n\t\t}\n\t}\n\th2:deep(span) {\n\t\tbackground-color: var(--color-background-dark);\n\t\tpadding: 3px;\n\t\tborder-radius: var(--border-radius);\n\t}\n\n\t.search-results {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\n\t\t& > div {\n\t\t\tflex-grow: 0;\n\t\t}\n\t}\n\t&:deep(.card) {\n\t\twidth: $stack-width;\n\t\tmargin-right: $stack-spacing;\n\t}\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalSearchResults.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalSearchResults.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalSearchResults.vue?vue&type=style&index=0&id=7711a4ae&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalSearchResults.vue?vue&type=style&index=0&id=7711a4ae&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./GlobalSearchResults.vue?vue&type=template&id=7711a4ae&scoped=true\"\nimport script from \"./GlobalSearchResults.vue?vue&type=script&lang=js\"\nexport * from \"./GlobalSearchResults.vue?vue&type=script&lang=js\"\nimport style0 from \"./GlobalSearchResults.vue?vue&type=style&index=0&id=7711a4ae&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7711a4ae\",\n  null\n  \n)\n\nexport default component.exports","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div v-if=\"copiedCard\">\n\t\t<TagSelector :card=\"card\"\n\t\t\t:labels=\"currentBoard.labels\"\n\t\t\t:disabled=\"!canEdit\"\n\t\t\t@select=\"addLabelToCard\"\n\t\t\t@remove=\"removeLabelFromCard\"\n\t\t\t@newtag=\"addLabelToBoardAndCard\" />\n\n\t\t<AssignmentSelector :card=\"card\"\n\t\t\t:assignables=\"assignables\"\n\t\t\t:can-edit=\"canEdit\"\n\t\t\t@select=\"assignUserToCard\"\n\t\t\t@remove=\"removeUserFromCard\" />\n\n\t\t<DueDateSelector :card=\"card\"\n\t\t\t:can-edit=\"canEdit\"\n\t\t\t@change=\"updateCardDue\"\n\t\t\t@input=\"debouncedUpdateCardDue\" />\n\n\t\t<div v-if=\"projectsEnabled\" class=\"section-wrapper\">\n\t\t\t<CollectionList v-if=\"card.id\"\n\t\t\t\t:id=\"`${card.id}`\"\n\t\t\t\t:name=\"card.title\"\n\t\t\t\ttype=\"deck-card\" />\n\t\t</div>\n\n\t\t<Description :key=\"card.id\"\n\t\t\t:card=\"card\"\n\t\t\t:can-edit=\"canEdit\"\n\t\t\tshow-attachments\n\t\t\t@change=\"descriptionChanged\" />\n\t</div>\n</template>\n\n<script>\nimport { mapState, mapGetters } from 'vuex'\nimport moment from '@nextcloud/moment'\nimport { loadState } from '@nextcloud/initial-state'\n\nimport { CollectionList } from 'nextcloud-vue-collections'\nimport Color from '../../mixins/color.js'\nimport {\n\tgetLocale,\n} from '@nextcloud/l10n'\nimport Description from './Description.vue'\nimport TagSelector from './TagSelector.vue'\nimport AssignmentSelector from './AssignmentSelector.vue'\nimport DueDateSelector from './DueDateSelector.vue'\nimport { debounce } from 'lodash'\n\nexport default {\n\tname: 'CardSidebarTabDetails',\n\tcomponents: {\n\t\tDueDateSelector,\n\t\tAssignmentSelector,\n\t\tTagSelector,\n\t\tDescription,\n\t\tCollectionList,\n\t},\n\tmixins: [Color],\n\tprops: {\n\t\tcard: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\taddedLabelToCard: null,\n\t\t\tcopiedCard: null,\n\t\t\tlocale: getLocale(),\n\t\t\tprojectsEnabled: loadState('core', 'projects_enabled', false),\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\tcurrentBoard: state => state.currentBoard,\n\t\t}),\n\t\t...mapGetters(['canEdit', 'assignables']),\n\t\tcardDetailsInModal: {\n\t\t\tget() {\n\t\t\t\treturn this.$store.getters.config('cardDetailsInModal')\n\t\t\t},\n\t\t\tset(newValue) {\n\t\t\t\tthis.$store.dispatch('setConfig', { cardDetailsInModal: newValue })\n\t\t\t},\n\t\t},\n\t\tlabelsSorted() {\n\t\t\treturn [...this.currentBoard.labels].sort((a, b) => (a.title < b.title) ? -1 : 1)\n\t\t},\n\t},\n\twatch: {\n\t\tcard() {\n\t\t\tthis.initialize()\n\t\t},\n\t},\n\tmounted() {\n\t\tthis.initialize()\n\t},\n\tmethods: {\n\t\tasync descriptionChanged(newDesc) {\n\t\t\tif (newDesc === this.copiedCard.description) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.copiedCard.description = newDesc\n\t\t},\n\t\tasync initialize() {\n\t\t\tif (!this.card) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.copiedCard = JSON.parse(JSON.stringify(this.card))\n\t\t\tlocalStorage.setItem('deck.selectedBoardId', this.currentBoard.id)\n\t\t\tlocalStorage.setItem('deck.selectedStackId', this.card.stackId)\n\t\t},\n\n\t\tassignUserToCard(user) {\n\t\t\tthis.$store.dispatch('assignCardToUser', {\n\t\t\t\tcard: this.copiedCard,\n\t\t\t\tassignee: {\n\t\t\t\t\tuserId: user.uid,\n\t\t\t\t\ttype: user.type,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\n\t\tremoveUserFromCard(user) {\n\t\t\tthis.$store.dispatch('removeUserFromCard', {\n\t\t\t\tcard: this.copiedCard,\n\t\t\t\tassignee: {\n\t\t\t\t\tuserId: user.uid,\n\t\t\t\t\ttype: user.type,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\n\t\tupdateCardDue(val) {\n\t\t\tthis.$store.dispatch('updateCardDue', {\n\t\t\t\t...this.copiedCard,\n\t\t\t\tduedate: val ? (new Date(val)).toISOString() : null,\n\t\t\t})\n\t\t},\n\n\t\tdebouncedUpdateCardDue: debounce(function(val) {\n\t\t\tthis.updateCardDue(val)\n\t\t}, 500),\n\n\t\taddLabelToCard(newLabel) {\n\t\t\tthis.copiedCard.labels.push(newLabel)\n\t\t\tconst data = {\n\t\t\t\tcard: this.copiedCard,\n\t\t\t\tlabelId: newLabel.id,\n\t\t\t}\n\t\t\tthis.$store.dispatch('addLabel', data)\n\t\t},\n\n\t\tasync addLabelToBoardAndCard(name) {\n\t\t\tawait this.$store.dispatch('addLabelToCurrentBoardAndCard', {\n\t\t\t\tcard: this.copiedCard,\n\t\t\t\tnewLabel: {\n\t\t\t\t\ttitle: name,\n\t\t\t\t\tcolor: this.randomColor(),\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\n\t\tremoveLabelFromCard(removedLabel) {\n\t\t\tconst removeIndex = this.copiedCard.labels.findIndex((label) => {\n\t\t\t\treturn label.id === removedLabel.id\n\t\t\t})\n\t\t\tif (removeIndex !== -1) {\n\t\t\t\tthis.copiedCard.labels.splice(removeIndex, 1)\n\t\t\t}\n\n\t\t\tconst data = {\n\t\t\t\tcard: this.copiedCard,\n\t\t\t\tlabelId: removedLabel.id,\n\t\t\t}\n\t\t\tthis.$store.dispatch('removeLabel', data)\n\t\t},\n\t\tstringify(date) {\n\t\t\treturn moment(date).locale(this.locale).format('LLL')\n\t\t},\n\t\tparse(value) {\n\t\t\treturn moment(value).toDate()\n\t\t},\n\t},\n}\n</script>\n<style lang=\"scss\" scoped>\n.section-wrapper {\n\tdisplay: flex;\n\tmax-width: 100%;\n\tmargin-top: 10px;\n\n\t.section-label {\n\t\tbackground-position: 0px center;\n\t\twidth: 28px;\n\t\tmargin-left: 9px;\n\t\tflex-shrink: 0;\n\t}\n\n\t.section-details {\n\t\tflex-grow: 1;\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\n\t\t.remove-due-button{\n\t\t\tmargin-top: -2px;\n\t\t\tmargin-left: 6px;\n\t\t}\n\t}\n}\n\n.button-group {\n\twidth: 100%;\n\tdisplay: flex;\n\n\tbutton {\n\t\twidth: 100%;\n\t}\n}\n\n.done {\n\tdisplay: flex;\n}\n\n.tag {\n\tflex-grow: 0;\n\tflex-shrink: 1;\n\toverflow: hidden;\n\tpadding: 0px 5px;\n\tborder-radius: 15px;\n\tfont-size: 85%;\n\tmargin-right: 3px;\n}\n\n.avatarLabel {\n\tpadding: 6px\n}\n\n.section-details:deep(.multiselect__tags-wrap) {\n\tflex-wrap: wrap;\n}\n\n.avatar-list--readonly .avatardiv {\n\tmargin-right: 3px;\n}\n\n.avatarlist--inline {\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-right: 3px;\n\t.avatarLabel {\n\t\tpadding: 0;\n\t}\n}\n\n.multiselect:deep(.multiselect__tags-wrap) {\n\tz-index: 2;\n}\n\n.multiselect.multiselect--active:deep(.multiselect__tags-wrap) {\n\tz-index: 0;\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabDetails.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabDetails.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabDetails.vue?vue&type=style&index=0&id=0ae6769e&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabDetails.vue?vue&type=style&index=0&id=0ae6769e&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CardSidebarTabDetails.vue?vue&type=template&id=0ae6769e&scoped=true\"\nimport script from \"./CardSidebarTabDetails.vue?vue&type=script&lang=js\"\nexport * from \"./CardSidebarTabDetails.vue?vue&type=script&lang=js\"\nimport style0 from \"./CardSidebarTabDetails.vue?vue&type=style&index=0&id=0ae6769e&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0ae6769e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.copiedCard)?_c('div',[_c('TagSelector',{attrs:{\"card\":_vm.card,\"labels\":_vm.currentBoard.labels,\"disabled\":!_vm.canEdit},on:{\"select\":_vm.addLabelToCard,\"remove\":_vm.removeLabelFromCard,\"newtag\":_vm.addLabelToBoardAndCard}}),_vm._v(\" \"),_c('AssignmentSelector',{attrs:{\"card\":_vm.card,\"assignables\":_vm.assignables,\"can-edit\":_vm.canEdit},on:{\"select\":_vm.assignUserToCard,\"remove\":_vm.removeUserFromCard}}),_vm._v(\" \"),_c('DueDateSelector',{attrs:{\"card\":_vm.card,\"can-edit\":_vm.canEdit},on:{\"change\":_vm.updateCardDue,\"input\":_vm.debouncedUpdateCardDue}}),_vm._v(\" \"),(_vm.projectsEnabled)?_c('div',{staticClass:\"section-wrapper\"},[(_vm.card.id)?_c('CollectionList',{attrs:{\"id\":`${_vm.card.id}`,\"name\":_vm.card.title,\"type\":\"deck-card\"}}):_vm._e()],1):_vm._e(),_vm._v(\" \"),_c('Description',{key:_vm.card.id,attrs:{\"card\":_vm.card,\"can-edit\":_vm.canEdit,\"show-attachments\":\"\"},on:{\"change\":_vm.descriptionChanged}})],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<AttachmentList :card-id=\"card.id\"\n\t\t:removable=\"true\"\n\t\t@delete-attachment=\"deleteAttachment\"\n\t\t@restore-attachment=\"restoreAttachment\" />\n</template>\n\n<script>\nimport AttachmentList from './AttachmentList.vue'\nexport default {\n\tname: 'CardSidebarTabAttachments',\n\tcomponents: {\n\t\tAttachmentList,\n\t},\n\tprops: {\n\t\tcard: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tmethods: {\n\t\tdeleteAttachment(attachment) {\n\t\t\tthis.$store.dispatch('deleteAttachment', attachment)\n\t\t},\n\t\trestoreAttachment(attachment) {\n\t\t\tthis.$store.dispatch('restoreAttachment', attachment)\n\t\t},\n\t},\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabAttachments.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabAttachments.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CardSidebarTabAttachments.vue?vue&type=template&id=6bf22c3d\"\nimport script from \"./CardSidebarTabAttachments.vue?vue&type=script&lang=js\"\nexport * from \"./CardSidebarTabAttachments.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('AttachmentList',{attrs:{\"card-id\":_vm.card.id,\"removable\":true},on:{\"delete-attachment\":_vm.deleteAttachment,\"restore-attachment\":_vm.restoreAttachment}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"comment--header\"},[_c('NcAvatar',{attrs:{\"user\":_vm.currentUser.uid}}),_vm._v(\" \"),_c('span',{staticClass:\"username\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.currentUser.displayName)+\"\\n\\t\\t\")])],1),_vm._v(\" \"),(_vm.replyTo)?_c('CommentItem',{attrs:{\"comment\":_vm.replyTo,\"reply\":true,\"preview\":true},on:{\"cancel\":_vm.cancelReply}}):_vm._e(),_vm._v(\" \"),_c('CommentForm',{on:{\"submit\":_vm.createComment},model:{value:(_vm.newComment),callback:function ($$v) {_vm.newComment=$$v},expression:\"newComment\"}}),_vm._v(\" \"),(_vm.getCommentsForCard(_vm.card.id).length > 0)?_c('ul',{attrs:{\"id\":\"commentsFeed\"}},[_vm._l((_vm.getCommentsForCard(_vm.card.id)),function(comment){return _c('CommentItem',{key:comment.id,attrs:{\"comment\":comment},on:{\"doReload\":_vm.loadComments}})}),_vm._v(\" \"),_c('InfiniteLoading',{attrs:{\"identifier\":_vm.card.id},on:{\"infinite\":_vm.infiniteHandler}},[_c('div',{staticClass:\"icon-loading\",attrs:{\"slot\":\"spinner\"},slot:\"spinner\"}),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"no-more\"},slot:\"no-more\"}),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"no-results\"},slot:\"no-results\"})])],2):(_vm.isLoading)?_c('div',{staticClass:\"icon icon-loading\"}):_c('div',{staticClass:\"emptycontent\"},[_c('div',{class:{ 'icon-comment': !_vm.error, 'icon-error': _vm.error }}),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.error || _vm.t('deck', 'No comments yet. Begin the discussion!')))])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nconst rawToParsed = (text) => {\n\ttext = text.replace(/<br>/g, '\\n')\n\ttext = text.replace(/&nbsp;/g, ' ')\n\n\t// Since we used innerHTML to get the content of the div.contenteditable\n\t// it is escaped. With this little trick from https://stackoverflow.com/a/7394787\n\t// We unescape the code again, so if you write `<strong>` we can display\n\t// it again instead of `&lt;strong&gt;`\n\tconst temp = document.createElement('textarea')\n\ttemp.innerHTML = text\n\ttext = temp.value\n\n\t// Although the text is fully trimmed, at the very least the last\n\t// \"\\n\" occurrence should be always removed, as browsers add a\n\t// \"<br>\" element as soon as some rich text is written in a content\n\t// editable div (for example, if a new line is added the div content\n\t// will be \"<br><br>\").\n\treturn text.trim()\n}\n\nexport {\n\trawToParsed,\n}\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentForm.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentForm.vue?vue&type=script&lang=js\"","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div class=\"comment-form\">\n\t\t<form @submit.prevent=\"submit\">\n\t\t\t<At ref=\"at\"\n\t\t\t\tv-model=\"commentText\"\n\t\t\t\t:members=\"members\"\n\t\t\t\tname-key=\"displayname\"\n\t\t\t\t:tab-select=\"true\">\n\t\t\t\t<template #item=\"s\">\n\t\t\t\t\t<NcAvatar class=\"atwho-li--avatar\" :user=\"s.item.uid\" :size=\"24\" />\n\t\t\t\t\t<span class=\"atwho-li--name\" v-text=\"s.item.displayname\" />\n\t\t\t\t</template>\n\t\t\t\t<template #embeddedItem=\"scope\">\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<NcUserBubble v-if=\"scope.current.uid\"\n\t\t\t\t\t\t\t:data-mention-id=\"scope.current.uid\"\n\t\t\t\t\t\t\t:user=\"scope.current.uid\"\n\t\t\t\t\t\t\t:display-name=\"scope.current.displayname\" />\n\t\t\t\t\t</span>\n\t\t\t\t</template>\n\t\t\t\t<div ref=\"contentEditable\"\n\t\t\t\t\tdir=\"auto\"\n\t\t\t\t\tclass=\"comment-form__contenteditable\"\n\t\t\t\t\tcontenteditable\n\t\t\t\t\t@keydown.enter=\"handleKeydown\"\n\t\t\t\t\t@paste=\"onPaste\"\n\t\t\t\t\t@blur=\"error = null\"\n\t\t\t\t\t@input=\"validate()\" />\n\t\t\t</At>\n\t\t\t<input :title=\"t('deck', 'Save')\"\n\t\t\t\tclass=\"icon-confirm\"\n\t\t\t\ttype=\"submit\"\n\t\t\t\tvalue=\"\"\n\t\t\t\t:disabled=\"commentText.length === null || error\">\n\t\t\t<slot />\n\t\t</form>\n\t\t<p v-if=\"error\">\n\t\t\t{{ error }}\n\t\t</p>\n\t</div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport { NcUserBubble, NcAvatar } from '@nextcloud/vue'\nimport At from 'vue-at'\nimport { rawToParsed } from '../../helpers/mentions.js'\n\nexport default {\n\tname: 'CommentForm',\n\tcomponents: {\n\t\tAt,\n\t\tNcAvatar,\n\t\tNcUserBubble,\n\t},\n\tprops: {\n\t\tvalue: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcommentText: this.value,\n\t\t\terror: null,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\tcurrentBoard: state => state.currentBoard,\n\t\t}),\n\t\tmembers() {\n\t\t\treturn this.currentBoard.users\n\t\t},\n\t},\n\twatch: {\n\t\tvalue(val) {\n\t\t\tthis.commentText = val\n\t\t},\n\t},\n\tmethods: {\n\t\tvalidate(submit) {\n\t\t\tthis.error = null\n\t\t\tconst content = this.contentEditableToParsed()\n\t\t\tif (submit && content.length === 0) {\n\t\t\t\tthis.error = t('deck', 'The comment cannot be empty.')\n\t\t\t}\n\t\t\tif (content.length > 1000) {\n\t\t\t\tthis.error = t('deck', 'The comment cannot be longer than 1000 characters.')\n\t\t\t}\n\t\t\treturn this.error === null ? content : null\n\t\t},\n\t\tsubmit() {\n\t\t\tconst content = this.validate(true)\n\t\t\tif (content) {\n\t\t\t\t// We need the plain text representation for the input event as otherwise it will propagate back to the contenteditable\n\t\t\t\t// The input event is only used for change detection to make sure that the input is reset after posting the comment\n\t\t\t\tconst temp = document.createElement('div')\n\t\t\t\ttemp.innerHTML = content\n\t\t\t\tconst text = temp.textContent || temp.innerText || ''\n\t\t\t\tthis.$emit('input', text)\n\t\t\t\tthis.$emit('submit', text)\n\t\t\t}\n\t\t},\n\t\t/* All credits for this go to the talk app\n\t\t * https://github.com/nextcloud/spreed/blob/e69740b372e17eec4541337b47baa262a5766510/src/components/NewMessageForm/NewMessageForm.vue#L100-L143\n\t\t */\n\t\tcontentEditableToParsed() {\n\t\t\tif (!this.$refs.contentEditable) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tconst node = this.$refs.contentEditable.cloneNode(true)\n\t\t\tconst mentions = node.querySelectorAll('span[data-at-embedded]')\n\t\t\tmentions.forEach(mention => {\n\t\t\t\t// FIXME Adding a space after the mention should be improved to\n\t\t\t\t// do it or not based on the next element instead of always\n\t\t\t\t// adding it.\n\t\t\t\t// FIXME user names can contain spaces, in that case they need to be wrapped @\"user name\" [a-zA-Z0-9\\ _\\.@\\-']+\n\t\t\t\tconst mentionValue = mention.firstElementChild.attributes['data-mention-id'].value\n\t\t\t\tif (mentionValue.indexOf(' ') !== -1) {\n\t\t\t\t\tmention.replaceWith(' @\"' + mentionValue + '\" ')\n\t\t\t\t} else {\n\t\t\t\t\tmention.replaceWith(' @' + mentionValue + ' ')\n\t\t\t\t}\n\t\t\t})\n\n\t\t\treturn rawToParsed(node.innerHTML)\n\t\t},\n\n\t\t/**\n\t\t * Emits the submit event when enter is pressed (look\n\t\t * at the v-on in the template) unless shift is pressed:\n\t\t * in this case a new line will be created.\n\t\t *\n\t\t * @param {object} event the event object;\n\t\t */\n\t\thandleKeydown(event) {\n\t\t\t// Prevent submit event when vue-at panel is open, as that should\n\t\t\t// just select the mention from the panel.\n\t\t\tif (this.atwho) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// TODO: add support for CTRL+ENTER new line\n\t\t\tif (!(event.shiftKey)) {\n\t\t\t\tevent.preventDefault()\n\t\t\t\tthis.submit()\n\t\t\t}\n\t\t},\n\n\t\tonPaste(e) {\n\t\t\te.preventDefault()\n\t\t\tconst text = e.clipboardData.getData('text/plain')\n\t\t\tdocument.execCommand('insertText', false, text)\n\t\t},\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n\t@import '../../css/comments';\n\n\t.comment-form__contenteditable {\n\t\tword-break: break-word;\n\t\tborder-radius: var(--border-radius-large)\n\t}\n\n\t.atwho-wrap {\n\t\twidth: 100%;\n\t\t& > div[contenteditable] {\n\t\t\twidth: 100%;\n\n\t\t\t&:deep > span > div {\n\t\t\t\tvertical-align: middle;\n\t\t\t}\n\t\t}\n\t}\n\n\t.comment-form:deep(.atwho-li) {\n\t\theight: 32px;\n\t}\n\n\t.atwho-li--avatar {\n\t\tmargin-right: 10px;\n\t}\n</style>\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentForm.vue?vue&type=style&index=0&id=c798075e&prod&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentForm.vue?vue&type=style&index=0&id=c798075e&prod&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CommentForm.vue?vue&type=template&id=c798075e&scoped=true\"\nimport script from \"./CommentForm.vue?vue&type=script&lang=js\"\nexport * from \"./CommentForm.vue?vue&type=script&lang=js\"\nimport style0 from \"./CommentForm.vue?vue&type=style&index=0&id=c798075e&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c798075e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"comment-form\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.submit.apply(null, arguments)}}},[_c('At',{ref:\"at\",attrs:{\"members\":_vm.members,\"name-key\":\"displayname\",\"tab-select\":true},scopedSlots:_vm._u([{key:\"item\",fn:function(s){return [_c('NcAvatar',{staticClass:\"atwho-li--avatar\",attrs:{\"user\":s.item.uid,\"size\":24}}),_vm._v(\" \"),_c('span',{staticClass:\"atwho-li--name\",domProps:{\"textContent\":_vm._s(s.item.displayname)}})]}},{key:\"embeddedItem\",fn:function(scope){return [_c('span',[(scope.current.uid)?_c('NcUserBubble',{attrs:{\"data-mention-id\":scope.current.uid,\"user\":scope.current.uid,\"display-name\":scope.current.displayname}}):_vm._e()],1)]}}]),model:{value:(_vm.commentText),callback:function ($$v) {_vm.commentText=$$v},expression:\"commentText\"}},[_vm._v(\" \"),_vm._v(\" \"),_c('div',{ref:\"contentEditable\",staticClass:\"comment-form__contenteditable\",attrs:{\"dir\":\"auto\",\"contenteditable\":\"\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.handleKeydown.apply(null, arguments)},\"paste\":_vm.onPaste,\"blur\":function($event){_vm.error = null},\"input\":function($event){return _vm.validate()}}})]),_vm._v(\" \"),_c('input',{staticClass:\"icon-confirm\",attrs:{\"title\":_vm.t('deck', 'Save'),\"type\":\"submit\",\"value\":\"\",\"disabled\":_vm.commentText.length === null || _vm.error}}),_vm._v(\" \"),_vm._t(\"default\")],2),_vm._v(\" \"),(_vm.error)?_c('p',[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.error)+\"\\n\\t\")]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div v-if=\"reply\" class=\"reply\" :class=\"{ 'reply--preview': preview }\">\n\t\t<div class=\"reply--wrapper\">\n\t\t\t<div class=\"reply--header\">\n\t\t\t\t<div class=\"reply--hint\">\n\t\t\t\t\t{{ t('deck', 'In reply to') }}\n\t\t\t\t\t<NcUserBubble :user=\"comment.actorId\" :display-name=\"comment.actorDisplayName\" />\n\t\t\t\t</div>\n\t\t\t\t<NcActions v-if=\"preview\" class=\"reply--cancel\">\n\t\t\t\t\t<NcActionButton icon=\"icon-close\" @click=\"$emit('cancel')\">\n\t\t\t\t\t\t{{ t('deck', 'Cancel reply') }}\n\t\t\t\t\t</NcActionButton>\n\t\t\t\t</NcActions>\n\t\t\t</div>\n\t\t\t<NcRichText class=\"comment--content\"\n\t\t\t\tdir=\"auto\"\n\t\t\t\t:text=\"richText(comment)\"\n\t\t\t\t:arguments=\"richArgs(comment)\"\n\t\t\t\t:autolink=\"true\" />\n\t\t</div>\n\t</div>\n\t<li v-else class=\"comment\">\n\t\t<div class=\"comment--header\">\n\t\t\t<NcAvatar :user=\"comment.actorId\" />\n\t\t\t<span class=\"username\">\n\t\t\t\t{{ comment.actorDisplayName }}\n\t\t\t</span>\n\t\t\t<NcActions v-show=\"!edit\" :force-menu=\"true\">\n\t\t\t\t<NcActionButton :close-after-click=\"true\" @click=\"replyTo()\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<ReplyIcon decorative />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('deck', 'Reply') }}\n\t\t\t\t</NcActionButton>\n\t\t\t\t<NcActionButton v-if=\"canEdit\"\n\t\t\t\t\ticon=\"icon-rename\"\n\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t@click=\"showUpdateForm()\">\n\t\t\t\t\t{{ t('deck', 'Update') }}\n\t\t\t\t</NcActionButton>\n\t\t\t\t<NcActionButton v-if=\"canEdit\"\n\t\t\t\t\ticon=\"icon-delete\"\n\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t@click=\"deleteComment()\">\n\t\t\t\t\t{{ t('deck', 'Delete') }}\n\t\t\t\t</NcActionButton>\n\t\t\t</NcActions>\n\t\t\t<NcActions v-if=\"edit\">\n\t\t\t\t<NcActionButton icon=\"icon-close\" @click=\"hideUpdateForm\" />\n\t\t\t</NcActions>\n\t\t\t<div class=\"spacer\" />\n\t\t\t<div class=\"timestamp\"\n\t\t\t\t:aria-label=\"formattedTimestamp\"\n\t\t\t\t:title=\"formattedTimestamp\">\n\t\t\t\t{{ relativeDate(comment.creationDateTime) }}\n\t\t\t</div>\n\t\t</div>\n\t\t<CommentItem v-if=\"comment.replyTo\" :reply=\"true\" :comment=\"comment.replyTo\" />\n\t\t<div v-show=\"!edit\" ref=\"richTextElement\">\n\t\t\t<NcRichText class=\"comment--content\"\n\t\t\t\tdir=\"auto\"\n\t\t\t\t:text=\"richText(comment)\"\n\t\t\t\t:arguments=\"richArgs(comment)\"\n\t\t\t\t:autolink=\"true\" />\n\t\t</div>\n\t\t<CommentForm v-if=\"edit\"\n\t\t\tv-model=\"commentMsg\"\n\t\t\tdir=\"auto\"\n\t\t\t@submit=\"updateComment\" />\n\t</li>\n</template>\n\n<script>\nimport { NcAvatar, NcActions, NcActionButton, NcRichText, NcUserBubble } from '@nextcloud/vue'\nimport CommentForm from './CommentForm.vue'\nimport { getCurrentUser } from '@nextcloud/auth'\nimport md5 from 'blueimp-md5'\nimport relativeDate from '../../mixins/relativeDate.js'\nimport ReplyIcon from 'vue-material-design-icons/Reply.vue'\nimport moment from 'moment'\n\nconst AtMention = {\n\tname: 'AtMention',\n\tfunctional: true,\n\trender(createElement, context) {\n\t\tconst { user, displayName } = context.props\n\t\treturn createElement(\n\t\t\t'span',\n\t\t\t{ attrs: { 'data-at-embedded': true, contenteditable: false } },\n\t\t\t[createElement(NcUserBubble, { props: { user, displayName }, attrs: { 'data-mention-id': user } })],\n\t\t)\n\t},\n}\n\nexport default {\n\tname: 'CommentItem',\n\tcomponents: {\n\t\tNcAvatar,\n\t\tNcUserBubble,\n\t\tNcActions,\n\t\tNcActionButton,\n\t\tCommentForm,\n\t\tNcRichText,\n\t\tReplyIcon,\n\t},\n\tmixins: [relativeDate],\n\tprops: {\n\t\tcomment: {\n\t\t\ttype: Object,\n\t\t\tdefault: undefined,\n\t\t},\n\t\treply: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tpreview: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tedit: false,\n\t\t\tcommentMsg: '',\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tcanEdit() {\n\t\t\treturn this.comment.actorId === getCurrentUser().uid\n\t\t},\n\t\trichText() {\n\t\t\treturn (comment) => {\n\t\t\t\tlet message = this.parsedMessage(comment.message)\n\t\t\t\tcomment.mentions.forEach((mention, index) => {\n\t\t\t\t\t// Currently only [a-z\\-_0-9] are allowed inside of placeholders so we use a hash of the mention id as a unique identifier\n\t\t\t\t\tconst hash = md5(mention.mentionId)\n\t\t\t\t\tmessage = message.split('@' + mention.mentionId + '').join(`{user-${hash}}`)\n\t\t\t\t\tmessage = message.split('@\"' + mention.mentionId + '\"').join(`{user-${hash}}`)\n\n\t\t\t\t})\n\t\t\t\treturn message\n\t\t\t}\n\t\t},\n\t\trichArgs() {\n\t\t\treturn (comment) => {\n\t\t\t\tconst mentions = [...comment.mentions]\n\t\t\t\tconst result = mentions.reduce((result, item, index) => {\n\t\t\t\t\tconst itemKey = 'user-' + md5(item.mentionId)\n\t\t\t\t\tresult[itemKey] = {\n\t\t\t\t\t\tcomponent: AtMention,\n\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\tuser: item.mentionId,\n\t\t\t\t\t\t\tdisplayName: item.mentionDisplayName,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t\treturn result\n\t\t\t\t}, {})\n\t\t\t\treturn result\n\t\t\t}\n\t\t},\n\t\tparsedMessage() {\n\t\t\treturn (message) => {\n\t\t\t\tconst div = document.createElement('div')\n\t\t\t\tdiv.innerHTML = message\n\t\t\t\treturn (div.textContent || div.innerText || '')\n\t\t\t}\n\t\t},\n\t\tformattedTimestamp() {\n\t\t\treturn t('deck', 'Created:') + ' ' + moment(this.comment.creationDateTime).format('LLLL')\n\t\t},\n\t},\n\n\tmethods: {\n\t\treplyTo() {\n\t\t\tthis.$store.dispatch('setReplyTo', this.comment)\n\t\t},\n\t\tshowUpdateForm() {\n\t\t\tthis.edit = true\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.commentMsg = this.$refs.richTextElement.children[0].innerHTML\n\t\t\t})\n\t\t},\n\t\thideUpdateForm() {\n\t\t\tthis.commentMsg = ''\n\t\t\tthis.edit = false\n\t\t},\n\t\tasync updateComment() {\n\t\t\tconst data = {\n\t\t\t\tcomment: this.commentMsg,\n\t\t\t\tcardId: this.comment.objectId,\n\t\t\t\tid: this.comment.id,\n\t\t\t}\n\t\t\tawait this.$store.dispatch('updateComment', data)\n\t\t\tthis.hideUpdateForm()\n\t\t},\n\t\tdeleteComment() {\n\t\t\tconst data = {\n\t\t\t\tid: this.comment.id,\n\t\t\t\tcardId: this.comment.objectId,\n\t\t\t}\n\t\t\tthis.$store.dispatch('deleteComment', data)\n\t\t},\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n\t@import '../../css/comments';\n\n\t.reply {\n\t\tmargin: 0 0 0 var(--default-clickable-area);\n\n\t\t&.reply--preview {\n\t\t\tmargin: 4px 0;\n\t\t\tpadding: 8px;\n\t\t\tbackground-color: var(--color-background-hover);\n\t\t\tborder-radius: var(--border-radius-large);\n\n\t\t\t.reply--wrapper {\n\t\t\t\tmargin: 8px;\n\t\t\t}\n\n\t\t\t.reply--cancel {\n\t\t\t\tmargin-right: -12px;\n\t\t\t\tmargin-top: -12px;\n\t\t\t}\n\t\t}\n\n\t\t.reply--wrapper {\n\t\t\tborder-left: 4px solid var(--color-border-dark);\n\t\t\tpadding-left: 8px;\n\t\t}\n\n\t\t&:deep(.rich-text--wrapper) {\n\t\t\tmargin-top: -3px;\n\t\t\tcolor: var(--color-text-lighter);\n\t\t}\n\n\t\t.reply--header {\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\t.reply--hint {\n\t\t\tcolor: var(--color-text-lighter);\n\t\t\tflex-grow: 1;\n\t\t}\n\n\t\t.comment--content {\n\t\t\tmargin: 0;\n\t\t}\n\t}\n\n\t.comment--content:deep {\n\t\ta {\n\t\t\ttext-decoration: underline;\n\t\t}\n\n\t\tp {\n\t\t\tmargin-bottom: 1em;\n\t\t}\n\t}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=style&index=0&id=3656a553&prod&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=style&index=0&id=3656a553&prod&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CommentItem.vue?vue&type=template&id=3656a553&scoped=true\"\nimport script from \"./CommentItem.vue?vue&type=script&lang=js\"\nexport * from \"./CommentItem.vue?vue&type=script&lang=js\"\nimport style0 from \"./CommentItem.vue?vue&type=style&index=0&id=3656a553&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3656a553\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.reply)?_c('div',{staticClass:\"reply\",class:{ 'reply--preview': _vm.preview }},[_c('div',{staticClass:\"reply--wrapper\"},[_c('div',{staticClass:\"reply--header\"},[_c('div',{staticClass:\"reply--hint\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'In reply to'))+\"\\n\\t\\t\\t\\t\"),_c('NcUserBubble',{attrs:{\"user\":_vm.comment.actorId,\"display-name\":_vm.comment.actorDisplayName}})],1),_vm._v(\" \"),(_vm.preview)?_c('NcActions',{staticClass:\"reply--cancel\"},[_c('NcActionButton',{attrs:{\"icon\":\"icon-close\"},on:{\"click\":function($event){return _vm.$emit('cancel')}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Cancel reply'))+\"\\n\\t\\t\\t\\t\")])],1):_vm._e()],1),_vm._v(\" \"),_c('NcRichText',{staticClass:\"comment--content\",attrs:{\"dir\":\"auto\",\"text\":_vm.richText(_vm.comment),\"arguments\":_vm.richArgs(_vm.comment),\"autolink\":true}})],1)]):_c('li',{staticClass:\"comment\"},[_c('div',{staticClass:\"comment--header\"},[_c('NcAvatar',{attrs:{\"user\":_vm.comment.actorId}}),_vm._v(\" \"),_c('span',{staticClass:\"username\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.comment.actorDisplayName)+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('NcActions',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.edit),expression:\"!edit\"}],attrs:{\"force-menu\":true}},[_c('NcActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){return _vm.replyTo()}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ReplyIcon',{attrs:{\"decorative\":\"\"}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Reply'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),(_vm.canEdit)?_c('NcActionButton',{attrs:{\"icon\":\"icon-rename\",\"close-after-click\":true},on:{\"click\":function($event){return _vm.showUpdateForm()}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Update'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.canEdit)?_c('NcActionButton',{attrs:{\"icon\":\"icon-delete\",\"close-after-click\":true},on:{\"click\":function($event){return _vm.deleteComment()}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Delete'))+\"\\n\\t\\t\\t\")]):_vm._e()],1),_vm._v(\" \"),(_vm.edit)?_c('NcActions',[_c('NcActionButton',{attrs:{\"icon\":\"icon-close\"},on:{\"click\":_vm.hideUpdateForm}})],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"spacer\"}),_vm._v(\" \"),_c('div',{staticClass:\"timestamp\",attrs:{\"aria-label\":_vm.formattedTimestamp,\"title\":_vm.formattedTimestamp}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.relativeDate(_vm.comment.creationDateTime))+\"\\n\\t\\t\")])],1),_vm._v(\" \"),(_vm.comment.replyTo)?_c('CommentItem',{attrs:{\"reply\":true,\"comment\":_vm.comment.replyTo}}):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.edit),expression:\"!edit\"}],ref:\"richTextElement\"},[_c('NcRichText',{staticClass:\"comment--content\",attrs:{\"dir\":\"auto\",\"text\":_vm.richText(_vm.comment),\"arguments\":_vm.richArgs(_vm.comment),\"autolink\":true}})],1),_vm._v(\" \"),(_vm.edit)?_c('CommentForm',{attrs:{\"dir\":\"auto\"},on:{\"submit\":_vm.updateComment},model:{value:(_vm.commentMsg),callback:function ($$v) {_vm.commentMsg=$$v},expression:\"commentMsg\"}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabComments.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabComments.vue?vue&type=script&lang=js\"","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div>\n\t\t<div class=\"comment--header\">\n\t\t\t<NcAvatar :user=\"currentUser.uid\" />\n\t\t\t<span class=\"username\">\n\t\t\t\t{{ currentUser.displayName }}\n\t\t\t</span>\n\t\t</div>\n\n\t\t<CommentItem v-if=\"replyTo\"\n\t\t\t:comment=\"replyTo\"\n\t\t\t:reply=\"true\"\n\t\t\t:preview=\"true\"\n\t\t\t@cancel=\"cancelReply\" />\n\t\t<CommentForm v-model=\"newComment\" @submit=\"createComment\" />\n\n\t\t<ul v-if=\"getCommentsForCard(card.id).length > 0\" id=\"commentsFeed\">\n\t\t\t<CommentItem v-for=\"comment in getCommentsForCard(card.id)\"\n\t\t\t\t:key=\"comment.id\"\n\t\t\t\t:comment=\"comment\"\n\t\t\t\t@doReload=\"loadComments\" />\n\t\t\t<InfiniteLoading :identifier=\"card.id\" @infinite=\"infiniteHandler\">\n\t\t\t\t<div slot=\"spinner\" class=\"icon-loading\" />\n\t\t\t\t<div slot=\"no-more\" />\n\t\t\t\t<div slot=\"no-results\" />\n\t\t\t</InfiniteLoading>\n\t\t</ul>\n\t\t<div v-else-if=\"isLoading\" class=\"icon icon-loading\" />\n\t\t<div v-else class=\"emptycontent\">\n\t\t\t<div :class=\"{ 'icon-comment': !error, 'icon-error': error }\" />\n\t\t\t<p>{{ error || t('deck', 'No comments yet. Begin the discussion!') }}</p>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { mapState, mapGetters } from 'vuex'\nimport { NcAvatar } from '@nextcloud/vue'\nimport CommentItem from './CommentItem.vue'\nimport CommentForm from './CommentForm.vue'\nimport InfiniteLoading from 'vue-infinite-loading'\nimport { getCurrentUser } from '@nextcloud/auth'\n\nexport default {\n\tname: 'CardSidebarTabComments',\n\tcomponents: {\n\t\tNcAvatar,\n\t\tCommentItem,\n\t\tCommentForm,\n\t\tInfiniteLoading,\n\t},\n\tprops: {\n\t\tcard: {\n\t\t\ttype: Object,\n\t\t\tdefault: undefined,\n\t\t},\n\t\ttabQuery: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tnewComment: '',\n\t\t\tisLoading: false,\n\t\t\tcurrentUser: getCurrentUser(),\n\t\t\terror: null,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\tcurrentBoard: state => state.currentBoard,\n\t\t\treplyTo: state => state.comment.replyTo,\n\t\t}),\n\t\t...mapGetters([\n\t\t\t'getCommentsForCard',\n\t\t\t'hasMoreComments',\n\t\t]),\n\t\tmembers() {\n\t\t\treturn this.currentBoard.users\n\t\t},\n\t},\n\twatch: {\n\t\tcard: {\n\t\t\timmediate: true,\n\t\t\thandler() {\n\t\t\t\tthis.loadComments()\n\t\t\t},\n\t\t},\n\t},\n\tmethods: {\n\t\tasync infiniteHandler($state) {\n\t\t\tthis.error = null\n\t\t\ttry {\n\t\t\t\tawait this.loadMore()\n\t\t\t\tif (this.hasMoreComments(this.card.id)) {\n\t\t\t\t\t$state.loaded()\n\t\t\t\t} else {\n\t\t\t\t\t$state.complete()\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error('Failed to fetch more comments during infinite loading', e)\n\t\t\t\tthis.error = t('deck', 'Failed to load comments')\n\t\t\t\t$state.complete()\n\t\t\t}\n\t\t},\n\t\tasync loadComments() {\n\t\t\tthis.$store.dispatch('setReplyTo', null)\n\t\t\tthis.error = null\n\t\t\tthis.isLoading = true\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('fetchComments', { cardId: this.card.id })\n\t\t\t\tthis.isLoading = false\n\t\t\t\tif (this.card.commentsUnread > 0) {\n\t\t\t\t\tawait this.$store.dispatch('markCommentsAsRead', this.card.id)\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tthis.isLoading = false\n\t\t\t\tconsole.error('Failed to fetch more comments during infinite loading', e)\n\t\t\t\tthis.error = t('deck', 'Failed to load comments')\n\t\t\t}\n\t\t},\n\t\tasync createComment(content) {\n\t\t\tconst commentObj = {\n\t\t\t\tcardId: this.card.id,\n\t\t\t\tcomment: content,\n\t\t\t}\n\t\t\tawait this.$store.dispatch('createComment', commentObj)\n\t\t\tthis.$store.dispatch('setReplyTo', null)\n\t\t\tthis.newComment = ''\n\t\t\tawait this.loadComments()\n\t\t},\n\t\tasync loadMore() {\n\t\t\tthis.isLoading = true\n\t\t\tawait this.$store.dispatch('fetchMore', { cardId: this.card.id })\n\t\t\tthis.isLoading = false\n\t\t},\n\t\tcancelReply() {\n\t\t\tthis.$store.dispatch('setReplyTo', null)\n\t\t},\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n\t@import '../../css/comments';\n</style>\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabComments.vue?vue&type=style&index=0&id=cd53af20&prod&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabComments.vue?vue&type=style&index=0&id=cd53af20&prod&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CardSidebarTabComments.vue?vue&type=template&id=cd53af20&scoped=true\"\nimport script from \"./CardSidebarTabComments.vue?vue&type=script&lang=js\"\nexport * from \"./CardSidebarTabComments.vue?vue&type=script&lang=js\"\nimport style0 from \"./CardSidebarTabComments.vue?vue&type=style&index=0&id=cd53af20&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cd53af20\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.$parent.isActive)?_c('ActivityList',{key:_vm.card.id,attrs:{\"filter\":\"filter\",\"object-id\":_vm.card.id,\"object-type\":\"deck_card\",\"type\":\"deck\"}}):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div v-if=\"activity\" class=\"activity\">\n\t\t<div class=\"activity--header\">\n\t\t\t<img :src=\"activity.icon\" class=\"activity--icon\">\n\t\t\t<NcRichText class=\"activity--subject\" :text=\"message.subject\" :arguments=\"message.parameters\" />\n\t\t\t<div class=\"activity--timestamp\" :name=\"formatReadableDate(activity.datetime)\">\n\t\t\t\t{{ relativeDate(activity.datetime) }}\n\t\t\t</div>\n\t\t</div>\n\t\t<!-- FIXME ins/del tags do no longer work with activity so we should get rid of that -->\n\t\t<p v-if=\"activity.message\" class=\"activity--message\" v-html=\"sanitizedMessage\" />\n\t</div>\n</template>\n\n<script>\nimport { NcRichText, NcUserBubble } from '@nextcloud/vue'\nimport moment from '@nextcloud/moment'\nimport DOMPurify from 'dompurify'\nimport relativeDate from '../mixins/relativeDate.js'\nimport formatReadableDate from '../mixins/readableDate.js'\n\nconst InternalLink = {\n\tname: 'InternalLink',\n\tfunctional: true,\n\tprops: {\n\t\thref: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\tname: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t},\n\trender(createElement, context) {\n\t\treturn createElement('a', { attrs: { href: context.props.href }, style: { 'font-weight': 600 } }, context.props.name)\n\t},\n}\nexport default {\n\tname: 'ActivityEntry',\n\tcomponents: {\n\t\tNcRichText,\n\t},\n\tmixins: [relativeDate, formatReadableDate],\n\tprops: {\n\t\tactivity: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tcomputed: {\n\t\tmessage() {\n\t\t\tconst subject = this.activity.subject_rich[0]\n\t\t\tconst parameters = JSON.parse(JSON.stringify(this.activity.subject_rich[1]))\n\t\t\tif (parameters.after && typeof parameters.after.id === 'string' && parameters.after.id.startsWith('dt:')) {\n\t\t\t\tconst dateTime = parameters.after.id.slice(3)\n\t\t\t\tparameters.after.name = moment(dateTime).format('L LTS')\n\t\t\t}\n\n\t\t\tObject.keys(parameters).forEach(function(key, index) {\n\t\t\t\tconst { type } = parameters[key]\n\t\t\t\tswitch (type) {\n\t\t\t\tcase 'highlight':\n\t\t\t\t\tparameters[key] = {\n\t\t\t\t\t\tcomponent: InternalLink,\n\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\thref: parameters[key].link,\n\t\t\t\t\t\t\tname: parameters[key].name,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\tcase 'user':\n\t\t\t\t\tparameters[key] = {\n\t\t\t\t\t\tcomponent: NcUserBubble,\n\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\tuser: parameters[key].id,\n\t\t\t\t\t\t\tdisplayName: parameters[key].name,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tparameters[key] = `{${key}}`\n\t\t\t\t}\n\n\t\t\t})\n\n\t\t\treturn {\n\t\t\t\tsubject, parameters,\n\t\t\t}\n\t\t},\n\n\t\tsanitizedMessage() {\n\t\t\treturn DOMPurify.sanitize(this.activity.message, { ALLOWED_TAGS: ['ins', 'del'], ALLOWED_ATTR: ['class'] })\n\t\t},\n\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n\t.activity {\n\n\t\t.activity--header {\n\t\t\tdisplay: flex;\n\t\t\tpadding: 10px;\n\t\t}\n\n\t\t.activity--icon {\n\t\t\twidth: 16px;\n\t\t\theight: 16px;\n\t\t\tflex-shrink: 0;\n\t\t\tflex-grow: 0;\n\t\t}\n\t\t.activity--subject {\n\t\t\tmargin-left: 10px;\n\t\t}\n\t\t.activity--message {\n\t\t\tmargin-left: var(--default-clickable-area);\n\t\t\tcolor: var(--color-text-light);\n\t\t\tmargin-bottom: 10px;\n\t\t}\n\t\t.activity--timestamp {\n\t\t\tflex-grow: 1;\n\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t\ttext-align: right;\n\t\t\tfont-size: 0.8em;\n\t\t\tpadding: 1px;\n\t\t}\n\t}\n</style>\n<style>\n\t.visualdiff ins {\n\t\tcolor: green;\n\t}\n\n\t.visualdiff del {\n\t\tcolor: darkred;\n\t}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityEntry.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityEntry.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityEntry.vue?vue&type=style&index=0&id=4ec0d815&prod&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityEntry.vue?vue&type=style&index=0&id=4ec0d815&prod&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityEntry.vue?vue&type=style&index=1&id=4ec0d815&prod&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityEntry.vue?vue&type=style&index=1&id=4ec0d815&prod&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ActivityEntry.vue?vue&type=template&id=4ec0d815&scoped=true\"\nimport script from \"./ActivityEntry.vue?vue&type=script&lang=js\"\nexport * from \"./ActivityEntry.vue?vue&type=script&lang=js\"\nimport style0 from \"./ActivityEntry.vue?vue&type=style&index=0&id=4ec0d815&prod&scoped=true&lang=scss\"\nimport style1 from \"./ActivityEntry.vue?vue&type=style&index=1&id=4ec0d815&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ec0d815\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.activity)?_c('div',{staticClass:\"activity\"},[_c('div',{staticClass:\"activity--header\"},[_c('img',{staticClass:\"activity--icon\",attrs:{\"src\":_vm.activity.icon}}),_vm._v(\" \"),_c('NcRichText',{staticClass:\"activity--subject\",attrs:{\"text\":_vm.message.subject,\"arguments\":_vm.message.parameters}}),_vm._v(\" \"),_c('div',{staticClass:\"activity--timestamp\",attrs:{\"name\":_vm.formatReadableDate(_vm.activity.datetime)}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.relativeDate(_vm.activity.datetime))+\"\\n\\t\\t\")])],1),_vm._v(\" \"),(_vm.activity.message)?_c('p',{staticClass:\"activity--message\",domProps:{\"innerHTML\":_vm._s(_vm.sanitizedMessage)}}):_vm._e()]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityList.vue?vue&type=script&lang=js\"","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div class=\"activity-list\">\n\t\t<div v-if=\"isLoading\" class=\"icon icon-loading\" />\n\t\t<ActivityEntry v-for=\"activity in activities\"\n\t\t\t:key=\"activity.activity_id\"\n\t\t\t:activity=\"activity\" />\n\t\t<InfiniteLoading :identifier=\"objectId\" @infinite=\"infiniteHandler\" @change=\"changeObject\">\n\t\t\t<div slot=\"spinner\" class=\"icon-loading\" />\n\t\t\t<div slot=\"no-more\" />\n\t\t\t<div slot=\"no-results\" />\n\t\t</InfiniteLoading>\n\t</div>\n</template>\n\n<script>\nimport axios from '@nextcloud/axios'\nimport { generateOcsUrl } from '@nextcloud/router'\nimport ActivityEntry from './ActivityEntry.vue'\nimport InfiniteLoading from 'vue-infinite-loading'\n\nconst ACTIVITY_FETCH_LIMIT = 50\n\nexport default {\n\tname: 'ActivityList',\n\tcomponents: {\n\t\tActivityEntry,\n\t\tInfiniteLoading,\n\t},\n\tprops: {\n\t\tfilter: {\n\t\t\ttype: String,\n\t\t\tdefault: 'deck',\n\t\t},\n\t\ttype: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tobjectId: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t\tobjectType: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tactivities: [],\n\t\t\tisLoading: false,\n\t\t\tsince: 0,\n\t\t\tendReached: false,\n\t\t}\n\t},\n\tmethods: {\n\t\tasync loadActivity() {\n\t\t\tconst params = new URLSearchParams()\n\t\t\tparams.append('format', 'json')\n\t\t\tparams.append('type', this.type)\n\t\t\tparams.append('since', this.since)\n\t\t\tparams.append('object_type', this.objectType)\n\t\t\tparams.append('object_id', '' + this.objectId)\n\t\t\tparams.append('limit', ACTIVITY_FETCH_LIMIT)\n\n\t\t\tconst response = await axios.get(\n\t\t\t\tgenerateOcsUrl(`apps/activity/api/v2/activity/${this.filter}`) + '?' + params,\n\t\t\t\t{\n\t\t\t\t\tvalidateStatus: (status) => {\n\t\t\t\t\t\treturn (status >= 200 && status < 300) || status === 304\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t)\n\n\t\t\tif (response.status === 304) {\n\t\t\t\tthis.endReached = true\n\t\t\t\treturn []\n\t\t\t}\n\n\t\t\tlet activities = response.data.ocs.data\n\t\t\tif (this.filter === 'deck') {\n\t\t\t\t// We need to manually filter activities here, since currently we use two different types and there is no way\n\t\t\t\t// to tell the backend to fetch all activites related to cards of a given board\n\t\t\t\tactivities = activities.filter((activity) => {\n\t\t\t\t\treturn (activity.object_type === 'deck_board' && activity.object_id === this.objectId)\n\t\t\t\t\t\t\t|| (activity.object_type === 'deck_card' && activity.subject_rich[1].board.id === this.objectId)\n\t\t\t\t})\n\t\t\t}\n\t\t\tthis.activities.push(...activities)\n\t\t\tif (activities.length === 0) {\n\t\t\t\tthis.endReached = true\n\t\t\t\treturn []\n\t\t\t}\n\t\t\tthis.since = (activities[activities.length - 1].activity_id)\n\t\t\treturn activities\n\t\t},\n\t\tasync infiniteHandler($state) {\n\t\t\tawait this.loadActivity()\n\t\t\tif (!this.endReached) {\n\t\t\t\t$state.loaded()\n\t\t\t} else {\n\t\t\t\t$state.complete()\n\t\t\t}\n\t\t},\n\t\tchangeObject() {\n\t\t\tthis.since = 0\n\t\t\tthis.activities = []\n\t\t\tthis.endReached = false\n\t\t},\n\t},\n}\n</script>\n\n<style scoped>\n\t.activity-list {\n\t\tmargin-bottom: 100px;\n\t}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityList.vue?vue&type=style&index=0&id=54d90076&prod&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityList.vue?vue&type=style&index=0&id=54d90076&prod&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ActivityList.vue?vue&type=template&id=54d90076&scoped=true\"\nimport script from \"./ActivityList.vue?vue&type=script&lang=js\"\nexport * from \"./ActivityList.vue?vue&type=script&lang=js\"\nimport style0 from \"./ActivityList.vue?vue&type=style&index=0&id=54d90076&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54d90076\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabActivity.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabActivity.vue?vue&type=script&lang=js\"","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<ActivityList v-if=\"$parent.isActive\"\n\t\t:key=\"card.id\"\n\t\tfilter=\"filter\"\n\t\t:object-id=\"card.id\"\n\t\tobject-type=\"deck_card\"\n\t\ttype=\"deck\" />\n</template>\n\n<script>\nimport ActivityList from '../ActivityList.vue'\n\nexport default {\n\tname: 'CardSidebarTabActivity',\n\tcomponents: {\n\t\tActivityList,\n\t},\n\tprops: {\n\t\tcard: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tid: 'activity',\n\t\t}\n\t},\n}\n</script>\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"activity-list\"},[(_vm.isLoading)?_c('div',{staticClass:\"icon icon-loading\"}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.activities),function(activity){return _c('ActivityEntry',{key:activity.activity_id,attrs:{\"activity\":activity}})}),_vm._v(\" \"),_c('InfiniteLoading',{attrs:{\"identifier\":_vm.objectId},on:{\"infinite\":_vm.infiniteHandler,\"change\":_vm.changeObject}},[_c('div',{staticClass:\"icon-loading\",attrs:{\"slot\":\"spinner\"},slot:\"spinner\"}),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"no-more\"},slot:\"no-more\"}),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"no-results\"},slot:\"no-results\"})])],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./CardSidebarTabActivity.vue?vue&type=template&id=bde84950\"\nimport script from \"./CardSidebarTabActivity.vue?vue&type=script&lang=js\"\nexport * from \"./CardSidebarTabActivity.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--\n  - SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<NcAppSidebar v-if=\"currentBoard && currentCard\"\n\t\tref=\"cardSidebar\"\n\t\t:active=\"tabId\"\n\t\t:name=\"title\"\n\t\t:subname=\"subtitle\"\n\t\t:subtitle=\"subtitleTooltip\"\n\t\t:name-editable=\"titleEditable\"\n\t\t@update:nameEditable=\"handleUpdateTitleEditable\"\n\t\t@update:name=\"handleUpdateTitle\"\n\t\t@submit-name=\"handleSubmitTitle\"\n\t\t@opened=\"focusHeader\"\n\t\t@close=\"closeSidebar\">\n\t\t<template #secondary-actions>\n\t\t\t<NcActionButton v-if=\"cardDetailsInModal && isFullApp\" icon=\"icon-menu-sidebar\" @click.stop=\"closeModal()\">\n\t\t\t\t{{ t('deck', 'Open in sidebar view') }}\n\t\t\t</NcActionButton>\n\t\t\t<NcActionButton v-else-if=\"isFullApp\" icon=\"icon-external\" @click.stop=\"showModal()\">\n\t\t\t\t{{ t('deck', 'Open in bigger view') }}\n\t\t\t</NcActionButton>\n\n\t\t\t<CardMenuEntries :card=\"currentCard\" :hide-details-entry=\"true\" />\n\t\t</template>\n\n\t\t<NcAppSidebarTab id=\"details\"\n\t\t\t:order=\"0\"\n\t\t\t:name=\"t('deck', 'Details')\">\n\t\t\t<CardSidebarTabDetails :card=\"currentCard\" />\n\t\t\t<template #icon>\n\t\t\t\t<HomeIcon :size=\"20\" />\n\t\t\t</template>\n\t\t</NcAppSidebarTab>\n\n\t\t<NcAppSidebarTab id=\"attachments\"\n\t\t\t:order=\"1\"\n\t\t\t:name=\"t('deck', 'Attachments')\">\n\t\t\t<template #icon>\n\t\t\t\t<AttachmentIcon :size=\"20\" />\n\t\t\t</template>\n\t\t\t<CardSidebarTabAttachments :card=\"currentCard\" />\n\t\t</NcAppSidebarTab>\n\n\t\t<NcAppSidebarTab id=\"comments\"\n\t\t\t:order=\"2\"\n\t\t\t:name=\"t('deck', 'Comments')\">\n\t\t\t<template #icon>\n\t\t\t\t<CommentIcon :size=\"20\" />\n\t\t\t</template>\n\t\t\t<CardSidebarTabComments :card=\"currentCard\" :tab-query=\"tabQuery\" />\n\t\t</NcAppSidebarTab>\n\n\t\t<NcAppSidebarTab v-if=\"hasActivity\"\n\t\t\tid=\"timeline\"\n\t\t\t:order=\"3\"\n\t\t\t:name=\"t('deck', 'Activity')\">\n\t\t\t<template #icon>\n\t\t\t\t<ActivityIcon :size=\"20\" />\n\t\t\t</template>\n\t\t\t<CardSidebarTabActivity :card=\"currentCard\" />\n\t\t</NcAppSidebarTab>\n\t</NcAppSidebar>\n</template>\n\n<script>\nimport { NcActionButton, NcAppSidebar, NcAppSidebarTab } from '@nextcloud/vue'\nimport { getCapabilities } from '@nextcloud/capabilities'\nimport { mapState, mapGetters } from 'vuex'\nimport CardSidebarTabDetails from './CardSidebarTabDetails.vue'\nimport CardSidebarTabAttachments from './CardSidebarTabAttachments.vue'\nimport CardSidebarTabComments from './CardSidebarTabComments.vue'\nimport CardSidebarTabActivity from './CardSidebarTabActivity.vue'\nimport relativeDate from '../../mixins/relativeDate.js'\nimport moment from '@nextcloud/moment'\nimport AttachmentIcon from 'vue-material-design-icons/Paperclip.vue'\nimport HomeIcon from 'vue-material-design-icons/Home.vue'\nimport CommentIcon from 'vue-material-design-icons/Comment.vue'\nimport ActivityIcon from 'vue-material-design-icons/LightningBolt.vue'\n\nimport { showError } from '@nextcloud/dialogs'\nimport { getLocale } from '@nextcloud/l10n'\nimport CardMenuEntries from '../cards/CardMenuEntries.vue'\n\nconst capabilities = getCapabilities()\n\nexport default {\n\tname: 'CardSidebar',\n\tcomponents: {\n\t\tNcAppSidebar,\n\t\tNcAppSidebarTab,\n\t\tNcActionButton,\n\t\tCardSidebarTabAttachments,\n\t\tCardSidebarTabComments,\n\t\tCardSidebarTabActivity,\n\t\tCardSidebarTabDetails,\n\t\tActivityIcon,\n\t\tAttachmentIcon,\n\t\tCommentIcon,\n\t\tHomeIcon,\n\t\tCardMenuEntries,\n\t},\n\tmixins: [relativeDate],\n\tprops: {\n\t\tid: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t\ttabId: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: null,\n\t\t},\n\t\ttabQuery: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\ttitleEditable: false,\n\t\t\ttitleEditing: '',\n\t\t\thasActivity: capabilities && capabilities.activity,\n\t\t\tlocale: getLocale(),\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\tisFullApp: state => state.isFullApp,\n\t\t\tcurrentBoard: state => state.currentBoard,\n\t\t}),\n\t\t...mapGetters(['canEdit', 'assignables', 'cardActions', 'stackById']),\n\t\ttitle() {\n\t\t\treturn this.titleEditable ? this.titleEditing : this.currentCard.title\n\t\t},\n\t\tcurrentCard() {\n\t\t\treturn this.$store.getters.cardById(this.id)\n\t\t},\n\t\tsubtitle() {\n\t\t\treturn t('deck', 'Modified') + ': ' + this.relativeDate(this.currentCard.lastModified * 1000) + ' ⸱ ' + t('deck', 'Created') + ': ' + this.relativeDate(this.currentCard.createdAt * 1000)\n\t\t},\n\t\tsubtitleTooltip() {\n\t\t\treturn t('deck', 'Modified') + ': ' + this.formatDate(this.currentCard.lastModified) + '\\n' + t('deck', 'Created') + ': ' + this.formatDate(this.currentCard.createdAt)\n\t\t},\n\t\tcardDetailsInModal: {\n\t\t\tget() {\n\t\t\t\treturn this.$store.getters.config('cardDetailsInModal')\n\t\t\t},\n\t\t\tset(newValue) {\n\t\t\t\tthis.$store.dispatch('setConfig', { cardDetailsInModal: newValue })\n\t\t\t},\n\t\t},\n\t},\n\twatch: {\n\t\tcurrentCard() {\n\t\t\tthis.focusHeader()\n\t\t},\n\t},\n\tmethods: {\n\t\tfocusHeader() {\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.$refs?.cardSidebar.$el.querySelector('.app-sidebar-header__mainname')?.focus()\n\t\t\t})\n\t\t},\n\t\thandleUpdateTitleEditable(value) {\n\t\t\tthis.titleEditable = value\n\t\t\tif (value) {\n\t\t\t\tthis.titleEditing = this.currentCard.title\n\t\t\t}\n\t\t},\n\t\thandleUpdateTitle(value) {\n\t\t\tthis.titleEditing = value\n\t\t},\n\t\thandleSubmitTitle(value) {\n\t\t\tif (value.trim === '') {\n\t\t\t\tshowError(t('deck', 'The title cannot be empty.'))\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.titleEditable = false\n\t\t\tthis.$store.dispatch('updateCardTitle', { ...this.currentCard, title: this.titleEditing })\n\t\t},\n\n\t\tcloseSidebar() {\n\t\t\tthis.$router?.push({ name: 'board' })\n\t\t\tthis.$emit('close')\n\t\t},\n\n\t\tshowModal() {\n\t\t\tthis.$store.dispatch('setConfig', { cardDetailsInModal: true })\n\t\t},\n\t\tcloseModal() {\n\t\t\tthis.$store.dispatch('setConfig', { cardDetailsInModal: false })\n\t\t},\n\t\tformatDate(timestamp) {\n\t\t\treturn moment.unix(timestamp).locale(this.locale).format('LLLL')\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\">\n\nsection.app-sidebar__tab--active {\n\tmin-height: auto;\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100%;\n}\n\n.modal-container {\n\toverflow: hidden;\n}\n\n// FIXME: Obivously we should at some point not randomly reuse the sidebar component\n// since this is not oficially supported\n.modal__card .app-sidebar {\n\tbox-sizing: unset;\n\t$modal-padding: 14px;\n\tborder: 0;\n\tmin-width: calc(100% - #{$modal-padding * 2});\n\tposition: relative;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tmax-width: calc(100% - #{$modal-padding * 2});\n\tmin-height: calc(100vh - var(--header-height) * 4);\n\tpadding: 0 14px;\n\theight: 97%;\n\toverflow: hidden !important;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\n\t.app-sidebar-header__mainname-container {\n\t\tpadding-top: calc(var(--default-grid-baseline, 4px) * 2);\n\t}\n\n\t.app-sidebar-tabs {\n\t\tmax-height: 90%;\n\t}\n\n\t.app-sidebar__tab {\n\t\tmin-height: calc(100% - 20px);\n\t\tmax-height: calc(100% - 20px);\n\t}\n\n\t// FIXME: test\n\t&:deep {\n\t\t.app-sidebar-header {\n\t\t\tposition: sticky;\n\t\t\ttop: 0;\n\t\t\tz-index: 100;\n\t\t\tbackground-color: var(--color-main-background);\n\t\t}\n\t\t.app-sidebar-tabs__nav {\n\t\t\tposition: sticky;\n\t\t\ttop: 87px;\n\t\t\tmargin: 0;\n\t\t\tz-index: 100;\n\t\t\tbackground-color: var(--color-main-background);\n\t\t}\n\n\t\t.app-sidebar__tab {\n\t\t\toverflow: initial;\n\t\t}\n\n\t\t#emptycontent, .emptycontent {\n\t\t\tmargin-top: 88px;\n\t\t}\n\t}\n}\n\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebar.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebar.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebar.vue?vue&type=style&index=0&id=60af2d5c&prod&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebar.vue?vue&type=style&index=0&id=60af2d5c&prod&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CardSidebar.vue?vue&type=template&id=60af2d5c\"\nimport script from \"./CardSidebar.vue?vue&type=script&lang=js\"\nexport * from \"./CardSidebar.vue?vue&type=script&lang=js\"\nimport style0 from \"./CardSidebar.vue?vue&type=style&index=0&id=60af2d5c&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.currentBoard && _vm.currentCard)?_c('NcAppSidebar',{ref:\"cardSidebar\",attrs:{\"active\":_vm.tabId,\"name\":_vm.title,\"subname\":_vm.subtitle,\"subtitle\":_vm.subtitleTooltip,\"name-editable\":_vm.titleEditable},on:{\"update:nameEditable\":_vm.handleUpdateTitleEditable,\"update:name\":_vm.handleUpdateTitle,\"submit-name\":_vm.handleSubmitTitle,\"opened\":_vm.focusHeader,\"close\":_vm.closeSidebar},scopedSlots:_vm._u([{key:\"secondary-actions\",fn:function(){return [(_vm.cardDetailsInModal && _vm.isFullApp)?_c('NcActionButton',{attrs:{\"icon\":\"icon-menu-sidebar\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.closeModal()}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Open in sidebar view'))+\"\\n\\t\\t\")]):(_vm.isFullApp)?_c('NcActionButton',{attrs:{\"icon\":\"icon-external\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showModal()}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Open in bigger view'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('CardMenuEntries',{attrs:{\"card\":_vm.currentCard,\"hide-details-entry\":true}})]},proxy:true}],null,false,1550865687)},[_vm._v(\" \"),_c('NcAppSidebarTab',{attrs:{\"id\":\"details\",\"order\":0,\"name\":_vm.t('deck', 'Details')},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('HomeIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,1674571436)},[_c('CardSidebarTabDetails',{attrs:{\"card\":_vm.currentCard}})],1),_vm._v(\" \"),_c('NcAppSidebarTab',{attrs:{\"id\":\"attachments\",\"order\":1,\"name\":_vm.t('deck', 'Attachments')},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('AttachmentIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,741344954)},[_vm._v(\" \"),_c('CardSidebarTabAttachments',{attrs:{\"card\":_vm.currentCard}})],1),_vm._v(\" \"),_c('NcAppSidebarTab',{attrs:{\"id\":\"comments\",\"order\":2,\"name\":_vm.t('deck', 'Comments')},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('CommentIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,1715543632)},[_vm._v(\" \"),_c('CardSidebarTabComments',{attrs:{\"card\":_vm.currentCard,\"tab-query\":_vm.tabQuery}})],1),_vm._v(\" \"),(_vm.hasActivity)?_c('NcAppSidebarTab',{attrs:{\"id\":\"timeline\",\"order\":3,\"name\":_vm.t('deck', 'Activity')},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ActivityIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,502128366)},[_vm._v(\" \"),_c('CardSidebarTabActivity',{attrs:{\"card\":_vm.currentCard}})],1):_vm._e()],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Board.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Board.vue?vue&type=script&lang=js\"","<!--\n  - SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div class=\"board-wrapper\" :tabindex=\"-1\" @touchend=\"fixActionRestriction\">\n\t\t<Controls :board=\"board\" />\n\n\t\t<transition name=\"fade\" mode=\"out-in\">\n\t\t\t<div v-if=\"loading\" key=\"loading\" class=\"emptycontent\">\n\t\t\t\t<div class=\"icon icon-loading\" />\n\t\t\t\t<h2>{{ t('deck', 'Loading board') }}</h2>\n\t\t\t\t<p />\n\t\t\t</div>\n\t\t\t<div v-else-if=\"!board\" key=\"notfound\" class=\"emptycontent\">\n\t\t\t\t<div class=\"icon icon-deck\" />\n\t\t\t\t<h2>{{ t('deck', 'Board not found') }}</h2>\n\t\t\t\t<p />\n\t\t\t</div>\n\t\t\t<NcEmptyContent v-else-if=\"isEmpty\" key=\"empty\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<DeckIcon />\n\t\t\t\t</template>\n\t\t\t\t<template #name>\n\t\t\t\t\t{{ t('deck', 'No lists available') }}\n\t\t\t\t</template>\n\t\t\t\t<template v-if=\"canManage\" #action>\n\t\t\t\t\t{{ t('deck', 'Create a new list to add cards to this board') }}\n\t\t\t\t\t<form @submit.prevent=\"addNewStack()\">\n\t\t\t\t\t\t<NcTextField ref=\"newStackInput\"\n\t\t\t\t\t\t\t:disable=\"loading\"\n\t\t\t\t\t\t\t:value.sync=\"newStackTitle\"\n\t\t\t\t\t\t\t:placeholder=\"t('deck', 'List name')\"\n\t\t\t\t\t\t\ttype=\"text\" />\n\t\t\t\t\t\t<NcButton type=\"secondary\"\n\t\t\t\t\t\t\tnative-type=\"submit\"\n\t\t\t\t\t\t\t:disabled=\"loading\"\n\t\t\t\t\t\t\t:title=\"t('deck', 'Add list')\">\n\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t<CheckIcon v-if=\"!loading\" :size=\"20\" />\n\t\t\t\t\t\t\t\t<NcLoadingIcon v-else :size=\"20\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t{{ t('deck', 'Add list') }}\n\t\t\t\t\t\t</NcButton>\n\t\t\t\t\t</form>\n\t\t\t\t</template>\n\t\t\t</NcEmptyContent>\n\t\t\t<div v-else-if=\"!isEmpty && !loading\"\n\t\t\t\tkey=\"board\"\n\t\t\t\tref=\"board\"\n\t\t\t\tclass=\"board\"\n\t\t\t\t@mousedown=\"onMouseDown\">\n\t\t\t\t<Container lock-axix=\"y\"\n\t\t\t\t\torientation=\"horizontal\"\n\t\t\t\t\t:drag-handle-selector=\"dragHandleSelector\"\n\t\t\t\t\tdata-click-closes-sidebar=\"true\"\n\t\t\t\t\t@drag-start=\"draggingStack = true\"\n\t\t\t\t\t@drag-end=\"draggingStack = false\"\n\t\t\t\t\t@drop=\"onDropStack\">\n\t\t\t\t\t<Draggable v-for=\"stack in stacksByBoard\"\n\t\t\t\t\t\t:key=\"stack.id\"\n\t\t\t\t\t\tdata-click-closes-sidebar=\"true\"\n\t\t\t\t\t\tdata-dragscroll-enabled\n\t\t\t\t\t\tclass=\"stack-draggable-wrapper\">\n\t\t\t\t\t\t<Stack :stack=\"stack\" :dragging=\"draggingStack\" data-click-closes-sidebar=\"true\" />\n\t\t\t\t\t</Draggable>\n\t\t\t\t</Container>\n\t\t\t</div>\n\t\t</transition>\n\t\t<GlobalSearchResults v-if=\"isFullApp\" />\n\t\t<NcModal v-if=\"localModal\"\n\t\t\t:clear-view-delay=\"0\"\n\t\t\t:close-button-contained=\"true\"\n\t\t\tsize=\"large\"\n\t\t\t@close=\"localModal = null\">\n\t\t\t<div class=\"modal__content modal__card\">\n\t\t\t\t<CardSidebar :id=\"localModal\" @close=\"localModal = null\" />\n\t\t\t</div>\n\t\t</NcModal>\n\t</div>\n</template>\n\n<script>\nimport { Container, Draggable } from 'vue-smooth-dnd'\nimport { mapState, mapGetters } from 'vuex'\nimport Controls from '../Controls.vue'\nimport DeckIcon from '../icons/DeckIcon.vue'\nimport CheckIcon from 'vue-material-design-icons/Check.vue'\nimport Stack from './Stack.vue'\nimport { NcEmptyContent, NcModal, NcButton, NcTextField, NcLoadingIcon } from '@nextcloud/vue'\nimport GlobalSearchResults from '../search/GlobalSearchResults.vue'\nimport { showError } from '../../helpers/errors.js'\nimport { createSession } from '../../sessions.js'\nimport CardSidebar from '../card/CardSidebar.vue'\nexport default {\n\tname: 'Board',\n\tcomponents: {\n\t\tGlobalSearchResults,\n\t\tControls,\n\t\tContainer,\n\t\tDeckIcon,\n\t\tDraggable,\n\t\tStack,\n\t\tNcEmptyContent,\n\t\tNcModal,\n\t\tNcTextField,\n\t\tNcButton,\n\t\tNcLoadingIcon,\n\t\tCheckIcon,\n\t\tCardSidebar,\n\t},\n\tinject: [\n\t\t'boardApi',\n\t],\n\tprops: {\n\t\tid: {\n\t\t\ttype: Number,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tdraggingStack: false,\n\t\t\tloading: true,\n\t\t\tnewStackTitle: '',\n\t\t\tcurrentScrollPosX: null,\n\t\t\tcurrentMousePosX: null,\n\t\t\tlocalModal: null,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\tisFullApp: state => state.isFullApp,\n\t\t\tboard: state => state.currentBoard,\n\t\t\tshowArchived: state => state.showArchived,\n\t\t}),\n\t\t...mapGetters([\n\t\t\t'canEdit',\n\t\t\t'canManage',\n\t\t]),\n\t\tstacksByBoard() {\n\t\t\treturn this.board?.id ? this.$store.getters.stacksByBoard(this.board.id) : []\n\t\t},\n\t\tdragHandleSelector() {\n\t\t\treturn this.canEdit ? '.stack__title' : '.no-drag'\n\t\t},\n\t\tisEmpty() {\n\t\t\treturn this.stacksByBoard.length === 0\n\t\t},\n\t},\n\twatch: {\n\t\tid(newValue, oldValue) {\n\t\t\tthis.fetchData()\n\t\t},\n\t\tshowArchived() {\n\t\t\tthis.fetchData()\n\t\t},\n\t\tisEmpty(newValue) {\n\t\t\tnewValue && this.$nextTick(() => {\n\t\t\t\tthis.$refs?.newStackInput?.focus()\n\t\t\t})\n\t\t},\n\t},\n\tcreated() {\n\t\tthis.session = createSession(this.id)\n\t\tthis.fetchData()\n\t\tthis.$root.$on('open-card', (cardId) => {\n\t\t\tthis.localModal = cardId\n\t\t})\n\t},\n\tbeforeDestroy() {\n\t\tthis.session.close()\n\t},\n\tmethods: {\n\t\tasync fetchData() {\n\t\t\tthis.loading = true\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('loadBoardById', this.id)\n\t\t\t\tawait this.$store.dispatch('loadStacks', this.id)\n\n\t\t\t\tconst routeCardId = parseInt(this.$route.params.cardId)\n\t\t\t\t// If an archived card is requested, and we cannot find it in the current we load the archived stacks instead\n\t\t\t\tif (routeCardId && !this.$store.getters.cardById(routeCardId)) {\n\t\t\t\t\tawait this.$store.dispatch('loadArchivedStacks', this.id)\n\n\t\t\t\t\tif (this.$store.getters.cardById(routeCardId)) {\n\t\t\t\t\t\tthis.$store.commit('toggleShowArchived', true)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.session?.close()\n\t\t\t\tthis.session = createSession(this.id)\n\t\t\t} catch (e) {\n\t\t\t\tthis.loading = false\n\t\t\t\tconsole.error(e)\n\t\t\t\tshowError(e)\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t},\n\n\t\tonDropStack({ removedIndex, addedIndex }) {\n\t\t\tthis.$store.dispatch('orderStack', { stack: this.stacksByBoard[removedIndex], removedIndex, addedIndex })\n\t\t},\n\n\t\taddNewStack() {\n\t\t\tconst newStack = {\n\t\t\t\ttitle: this.newStackTitle,\n\t\t\t\tboardId: this.id,\n\t\t\t}\n\t\t\tthis.$store.dispatch('createStack', newStack)\n\t\t\tthis.newStackTitle = ''\n\t\t},\n\n\t\tonMouseDown(event) {\n\t\t\tthis.startMouseDrag(event)\n\t\t},\n\n\t\tstartMouseDrag(event) {\n\t\t\tif (!('dragscrollEnabled' in event.target.dataset)) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tevent.preventDefault()\n\t\t\tthis.currentMousePosX = event.clientX\n\t\t\tthis.currentScrollPosX = this.$refs.board.scrollLeft\n\t\t\twindow.addEventListener('mousemove', this.handleMouseDrag)\n\t\t\twindow.addEventListener('mouseup', this.stopMouseDrag)\n\t\t\twindow.addEventListener('mouseleave', this.stopMouseDrag)\n\t\t},\n\n\t\thandleMouseDrag(event) {\n\t\t\tevent.preventDefault()\n\t\t\tconst deltaX = event.clientX - this.currentMousePosX\n\t\t\tthis.$refs.board.scrollLeft = this.currentScrollPosX - deltaX\n\t\t},\n\n\t\tstopMouseDrag(event) {\n\t\t\twindow.removeEventListener('mousemove', this.handleMouseDrag)\n\t\t\twindow.removeEventListener('mouseup', this.stopMouseDrag)\n\t\t\twindow.removeEventListener('mouseleave', this.stopMouseDrag)\n\t\t},\n\n\t\tfixActionRestriction() {\n\t\t\tdocument.body.classList.remove(\n\t\t\t\t'smooth-dnd-no-user-select',\n\t\t\t\t'smooth-dnd-disable-touch-action',\n\t\t\t)\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\t@import '../../css/animations';\n\t@import '../../css/variables';\n\n\tform {\n\t\ttext-align: center;\n\t\tdisplay: flex;\n\t\twidth: 100%;\n\t\tmargin: auto;\n\t\tmargin-top: calc(var(--default-grid-baseline) * 4);\n\t\tgap: var(--default-grid-baseline);\n\n\t\tinput[type=\"text\"] {\n\t\t\tflex-grow: 1;\n\t\t}\n\t\tbutton[type=\"submit\"] {\n\t\t\tflex-shrink: 0;\n\t\t}\n\t}\n\n\t.board-wrapper {\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tmax-height: calc(100vh - 50px);\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n\t.board {\n\t\tpadding-left: $board-spacing;\n\t\tposition: relative;\n\t\tmax-height: calc(100% - var(--default-clickable-area));\n\t\toverflow: hidden;\n\t\toverflow-x: auto;\n\t\tflex-grow: 1;\n\t}\n\n\t/**\n\t * Combined rules to handle proper board scrolling and\n\t * drag and drop behavior\n\t */\n\t.smooth-dnd-container.horizontal {\n\t\tdisplay: flex;\n\t\talign-items: stretch;\n\t\theight: 100%;\n\n\t\t&:deep(.stack-draggable-wrapper.smooth-dnd-draggable-wrapper) {\n\t\t\tdisplay: flex;\n\t\t\theight: auto;\n\n\t\t\t.stack {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\tposition: relative;\n\n\t\t\t\t.smooth-dnd-container.vertical {\n\t\t\t\t\tflex-grow: 1;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t// Margin left instead of padidng to avoid jumps on dropping a card\n\t\t\t\t\tmargin-left: $stack-spacing;\n\t\t\t\t\tpadding-right: $stack-spacing;\n\t\t\t\t\toverflow-x: hidden;\n\t\t\t\t\toverflow-y: auto;\n\t\t\t\t\tpadding-top: 15px;\n\t\t\t\t\tmargin-top: -10px;\n\t\t\t\t\tscrollbar-gutter: stable;\n\t\t\t\t}\n\n\t\t\t\t.smooth-dnd-container.vertical > .smooth-dnd-draggable-wrapper {\n\t\t\t\t\toverflow: initial;\n\t\t\t\t}\n\n\t\t\t\t.smooth-dnd-container.vertical .smooth-dnd-draggable-wrapper {\n\t\t\t\t\theight: auto;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n</style>\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Board.vue?vue&type=style&index=0&id=046cdef2&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Board.vue?vue&type=style&index=0&id=046cdef2&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Board.vue?vue&type=template&id=046cdef2&scoped=true\"\nimport script from \"./Board.vue?vue&type=script&lang=js\"\nexport * from \"./Board.vue?vue&type=script&lang=js\"\nimport style0 from \"./Board.vue?vue&type=style&index=0&id=046cdef2&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"046cdef2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"board-wrapper\",attrs:{\"tabindex\":-1},on:{\"touchend\":_vm.fixActionRestriction}},[_c('Controls',{attrs:{\"board\":_vm.board}}),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[(_vm.loading)?_c('div',{key:\"loading\",staticClass:\"emptycontent\"},[_c('div',{staticClass:\"icon icon-loading\"}),_vm._v(\" \"),_c('h2',[_vm._v(_vm._s(_vm.t('deck', 'Loading board')))]),_vm._v(\" \"),_c('p')]):(!_vm.board)?_c('div',{key:\"notfound\",staticClass:\"emptycontent\"},[_c('div',{staticClass:\"icon icon-deck\"}),_vm._v(\" \"),_c('h2',[_vm._v(_vm._s(_vm.t('deck', 'Board not found')))]),_vm._v(\" \"),_c('p')]):(_vm.isEmpty)?_c('NcEmptyContent',{key:\"empty\",scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('DeckIcon')]},proxy:true},{key:\"name\",fn:function(){return [_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'No lists available'))+\"\\n\\t\\t\\t\")]},proxy:true},(_vm.canManage)?{key:\"action\",fn:function(){return [_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Create a new list to add cards to this board'))+\"\\n\\t\\t\\t\\t\"),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.addNewStack()}}},[_c('NcTextField',{ref:\"newStackInput\",attrs:{\"disable\":_vm.loading,\"value\":_vm.newStackTitle,\"placeholder\":_vm.t('deck', 'List name'),\"type\":\"text\"},on:{\"update:value\":function($event){_vm.newStackTitle=$event}}}),_vm._v(\" \"),_c('NcButton',{attrs:{\"type\":\"secondary\",\"native-type\":\"submit\",\"disabled\":_vm.loading,\"title\":_vm.t('deck', 'Add list')},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(!_vm.loading)?_c('CheckIcon',{attrs:{\"size\":20}}):_c('NcLoadingIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,77803760)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Add list'))+\"\\n\\t\\t\\t\\t\\t\")])],1)]},proxy:true}:null],null,true)}):(!_vm.isEmpty && !_vm.loading)?_c('div',{key:\"board\",ref:\"board\",staticClass:\"board\",on:{\"mousedown\":_vm.onMouseDown}},[_c('Container',{attrs:{\"lock-axix\":\"y\",\"orientation\":\"horizontal\",\"drag-handle-selector\":_vm.dragHandleSelector,\"data-click-closes-sidebar\":\"true\"},on:{\"drag-start\":function($event){_vm.draggingStack = true},\"drag-end\":function($event){_vm.draggingStack = false},\"drop\":_vm.onDropStack}},_vm._l((_vm.stacksByBoard),function(stack){return _c('Draggable',{key:stack.id,staticClass:\"stack-draggable-wrapper\",attrs:{\"data-click-closes-sidebar\":\"true\",\"data-dragscroll-enabled\":\"\"}},[_c('Stack',{attrs:{\"stack\":stack,\"dragging\":_vm.draggingStack,\"data-click-closes-sidebar\":\"true\"}})],1)}),1)],1):_vm._e()],1),_vm._v(\" \"),(_vm.isFullApp)?_c('GlobalSearchResults'):_vm._e(),_vm._v(\" \"),(_vm.localModal)?_c('NcModal',{attrs:{\"clear-view-delay\":0,\"close-button-contained\":true,\"size\":\"large\"},on:{\"close\":function($event){_vm.localModal = null}}},[_c('div',{staticClass:\"modal__content modal__card\"},[_c('CardSidebar',{attrs:{\"id\":_vm.localModal},on:{\"close\":function($event){_vm.localModal = null}}})],1)]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div v-if=\"interactive\" class=\"deck-board-reference-interactive\">\n\t\t<Board :id=\"board.id\" />\n\t</div>\n\t<div v-else class=\"deck-board-reference\">\n\t\t<div class=\"line\">\n\t\t\t<DeckIcon :size=\"20\" class=\"title-icon\" />\n\t\t\t<strong>\n\t\t\t\t<a :href=\"boardLink\"\n\t\t\t\t\t:title=\"boardTooltip\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\tclass=\"link\">\n\t\t\t\t\t{{ board.title }}\n\t\t\t\t</a>\n\t\t\t</strong>\n\t\t</div>\n\t\t<div class=\"line\">\n\t\t\t{{ t('deck', 'Owner') + ': ' }}\n\t\t\t<NcUserBubble :user=\"boardOwnerUserId\"\n\t\t\t\t:display-name=\"boardOwnerDisplayName\" />\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport Board from '../components/board/Board.vue'\nimport DeckIcon from '../components/icons/DeckIcon.vue'\nimport { BoardApi } from './../services/BoardApi.js'\nimport store from './../store/main.js'\n\nimport NcUserBubble from '@nextcloud/vue/dist/Components/NcUserBubble.js'\n\nimport moment from '@nextcloud/moment'\nimport { generateUrl } from '@nextcloud/router'\n\nconst boardApi = new BoardApi()\n\nexport default {\n\tname: 'BoardReferenceWidget',\n\n\tstore,\n\n\tcomponents: {\n\t\tDeckIcon,\n\t\tNcUserBubble,\n\t\tBoard,\n\t},\n\n\tprovide() {\n\t\treturn {\n\t\t\tboardApi,\n\t\t}\n\t},\n\n\tprops: {\n\t\trichObjectType: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\trichObject: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t\taccessible: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tinteractive: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\n\tcomputed: {\n\t\tboard() {\n\t\t\treturn this.richObject.board\n\t\t},\n\t\tboardLink() {\n\t\t\treturn generateUrl('/apps/deck/#/board/{boardId}', { boardId: this.board.id })\n\t\t},\n\t\tboardTooltip() {\n\t\t\treturn t('deck', 'Deck board {name}\\n* Last modified on {lastMod}', {\n\t\t\t\tname: this.board.title,\n\t\t\t\tlastMod: moment.unix(this.board.lastModified).format('LLL'),\n\t\t\t})\n\t\t},\n\t\tboardOwnerUserId() {\n\t\t\treturn this.board.owner?.uid ?? '???'\n\t\t},\n\t\tboardOwnerDisplayName() {\n\t\t\treturn this.board.owner?.displayname ?? this.boardOwnerUserId\n\t\t},\n\t},\n\n\tcreated() {\n\t\tthis.$store.commit('setFullApp', false)\n\t},\n\n}\n</script>\n\n<style scoped lang=\"scss\">\n.deck-board-reference {\n\twidth: 100%;\n\t// needed for the specific case of Text\n\t.editor__content & {\n\t\twidth: calc(100% - 24px);\n\t}\n\twhite-space: normal;\n\tpadding: 12px;\n\n\t.link {\n\t\ttext-decoration: underline;\n\t\tcolor: var(--color-main-text) !important;\n\t\tpadding: 0 !important;\n\t}\n\n\t.line {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\t.icon {\n\t\t\tmargin-right: 4px;\n\t\t}\n\t\t.title-icon {\n\t\t\tmargin-right: 8px;\n\t\t}\n\t}\n}\n\n.deck-board-reference-interactive {\n\twidth: 100%;\n\tmin-height: min(50vh, calc(100vh - 100px));\n\tmax-height: calc(100vh - 120px);\n\t&:deep(.controls) {\n\t\tpadding-left: 12px;\n\t}\n\t&:deep(.board) {\n\t\tpadding-left: 0;\n\t}\n\t&:deep(*) {\n\t\t-webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */\n\t\t-moz-box-sizing: border-box;    /* Firefox, other Gecko */\n\t\tbox-sizing: border-box;         /* Opera/IE 8+ */\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BoardReferenceWidget.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BoardReferenceWidget.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BoardReferenceWidget.vue?vue&type=style&index=0&id=5ea0696f&prod&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BoardReferenceWidget.vue?vue&type=style&index=0&id=5ea0696f&prod&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./BoardReferenceWidget.vue?vue&type=template&id=5ea0696f&scoped=true\"\nimport script from \"./BoardReferenceWidget.vue?vue&type=script&lang=js\"\nexport * from \"./BoardReferenceWidget.vue?vue&type=script&lang=js\"\nimport style0 from \"./BoardReferenceWidget.vue?vue&type=style&index=0&id=5ea0696f&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ea0696f\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AvatarList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AvatarList.vue?vue&type=script&lang=js\""],"names":["name","components","NcAvatar","NcPopover","AccountMultiple","props","users","type","Array","default","data","popoverVisible","computed","firstUsers","length","slice","avatarUrl","assignable","user","participant","uid","generateUrl","size","window","location","protocol","host","popover","map","session","href","icon","text","displayname","t","avatarUsers","filter","includes","methods","togglePopover","render","_vm","this","_c","_self","staticClass","scopedSlots","_u","key","fn","_ref","attrs","_b","on","$event","stopPropagation","_e","_v","_l","id","_s","staticRenderFns","mixins","Color","labelStyle","label","backgroundColor","color","textColor","___CSS_LOADER_EXPORT___","push","module","webpackContext","req","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","exports","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","sessions","Number","sessionsVisible","sessionAvatarStyle","style","sessionApi","url","generateOcsUrl","createSession","boardId","axios","put","ocs","syncSession","token","post","closeSession","closeSessionViaBeacon","body","blob","Blob","JSON","stringify","navigator","sendBeacon","state","actions","card","getters","cardActions","mutations","ADD_CARD_ACTION","action","addCardAction","commit","StackApi","loadStacks","get","then","response","Promise","err","reject","catch","deletedStacks","loadArchivedStacks","createStack","stack","reorderStack","stackId","order","deleteStack","delete","updateStack","arrayToSort","removedIndex","addedIndex","result","itemToAdd","splice","apiClient","stacks","stacksByBoard","sort","a","b","stackById","find","addStack","existingIndex","findIndex","_stack","existingStack","Vue","assign","orderStack","currentOrder","newOrder","applyOrderToArray","i","parseInt","title","_ref2","_ref3","OC","Notification","showTemporary","console","error","message","_ref4","call","showArchived","cards","j","_ref5","archivedStacks","_ref6","currentBoard","createdStack","_ref7","_ref8","CardApi","cardsByStack","rootState","tags","due","unassigned","completed","done","allTagsMatch","allUsersMatch","forEach","tag","labels","l","assignedUsers","u","datediffHour","Date","duedate","overdue","getSearchQuery","hasMatch","matches","match","filterOutQuotes","q","query","indexOf","split","isEmptyQuery","toLowerCase","description","comparator","isValidComparator","parsedCardDate","moment","parsedDate","isBefore","isSameOrBefore","isAfter","isSameOrAfter","isSame","assignment","primaryKey","createdAt","cardById","addCard","_card","existingCard","deleteCard","updateCard","updateCardsReorder","newCard","assignCardToUser","cardId","removeUserFromCard","foundIndex","_user","updateCardProperty","property","now","cardSetAttachmentCount","count","cardIncreaseAttachmentCount","attachmentCount","cardDecreaseAttachmentCount","addNewCard","setCards","deletedCards","c","createdCard","updateCardTitle","moveCard","reorderCard","newCards","values","archiveUnarchiveCard","archived","changeCardDoneStatus","_ref9","_ref10","_ref11","assignee","assignUser","userId","_ref12","_ref13","removeUser","addLabel","_ref14","assignLabelToCard","removeLabel","_ref15","removeLabelFromCard","updateCardDesc","_ref16","updateCardDue","_ref17","addCardData","_ref18","cardData","relatedStack","relatedBoard","generateRemoteUrl","loadComments","limit","offset","params","headers","createComment","comment","replyTo","parentId","updateComment","deleteComment","markCommentsAsRead","readMarker","toUTCString","method","comments","getCommentsForCard","hasMoreComments","hasMore","endReached","addComments","undefined","newComments","item","_comment","setReplyTo","fetchComments","fetchMore","dispatch","stackApi","cardApi","setDeletedStacks","delStacks","moveStackToTrash","deletedAt","Math","floor","removeStackFromTrash","setDeletedCards","delCards","moveCardToTrash","removeCardFromTrash","fetchDeletedItems","stackUndoDelete","cardUndoDelete","fetchAttachments","createAttachment","formData","onUploadProgress","updateAttachment","attachment","deleteAttachment","restoreAttachment","displayAttachment","attachments","attachmentsByCard","createAttachments","deletedAttachment","unshareAttachment","restoredAttachment","use","Vuex","assignedCards","loading","assignedCardsDashboard","setAssignedCards","setLoading","promise","loadUpcoming","assignedCardsFlat","flat","BoardApi","BOARD_FILTERS","modules","trashbin","overview","strict","process","isFullApp","config","loadState","navShown","localStorage","getItem","compactMode","showCardCover","sidebarShown","currentCard","boards","sharees","assignableUsers","boardFilter","searchQuery","activity","activityLoadMore","shortcutLock","getFilter","boardById","board","assignables","acl","group","circle","noneArchivedBoards","archivedBoards","sharedBoards","shared","filteredBoards","currentBoardLabels","canEdit","permissions","PERMISSION_EDIT","canManage","PERMISSION_MANAGE","canShare","PERMISSION_SHARE","isArchived","setFullApp","SET_CONFIG","value","scope","configKey","indexExisting","settings","setSearchQuery","SET_FILTER","TOGGLE_FILTER","toggleShowArchived","newState","arguments","addBoard","cloneBoard","removeBoard","toggleNav","navState","setItem","toggleSidebar","toggleCompactMode","toggleShowCardCover","setBoards","setSharees","shareesUsersAndGroups","exact","groups","circles","setAssignableUsers","setBoardFilter","setCurrentBoard","setCurrentCard","removeLabelFromCurrentBoard","labelId","removeIndex","updateLabelFromCurrentBoard","newLabel","labelToUpdate","addLabelToCurrentBoard","addAclToCurrentBoard","createdAcl","updateAclFromCurrentBoard","acl_","deleteAclFromCurrentBoard","index","attr","TOGGLE_SHORTCUT_LOCK","lock","setConfig","setFilter","toggleFilter","loadBoardById","loadById","refreshBoard","etagHasChanged","ETag","archiveBoard","boardCopy","parse","updateBoard","unarchiveBoard","createBoard","boardData","newBoard","loadBoards","loadSharees","URLSearchParams","append","commmit","_ref19","_ref20","_ref21","_ref22","_ref23","_ref24","_ref25","deleteLabel","_ref26","updateLabel","_ref27","createLabel","addLabelToCurrentBoardAndCard","_ref28","_ref29","_ref30","newAcl","addAcl","_ref31","updateAcl","_ref32","deleteAcl","transferOwnership","_ref33","_ref34","newOwner","toggleShortcutLock","_ref35","hasPush","syncRunning","isOurSessionToken","defaults","startsWith","isNotifyPushEnabled","close","tokenPromise","create","res","ensureSession","async","status","interval","setInterval","SESSION_INTERVAL","visibilitychangeListener","document","visibilityState","clearInterval","store","addEventListener","removeEventListener","listen","_causingSessionToken","currentBoardId","CreateNewCardCustomPicker","NcModal","NcActions","NcActionButton","NcButton","ArchiveIcon","ImageIcon","FilterIcon","FilterOffIcon","ArrowCollapseVerticalIcon","ArrowExpandVerticalIcon","TableColumnPlusAfter","SessionList","required","overviewName","String","newStackTitle","filterVisible","isAddStackVisible","showAddCardModal","defaultPageTitle","mapGetters","mapState","detailsRoute","isFilterActive","labelsSorted","presentUsers","activeSessions","watch","current","previous","clearFilter","setPageTitle","beforeMount","subscribe","clickShowAddCardModel","triggerOpenFilters","triggerClearFilter","triggerFilterByMe","beforeDestroy","unsubscribe","beforeSetFilter","target","$store","$nextTick","addNewStack","showAddStack","hideAddStack","toggleDetailsView","$route","$router","filterReset","clickHideAddCardModel","substring","newTitle","$refs","filterPopover","$el","click","triggerOpenSearch","search","focus","getCurrentUser","directives","rawName","expression","preventDefault","domProps","composing","apply","proxy","ref","isArray","_i","$$a","$$el","$$c","checked","$$v","$$i","$set","concat","_q","slot","DueState","CheckCircle","Clock","ClockOutline","dueState","days","diff","$root","time","relativeDate","date","fromNow","absoluteDate","format","DueDate","NcAvatarList","TextIcon","AttachmentIcon","CheckmarkIcon","CommentIcon","CommentUnreadIcon","CardId","checkListCount","checkListCheckedCount","commentsHint","commentsUnread","commentsCount","unread","idBadge","openComments","tabId","trim","_t","CardBulletedIcon","hideDetailsEntry","Boolean","modalShow","selectedBoard","selectedStack","stacksFromBoard","canEditBoard","isCurrentUserAssigned","cardRichObject","boardname","stackname","link","openCard","$emit","undoCard","showUndo","currentRoute","assignCardToMe","unassignCardFromMe","openCardMoveDialog","emit","callback","CardMenuEntries","extendedData","hasPreview","attachmentPreview","stackWidth","getComputedStyle","documentElement","getPropertyValue","x","ceil","fileid","immediate","handler","mapActions","class","backgroundImage","CardBadges","AttachmentDragAndDrop","CardMenu","CardCover","ClickOutside","standalone","dragging","highlight","inlineEditingBlocked","hasLabels","hasBadges","showMenuAtTitle","showMenuAtLabels","showMenuAtBadges","newValue","scrollIntoView","behavior","block","inline","activeElement","titleContentEditable","textContent","onTitleBlur","innerText","onTitleFocus","cancelEdit","handleCardKeyboardShortcut","OCP","Accessibility","disableKeyboardShortcuts","shiftKey","ctrlKey","altKey","metaKey","querySelector","getElementById","toggleSelfAsignment","applyLabelFilter","isAssigned","setTimeout","currentTarget","_k","keyCode","CardItem","Container","Draggable","CardPlusOutline","editing","draggingCard","copiedStack","newCardTitle","showAddCard","stateCardCreating","animate","modalArchivAllCardsShow","stackTransfer","total","dragHandleSelector","cardDetailsInModal","set","newCardInput","mounted","setupAutoscrollOnDrag","stopCardCreation","parentElement","onDropCard","event","payload","debug","payloadForCard","setArchivedToAllCardsFromStack","startEditing","finishedEdit","clickAddCard","showError","onCreateCardFocus","timer","viewportX","clientX","boardElement","clientWidth","scrollBoundary","innerWidth","scrollToX","scrollLeft","scrollTo","scrollTop","autoscroll","animated","refInFor","light","dark","styles","randWidth","random","width","cursor","cancelToken","CancelToken","source","request","term","cancel","InfiniteLoading","NcRichText","Placeholder","results","filteredResults","sortFn","lastModified","toString","queryStringArgs","infiniteHandler","$state","loaded","complete","DueDateSelector","AssignmentSelector","TagSelector","Description","CollectionList","addedLabelToCard","copiedCard","locale","getLocale","projectsEnabled","initialize","descriptionChanged","newDesc","assignUserToCard","val","toISOString","debouncedUpdateCardDue","debounce","addLabelToCard","addLabelToBoardAndCard","randomColor","removedLabel","toDate","AttachmentList","At","NcUserBubble","commentText","members","validate","submit","content","contentEditableToParsed","temp","createElement","innerHTML","contentEditable","node","cloneNode","querySelectorAll","mention","mentionValue","firstElementChild","attributes","replaceWith","replace","rawToParsed","handleKeydown","atwho","onPaste","clipboardData","getData","execCommand","s","model","AtMention","functional","context","displayName","contenteditable","CommentForm","ReplyIcon","reply","preview","edit","commentMsg","actorId","richText","parsedMessage","mentions","hash","md5","mentionId","join","richArgs","reduce","component","mentionDisplayName","div","formattedTimestamp","creationDateTime","showUpdateForm","richTextElement","children","hideUpdateForm","objectId","actorDisplayName","CommentItem","tabQuery","newComment","isLoading","currentUser","loadMore","commentObj","cancelReply","InternalLink","formatReadableDate","subject","subject_rich","parameters","after","dateTime","sanitizedMessage","DOMPurify","sanitize","ALLOWED_TAGS","ALLOWED_ATTR","datetime","ActivityEntry","objectType","activities","since","loadActivity","validateStatus","object_type","object_id","activity_id","changeObject","ActivityList","$parent","isActive","capabilities","getCapabilities","NcAppSidebar","NcAppSidebarTab","CardSidebarTabAttachments","CardSidebarTabComments","CardSidebarTabActivity","CardSidebarTabDetails","ActivityIcon","HomeIcon","titleEditable","titleEditing","hasActivity","subtitle","subtitleTooltip","formatDate","focusHeader","cardSidebar","handleUpdateTitleEditable","handleUpdateTitle","handleSubmitTitle","closeSidebar","showModal","closeModal","timestamp","unix","GlobalSearchResults","Controls","DeckIcon","Stack","NcEmptyContent","NcTextField","NcLoadingIcon","CheckIcon","CardSidebar","inject","draggingStack","currentScrollPosX","currentMousePosX","localModal","isEmpty","oldValue","fetchData","newStackInput","created","$on","routeCardId","onDropStack","newStack","onMouseDown","startMouseDrag","dataset","handleMouseDrag","stopMouseDrag","deltaX","fixActionRestriction","classList","remove","boardApi","Board","provide","richObjectType","richObject","accessible","interactive","boardLink","boardTooltip","lastMod","boardOwnerUserId","owner","boardOwnerDisplayName"],"sourceRoot":""}