"use strict";(self.webpackChunkdeck=self.webpackChunkdeck||[]).push([["src_views_CommentReferenceWidget_vue"],{8502:(e,t,n)=>{n.d(t,{A:()=>i});var c=n(71354),a=n.n(c),r=n(76314),s=n.n(r)()(a());s.push([e.id,"/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.labels[data-v-64466fc5]{flex-grow:1;flex-shrink:1;min-width:0;display:flex;flex-direction:row;gap:3px}.labels li[data-v-64466fc5]{flex-grow:0;flex-shrink:1;display:flex;flex-direction:row;overflow:hidden;padding:1px 8px;border-radius:15px;font-size:13px}.labels li[data-v-64466fc5]:hover{overflow:unset}.labels li span[data-v-64466fc5]{flex-grow:0;flex-shrink:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.deck-comment-reference[data-v-64466fc5]{width:100%;white-space:normal;padding:12px}.editor__content .deck-comment-reference[data-v-64466fc5]{width:calc(100% - 24px)}.deck-comment-reference .link[data-v-64466fc5]{text-decoration:underline;color:var(--color-main-text) !important;padding:0 !important}.deck-comment-reference .line[data-v-64466fc5]{display:flex;align-items:center}.deck-comment-reference .line .icon[data-v-64466fc5]{margin-right:4px}.deck-comment-reference .line .title-icon[data-v-64466fc5]{margin-right:8px}.deck-comment-reference .due-date[data-v-64466fc5]{display:flex;align-items:center}.deck-comment-reference .labels[data-v-64466fc5]{margin:8px 0}.deck-comment-reference .comment-wrapper[data-v-64466fc5],.deck-comment-reference .description-assignees[data-v-64466fc5]{width:100%;display:flex;align-items:start}.deck-comment-reference .comment-wrapper .icon[data-v-64466fc5],.deck-comment-reference .description-assignees .icon[data-v-64466fc5]{align-self:start;margin-top:8px}.deck-comment-reference .comment-wrapper .comment[data-v-64466fc5],.deck-comment-reference .comment-wrapper .description[data-v-64466fc5],.deck-comment-reference .description-assignees .comment[data-v-64466fc5],.deck-comment-reference .description-assignees .description[data-v-64466fc5]{margin-right:8px;padding-top:6px;max-height:250px;overflow:scroll}.deck-comment-reference .comment-wrapper .comment.short-comment[data-v-64466fc5],.deck-comment-reference .comment-wrapper .comment.short-description[data-v-64466fc5],.deck-comment-reference .comment-wrapper .description.short-comment[data-v-64466fc5],.deck-comment-reference .comment-wrapper .description.short-description[data-v-64466fc5],.deck-comment-reference .description-assignees .comment.short-comment[data-v-64466fc5],.deck-comment-reference .description-assignees .comment.short-description[data-v-64466fc5],.deck-comment-reference .description-assignees .description.short-comment[data-v-64466fc5],.deck-comment-reference .description-assignees .description.short-description[data-v-64466fc5]{max-height:25px;overflow:hidden}.deck-comment-reference .comment-wrapper .card-assignees[data-v-64466fc5],.deck-comment-reference .description-assignees .card-assignees[data-v-64466fc5]{margin-top:0;height:36px;flex-grow:unset}.deck-comment-reference .spacer[data-v-64466fc5]{flex-grow:1}","",{version:3,sources:["webpack://./src/css/labels.scss","webpack://./src/views/CommentReferenceWidget.vue"],names:[],mappings:"AAAA;;;EAAA,CAOA,yBACC,WAAA,CACA,aAAA,CACA,WAAA,CACA,YAAA,CACA,kBAAA,CACA,OAAA,CAEA,4BACC,WAAA,CACA,aAAA,CACA,YAAA,CACA,kBAAA,CACA,eAAA,CACA,eAAA,CACA,kBAAA,CACA,cAAA,CAEA,kCACC,cAAA,CAGD,iCACC,WAAA,CACA,aAAA,CACA,WAAA,CACA,eAAA,CACA,sBAAA,CACA,kBAAA,CC/BH,yCACC,UAAA,CAKA,kBAAA,CACA,YAAA,CAJA,0DACC,uBAAA,CAKD,+CACC,yBAAA,CACA,uCAAA,CACA,oBAAA,CAGD,+CACC,YAAA,CACA,kBAAA,CACA,qDACC,gBAAA,CAED,2DACC,gBAAA,CAIF,mDACC,YAAA,CACA,kBAAA,CAGD,iDACC,YAAA,CAGD,0HAEC,UAAA,CACA,YAAA,CACA,iBAAA,CAEA,sIACC,gBAAA,CACA,cAAA,CAGD,gSAEC,gBAAA,CACA,eAAA,CACA,gBAAA,CACA,eAAA,CACA,gsBAEC,eAAA,CACA,eAAA,CAIF,0JACC,YAAA,CACA,WAAA,CACA,eAAA,CAIF,iDACC,WAAA",sourceRoot:""}]);const i=s},4994:(e,n,c)=>{c.d(n,{default:()=>O});var a=c(34916),r=c(24319),s=c(86847);const i={name:"CommentProcessingOutlineIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var o=c(14486);const A=(0,o.A)(i,(function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon comment-processing-outline-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(t){return e.$emit("click",t)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M9,22A1,1 0 0,1 8,21V18H4A2,2 0 0,1 2,16V4C2,2.89 2.9,2 4,2H20A2,2 0 0,1 22,4V16A2,2 0 0,1 20,18H13.9L10.2,21.71C10,21.9 9.75,22 9.5,22V22H9M10,16V19.08L13.08,16H20V4H4V16H10M17,11H15V9H17V11M13,11H11V9H13V11M9,11H7V9H9V11Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])}),[],!1,null,null,null).exports;var d=c(87693),l=c(96095),m=c(41521),C=c(76333),p=c(51651),f=c(63814);const h={name:"CommentReferenceWidget",components:{AvatarList:l.A,DeckIcon:d.A,CalendarBlankIcon:a.A,TextIcon:r.A,CardBulletedOutlineIcon:s.A,NcRichText:C.z4,CommentProcessingOutlineIcon:A},mixins:[m.A],props:{richObjectType:{type:String,default:""},richObject:{type:Object,default:null},accessible:{type:Boolean,default:!0}},data:()=>({shortDescription:!0,shortComment:!0}),computed:{card(){return this.richObject.card},board(){return this.richObject.board},stack(){return this.richObject.stack},comment(){return this.richObject.comment},commentMessageText(){const e=document.createElement("div");return e.innerHTML=this.comment.message,e.textContent},cardLink(){return(0,f.Jv)("/apps/deck/#/board/{boardId}/card/{cardId}",{boardId:this.board.id,cardId:this.card.id})},boardLink(){return(0,f.Jv)("/apps/deck/#/board/{boardId}",{boardId:this.board.id})},cardTooltip(){return t("deck","* Created on {created}\n* Last modified on {lastMod}\n* {nbAttachments} attachments\n* {nbComments} comments",{created:p.A.unix(this.card.createdAt).format("LLL"),lastMod:p.A.unix(this.card.lastModified).format("LLL"),nbAttachments:this.card.attachments.length,nbComments:this.card.commentsCount})},stackTooltip(){return t("deck","{nbCards} cards",{nbCards:this.stack.cards.length})},dueDate(){return this.card.duedate?(0,p.A)(this.card.duedate).fromNow():null},formattedDueDate(){return this.card.duedate?t("deck","Due on {date}",{date:(0,p.A)(this.card.duedate).format("LLL")}):null},labelsSorted(){return[...this.card.labels].sort(((e,t)=>e.title<t.title?-1:1))}},methods:{}};var u=c(85072),v=c.n(u),k=c(97825),g=c.n(k),x=c(77659),b=c.n(x),_=c(55056),w=c.n(_),D=c(10540),B=c.n(D),I=c(41113),y=c.n(I),L=c(8502),H={};H.styleTagTransform=y(),H.setAttributes=w(),H.insert=b().bind(null,"head"),H.domAPI=g(),H.insertStyleElement=B();v()(L.A,H);L.A&&L.A.locals&&L.A.locals;const O=(0,o.A)(h,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"deck-comment-reference"},[t("div",{staticClass:"line"},[t("CardBulletedOutlineIcon",{staticClass:"title-icon",attrs:{size:20}}),e._v(" "),t("strong",[t("a",{staticClass:"link",attrs:{href:e.cardLink,title:e.cardTooltip,target:"_blank"}},[e._v("\n\t\t\t\t"+e._s(e.card.title)+"\n\t\t\t")])]),e._v(" "),e.dueDate?t("div",{staticClass:"spacer"}):e._e(),e._v(" "),e.dueDate?t("span",{staticClass:"due-date",attrs:{title:e.t("Due date")+": "+e.formattedDueDate}},[t("CalendarBlankIcon",{staticClass:"icon",attrs:{size:20}}),e._v("\n\t\t\t"+e._s(e.dueDate)+"\n\t\t")],1):e._e()],1),e._v(" "),t("div",{staticClass:"line"},[t("DeckIcon",{staticClass:"title-icon",attrs:{size:20}}),e._v(" "),t("a",{staticClass:"link",attrs:{title:e.stackTooltip,href:e.boardLink,target:"_blank"}},[e._v("\n\t\t\t"+e._s(e.t("deck","{stack} in {board}",{stack:e.stack.title,board:e.board.title}))+"\n\t\t")])],1),e._v(" "),t("div",[e.card.labels&&e.card.labels.length?t("transition-group",{staticClass:"labels",attrs:{name:"zoom",tag:"ul"},on:{click:function(t){return t.stopPropagation(),e.openCard.apply(null,arguments)}}},e._l(e.labelsSorted,(function(n){return t("li",{key:n.id,style:e.labelStyle(n)},[t("span",[e._v(e._s(n.title))])])})),0):e._e()],1),e._v(" "),t("div",{staticClass:"line description-assignees"},[e.card.description?t("TextIcon",{staticClass:"icon",attrs:{size:20}}):e._e(),e._v(" "),e.card.description?t("div",{class:{description:!0,"short-description":e.shortDescription}},[t("NcRichText",{attrs:{title:e.shortDescription?e.t("deck","Click to expand description"):void 0,text:e.card.description,"use-markdown":!0},nativeOn:{click:function(t){e.shortDescription=!e.shortDescription}}})],1):e._e(),e._v(" "),e.card.assignedUsers.length>0?t("div",{staticClass:"spacer"}):e._e(),e._v(" "),e.card.assignedUsers.length>0?t("AvatarList",{staticClass:"card-assignees",attrs:{users:e.card.assignedUsers}}):e._e()],1),e._v(" "),e.comment?t("div",{staticClass:"line comment-wrapper"},[t("CommentProcessingOutlineIcon",{staticClass:"icon",attrs:{size:20}}),e._v(" "),t("div",{class:{comment:!0,"short-comment":e.shortComment}},[t("NcRichText",{attrs:{title:e.shortComment?e.t("deck","Click to expand comment"):void 0,text:e.commentMessageText,"use-markdown":!1},nativeOn:{click:function(t){e.shortComment=!e.shortComment}}})],1)],1):e._e()])}),[],!1,null,"64466fc5",null).exports}}]);
//# sourceMappingURL=deck-src_views_CommentReferenceWidget_vue.js.map?v=b10905786ef829b3d2b5