"use strict";(self.webpackChunkdeck=self.webpackChunkdeck||[]).push([["src_views_CardReferenceWidget_vue"],{30959:(e,t,a)=>{a.d(t,{A:()=>c});var A=a(71354),r=a.n(A),s=a(76314),i=a.n(s)()(r());i.push([e.id,"/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.labels[data-v-79c84962]{flex-grow:1;flex-shrink:1;min-width:0;display:flex;flex-direction:row;gap:3px}.labels li[data-v-79c84962]{flex-grow:0;flex-shrink:1;display:flex;flex-direction:row;overflow:hidden;padding:1px 8px;border-radius:15px;font-size:13px}.labels li[data-v-79c84962]:hover{overflow:unset}.labels li span[data-v-79c84962]{flex-grow:0;flex-shrink:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.deck-card-reference[data-v-79c84962]{width:100%;white-space:normal;padding:12px}.editor__content .deck-card-reference[data-v-79c84962]{width:calc(100% - 24px)}.deck-card-reference .link[data-v-79c84962]{text-decoration:underline;color:var(--color-main-text) !important;padding:0 !important}.deck-card-reference .line[data-v-79c84962]{display:flex;align-items:center}.deck-card-reference .line .icon[data-v-79c84962]{margin-right:4px}.deck-card-reference .line .title-icon[data-v-79c84962]{margin-right:8px}.deck-card-reference .due-date[data-v-79c84962]{display:flex;align-items:center}.deck-card-reference .labels[data-v-79c84962]{margin:8px 0}.deck-card-reference .description-assignees[data-v-79c84962]{width:100%;display:flex;align-items:start}.deck-card-reference .description-assignees .icon[data-v-79c84962]{align-self:start;margin-top:8px}.deck-card-reference .description-assignees .description[data-v-79c84962]{margin-right:8px;padding-top:6px;max-height:250px;overflow:scroll}.deck-card-reference .description-assignees .description.short-description[data-v-79c84962]{max-height:25px;overflow:hidden}.deck-card-reference .description-assignees .card-assignees[data-v-79c84962]{margin-top:0;height:36px;flex-grow:unset}.deck-card-reference .spacer[data-v-79c84962]{flex-grow:1}","",{version:3,sources:["webpack://./src/css/labels.scss","webpack://./src/views/CardReferenceWidget.vue"],names:[],mappings:"AAAA;;;EAAA,CAOA,yBACC,WAAA,CACA,aAAA,CACA,WAAA,CACA,YAAA,CACA,kBAAA,CACA,OAAA,CAEA,4BACC,WAAA,CACA,aAAA,CACA,YAAA,CACA,kBAAA,CACA,eAAA,CACA,eAAA,CACA,kBAAA,CACA,cAAA,CAEA,kCACC,cAAA,CAGD,iCACC,WAAA,CACA,aAAA,CACA,WAAA,CACA,eAAA,CACA,sBAAA,CACA,kBAAA,CC/BH,sCACC,UAAA,CAKA,kBAAA,CACA,YAAA,CAJA,uDACC,uBAAA,CAKD,4CACC,yBAAA,CACA,uCAAA,CACA,oBAAA,CAGD,4CACC,YAAA,CACA,kBAAA,CACA,kDACC,gBAAA,CAED,wDACC,gBAAA,CAIF,gDACC,YAAA,CACA,kBAAA,CAGD,8CACC,YAAA,CAGD,6DACC,UAAA,CACA,YAAA,CACA,iBAAA,CAEA,mEACC,gBAAA,CACA,cAAA,CAGD,0EACC,gBAAA,CACA,eAAA,CACA,gBAAA,CACA,eAAA,CACA,4FACC,eAAA,CACA,eAAA,CAIF,6EACC,YAAA,CACA,WAAA,CACA,eAAA,CAIF,8CACC,WAAA",sourceRoot:""}]);const c=i},64317:(e,a,A)=>{A.d(a,{default:()=>y});var r=A(34916),s=A(24319),i=A(86847),c=A(87693),d=A(96095),n=A(41521),l=A(76333),o=A(51651),C=A(63814);const p={name:"CardReferenceWidget",components:{AvatarList:d.A,DeckIcon:c.A,CalendarBlankIcon:r.A,CardBulletedOutlineIcon:i.A,TextIcon:s.A,NcRichText:l.z4},mixins:[n.A],props:{richObjectType:{type:String,default:""},richObject:{type:Object,default:null},accessible:{type:Boolean,default:!0}},data:()=>({shortDescription:!0}),computed:{card(){return this.richObject.card},board(){return this.richObject.board},stack(){return this.richObject.stack},cardLink(){return(0,C.Jv)("/apps/deck/#/board/{boardId}/card/{cardId}",{boardId:this.board.id,cardId:this.card.id})},boardLink(){return(0,C.Jv)("/apps/deck/#/board/{boardId}",{boardId:this.board.id})},cardTooltip(){return t("deck","* Created on {created}\n* Last modified on {lastMod}\n* {nbAttachments} attachments\n* {nbComments} comments",{created:o.A.unix(this.card.createdAt).format("LLL"),lastMod:o.A.unix(this.card.lastModified).format("LLL"),nbAttachments:this.card.attachments.length,nbComments:this.card.commentsCount})},stackTooltip(){return t("deck","{nbCards} cards",{nbCards:this.stack.cards.length})},dueDate(){return this.card.duedate?(0,o.A)(this.card.duedate).fromNow():null},formattedDueDate(){return this.card.duedate?t("deck","Due on {date}",{date:(0,o.A)(this.card.duedate).format("LLL")}):null},labelsSorted(){return[...this.card.labels].sort(((e,t)=>e.title<t.title?-1:1))}},methods:{}};var u=A(85072),h=A.n(u),k=A(97825),f=A.n(k),v=A(77659),g=A.n(v),b=A(55056),m=A.n(b),x=A(10540),_=A.n(x),D=A(41113),w=A.n(D),B=A(30959),I={};I.styleTagTransform=w(),I.setAttributes=m(),I.insert=g().bind(null,"head"),I.domAPI=f(),I.insertStyleElement=_();h()(B.A,I);B.A&&B.A.locals&&B.A.locals;const y=(0,A(14486).A)(p,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"deck-card-reference"},[t("div",{staticClass:"line"},[t("CardBulletedOutlineIcon",{staticClass:"title-icon",attrs:{size:20}}),e._v(" "),t("strong",[t("a",{staticClass:"link",attrs:{href:e.cardLink,title:e.cardTooltip,target:"_blank"}},[e._v("\n\t\t\t\t"+e._s(e.card.title)+"\n\t\t\t")])]),e._v(" "),e.dueDate?t("div",{staticClass:"spacer"}):e._e(),e._v(" "),e.dueDate?t("span",{staticClass:"due-date",attrs:{title:e.t("Due date")+": "+e.formattedDueDate}},[t("CalendarBlankIcon",{staticClass:"icon",attrs:{size:20}}),e._v("\n\t\t\t"+e._s(e.dueDate)+"\n\t\t")],1):e._e()],1),e._v(" "),t("div",{staticClass:"line"},[t("DeckIcon",{staticClass:"title-icon",attrs:{size:20}}),e._v(" "),t("a",{staticClass:"link",attrs:{title:e.stackTooltip,href:e.boardLink,target:"_blank"}},[e._v("\n\t\t\t"+e._s(e.t("deck","{stack} in {board}",{stack:e.stack.title,board:e.board.title}))+"\n\t\t")])],1),e._v(" "),t("div",[e.card.labels&&e.card.labels.length?t("transition-group",{staticClass:"labels",attrs:{name:"zoom",tag:"ul"},on:{click:function(t){return t.stopPropagation(),e.openCard.apply(null,arguments)}}},e._l(e.labelsSorted,(function(a){return t("li",{key:a.id,style:e.labelStyle(a)},[t("span",[e._v(e._s(a.title))])])})),0):e._e()],1),e._v(" "),t("div",{staticClass:"line description-assignees"},[e.card.description?t("TextIcon",{staticClass:"icon",attrs:{size:20}}):e._e(),e._v(" "),e.card.description?t("div",{class:{description:!0,"short-description":e.shortDescription}},[t("NcRichText",{attrs:{title:e.shortDescription?e.t("deck","Click to expand description"):void 0,text:e.card.description,"use-markdown":!0},nativeOn:{click:function(t){e.shortDescription=!e.shortDescription}}})],1):e._e(),e._v(" "),e.card.assignedUsers.length>0?t("div",{staticClass:"spacer"}):e._e(),e._v(" "),e.card.assignedUsers.length>0?t("AvatarList",{staticClass:"card-assignees",attrs:{users:e.card.assignedUsers}}):e._e()],1)])}),[],!1,null,"79c84962",null).exports}}]);
//# sourceMappingURL=deck-src_views_CardReferenceWidget_vue.js.map?v=8675969d99038b56d30a