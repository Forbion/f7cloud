"use strict";(self.webpackChunkdeck=self.webpackChunkdeck||[]).push([["src_views_DashboardUpcoming_vue"],{34711:(e,A,a)=>{a.d(A,{A:()=>s});var t=a(71354),r=a.n(t),o=a(76314),d=a.n(o)()(r());d.push([e.id,".due[data-v-537ebc3f]{background-position:4px center;border-radius:var(--border-radius-pill);padding:1px 8px;font-size:90%;display:flex;align-items:center;flex-shrink:1;z-index:2}[data-due-state=Overdue] .due[data-v-537ebc3f]{color:var(--color-element-error, var(--color-error-text));background-color:rgba(var(--color-error-rgb), 0.5)}[data-due-state=Now] .due[data-v-537ebc3f]{color:var(--color-element-warning, var(--color-warning-text));background-color:rgba(var(--color-warning-rgb), 0.5)}[data-due-state=Done] .due[data-v-537ebc3f]{color:var(--color-element-success, var(--color-success-text));background-color:rgba(var(--color-success-rgb), 0.5)}.due .due--label[data-v-537ebc3f]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;margin-left:4px;font-size:13px}@media print{.icon.due[data-v-537ebc3f]{background-color:rgba(0,0,0,0) !important}.icon.due span[data-v-537ebc3f]{display:none}.icon.due[data-v-537ebc3f]::before{content:attr(title)}}","",{version:3,sources:["webpack://./src/components/cards/badges/DueDate.vue"],names:[],mappings:"AACA,sBACC,8BAAA,CACA,uCAAA,CACA,eAAA,CACA,aAAA,CACA,YAAA,CACA,kBAAA,CACA,aAAA,CACA,SAAA,CAEA,+CACC,yDAAA,CACA,kDAAA,CAED,2CACC,6DAAA,CACA,oDAAA,CAED,4CACC,6DAAA,CACA,oDAAA,CAGD,kCACC,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,eAAA,CACA,cAAA,CAIF,aACC,2BACC,yCAAA,CAEA,gCACC,YAAA,CAGD,mCACC,mBAAA,CAAA",sourceRoot:""}]);const s=d},29354:(e,A,a)=>{a.d(A,{A:()=>s});var t=a(71354),r=a.n(t),o=a(76314),d=a.n(o)()(r());d.push([e.id,"/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.labels[data-v-545670f2]{flex-grow:1;flex-shrink:1;min-width:0;display:flex;flex-direction:row;gap:3px}.labels li[data-v-545670f2]{flex-grow:0;flex-shrink:1;display:flex;flex-direction:row;overflow:hidden;padding:1px 8px;border-radius:15px;font-size:13px}.labels li[data-v-545670f2]:hover{overflow:unset}.labels li span[data-v-545670f2]{flex-grow:0;flex-shrink:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.card[data-v-545670f2]{display:block;border-radius:var(--border-radius-large);padding:8px;height:60px}.card[data-v-545670f2]:hover{background-color:var(--color-background-hover)}.card--header[data-v-545670f2]{overflow:hidden}.card--header .title[data-v-545670f2]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block}.labels[data-v-545670f2]{margin-left:0}.duedate[data-v-545670f2] .due{margin:0 0 0 10px;padding:2px 4px;font-size:90%}.right[data-v-545670f2]{float:right}","",{version:3,sources:["webpack://./src/css/labels.scss","webpack://./src/components/dashboard/Card.vue"],names:[],mappings:"AAAA;;;EAAA,CAOA,yBACC,WAAA,CACA,aAAA,CACA,WAAA,CACA,YAAA,CACA,kBAAA,CACA,OAAA,CAEA,4BACC,WAAA,CACA,aAAA,CACA,YAAA,CACA,kBAAA,CACA,eAAA,CACA,eAAA,CACA,kBAAA,CACA,cAAA,CAEA,kCACC,cAAA,CAGD,iCACC,WAAA,CACA,aAAA,CACA,WAAA,CACA,eAAA,CACA,sBAAA,CACA,kBAAA,CChCH,uBACC,aAAA,CACA,wCAAA,CACA,WAAA,CACA,WAAA,CAEA,6BACC,8CAAA,CAIF,+BACC,eAAA,CACA,sCACC,eAAA,CACA,sBAAA,CACA,kBAAA,CACA,aAAA,CAIF,yBACC,aAAA,CAGD,+BACC,iBAAA,CACA,eAAA,CACA,aAAA,CAGD,wBACC,WAAA",sourceRoot:""}]);const s=d},54590:(e,A,a)=>{a.d(A,{A:()=>s});var t=a(71354),r=a.n(t),o=a(76314),d=a.n(o)()(r());d.push([e.id,".center-button[data-v-e3707e58]{display:flex;align-items:center;justify-content:center;margin-top:10px}#deck-widget-empty-content[data-v-e3707e58]{text-align:center;margin-top:5vh}.card[data-v-e3707e58]{display:block;border-radius:var(--border-radius-large);padding:5px 8px;height:70px}.card[data-v-e3707e58]:hover{background-color:var(--color-background-hover)}.card--header[data-v-e3707e58]{overflow:hidden}.card--header .title[data-v-e3707e58]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;position:relative;top:3px}.labels[data-v-e3707e58]{margin-left:0;margin-top:3px}.duedate[data-v-e3707e58] .due{margin:0 0 0 10px;padding:0px 4px;font-size:90%;margin-bottom:7px}.right[data-v-e3707e58]{float:right}","",{version:3,sources:["webpack://./src/views/DashboardUpcoming.vue"],names:[],mappings:"AACA,gCACC,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CAGD,4CACC,iBAAA,CACA,cAAA,CAGD,uBACC,aAAA,CACA,wCAAA,CACA,eAAA,CACA,WAAA,CACA,6BACC,8CAAA,CAIF,+BACC,eAAA,CACA,sCACC,eAAA,CACA,sBAAA,CACA,kBAAA,CACA,aAAA,CACA,iBAAA,CACA,OAAA,CAIF,yBACC,aAAA,CACA,cAAA,CAIA,+BACC,iBAAA,CACA,eAAA,CACA,aAAA,CACA,iBAAA,CAIF,wBACC,WAAA",sourceRoot:""}]);const s=d},72720:(e,A,a)=>{a.d(A,{A:()=>P});var r=a(95353),o=a(51651),d=a(87804),s=a(23034),n=a(85190);const C="Done",c="Future",l="Next",i="Now",u="Overdue",p={name:"DueDate",components:{CheckCircle:n.A,Clock:d.A,ClockOutline:s.A},props:{card:{type:Object,default:null}},computed:{...(0,r.aH)({compactMode:e=>e.compactMode}),dueState(){if(this.card.done)return C;const e=Math.floor((0,o.A)(this.card.duedate).diff(this.$root.time,"seconds")/60/60/24);return e<0?u:0===e?i:1===e?l:c},overdue(){return this.dueState===u},relativeDate(){const e=this.card.done?this.card.done:this.card.duedate,A=(0,o.A)(this.$root.time).diff(e,"seconds");return A>=0&&A<45?t("core","seconds ago"):(0,o.A)(e).fromNow()},absoluteDate(){const e=this.card.done?this.card.done:this.card.duedate;return(0,o.A)(e).format("LLLL")}}};var v=a(85072),h=a.n(v),g=a(97825),f=a.n(g),b=a(77659),m=a.n(b),k=a(55056),x=a.n(k),w=a(10540),D=a.n(w),B=a(41113),y=a.n(B),_=a(34711),M={};M.styleTagTransform=y(),M.setAttributes=x(),M.insert=m().bind(null,"head"),M.domAPI=f(),M.insertStyleElement=D();h()(_.A,M);_.A&&_.A.locals&&_.A.locals;var N=a(14486);const I=(0,N.A)(p,(function(){var e=this,A=e._self._c;return e.card?A("div",{staticClass:"duedate",attrs:{"data-due-state":e.dueState}},[A("transition",{attrs:{name:"zoom"}},[e.card.duedate||e.card.done?A("div",{staticClass:"due",attrs:{name:e.absoluteDate}},[e.card.done?A("CheckCircle",{attrs:{size:16}}):e.overdue?A("Clock",{attrs:{size:16}}):A("ClockOutline",{attrs:{size:16}}),e._v(" "),e.compactMode?e._e():A("span",{staticClass:"due--label"},[e._v(e._s(e.relativeDate))])],1):e._e()])],1):e._e()}),[],!1,null,"537ebc3f",null).exports;var S=a(63814);const W={name:"Card",components:{DueDate:I},mixins:[{mixins:[a(44095).A],computed:{labelStyle(){return e=>({backgroundColor:"#"+e.color,color:this.textColor(e.color)})}}}],props:{card:{type:Object,required:!0}},computed:{cardLink(){return(0,S.Jv)("/apps/deck")+`#/board/${this.card.boardId}/card/${this.card.id}`}}};var z=a(29354),E={};E.styleTagTransform=y(),E.setAttributes=x(),E.insert=m().bind(null,"head"),E.domAPI=f(),E.insertStyleElement=D();h()(z.A,E);z.A&&z.A.locals&&z.A.locals;const P=(0,N.A)(W,(function(){var e=this,A=e._self._c;return A("a",{key:e.card.id,staticClass:"card",attrs:{href:e.cardLink,target:"_blank"}},[A("div",{staticClass:"card--header"},[A("DueDate",{staticClass:"right",attrs:{card:e.card}}),e._v(" "),A("span",{staticClass:"title",attrs:{dir:"auto"}},[e._v(e._s(e.card.title))])],1),e._v(" "),e.card.labels&&e.card.labels.length?A("ul",{staticClass:"labels"},e._l(e.card.labels,(function(a){return A("li",{key:a.id,style:e.labelStyle(a)},[A("span",{attrs:{dir:"auto"}},[e._v(e._s(a.title))])])})),0):e._e()])}),[],!1,null,"545670f2",null).exports},34281:(e,A,a)=>{a.d(A,{default:()=>w});var t=a(49954),r=a(76333),o=a(95353),d=a(72720),s=a(63814);const n={name:"DashboardUpcoming",components:{CreateNewCardCustomPicker:a(4587).default,NcModal:r.FH,NcDashboardWidget:r.gu,NcButton:r.x1,PlusIcon:t.A,Card:d.A},data:()=>({loading:!1,showAddCardModal:!1}),computed:{...(0,o.L8)(["assignedCardsDashboard"]),cards(){const e=[...this.assignedCardsDashboard].filter((e=>null!==e.duedate));return e.sort(((e,A)=>new Date(e.duedate).getTime()-new Date(A.duedate).getTime())),e.slice(0,5)},showMoreUrl(){return this.cards.length>7?(0,s.Jv)("/apps/deck"):null}},beforeMount(){this.loading=!0,this.$store.dispatch("loadUpcoming").then((()=>{this.loading=!1}))},methods:{toggleAddCardModel(){this.showAddCardModal=!this.showAddCardModal}}};var C=a(85072),c=a.n(C),l=a(97825),i=a.n(l),u=a(77659),p=a.n(u),v=a(55056),h=a.n(v),g=a(10540),f=a.n(g),b=a(41113),m=a.n(b),k=a(54590),x={};x.styleTagTransform=m(),x.setAttributes=h(),x.insert=p().bind(null,"head"),x.domAPI=i(),x.insertStyleElement=f();c()(k.A,x);k.A&&k.A.locals&&k.A.locals;const w=(0,a(14486).A)(n,(function(){var e=this,A=e._self._c;return A("div",[A("NcDashboardWidget",{attrs:{items:e.cards,"empty-content-icon":"icon-deck","empty-content-message":e.t("deck","No upcoming cards"),"show-more-text":e.t("deck","upcoming cards"),loading:e.loading},on:{hide:()=>{},markDone:()=>{}},scopedSlots:e._u([{key:"default",fn:function(e){let{item:a}=e;return[A("Card",{attrs:{card:a}})]}}])}),e._v(" "),A("div",{staticClass:"center-button"},[A("NcButton",{on:{click:e.toggleAddCardModel},scopedSlots:e._u([{key:"icon",fn:function(){return[A("PlusIcon",{attrs:{size:20}})]},proxy:!0}])},[e._v("\n\t\t\t"+e._s(e.t("deck","New card"))+"\n\t\t")]),e._v(" "),e.showAddCardModal?A("NcModal",{staticClass:"card-selector",on:{close:e.toggleAddCardModel}},[A("CreateNewCardCustomPicker",{attrs:{"show-created-notice":""},on:{cancel:e.toggleAddCardModel}})],1):e._e()],1)],1)}),[],!1,null,"e3707e58",null).exports}}]);
//# sourceMappingURL=deck-src_views_DashboardUpcoming_vue.js.map?v=89f5d4d11dedfa2acafa