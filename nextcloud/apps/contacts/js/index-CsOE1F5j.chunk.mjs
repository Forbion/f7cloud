import{W as Ot,X as jt,Y as hr,R as _e,Z as pr,$ as fr,a0 as dr,a1 as gr,a2 as mr,a3 as te,a4 as vr,a5 as Dn}from"./LegacyGlobalMixin-BdvXlwhK.chunk.mjs";import{s as br}from"./index-1aIBt77h.chunk.mjs";function $n(e,t,n){const r=document.querySelector(`#initial-state-${e}-${t}`);if(r===null)return n;try{return JSON.parse(atob(r.value))}catch{throw new Error(`Could not parse initial state ${t} of ${e}`)}}function Ce(){return $n("files_sharing","isPublic",null)??document.querySelector('input#isPublic[type="hidden"][name="isPublic"][value="1"]')!==null}function yr(){return $n("files_sharing","sharingToken",null)??document.querySelector('input#sharingToken[type="hidden"]')?.value??null}function yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ye(e,t,n){Nr(e,t),t.set(e,n)}function Nr(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function J(e,t){var n=Fn(e,t,"get");return Er(e,n)}function Er(e,t){return t.get?t.get.call(e):t.value}function Ze(e,t,n){var r=Fn(e,t,"set");return wr(e,r,n),n}function Fn(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function wr(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}var Tr=typeof Symbol<"u"?Symbol.toStringTag:"@@toStringTag",tt=new WeakMap,Pt=new WeakMap;class Yt{constructor(t){var{executor:n=()=>{},internals:r=Re(),promise:i=new Promise((s,u)=>n(s,u,c=>{r.onCancelList.push(c)}))}=t;Ye(this,tt,{writable:!0,value:void 0}),Ye(this,Pt,{writable:!0,value:void 0}),yt(this,Tr,"CancelablePromise"),this.cancel=this.cancel.bind(this),Ze(this,tt,r),Ze(this,Pt,i||new Promise((s,u)=>n(s,u,c=>{r.onCancelList.push(c)})))}then(t,n){return Bt(J(this,Pt).then(kt(t,J(this,tt)),kt(n,J(this,tt))),J(this,tt))}catch(t){return Bt(J(this,Pt).catch(kt(t,J(this,tt))),J(this,tt))}finally(t,n){return n&&J(this,tt).onCancelList.push(t),Bt(J(this,Pt).finally(kt(()=>{if(t)return n&&(J(this,tt).onCancelList=J(this,tt).onCancelList.filter(r=>r!==t)),t()},J(this,tt))),J(this,tt))}cancel(){J(this,tt).isCanceled=!0;var t=J(this,tt).onCancelList;J(this,tt).onCancelList=[];for(var n of t)if(typeof n=="function")try{n()}catch(r){console.error(r)}}isCanceled(){return J(this,tt).isCanceled===!0}}class gt extends Yt{constructor(t){super({executor:t})}}yt(gt,"all",function(e){return Ut(e,Promise.all(e))}),yt(gt,"allSettled",function(e){return Ut(e,Promise.allSettled(e))}),yt(gt,"any",function(e){return Ut(e,Promise.any(e))}),yt(gt,"race",function(e){return Ut(e,Promise.race(e))}),yt(gt,"resolve",function(e){return Ke(Promise.resolve(e))}),yt(gt,"reject",function(e){return Ke(Promise.reject(e))}),yt(gt,"isCancelable",Se);function Ke(e){return Bt(e,Re())}function Se(e){return e instanceof gt||e instanceof Yt}function kt(e,t){if(e)return n=>{if(!t.isCanceled){var r=e(n);return Se(r)&&t.onCancelList.push(r.cancel),r}return n}}function Bt(e,t){return new Yt({internals:t,promise:e})}function Ut(e,t){var n=Re();return n.onCancelList.push(()=>{for(var r of e)Se(r)&&r.cancel()}),new Yt({internals:n,promise:t})}function Re(){return{isCanceled:!1,onCancelList:[]}}var ee={},Ir={2:e=>{function t(i,s,u){i instanceof RegExp&&(i=n(i,u)),s instanceof RegExp&&(s=n(s,u));var c=r(i,s,u);return c&&{start:c[0],end:c[1],pre:u.slice(0,c[0]),body:u.slice(c[0]+i.length,c[1]),post:u.slice(c[1]+s.length)}}function n(i,s){var u=s.match(i);return u?u[0]:null}function r(i,s,u){var c,p,a,o,h,l=u.indexOf(i),g=u.indexOf(s,l+1),d=l;if(l>=0&&g>0){for(c=[],a=u.length;d>=0&&!h;)d==l?(c.push(d),l=u.indexOf(i,d+1)):c.length==1?h=[c.pop(),g]:((p=c.pop())<a&&(a=p,o=g),g=u.indexOf(s,d+1)),d=l<g&&l>=0?l:g;c.length&&(h=[a,o])}return h}e.exports=t,t.range=r},101:function(e,t,n){var r;e=n.nmd(e),function(i){var s=(e&&e.exports,typeof jt=="object"&&jt);s.global!==s&&s.window;var u=function(h){this.message=h};(u.prototype=new Error).name="InvalidCharacterError";var c=function(h){throw new u(h)},p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=/[\t\n\f\r ]/g,o={encode:function(h){h=String(h),/[^\0-\xFF]/.test(h)&&c("The string to be encoded contains characters outside of the Latin1 range.");for(var l,g,d,v,y=h.length%3,x="",m=-1,E=h.length-y;++m<E;)l=h.charCodeAt(m)<<16,g=h.charCodeAt(++m)<<8,d=h.charCodeAt(++m),x+=p.charAt((v=l+g+d)>>18&63)+p.charAt(v>>12&63)+p.charAt(v>>6&63)+p.charAt(63&v);return y==2?(l=h.charCodeAt(m)<<8,g=h.charCodeAt(++m),x+=p.charAt((v=l+g)>>10)+p.charAt(v>>4&63)+p.charAt(v<<2&63)+"="):y==1&&(v=h.charCodeAt(m),x+=p.charAt(v>>2)+p.charAt(v<<4&63)+"=="),x},decode:function(h){var l=(h=String(h).replace(a,"")).length;l%4==0&&(l=(h=h.replace(/==?$/,"")).length),(l%4==1||/[^+a-zA-Z0-9/]/.test(h))&&c("Invalid character: the string to be decoded is not correctly encoded.");for(var g,d,v=0,y="",x=-1;++x<l;)d=p.indexOf(h.charAt(x)),g=v%4?64*g+d:d,v++%4&&(y+=String.fromCharCode(255&g>>(-2*v&6)));return y},version:"1.0.0"};(r=function(){return o}.call(t,n,t,e))===void 0||(e.exports=r)}()},172:(e,t)=>{t.d=function(n){if(!n)return 0;for(var r=(n=n.toString()).length,i=n.length;i--;){var s=n.charCodeAt(i);56320<=s&&s<=57343&&i--,127<s&&s<=2047?r++:2047<s&&s<=65535&&(r+=2)}return r}},526:e=>{var t={utf8:{stringToBytes:function(n){return t.bin.stringToBytes(unescape(encodeURIComponent(n)))},bytesToString:function(n){return decodeURIComponent(escape(t.bin.bytesToString(n)))}},bin:{stringToBytes:function(n){for(var r=[],i=0;i<n.length;i++)r.push(255&n.charCodeAt(i));return r},bytesToString:function(n){for(var r=[],i=0;i<n.length;i++)r.push(String.fromCharCode(n[i]));return r.join("")}}};e.exports=t},298:e=>{var t,n;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(r,i){return r<<i|r>>>32-i},rotr:function(r,i){return r<<32-i|r>>>i},endian:function(r){if(r.constructor==Number)return 16711935&n.rotl(r,8)|4278255360&n.rotl(r,24);for(var i=0;i<r.length;i++)r[i]=n.endian(r[i]);return r},randomBytes:function(r){for(var i=[];r>0;r--)i.push(Math.floor(256*Math.random()));return i},bytesToWords:function(r){for(var i=[],s=0,u=0;s<r.length;s++,u+=8)i[u>>>5]|=r[s]<<24-u%32;return i},wordsToBytes:function(r){for(var i=[],s=0;s<32*r.length;s+=8)i.push(r[s>>>5]>>>24-s%32&255);return i},bytesToHex:function(r){for(var i=[],s=0;s<r.length;s++)i.push((r[s]>>>4).toString(16)),i.push((15&r[s]).toString(16));return i.join("")},hexToBytes:function(r){for(var i=[],s=0;s<r.length;s+=2)i.push(parseInt(r.substr(s,2),16));return i},bytesToBase64:function(r){for(var i=[],s=0;s<r.length;s+=3)for(var u=r[s]<<16|r[s+1]<<8|r[s+2],c=0;c<4;c++)8*s+6*c<=8*r.length?i.push(t.charAt(u>>>6*(3-c)&63)):i.push("=");return i.join("")},base64ToBytes:function(r){r=r.replace(/[^A-Z0-9+\/]/gi,"");for(var i=[],s=0,u=0;s<r.length;u=++s%4)u!=0&&i.push((t.indexOf(r.charAt(s-1))&Math.pow(2,-2*u+8)-1)<<2*u|t.indexOf(r.charAt(s))>>>6-2*u);return i}},e.exports=n},635:(e,t,n)=>{const r=n(31),i=n(338),s=n(221);e.exports={XMLParser:i,XMLValidator:r,XMLBuilder:s}},118:e=>{e.exports=function(t){return typeof t=="function"?t:Array.isArray(t)?n=>{for(const r of t)if(typeof r=="string"&&n===r||r instanceof RegExp&&r.test(n))return!0}:()=>!1}},705:(e,t)=>{const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r="["+n+"]["+n+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",i=new RegExp("^"+r+"$");t.isExist=function(s){return s!==void 0},t.isEmptyObject=function(s){return Object.keys(s).length===0},t.merge=function(s,u,c){if(u){const p=Object.keys(u),a=p.length;for(let o=0;o<a;o++)s[p[o]]=c==="strict"?[u[p[o]]]:u[p[o]]}},t.getValue=function(s){return t.isExist(s)?s:""},t.isName=function(s){return i.exec(s)!=null},t.getAllMatches=function(s,u){const c=[];let p=u.exec(s);for(;p;){const a=[];a.startIndex=u.lastIndex-p[0].length;const o=p.length;for(let h=0;h<o;h++)a.push(p[h]);c.push(a),p=u.exec(s)}return c},t.nameRegexp=r},31:(e,t,n)=>{const r=n(705),i={allowBooleanAttributes:!1,unpairedTags:[]};function s(m){return m===" "||m==="	"||m===`
`||m==="\r"}function u(m,E){const T=E;for(;E<m.length;E++)if(!(m[E]!="?"&&m[E]!=" ")){const A=m.substr(T,E-T);if(E>5&&A==="xml")return d("InvalidXml","XML declaration allowed only at the start of the document.",y(m,E));if(m[E]=="?"&&m[E+1]==">"){E++;break}}return E}function c(m,E){if(m.length>E+5&&m[E+1]==="-"&&m[E+2]==="-"){for(E+=3;E<m.length;E++)if(m[E]==="-"&&m[E+1]==="-"&&m[E+2]===">"){E+=2;break}}else if(m.length>E+8&&m[E+1]==="D"&&m[E+2]==="O"&&m[E+3]==="C"&&m[E+4]==="T"&&m[E+5]==="Y"&&m[E+6]==="P"&&m[E+7]==="E"){let T=1;for(E+=8;E<m.length;E++)if(m[E]==="<")T++;else if(m[E]===">"&&(T--,T===0))break}else if(m.length>E+9&&m[E+1]==="["&&m[E+2]==="C"&&m[E+3]==="D"&&m[E+4]==="A"&&m[E+5]==="T"&&m[E+6]==="A"&&m[E+7]==="["){for(E+=8;E<m.length;E++)if(m[E]==="]"&&m[E+1]==="]"&&m[E+2]===">"){E+=2;break}}return E}t.validate=function(m,E){E=Object.assign({},i,E);const T=[];let A=!1,w=!1;m[0]==="\uFEFF"&&(m=m.substr(1));for(let I=0;I<m.length;I++)if(m[I]==="<"&&m[I+1]==="?"){if(I+=2,I=u(m,I),I.err)return I}else{if(m[I]!=="<"){if(s(m[I]))continue;return d("InvalidChar","char '"+m[I]+"' is not expected.",y(m,I))}{let N=I;if(I++,m[I]==="!"){I=c(m,I);continue}{let S=!1;m[I]==="/"&&(S=!0,I++);let R="";for(;I<m.length&&m[I]!==">"&&m[I]!==" "&&m[I]!=="	"&&m[I]!==`
`&&m[I]!=="\r";I++)R+=m[I];if(R=R.trim(),R[R.length-1]==="/"&&(R=R.substring(0,R.length-1),I--),_=R,!r.isName(_)){let $;return $=R.trim().length===0?"Invalid space after '<'.":"Tag '"+R+"' is an invalid name.",d("InvalidTag",$,y(m,I))}const L=o(m,I);if(L===!1)return d("InvalidAttr","Attributes for '"+R+"' have open quote.",y(m,I));let P=L.value;if(I=L.index,P[P.length-1]==="/"){const $=I-P.length;P=P.substring(0,P.length-1);const D=l(P,E);if(D!==!0)return d(D.err.code,D.err.msg,y(m,$+D.err.line));A=!0}else if(S){if(!L.tagClosed)return d("InvalidTag","Closing tag '"+R+"' doesn't have proper closing.",y(m,I));if(P.trim().length>0)return d("InvalidTag","Closing tag '"+R+"' can't have attributes or invalid starting.",y(m,N));if(T.length===0)return d("InvalidTag","Closing tag '"+R+"' has not been opened.",y(m,N));{const $=T.pop();if(R!==$.tagName){let D=y(m,$.tagStartPos);return d("InvalidTag","Expected closing tag '"+$.tagName+"' (opened in line "+D.line+", col "+D.col+") instead of closing tag '"+R+"'.",y(m,N))}T.length==0&&(w=!0)}}else{const $=l(P,E);if($!==!0)return d($.err.code,$.err.msg,y(m,I-P.length+$.err.line));if(w===!0)return d("InvalidXml","Multiple possible root nodes found.",y(m,I));E.unpairedTags.indexOf(R)!==-1||T.push({tagName:R,tagStartPos:N}),A=!0}for(I++;I<m.length;I++)if(m[I]==="<"){if(m[I+1]==="!"){I++,I=c(m,I);continue}if(m[I+1]!=="?")break;if(I=u(m,++I),I.err)return I}else if(m[I]==="&"){const $=g(m,I);if($==-1)return d("InvalidChar","char '&' is not expected.",y(m,I));I=$}else if(w===!0&&!s(m[I]))return d("InvalidXml","Extra text at the end",y(m,I));m[I]==="<"&&I--}}}var _;return A?T.length==1?d("InvalidTag","Unclosed tag '"+T[0].tagName+"'.",y(m,T[0].tagStartPos)):!(T.length>0)||d("InvalidXml","Invalid '"+JSON.stringify(T.map(I=>I.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):d("InvalidXml","Start tag expected.",1)};const p='"',a="'";function o(m,E){let T="",A="",w=!1;for(;E<m.length;E++){if(m[E]===p||m[E]===a)A===""?A=m[E]:A!==m[E]||(A="");else if(m[E]===">"&&A===""){w=!0;break}T+=m[E]}return A===""&&{value:T,index:E,tagClosed:w}}const h=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function l(m,E){const T=r.getAllMatches(m,h),A={};for(let w=0;w<T.length;w++){if(T[w][1].length===0)return d("InvalidAttr","Attribute '"+T[w][2]+"' has no space in starting.",x(T[w]));if(T[w][3]!==void 0&&T[w][4]===void 0)return d("InvalidAttr","Attribute '"+T[w][2]+"' is without value.",x(T[w]));if(T[w][3]===void 0&&!E.allowBooleanAttributes)return d("InvalidAttr","boolean attribute '"+T[w][2]+"' is not allowed.",x(T[w]));const _=T[w][2];if(!v(_))return d("InvalidAttr","Attribute '"+_+"' is an invalid name.",x(T[w]));if(A.hasOwnProperty(_))return d("InvalidAttr","Attribute '"+_+"' is repeated.",x(T[w]));A[_]=1}return!0}function g(m,E){if(m[++E]===";")return-1;if(m[E]==="#")return function(A,w){let _=/\d/;for(A[w]==="x"&&(w++,_=/[\da-fA-F]/);w<A.length;w++){if(A[w]===";")return w;if(!A[w].match(_))break}return-1}(m,++E);let T=0;for(;E<m.length;E++,T++)if(!(m[E].match(/\w/)&&T<20)){if(m[E]===";")break;return-1}return E}function d(m,E,T){return{err:{code:m,msg:E,line:T.line||T,col:T.col}}}function v(m){return r.isName(m)}function y(m,E){const T=m.substring(0,E).split(/\r?\n/);return{line:T.length,col:T[T.length-1].length+1}}function x(m){return m.startIndex+m[1].length}},221:(e,t,n)=>{const r=n(87),i=n(118),s={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(o,h){return h},attributeValueProcessor:function(o,h){return h},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function u(o){this.options=Object.assign({},s,o),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=i(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=a),this.processTextOrObjNode=c,this.options.format?(this.indentate=p,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function c(o,h,l,g){const d=this.j2x(o,l+1,g.concat(h));return o[this.options.textNodeName]!==void 0&&Object.keys(o).length===1?this.buildTextValNode(o[this.options.textNodeName],h,d.attrStr,l):this.buildObjectNode(d.val,h,d.attrStr,l)}function p(o){return this.options.indentBy.repeat(o)}function a(o){return!(!o.startsWith(this.options.attributeNamePrefix)||o===this.options.textNodeName)&&o.substr(this.attrPrefixLen)}u.prototype.build=function(o){return this.options.preserveOrder?r(o,this.options):(Array.isArray(o)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(o={[this.options.arrayNodeName]:o}),this.j2x(o,0,[]).val)},u.prototype.j2x=function(o,h,l){let g="",d="";const v=l.join(".");for(let y in o)if(Object.prototype.hasOwnProperty.call(o,y))if(o[y]===void 0)this.isAttribute(y)&&(d+="");else if(o[y]===null)this.isAttribute(y)?d+="":y[0]==="?"?d+=this.indentate(h)+"<"+y+"?"+this.tagEndChar:d+=this.indentate(h)+"<"+y+"/"+this.tagEndChar;else if(o[y]instanceof Date)d+=this.buildTextValNode(o[y],y,"",h);else if(typeof o[y]!="object"){const x=this.isAttribute(y);if(x&&!this.ignoreAttributesFn(x,v))g+=this.buildAttrPairStr(x,""+o[y]);else if(!x)if(y===this.options.textNodeName){let m=this.options.tagValueProcessor(y,""+o[y]);d+=this.replaceEntitiesValue(m)}else d+=this.buildTextValNode(o[y],y,"",h)}else if(Array.isArray(o[y])){const x=o[y].length;let m="",E="";for(let T=0;T<x;T++){const A=o[y][T];if(A!==void 0)if(A===null)y[0]==="?"?d+=this.indentate(h)+"<"+y+"?"+this.tagEndChar:d+=this.indentate(h)+"<"+y+"/"+this.tagEndChar;else if(typeof A=="object")if(this.options.oneListGroup){const w=this.j2x(A,h+1,l.concat(y));m+=w.val,this.options.attributesGroupName&&A.hasOwnProperty(this.options.attributesGroupName)&&(E+=w.attrStr)}else m+=this.processTextOrObjNode(A,y,h,l);else if(this.options.oneListGroup){let w=this.options.tagValueProcessor(y,A);w=this.replaceEntitiesValue(w),m+=w}else m+=this.buildTextValNode(A,y,"",h)}this.options.oneListGroup&&(m=this.buildObjectNode(m,y,E,h)),d+=m}else if(this.options.attributesGroupName&&y===this.options.attributesGroupName){const x=Object.keys(o[y]),m=x.length;for(let E=0;E<m;E++)g+=this.buildAttrPairStr(x[E],""+o[y][x[E]])}else d+=this.processTextOrObjNode(o[y],y,h,l);return{attrStr:g,val:d}},u.prototype.buildAttrPairStr=function(o,h){return h=this.options.attributeValueProcessor(o,""+h),h=this.replaceEntitiesValue(h),this.options.suppressBooleanAttributes&&h==="true"?" "+o:" "+o+'="'+h+'"'},u.prototype.buildObjectNode=function(o,h,l,g){if(o==="")return h[0]==="?"?this.indentate(g)+"<"+h+l+"?"+this.tagEndChar:this.indentate(g)+"<"+h+l+this.closeTag(h)+this.tagEndChar;{let d="</"+h+this.tagEndChar,v="";return h[0]==="?"&&(v="?",d=""),!l&&l!==""||o.indexOf("<")!==-1?this.options.commentPropName!==!1&&h===this.options.commentPropName&&v.length===0?this.indentate(g)+`<!--${o}-->`+this.newLine:this.indentate(g)+"<"+h+l+v+this.tagEndChar+o+this.indentate(g)+d:this.indentate(g)+"<"+h+l+v+">"+o+d}},u.prototype.closeTag=function(o){let h="";return this.options.unpairedTags.indexOf(o)!==-1?this.options.suppressUnpairedNode||(h="/"):h=this.options.suppressEmptyNode?"/":`></${o}`,h},u.prototype.buildTextValNode=function(o,h,l,g){if(this.options.cdataPropName!==!1&&h===this.options.cdataPropName)return this.indentate(g)+`<![CDATA[${o}]]>`+this.newLine;if(this.options.commentPropName!==!1&&h===this.options.commentPropName)return this.indentate(g)+`<!--${o}-->`+this.newLine;if(h[0]==="?")return this.indentate(g)+"<"+h+l+"?"+this.tagEndChar;{let d=this.options.tagValueProcessor(h,o);return d=this.replaceEntitiesValue(d),d===""?this.indentate(g)+"<"+h+l+this.closeTag(h)+this.tagEndChar:this.indentate(g)+"<"+h+l+">"+d+"</"+h+this.tagEndChar}},u.prototype.replaceEntitiesValue=function(o){if(o&&o.length>0&&this.options.processEntities)for(let h=0;h<this.options.entities.length;h++){const l=this.options.entities[h];o=o.replace(l.regex,l.val)}return o},e.exports=u},87:e=>{function t(u,c,p,a){let o="",h=!1;for(let l=0;l<u.length;l++){const g=u[l],d=n(g);if(d===void 0)continue;let v="";if(v=p.length===0?d:`${p}.${d}`,d===c.textNodeName){let E=g[d];i(v,c)||(E=c.tagValueProcessor(d,E),E=s(E,c)),h&&(o+=a),o+=E,h=!1;continue}if(d===c.cdataPropName){h&&(o+=a),o+=`<![CDATA[${g[d][0][c.textNodeName]}]]>`,h=!1;continue}if(d===c.commentPropName){o+=a+`<!--${g[d][0][c.textNodeName]}-->`,h=!0;continue}if(d[0]==="?"){const E=r(g[":@"],c),T=d==="?xml"?"":a;let A=g[d][0][c.textNodeName];A=A.length!==0?" "+A:"",o+=T+`<${d}${A}${E}?>`,h=!0;continue}let y=a;y!==""&&(y+=c.indentBy);const x=a+`<${d}${r(g[":@"],c)}`,m=t(g[d],c,v,y);c.unpairedTags.indexOf(d)!==-1?c.suppressUnpairedNode?o+=x+">":o+=x+"/>":m&&m.length!==0||!c.suppressEmptyNode?m&&m.endsWith(">")?o+=x+`>${m}${a}</${d}>`:(o+=x+">",m&&a!==""&&(m.includes("/>")||m.includes("</"))?o+=a+c.indentBy+m+a:o+=m,o+=`</${d}>`):o+=x+"/>",h=!0}return o}function n(u){const c=Object.keys(u);for(let p=0;p<c.length;p++){const a=c[p];if(u.hasOwnProperty(a)&&a!==":@")return a}}function r(u,c){let p="";if(u&&!c.ignoreAttributes)for(let a in u){if(!u.hasOwnProperty(a))continue;let o=c.attributeValueProcessor(a,u[a]);o=s(o,c),o===!0&&c.suppressBooleanAttributes?p+=` ${a.substr(c.attributeNamePrefix.length)}`:p+=` ${a.substr(c.attributeNamePrefix.length)}="${o}"`}return p}function i(u,c){let p=(u=u.substr(0,u.length-c.textNodeName.length-1)).substr(u.lastIndexOf(".")+1);for(let a in c.stopNodes)if(c.stopNodes[a]===u||c.stopNodes[a]==="*."+p)return!0;return!1}function s(u,c){if(u&&u.length>0&&c.processEntities)for(let p=0;p<c.entities.length;p++){const a=c.entities[p];u=u.replace(a.regex,a.val)}return u}e.exports=function(u,c){let p="";return c.format&&c.indentBy.length>0&&(p=`
`),t(u,c,"",p)}},193:(e,t,n)=>{const r=n(705);function i(h,l){let g="";for(;l<h.length&&h[l]!=="'"&&h[l]!=='"';l++)g+=h[l];if(g=g.trim(),g.indexOf(" ")!==-1)throw new Error("External entites are not supported");const d=h[l++];let v="";for(;l<h.length&&h[l]!==d;l++)v+=h[l];return[g,v,l]}function s(h,l){return h[l+1]==="!"&&h[l+2]==="-"&&h[l+3]==="-"}function u(h,l){return h[l+1]==="!"&&h[l+2]==="E"&&h[l+3]==="N"&&h[l+4]==="T"&&h[l+5]==="I"&&h[l+6]==="T"&&h[l+7]==="Y"}function c(h,l){return h[l+1]==="!"&&h[l+2]==="E"&&h[l+3]==="L"&&h[l+4]==="E"&&h[l+5]==="M"&&h[l+6]==="E"&&h[l+7]==="N"&&h[l+8]==="T"}function p(h,l){return h[l+1]==="!"&&h[l+2]==="A"&&h[l+3]==="T"&&h[l+4]==="T"&&h[l+5]==="L"&&h[l+6]==="I"&&h[l+7]==="S"&&h[l+8]==="T"}function a(h,l){return h[l+1]==="!"&&h[l+2]==="N"&&h[l+3]==="O"&&h[l+4]==="T"&&h[l+5]==="A"&&h[l+6]==="T"&&h[l+7]==="I"&&h[l+8]==="O"&&h[l+9]==="N"}function o(h){if(r.isName(h))return h;throw new Error(`Invalid entity name ${h}`)}e.exports=function(h,l){const g={};if(h[l+3]!=="O"||h[l+4]!=="C"||h[l+5]!=="T"||h[l+6]!=="Y"||h[l+7]!=="P"||h[l+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{l+=9;let d=1,v=!1,y=!1,x="";for(;l<h.length;l++)if(h[l]!=="<"||y)if(h[l]===">"){if(y?h[l-1]==="-"&&h[l-2]==="-"&&(y=!1,d--):d--,d===0)break}else h[l]==="["?v=!0:x+=h[l];else{if(v&&u(h,l)){let m,E;l+=7,[m,E,l]=i(h,l+1),E.indexOf("&")===-1&&(g[o(m)]={regx:RegExp(`&${m};`,"g"),val:E})}else if(v&&c(h,l))l+=8;else if(v&&p(h,l))l+=8;else if(v&&a(h,l))l+=9;else{if(!s)throw new Error("Invalid DOCTYPE");y=!0}d++,x=""}if(d!==0)throw new Error("Unclosed DOCTYPE")}return{entities:g,i:l}}},63:(e,t)=>{const n={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(r,i){return i},attributeValueProcessor:function(r,i){return i},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(r,i,s){return r}};t.buildOptions=function(r){return Object.assign({},n,r)},t.defaultOptions=n},299:(e,t,n)=>{const r=n(705),i=n(365),s=n(193),u=n(494),c=n(118);function p(w){const _=Object.keys(w);for(let I=0;I<_.length;I++){const N=_[I];this.lastEntities[N]={regex:new RegExp("&"+N+";","g"),val:w[N]}}}function a(w,_,I,N,S,R,L){if(w!==void 0&&(this.options.trimValues&&!N&&(w=w.trim()),w.length>0)){L||(w=this.replaceEntitiesValue(w));const P=this.options.tagValueProcessor(_,w,I,S,R);return P==null?w:typeof P!=typeof w||P!==w?P:this.options.trimValues||w.trim()===w?A(w,this.options.parseTagValue,this.options.numberParseOptions):w}}function o(w){if(this.options.removeNSPrefix){const _=w.split(":"),I=w.charAt(0)==="/"?"/":"";if(_[0]==="xmlns")return"";_.length===2&&(w=I+_[1])}return w}const h=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function l(w,_,I){if(this.options.ignoreAttributes!==!0&&typeof w=="string"){const N=r.getAllMatches(w,h),S=N.length,R={};for(let L=0;L<S;L++){const P=this.resolveNameSpace(N[L][1]);if(this.ignoreAttributesFn(P,_))continue;let $=N[L][4],D=this.options.attributeNamePrefix+P;if(P.length)if(this.options.transformAttributeName&&(D=this.options.transformAttributeName(D)),D==="__proto__"&&(D="#__proto__"),$!==void 0){this.options.trimValues&&($=$.trim()),$=this.replaceEntitiesValue($);const j=this.options.attributeValueProcessor(P,$,_);R[D]=j==null?$:typeof j!=typeof $||j!==$?j:A($,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(R[D]=!0)}if(!Object.keys(R).length)return;if(this.options.attributesGroupName){const L={};return L[this.options.attributesGroupName]=R,L}return R}}const g=function(w){w=w.replace(/\r\n?/g,`
`);const _=new i("!xml");let I=_,N="",S="";for(let R=0;R<w.length;R++)if(w[R]==="<")if(w[R+1]==="/"){const L=m(w,">",R,"Closing Tag is not closed.");let P=w.substring(R+2,L).trim();if(this.options.removeNSPrefix){const j=P.indexOf(":");j!==-1&&(P=P.substr(j+1))}this.options.transformTagName&&(P=this.options.transformTagName(P)),I&&(N=this.saveTextToParentTag(N,I,S));const $=S.substring(S.lastIndexOf(".")+1);if(P&&this.options.unpairedTags.indexOf(P)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${P}>`);let D=0;$&&this.options.unpairedTags.indexOf($)!==-1?(D=S.lastIndexOf(".",S.lastIndexOf(".")-1),this.tagsNodeStack.pop()):D=S.lastIndexOf("."),S=S.substring(0,D),I=this.tagsNodeStack.pop(),N="",R=L}else if(w[R+1]==="?"){let L=E(w,R,!1,"?>");if(!L)throw new Error("Pi Tag is not closed.");if(N=this.saveTextToParentTag(N,I,S),!(this.options.ignoreDeclaration&&L.tagName==="?xml"||this.options.ignorePiTags)){const P=new i(L.tagName);P.add(this.options.textNodeName,""),L.tagName!==L.tagExp&&L.attrExpPresent&&(P[":@"]=this.buildAttributesMap(L.tagExp,S,L.tagName)),this.addChild(I,P,S)}R=L.closeIndex+1}else if(w.substr(R+1,3)==="!--"){const L=m(w,"-->",R+4,"Comment is not closed.");if(this.options.commentPropName){const P=w.substring(R+4,L-2);N=this.saveTextToParentTag(N,I,S),I.add(this.options.commentPropName,[{[this.options.textNodeName]:P}])}R=L}else if(w.substr(R+1,2)==="!D"){const L=s(w,R);this.docTypeEntities=L.entities,R=L.i}else if(w.substr(R+1,2)==="!["){const L=m(w,"]]>",R,"CDATA is not closed.")-2,P=w.substring(R+9,L);N=this.saveTextToParentTag(N,I,S);let $=this.parseTextData(P,I.tagname,S,!0,!1,!0,!0);$==null&&($=""),this.options.cdataPropName?I.add(this.options.cdataPropName,[{[this.options.textNodeName]:P}]):I.add(this.options.textNodeName,$),R=L+2}else{let L=E(w,R,this.options.removeNSPrefix),P=L.tagName;const $=L.rawTagName;let D=L.tagExp,j=L.attrExpPresent,F=L.closeIndex;this.options.transformTagName&&(P=this.options.transformTagName(P)),I&&N&&I.tagname!=="!xml"&&(N=this.saveTextToParentTag(N,I,S,!1));const X=I;if(X&&this.options.unpairedTags.indexOf(X.tagname)!==-1&&(I=this.tagsNodeStack.pop(),S=S.substring(0,S.lastIndexOf("."))),P!==_.tagname&&(S+=S?"."+P:P),this.isItStopNode(this.options.stopNodes,S,P)){let B="";if(D.length>0&&D.lastIndexOf("/")===D.length-1)P[P.length-1]==="/"?(P=P.substr(0,P.length-1),S=S.substr(0,S.length-1),D=P):D=D.substr(0,D.length-1),R=L.closeIndex;else if(this.options.unpairedTags.indexOf(P)!==-1)R=L.closeIndex;else{const U=this.readStopNodeData(w,$,F+1);if(!U)throw new Error(`Unexpected end of ${$}`);R=U.i,B=U.tagContent}const Q=new i(P);P!==D&&j&&(Q[":@"]=this.buildAttributesMap(D,S,P)),B&&(B=this.parseTextData(B,P,S,!0,j,!0,!0)),S=S.substr(0,S.lastIndexOf(".")),Q.add(this.options.textNodeName,B),this.addChild(I,Q,S)}else{if(D.length>0&&D.lastIndexOf("/")===D.length-1){P[P.length-1]==="/"?(P=P.substr(0,P.length-1),S=S.substr(0,S.length-1),D=P):D=D.substr(0,D.length-1),this.options.transformTagName&&(P=this.options.transformTagName(P));const B=new i(P);P!==D&&j&&(B[":@"]=this.buildAttributesMap(D,S,P)),this.addChild(I,B,S),S=S.substr(0,S.lastIndexOf("."))}else{const B=new i(P);this.tagsNodeStack.push(I),P!==D&&j&&(B[":@"]=this.buildAttributesMap(D,S,P)),this.addChild(I,B,S),I=B}N="",R=F}}else N+=w[R];return _.child};function d(w,_,I){const N=this.options.updateTag(_.tagname,I,_[":@"]);N===!1||(typeof N=="string"&&(_.tagname=N),w.addChild(_))}const v=function(w){if(this.options.processEntities){for(let _ in this.docTypeEntities){const I=this.docTypeEntities[_];w=w.replace(I.regx,I.val)}for(let _ in this.lastEntities){const I=this.lastEntities[_];w=w.replace(I.regex,I.val)}if(this.options.htmlEntities)for(let _ in this.htmlEntities){const I=this.htmlEntities[_];w=w.replace(I.regex,I.val)}w=w.replace(this.ampEntity.regex,this.ampEntity.val)}return w};function y(w,_,I,N){return w&&(N===void 0&&(N=Object.keys(_.child).length===0),(w=this.parseTextData(w,_.tagname,I,!1,!!_[":@"]&&Object.keys(_[":@"]).length!==0,N))!==void 0&&w!==""&&_.add(this.options.textNodeName,w),w=""),w}function x(w,_,I){const N="*."+I;for(const S in w){const R=w[S];if(N===R||_===R)return!0}return!1}function m(w,_,I,N){const S=w.indexOf(_,I);if(S===-1)throw new Error(N);return S+_.length-1}function E(w,_,I){const N=function(j,F){let X,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:">",Q="";for(let U=F;U<j.length;U++){let W=j[U];if(X)W===X&&(X="");else if(W==='"'||W==="'")X=W;else if(W===B[0]){if(!B[1])return{data:Q,index:U};if(j[U+1]===B[1])return{data:Q,index:U}}else W==="	"&&(W=" ");Q+=W}}(w,_+1,arguments.length>3&&arguments[3]!==void 0?arguments[3]:">");if(!N)return;let S=N.data;const R=N.index,L=S.search(/\s/);let P=S,$=!0;L!==-1&&(P=S.substring(0,L),S=S.substring(L+1).trimStart());const D=P;if(I){const j=P.indexOf(":");j!==-1&&(P=P.substr(j+1),$=P!==N.data.substr(j+1))}return{tagName:P,tagExp:S,closeIndex:R,attrExpPresent:$,rawTagName:D}}function T(w,_,I){const N=I;let S=1;for(;I<w.length;I++)if(w[I]==="<")if(w[I+1]==="/"){const R=m(w,">",I,`${_} is not closed`);if(w.substring(I+2,R).trim()===_&&(S--,S===0))return{tagContent:w.substring(N,I),i:R};I=R}else if(w[I+1]==="?")I=m(w,"?>",I+1,"StopNode is not closed.");else if(w.substr(I+1,3)==="!--")I=m(w,"-->",I+3,"StopNode is not closed.");else if(w.substr(I+1,2)==="![")I=m(w,"]]>",I,"StopNode is not closed.")-2;else{const R=E(w,I,">");R&&((R&&R.tagName)===_&&R.tagExp[R.tagExp.length-1]!=="/"&&S++,I=R.closeIndex)}}function A(w,_,I){if(_&&typeof w=="string"){const N=w.trim();return N==="true"||N!=="false"&&u(w,I)}return r.isExist(w)?w:""}e.exports=class{constructor(w){this.options=w,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(_,I)=>String.fromCharCode(Number.parseInt(I,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(_,I)=>String.fromCharCode(Number.parseInt(I,16))}},this.addExternalEntities=p,this.parseXml=g,this.parseTextData=a,this.resolveNameSpace=o,this.buildAttributesMap=l,this.isItStopNode=x,this.replaceEntitiesValue=v,this.readStopNodeData=T,this.saveTextToParentTag=y,this.addChild=d,this.ignoreAttributesFn=c(this.options.ignoreAttributes)}}},338:(e,t,n)=>{const{buildOptions:r}=n(63),i=n(299),{prettify:s}=n(728),u=n(31);e.exports=class{constructor(c){this.externalEntities={},this.options=r(c)}parse(c,p){if(typeof c!="string"){if(!c.toString)throw new Error("XML data is accepted in String or Bytes[] form.");c=c.toString()}if(p){p===!0&&(p={});const h=u.validate(c,p);if(h!==!0)throw Error(`${h.err.msg}:${h.err.line}:${h.err.col}`)}const a=new i(this.options);a.addExternalEntities(this.externalEntities);const o=a.parseXml(c);return this.options.preserveOrder||o===void 0?o:s(o,this.options)}addEntity(c,p){if(p.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(c.indexOf("&")!==-1||c.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(p==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[c]=p}}},728:(e,t)=>{function n(u,c,p){let a;const o={};for(let h=0;h<u.length;h++){const l=u[h],g=r(l);let d="";if(d=p===void 0?g:p+"."+g,g===c.textNodeName)a===void 0?a=l[g]:a+=""+l[g];else{if(g===void 0)continue;if(l[g]){let v=n(l[g],c,d);const y=s(v,c);l[":@"]?i(v,l[":@"],d,c):Object.keys(v).length!==1||v[c.textNodeName]===void 0||c.alwaysCreateTextNode?Object.keys(v).length===0&&(c.alwaysCreateTextNode?v[c.textNodeName]="":v=""):v=v[c.textNodeName],o[g]!==void 0&&o.hasOwnProperty(g)?(Array.isArray(o[g])||(o[g]=[o[g]]),o[g].push(v)):c.isArray(g,d,y)?o[g]=[v]:o[g]=v}}}return typeof a=="string"?a.length>0&&(o[c.textNodeName]=a):a!==void 0&&(o[c.textNodeName]=a),o}function r(u){const c=Object.keys(u);for(let p=0;p<c.length;p++){const a=c[p];if(a!==":@")return a}}function i(u,c,p,a){if(c){const o=Object.keys(c),h=o.length;for(let l=0;l<h;l++){const g=o[l];a.isArray(g,p+"."+g,!0,!0)?u[g]=[c[g]]:u[g]=c[g]}}}function s(u,c){const{textNodeName:p}=c,a=Object.keys(u).length;return a===0||!(a!==1||!u[p]&&typeof u[p]!="boolean"&&u[p]!==0)}t.prettify=function(u,c){return n(u,c)}},365:e=>{e.exports=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,n){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:n})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}}},135:e=>{function t(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}e.exports=function(n){return n!=null&&(t(n)||function(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&t(r.slice(0,0))}(n)||!!n._isBuffer)}},542:(e,t,n)=>{(function(){var r=n(298),i=n(526).utf8,s=n(135),u=n(526).bin,c=function(p,a){p.constructor==String?p=a&&a.encoding==="binary"?u.stringToBytes(p):i.stringToBytes(p):s(p)?p=Array.prototype.slice.call(p,0):Array.isArray(p)||p.constructor===Uint8Array||(p=p.toString());for(var o=r.bytesToWords(p),h=8*p.length,l=1732584193,g=-271733879,d=-1732584194,v=271733878,y=0;y<o.length;y++)o[y]=16711935&(o[y]<<8|o[y]>>>24)|4278255360&(o[y]<<24|o[y]>>>8);o[h>>>5]|=128<<h%32,o[14+(h+64>>>9<<4)]=h;var x=c._ff,m=c._gg,E=c._hh,T=c._ii;for(y=0;y<o.length;y+=16){var A=l,w=g,_=d,I=v;l=x(l,g,d,v,o[y+0],7,-680876936),v=x(v,l,g,d,o[y+1],12,-389564586),d=x(d,v,l,g,o[y+2],17,606105819),g=x(g,d,v,l,o[y+3],22,-1044525330),l=x(l,g,d,v,o[y+4],7,-176418897),v=x(v,l,g,d,o[y+5],12,1200080426),d=x(d,v,l,g,o[y+6],17,-1473231341),g=x(g,d,v,l,o[y+7],22,-45705983),l=x(l,g,d,v,o[y+8],7,1770035416),v=x(v,l,g,d,o[y+9],12,-1958414417),d=x(d,v,l,g,o[y+10],17,-42063),g=x(g,d,v,l,o[y+11],22,-1990404162),l=x(l,g,d,v,o[y+12],7,1804603682),v=x(v,l,g,d,o[y+13],12,-40341101),d=x(d,v,l,g,o[y+14],17,-1502002290),l=m(l,g=x(g,d,v,l,o[y+15],22,1236535329),d,v,o[y+1],5,-165796510),v=m(v,l,g,d,o[y+6],9,-1069501632),d=m(d,v,l,g,o[y+11],14,643717713),g=m(g,d,v,l,o[y+0],20,-373897302),l=m(l,g,d,v,o[y+5],5,-701558691),v=m(v,l,g,d,o[y+10],9,38016083),d=m(d,v,l,g,o[y+15],14,-660478335),g=m(g,d,v,l,o[y+4],20,-405537848),l=m(l,g,d,v,o[y+9],5,568446438),v=m(v,l,g,d,o[y+14],9,-1019803690),d=m(d,v,l,g,o[y+3],14,-187363961),g=m(g,d,v,l,o[y+8],20,1163531501),l=m(l,g,d,v,o[y+13],5,-1444681467),v=m(v,l,g,d,o[y+2],9,-51403784),d=m(d,v,l,g,o[y+7],14,1735328473),l=E(l,g=m(g,d,v,l,o[y+12],20,-1926607734),d,v,o[y+5],4,-378558),v=E(v,l,g,d,o[y+8],11,-2022574463),d=E(d,v,l,g,o[y+11],16,1839030562),g=E(g,d,v,l,o[y+14],23,-35309556),l=E(l,g,d,v,o[y+1],4,-1530992060),v=E(v,l,g,d,o[y+4],11,1272893353),d=E(d,v,l,g,o[y+7],16,-155497632),g=E(g,d,v,l,o[y+10],23,-1094730640),l=E(l,g,d,v,o[y+13],4,681279174),v=E(v,l,g,d,o[y+0],11,-358537222),d=E(d,v,l,g,o[y+3],16,-722521979),g=E(g,d,v,l,o[y+6],23,76029189),l=E(l,g,d,v,o[y+9],4,-640364487),v=E(v,l,g,d,o[y+12],11,-421815835),d=E(d,v,l,g,o[y+15],16,530742520),l=T(l,g=E(g,d,v,l,o[y+2],23,-995338651),d,v,o[y+0],6,-198630844),v=T(v,l,g,d,o[y+7],10,1126891415),d=T(d,v,l,g,o[y+14],15,-1416354905),g=T(g,d,v,l,o[y+5],21,-57434055),l=T(l,g,d,v,o[y+12],6,1700485571),v=T(v,l,g,d,o[y+3],10,-1894986606),d=T(d,v,l,g,o[y+10],15,-1051523),g=T(g,d,v,l,o[y+1],21,-2054922799),l=T(l,g,d,v,o[y+8],6,1873313359),v=T(v,l,g,d,o[y+15],10,-30611744),d=T(d,v,l,g,o[y+6],15,-1560198380),g=T(g,d,v,l,o[y+13],21,1309151649),l=T(l,g,d,v,o[y+4],6,-145523070),v=T(v,l,g,d,o[y+11],10,-1120210379),d=T(d,v,l,g,o[y+2],15,718787259),g=T(g,d,v,l,o[y+9],21,-343485551),l=l+A>>>0,g=g+w>>>0,d=d+_>>>0,v=v+I>>>0}return r.endian([l,g,d,v])};c._ff=function(p,a,o,h,l,g,d){var v=p+(a&o|~a&h)+(l>>>0)+d;return(v<<g|v>>>32-g)+a},c._gg=function(p,a,o,h,l,g,d){var v=p+(a&h|o&~h)+(l>>>0)+d;return(v<<g|v>>>32-g)+a},c._hh=function(p,a,o,h,l,g,d){var v=p+(a^o^h)+(l>>>0)+d;return(v<<g|v>>>32-g)+a},c._ii=function(p,a,o,h,l,g,d){var v=p+(o^(a|~h))+(l>>>0)+d;return(v<<g|v>>>32-g)+a},c._blocksize=16,c._digestsize=16,e.exports=function(p,a){if(p==null)throw new Error("Illegal argument "+p);var o=r.wordsToBytes(c(p,a));return a&&a.asBytes?o:a&&a.asString?u.bytesToString(o):r.bytesToHex(o)}})()},285:(e,t,n)=>{var r=n(2);e.exports=function(x){return x?(x.substr(0,2)==="{}"&&(x="\\{\\}"+x.substr(2)),y(function(m){return m.split("\\\\").join(i).split("\\{").join(s).split("\\}").join(u).split("\\,").join(c).split("\\.").join(p)}(x),!0).map(o)):[]};var i="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",u="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",p="\0PERIOD"+Math.random()+"\0";function a(x){return parseInt(x,10)==x?parseInt(x,10):x.charCodeAt(0)}function o(x){return x.split(i).join("\\").split(s).join("{").split(u).join("}").split(c).join(",").split(p).join(".")}function h(x){if(!x)return[""];var m=[],E=r("{","}",x);if(!E)return x.split(",");var T=E.pre,A=E.body,w=E.post,_=T.split(",");_[_.length-1]+="{"+A+"}";var I=h(w);return w.length&&(_[_.length-1]+=I.shift(),_.push.apply(_,I)),m.push.apply(m,_),m}function l(x){return"{"+x+"}"}function g(x){return/^-?0\d/.test(x)}function d(x,m){return x<=m}function v(x,m){return x>=m}function y(x,m){var E=[],T=r("{","}",x);if(!T)return[x];var A=T.pre,w=T.post.length?y(T.post,!1):[""];if(/\$$/.test(T.pre))for(var _=0;_<w.length;_++){var I=A+"{"+T.body+"}"+w[_];E.push(I)}else{var N,S,R=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(T.body),L=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(T.body),P=R||L,$=T.body.indexOf(",")>=0;if(!P&&!$)return T.post.match(/,.*\}/)?y(x=T.pre+"{"+T.body+u+T.post):[x];if(P)N=T.body.split(/\.\./);else if((N=h(T.body)).length===1&&(N=y(N[0],!1).map(l)).length===1)return w.map(function(Jt){return T.pre+N[0]+Jt});if(P){var D=a(N[0]),j=a(N[1]),F=Math.max(N[0].length,N[1].length),X=N.length==3?Math.abs(a(N[2])):1,B=d;j<D&&(X*=-1,B=v);var Q=N.some(g);S=[];for(var U=D;B(U,j);U+=X){var W;if(L)(W=String.fromCharCode(U))==="\\"&&(W="");else if(W=String(U),Q){var Ft=F-W.length;if(Ft>0){var At=new Array(Ft+1).join("0");W=U<0?"-"+At+W.slice(1):At+W}}S.push(W)}}else{S=[];for(var pt=0;pt<N.length;pt++)S.push.apply(S,y(N[pt],!1))}for(pt=0;pt<S.length;pt++)for(_=0;_<w.length;_++)I=A+S[pt]+w[_],(!m||P||I)&&E.push(I)}return E}},829:e=>{function t(a){return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},t(a)}function n(a){var o=typeof Map=="function"?new Map:void 0;return n=function(h){if(h===null||(l=h,Function.toString.call(l).indexOf("[native code]")===-1))return h;var l;if(typeof h!="function")throw new TypeError("Super expression must either be null or a function");if(o!==void 0){if(o.has(h))return o.get(h);o.set(h,g)}function g(){return r(h,arguments,s(this).constructor)}return g.prototype=Object.create(h.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),i(g,h)},n(a)}function r(a,o,h){return r=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(l,g,d){var v=[null];v.push.apply(v,g);var y=new(Function.bind.apply(l,v));return d&&i(y,d.prototype),y},r.apply(null,arguments)}function i(a,o){return i=Object.setPrototypeOf||function(h,l){return h.__proto__=l,h},i(a,o)}function s(a){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},s(a)}var u=function(a){function o(h){var l;return function(g,d){if(!(g instanceof d))throw new TypeError("Cannot call a class as a function")}(this,o),(l=function(g,d){return!d||t(d)!=="object"&&typeof d!="function"?function(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(g):d}(this,s(o).call(this,h))).name="ObjectPrototypeMutationError",l}return function(h,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(l&&l.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),l&&i(h,l)}(o,a),o}(n(Error));function c(a,o){for(var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},l=o.split("."),g=l.length,d=function(x){var m=l[x];if(!a)return{v:void 0};if(m==="+"){if(Array.isArray(a))return{v:a.map(function(T,A){var w=l.slice(x+1);return w.length>0?c(T,w.join("."),h):h(a,A,l,x)})};var E=l.slice(0,x).join(".");throw new Error("Object at wildcard (".concat(E,") is not an array"))}a=h(a,m,l,x)},v=0;v<g;v++){var y=d(v);if(t(y)==="object")return y.v}return a}function p(a,o){return a.length===o+1}e.exports={set:function(a,o,h){if(t(a)!="object"||a===null||o===void 0)return a;if(typeof o=="number")return a[o]=h,a[o];try{return c(a,o,function(l,g,d,v){if(l===Reflect.getPrototypeOf({}))throw new u("Attempting to mutate Object.prototype");if(!l[g]){var y=Number.isInteger(Number(d[v+1])),x=d[v+1]==="+";l[g]=y||x?[]:{}}return p(d,v)&&(l[g]=h),l[g]})}catch(l){if(l instanceof u)throw l;return a}},get:function(a,o){if(t(a)!="object"||a===null||o===void 0)return a;if(typeof o=="number")return a[o];try{return c(a,o,function(h,l){return h[l]})}catch{return a}},has:function(a,o){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t(a)!="object"||a===null||o===void 0)return!1;if(typeof o=="number")return o in a;try{var l=!1;return c(a,o,function(g,d,v,y){if(!p(v,y))return g&&g[d];l=h.own?g.hasOwnProperty(d):d in g}),l}catch{return!1}},hasOwn:function(a,o,h){return this.has(a,o,h||{own:!0})},isIn:function(a,o,h){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t(a)!="object"||a===null||o===void 0)return!1;try{var g=!1,d=!1;return c(a,o,function(v,y,x,m){return g=g||v===h||!!v&&v[y]===h,d=p(x,m)&&t(v)==="object"&&y in v,v&&v[y]}),l.validPath?g&&d:g}catch{return!1}},ObjectPrototypeMutationError:u}},47:(e,t,n)=>{var r=n(410),i=function(a){return typeof a=="string"};function s(a,o){for(var h=[],l=0;l<a.length;l++){var g=a[l];g&&g!=="."&&(g===".."?h.length&&h[h.length-1]!==".."?h.pop():o&&h.push(".."):h.push(g))}return h}var u=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,c={};function p(a){return u.exec(a).slice(1)}c.resolve=function(){for(var a="",o=!1,h=arguments.length-1;h>=-1&&!o;h--){var l=h>=0?arguments[h]:Ot.cwd();if(!i(l))throw new TypeError("Arguments to path.resolve must be strings");l&&(a=l+"/"+a,o=l.charAt(0)==="/")}return(o?"/":"")+(a=s(a.split("/"),!o).join("/"))||"."},c.normalize=function(a){var o=c.isAbsolute(a),h=a.substr(-1)==="/";return(a=s(a.split("/"),!o).join("/"))||o||(a="."),a&&h&&(a+="/"),(o?"/":"")+a},c.isAbsolute=function(a){return a.charAt(0)==="/"},c.join=function(){for(var a="",o=0;o<arguments.length;o++){var h=arguments[o];if(!i(h))throw new TypeError("Arguments to path.join must be strings");h&&(a+=a?"/"+h:h)}return c.normalize(a)},c.relative=function(a,o){function h(m){for(var E=0;E<m.length&&m[E]==="";E++);for(var T=m.length-1;T>=0&&m[T]==="";T--);return E>T?[]:m.slice(E,T+1)}a=c.resolve(a).substr(1),o=c.resolve(o).substr(1);for(var l=h(a.split("/")),g=h(o.split("/")),d=Math.min(l.length,g.length),v=d,y=0;y<d;y++)if(l[y]!==g[y]){v=y;break}var x=[];for(y=v;y<l.length;y++)x.push("..");return(x=x.concat(g.slice(v))).join("/")},c._makeLong=function(a){return a},c.dirname=function(a){var o=p(a),h=o[0],l=o[1];return h||l?(l&&(l=l.substr(0,l.length-1)),h+l):"."},c.basename=function(a,o){var h=p(a)[2];return o&&h.substr(-1*o.length)===o&&(h=h.substr(0,h.length-o.length)),h},c.extname=function(a){return p(a)[3]},c.format=function(a){if(!r.isObject(a))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof a);var o=a.root||"";if(!i(o))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof a.root);return(a.dir?a.dir+c.sep:"")+(a.base||"")},c.parse=function(a){if(!i(a))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof a);var o=p(a);if(!o||o.length!==4)throw new TypeError("Invalid path '"+a+"'");return o[1]=o[1]||"",o[2]=o[2]||"",o[3]=o[3]||"",{root:o[0],dir:o[0]+o[1].slice(0,o[1].length-1),base:o[2],ext:o[3],name:o[2].slice(0,o[2].length-o[3].length)}},c.sep="/",c.delimiter=":",e.exports=c},647:(e,t)=>{var n=Object.prototype.hasOwnProperty;function r(s){try{return decodeURIComponent(s.replace(/\+/g," "))}catch{return null}}function i(s){try{return encodeURIComponent(s)}catch{return null}}t.stringify=function(s,u){u=u||"";var c,p,a=[];for(p in typeof u!="string"&&(u="?"),s)if(n.call(s,p)){if((c=s[p])||c!=null&&!isNaN(c)||(c=""),p=i(p),c=i(c),p===null||c===null)continue;a.push(p+"="+c)}return a.length?u+a.join("&"):""},t.parse=function(s){for(var u,c=/([^=?#&]+)=?([^&]*)/g,p={};u=c.exec(s);){var a=r(u[1]),o=r(u[2]);a===null||o===null||a in p||(p[a]=o)}return p}},670:e=>{e.exports=function(t,n){if(n=n.split(":")[0],!(t=+t))return!1;switch(n){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0}},494:e=>{const t=/^[-+]?0x[a-fA-F0-9]+$/,n=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const r={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};e.exports=function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(s=Object.assign({},r,s),!i||typeof i!="string")return i;let u=i.trim();if(s.skipLike!==void 0&&s.skipLike.test(u))return i;if(s.hex&&t.test(u))return Number.parseInt(u,16);{const p=n.exec(u);if(p){const a=p[1],o=p[2];let h=((c=p[3])&&c.indexOf(".")!==-1&&((c=c.replace(/0+$/,""))==="."?c="0":c[0]==="."?c="0"+c:c[c.length-1]==="."&&(c=c.substr(0,c.length-1))),c);const l=p[4]||p[6];if(!s.leadingZeros&&o.length>0&&a&&u[2]!=="."||!s.leadingZeros&&o.length>0&&!a&&u[1]!==".")return i;{const g=Number(u),d=""+g;return d.search(/[eE]/)!==-1||l?s.eNotation?g:i:u.indexOf(".")!==-1?d==="0"&&h===""||d===h||a&&d==="-"+h?g:i:o?h===d||a+h===d?g:i:u===d||u===a+d?g:i}}return i}var c}},737:(e,t,n)=>{var r=n(670),i=n(647),s=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,u=/[\n\r\t]/g,c=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,p=/:\d+$/,a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,o=/^[a-zA-Z]:/;function h(m){return(m||"").toString().replace(s,"")}var l=[["#","hash"],["?","query"],function(m,E){return v(E.protocol)?m.replace(/\\/g,"/"):m},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],g={hash:1,query:1};function d(m){var E,T=(typeof window<"u"?window:typeof jt<"u"?jt:typeof self<"u"?self:{}).location||{},A={},w=typeof(m=m||T);if(m.protocol==="blob:")A=new x(unescape(m.pathname),{});else if(w==="string")for(E in A=new x(m,{}),g)delete A[E];else if(w==="object"){for(E in m)E in g||(A[E]=m[E]);A.slashes===void 0&&(A.slashes=c.test(m.href))}return A}function v(m){return m==="file:"||m==="ftp:"||m==="http:"||m==="https:"||m==="ws:"||m==="wss:"}function y(m,E){m=(m=h(m)).replace(u,""),E=E||{};var T,A=a.exec(m),w=A[1]?A[1].toLowerCase():"",_=!!A[2],I=!!A[3],N=0;return _?I?(T=A[2]+A[3]+A[4],N=A[2].length+A[3].length):(T=A[2]+A[4],N=A[2].length):I?(T=A[3]+A[4],N=A[3].length):T=A[4],w==="file:"?N>=2&&(T=T.slice(2)):v(w)?T=A[4]:w?_&&(T=T.slice(2)):N>=2&&v(E.protocol)&&(T=A[4]),{protocol:w,slashes:_||v(w),slashesCount:N,rest:T}}function x(m,E,T){if(m=(m=h(m)).replace(u,""),!(this instanceof x))return new x(m,E,T);var A,w,_,I,N,S,R=l.slice(),L=typeof E,P=this,$=0;for(L!=="object"&&L!=="string"&&(T=E,E=null),T&&typeof T!="function"&&(T=i.parse),A=!(w=y(m||"",E=d(E))).protocol&&!w.slashes,P.slashes=w.slashes||A&&E.slashes,P.protocol=w.protocol||E.protocol||"",m=w.rest,(w.protocol==="file:"&&(w.slashesCount!==2||o.test(m))||!w.slashes&&(w.protocol||w.slashesCount<2||!v(P.protocol)))&&(R[3]=[/(.*)/,"pathname"]);$<R.length;$++)typeof(I=R[$])!="function"?(_=I[0],S=I[1],_!=_?P[S]=m:typeof _=="string"?~(N=_==="@"?m.lastIndexOf(_):m.indexOf(_))&&(typeof I[2]=="number"?(P[S]=m.slice(0,N),m=m.slice(N+I[2])):(P[S]=m.slice(N),m=m.slice(0,N))):(N=_.exec(m))&&(P[S]=N[1],m=m.slice(0,N.index)),P[S]=P[S]||A&&I[3]&&E[S]||"",I[4]&&(P[S]=P[S].toLowerCase())):m=I(m,P);T&&(P.query=T(P.query)),A&&E.slashes&&P.pathname.charAt(0)!=="/"&&(P.pathname!==""||E.pathname!=="")&&(P.pathname=function(D,j){if(D==="")return j;for(var F=(j||"/").split("/").slice(0,-1).concat(D.split("/")),X=F.length,B=F[X-1],Q=!1,U=0;X--;)F[X]==="."?F.splice(X,1):F[X]===".."?(F.splice(X,1),U++):U&&(X===0&&(Q=!0),F.splice(X,1),U--);return Q&&F.unshift(""),B!=="."&&B!==".."||F.push(""),F.join("/")}(P.pathname,E.pathname)),P.pathname.charAt(0)!=="/"&&v(P.protocol)&&(P.pathname="/"+P.pathname),r(P.port,P.protocol)||(P.host=P.hostname,P.port=""),P.username=P.password="",P.auth&&(~(N=P.auth.indexOf(":"))?(P.username=P.auth.slice(0,N),P.username=encodeURIComponent(decodeURIComponent(P.username)),P.password=P.auth.slice(N+1),P.password=encodeURIComponent(decodeURIComponent(P.password))):P.username=encodeURIComponent(decodeURIComponent(P.auth)),P.auth=P.password?P.username+":"+P.password:P.username),P.origin=P.protocol!=="file:"&&v(P.protocol)&&P.host?P.protocol+"//"+P.host:"null",P.href=P.toString()}x.prototype={set:function(m,E,T){var A=this;switch(m){case"query":typeof E=="string"&&E.length&&(E=(T||i.parse)(E)),A[m]=E;break;case"port":A[m]=E,r(E,A.protocol)?E&&(A.host=A.hostname+":"+E):(A.host=A.hostname,A[m]="");break;case"hostname":A[m]=E,A.port&&(E+=":"+A.port),A.host=E;break;case"host":A[m]=E,p.test(E)?(E=E.split(":"),A.port=E.pop(),A.hostname=E.join(":")):(A.hostname=E,A.port="");break;case"protocol":A.protocol=E.toLowerCase(),A.slashes=!T;break;case"pathname":case"hash":if(E){var w=m==="pathname"?"/":"#";A[m]=E.charAt(0)!==w?w+E:E}else A[m]=E;break;case"username":case"password":A[m]=encodeURIComponent(E);break;case"auth":var _=E.indexOf(":");~_?(A.username=E.slice(0,_),A.username=encodeURIComponent(decodeURIComponent(A.username)),A.password=E.slice(_+1),A.password=encodeURIComponent(decodeURIComponent(A.password))):A.username=encodeURIComponent(decodeURIComponent(E))}for(var I=0;I<l.length;I++){var N=l[I];N[4]&&(A[N[1]]=A[N[1]].toLowerCase())}return A.auth=A.password?A.username+":"+A.password:A.username,A.origin=A.protocol!=="file:"&&v(A.protocol)&&A.host?A.protocol+"//"+A.host:"null",A.href=A.toString(),A},toString:function(m){m&&typeof m=="function"||(m=i.stringify);var E,T=this,A=T.host,w=T.protocol;w&&w.charAt(w.length-1)!==":"&&(w+=":");var _=w+(T.protocol&&T.slashes||v(T.protocol)?"//":"");return T.username?(_+=T.username,T.password&&(_+=":"+T.password),_+="@"):T.password?(_+=":"+T.password,_+="@"):T.protocol!=="file:"&&v(T.protocol)&&!A&&T.pathname!=="/"&&(_+="@"),(A[A.length-1]===":"||p.test(T.hostname)&&!T.port)&&(A+=":"),_+=A+T.pathname,(E=typeof T.query=="object"?m(T.query):T.query)&&(_+=E.charAt(0)!=="?"?"?"+E:E),T.hash&&(_+=T.hash),_}},x.extractProtocol=y,x.location=d,x.trimLeft=h,x.qs=i,e.exports=x},410:()=>{},388:()=>{},805:()=>{},345:()=>{},800:()=>{}},Je={};function M(e){var t=Je[e];if(t!==void 0)return t.exports;var n=Je[e]={id:e,loaded:!1,exports:{}};return Ir[e].call(n.exports,n,n.exports,M),n.loaded=!0,n.exports}M.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return M.d(t,{a:t}),t},M.d=(e,t)=>{for(var n in t)M.o(t,n)&&!M.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},M.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),M.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var lt={};M.d(lt,{hT:()=>rt,O4:()=>vt,Kd:()=>Lr,YK:()=>Dr,UU:()=>Mi,Gu:()=>Mn,ky:()=>Yn,h4:()=>$t,ch:()=>Zt,hq:()=>Et,i5:()=>Zn});var Or=M(737),xr=M.n(Or);function ne(e){if(!we(e))throw new Error("Parameter was not an error")}function we(e){return!!e&&typeof e=="object"&&(t=e,Object.prototype.toString.call(t)==="[object Error]")||e instanceof Error;var t}class st extends Error{constructor(t,n){const r=[...arguments],{options:i,shortMessage:s}=function(c){let p,a="";if(c.length===0)p={};else if(we(c[0]))p={cause:c[0]},a=c.slice(1).join(" ")||"";else if(c[0]&&typeof c[0]=="object")p=Object.assign({},c[0]),a=c.slice(1).join(" ")||"";else{if(typeof c[0]!="string")throw new Error("Invalid arguments passed to Layerr");p={},a=a=c.join(" ")||""}return{options:p,shortMessage:a}}(r);let u=s;if(i.cause&&(u=`${u}: ${i.cause.message}`),super(u),this.message=u,i.name&&typeof i.name=="string"?this.name=i.name:this.name="Layerr",i.cause&&Object.defineProperty(this,"_cause",{value:i.cause}),Object.defineProperty(this,"_info",{value:{}}),i.info&&typeof i.info=="object"&&Object.assign(this._info,i.info),Error.captureStackTrace){const c=i.constructorOpt||this.constructor;Error.captureStackTrace(this,c)}}static cause(t){return ne(t),t._cause&&we(t._cause)?t._cause:null}static fullStack(t){ne(t);const n=st.cause(t);return n?`${t.stack}
caused by: ${st.fullStack(n)}`:t.stack??""}static info(t){ne(t);const n={},r=st.cause(t);return r&&Object.assign(n,st.info(r)),t._info&&Object.assign(n,t._info),n}toString(){let t=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(t=`${t}: ${this.message}`),t}}var Ar=M(47),Gt=M.n(Ar);const Qe="__PATH_SEPARATOR_POSIX__",tn="__PATH_SEPARATOR_WINDOWS__";function G(e){try{const t=e.replace(/\//g,Qe).replace(/\\\\/g,tn);return encodeURIComponent(t).split(tn).join("\\\\").split(Qe).join("/")}catch(t){throw new st(t,"Failed encoding path")}}function en(e){return e.startsWith("/")?e:"/"+e}function Dt(e){let t=e;return t[0]!=="/"&&(t="/"+t),/^.+\/$/.test(t)&&(t=t.substr(0,t.length-1)),t}function Pr(e){let t=new(xr())(e).pathname;return t.length<=0&&(t="/"),Dt(t)}function V(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){return function(r){var i=[];if(r.length===0)return"";if(typeof r[0]!="string")throw new TypeError("Url must be a string. Received "+r[0]);if(r[0].match(/^[^/:]+:\/*$/)&&r.length>1){var s=r.shift();r[0]=s+r[0]}r[0].match(/^file:\/\/\//)?r[0]=r[0].replace(/^([^/:]+):\/*/,"$1:///"):r[0]=r[0].replace(/^([^/:]+):\/*/,"$1://");for(var u=0;u<r.length;u++){var c=r[u];if(typeof c!="string")throw new TypeError("Url must be a string. Received "+c);c!==""&&(u>0&&(c=c.replace(/^[\/]+/,"")),c=u<r.length-1?c.replace(/[\/]+$/,""):c.replace(/[\/]+$/,"/"),i.push(c))}var p=i.join("/"),a=(p=p.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return a.shift()+(a.length>0?"?":"")+a.join("&")}(typeof arguments[0]=="object"?arguments[0]:[].slice.call(arguments))}(t.reduce((r,i,s)=>((s===0||i!=="/"||i==="/"&&r[r.length-1]!=="/")&&r.push(i),r),[]))}var _r=M(542),_t=M.n(_r);const Cr="abcdef0123456789";function nn(e,t){const n=e.url.replace("//",""),r=n.indexOf("/")==-1?"/":n.slice(n.indexOf("/")),i=e.method?e.method.toUpperCase():"GET",s=!!/(^|,)\s*auth\s*($|,)/.test(t.qop)&&"auth",u=`00000000${t.nc}`.slice(-8),c=function(l,g,d,v,y,x,m){const E=m||_t()(`${g}:${d}:${v}`);return l&&l.toLowerCase()==="md5-sess"?_t()(`${E}:${y}:${x}`):E}(t.algorithm,t.username,t.realm,t.password,t.nonce,t.cnonce,t.ha1),p=_t()(`${i}:${r}`),a=s?_t()(`${c}:${t.nonce}:${u}:${t.cnonce}:${s}:${p}`):_t()(`${c}:${t.nonce}:${p}`),o={username:t.username,realm:t.realm,nonce:t.nonce,uri:r,qop:s,response:a,nc:u,cnonce:t.cnonce,algorithm:t.algorithm,opaque:t.opaque},h=[];for(const l in o)o[l]&&(l==="qop"||l==="nc"||l==="algorithm"?h.push(`${l}=${o[l]}`):h.push(`${l}="${o[l]}"`));return`Digest ${h.join(", ")}`}function jn(e){return(e.headers&&e.headers.get("www-authenticate")||"").split(/\s/)[0].toLowerCase()==="digest"}var Sr=M(101),kn=M.n(Sr);function rn(e){return kn().decode(e)}function sn(e,t){var n;return`Basic ${n=`${e}:${t}`,kn().encode(n)}`}const Vt=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:typeof window<"u"?window:globalThis,Rr=Vt.fetch.bind(Vt),Lr=Vt.Request,Dr=Vt.Response;let rt=function(e){return e.Auto="auto",e.Digest="digest",e.None="none",e.Password="password",e.Token="token",e}({}),vt=function(e){return e.DataTypeNoLength="data-type-no-length",e.InvalidAuthType="invalid-auth-type",e.InvalidOutputFormat="invalid-output-format",e.LinkUnsupportedAuthType="link-unsupported-auth",e.InvalidUpdateRange="invalid-update-range",e.NotSupported="not-supported",e}({});function Un(e,t,n,r,i){switch(e.authType){case rt.Auto:t&&n&&(e.headers.Authorization=sn(t,n));break;case rt.Digest:e.digest=function(u,c,p){return{username:u,password:c,ha1:p,nc:0,algorithm:"md5",hasDigestAuth:!1}}(t,n,i);break;case rt.None:break;case rt.Password:e.headers.Authorization=sn(t,n);break;case rt.Token:e.headers.Authorization=`${(s=r).token_type} ${s.access_token}`;break;default:throw new st({info:{code:vt.InvalidAuthType}},`Invalid auth type: ${e.authType}`)}var s}M(345),M(800);const on="@@HOTPATCHER",$r=()=>{};function re(e){return{original:e,methods:[e],final:!1}}class Fr{constructor(){this._configuration={registry:{},getEmptyAction:"null"},this.__type__=on}get configuration(){return this._configuration}get getEmptyAction(){return this.configuration.getEmptyAction}set getEmptyAction(t){this.configuration.getEmptyAction=t}control(t){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!t||t.__type__!==on)throw new Error("Failed taking control of target HotPatcher instance: Invalid type or object");return Object.keys(t.configuration.registry).forEach(r=>{this.configuration.registry.hasOwnProperty(r)?n&&(this.configuration.registry[r]=Object.assign({},t.configuration.registry[r])):this.configuration.registry[r]=Object.assign({},t.configuration.registry[r])}),t._configuration=this.configuration,this}execute(t){const n=this.get(t)||$r;for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return n(...i)}get(t){const n=this.configuration.registry[t];if(!n)switch(this.getEmptyAction){case"null":return null;case"throw":throw new Error(`Failed handling method request: No method provided for override: ${t}`);default:throw new Error(`Failed handling request which resulted in an empty method: Invalid empty-action specified: ${this.getEmptyAction}`)}return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];if(i.length===0)throw new Error("Failed creating sequence: No functions provided");return function(){for(var u=arguments.length,c=new Array(u),p=0;p<u;p++)c[p]=arguments[p];let a=c;const o=this;for(;i.length>0;)a=[i.shift().apply(o,a)];return a[0]}}(...n.methods)}isPatched(t){return!!this.configuration.registry[t]}patch(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{chain:i=!1}=r;if(this.configuration.registry[t]&&this.configuration.registry[t].final)throw new Error(`Failed patching '${t}': Method marked as being final`);if(typeof n!="function")throw new Error(`Failed patching '${t}': Provided method is not a function`);if(i)this.configuration.registry[t]?this.configuration.registry[t].methods.push(n):this.configuration.registry[t]=re(n);else if(this.isPatched(t)){const{original:s}=this.configuration.registry[t];this.configuration.registry[t]=Object.assign(re(n),{original:s})}else this.configuration.registry[t]=re(n);return this}patchInline(t,n){this.isPatched(t)||this.patch(t,n);for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return this.execute(t,...i)}plugin(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach(s=>{this.patch(t,s,{chain:!0})}),this}restore(t){if(!this.isPatched(t))throw new Error(`Failed restoring method: No method present for key: ${t}`);if(typeof this.configuration.registry[t].original!="function")throw new Error(`Failed restoring method: Original method not found or of invalid type for key: ${t}`);return this.configuration.registry[t].methods=[this.configuration.registry[t].original],this}setFinal(t){if(!this.configuration.registry.hasOwnProperty(t))throw new Error(`Failed marking '${t}' as final: No method found for key`);return this.configuration.registry[t].final=!0,this}}let ie=null;function Mn(){return ie||(ie=new Fr),ie}function Xt(e){return function(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let n=t;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n}(e)?Object.assign({},e):Object.setPrototypeOf(Object.assign({},e),Object.getPrototypeOf(e))}function an(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=null,i=[...t];for(;i.length>0;){const s=i.shift();r=r?Bn(r,s):Xt(s)}return r}function Bn(e,t){const n=Xt(e);return Object.keys(t).forEach(r=>{n.hasOwnProperty(r)?Array.isArray(t[r])?n[r]=Array.isArray(n[r])?[...n[r],...t[r]]:[...t[r]]:typeof t[r]=="object"&&t[r]?n[r]=typeof n[r]=="object"&&n[r]?Bn(n[r],t[r]):Xt(t[r]):n[r]=t[r]:n[r]=t[r]}),n}function jr(e){const t={};for(const n of e.keys())t[n]=e.get(n);return t}function Te(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length===0)return{};const r={};return t.reduce((i,s)=>(Object.keys(s).forEach(u=>{const c=u.toLowerCase();r.hasOwnProperty(c)?i[r[c]]=s[u]:(r[c]=u,i[u]=s[u])}),i),{})}M(805);const kr=typeof ArrayBuffer=="function",{toString:Ur}=Object.prototype;function Gn(e){return kr&&(e instanceof ArrayBuffer||Ur.call(e)==="[object ArrayBuffer]")}function Vn(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function Le(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}function Ie(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const Xn=Le(function(e){const t=e._digest;return delete e._digest,t.hasDigestAuth&&(e=an(e,{headers:{Authorization:nn(e,t)}})),Ie(Wt(e),function(n){let r=!1;return i=function(u){return r?u:n},(s=function(){if(n.status==401)return t.hasDigestAuth=function(u,c){if(!jn(u))return!1;const p=/([a-z0-9_-]+)=(?:"([^"]+)"|([a-z0-9_-]+))/gi;for(;;){const a=u.headers&&u.headers.get("www-authenticate")||"",o=p.exec(a);if(!o)break;c[o[1]]=o[2]||o[3]}return c.nc+=1,c.cnonce=function(){let a="";for(let o=0;o<32;++o)a=`${a}${Cr[Math.floor(16*Math.random())]}`;return a}(),!0}(n,t),function(){if(t.hasDigestAuth)return Ie(Wt(e=an(e,{headers:{Authorization:nn(e,t)}})),function(u){return u.status==401?t.hasDigestAuth=!1:t.nc++,r=!0,u})}();t.nc++}())&&s.then?s.then(i):i(s);var i,s})}),Mr=Le(function(e,t){return Ie(Wt(e),function(n){return n.ok?(t.authType=rt.Password,n):n.status==401&&jn(n)?(t.authType=rt.Digest,Un(t,t.username,t.password,void 0,void 0),e._digest=t.digest,Xn(e)):n})}),H=Le(function(e,t){return t.authType===rt.Auto?Mr(e,t):e._digest?Xn(e):Wt(e)});function Y(e,t,n){const r=Xt(e);return r.headers=Te(t.headers,r.headers||{},n.headers||{}),n.data!==void 0&&(r.data=n.data),n.signal&&(r.signal=n.signal),t.httpAgent&&(r.httpAgent=t.httpAgent),t.httpsAgent&&(r.httpsAgent=t.httpsAgent),t.digest&&(r._digest=t.digest),typeof t.withCredentials=="boolean"&&(r.withCredentials=t.withCredentials),r}function Wt(e){const t=Mn();return t.patchInline("request",n=>t.patchInline("fetch",Rr,n.url,function(r){let i={};const s={method:r.method};if(r.headers&&(i=Te(i,r.headers)),r.data!==void 0){const[u,c]=function(p){if(typeof p=="string")return[p,{}];if(Vn(p))return[p,{}];if(Gn(p))return[p,{}];if(p&&typeof p=="object")return[JSON.stringify(p),{"content-type":"application/json"}];throw new Error("Unable to convert request body: Unexpected body type: "+typeof p)}(r.data);s.body=u,i=Te(i,c)}return r.signal&&(s.signal=r.signal),r.withCredentials&&(s.credentials="include"),s.headers=i,s}(n)),e)}var Br=M(285);const qt=e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},Gr={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Ct=e=>e.replace(/[[\]\\-]/g,"\\$&"),un=e=>e.join(""),Vr=(e,t)=>{const n=t;if(e.charAt(n)!=="[")throw new Error("not in a brace expression");const r=[],i=[];let s=n+1,u=!1,c=!1,p=!1,a=!1,o=n,h="";t:for(;s<e.length;){const v=e.charAt(s);if(v!=="!"&&v!=="^"||s!==n+1){if(v==="]"&&u&&!p){o=s+1;break}if(u=!0,v!=="\\"||p){if(v==="["&&!p){for(const[y,[x,m,E]]of Object.entries(Gr))if(e.startsWith(y,s)){if(h)return["$.",!1,e.length-n,!0];s+=y.length,E?i.push(x):r.push(x),c=c||m;continue t}}p=!1,h?(v>h?r.push(Ct(h)+"-"+Ct(v)):v===h&&r.push(Ct(v)),h="",s++):e.startsWith("-]",s+1)?(r.push(Ct(v+"-")),s+=2):e.startsWith("-",s+1)?(h=v,s+=2):(r.push(Ct(v)),s++)}else p=!0,s++}else a=!0,s++}if(o<s)return["",!1,0,!1];if(!r.length&&!i.length)return["$.",!1,e.length-n,!0];if(i.length===0&&r.length===1&&/^\\?.$/.test(r[0])&&!a)return[(l=r[0].length===2?r[0].slice(-1):r[0],l.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,o-n,!1];var l;const g="["+(a?"^":"")+un(r)+"]",d="["+(a?"":"^")+un(i)+"]";return[r.length&&i.length?"("+g+"|"+d+")":r.length?g:d,c,o-n,!0]},St=function(e){let{windowsPathsNoEscape:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1")},Xr=new Set(["!","?","+","*","@"]),cn=e=>Xr.has(e),se="(?!\\.)",Wr=new Set(["[","."]),qr=new Set(["..","."]),zr=new Set("().*{}+?[]^$\\!"),De="[^/]",ln=De+"*?",hn=De+"+?";class nt{type;#n;#r;#s=!1;#t=[];#e;#o;#u;#a=!1;#i;#c;#h=!1;constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.type=t,t&&(this.#r=!0),this.#e=n,this.#n=this.#e?this.#e.#n:this,this.#i=this.#n===this?r:this.#n.#i,this.#u=this.#n===this?[]:this.#n.#u,t!=="!"||this.#n.#a||this.#u.push(this),this.#o=this.#e?this.#e.#t.length:0}get hasMagic(){if(this.#r!==void 0)return this.#r;for(const t of this.#t)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#r=!0;return this.#r}toString(){return this.#c!==void 0?this.#c:this.type?this.#c=this.type+"("+this.#t.map(t=>String(t)).join("|")+")":this.#c=this.#t.map(t=>String(t)).join("")}#f(){if(this!==this.#n)throw new Error("should only call on root");if(this.#a)return this;let t;for(this.toString(),this.#a=!0;t=this.#u.pop();){if(t.type!=="!")continue;let n=t,r=n.#e;for(;r;){for(let i=n.#o+1;!r.type&&i<r.#t.length;i++)for(const s of t.#t){if(typeof s=="string")throw new Error("string part in extglob AST??");s.copyIn(r.#t[i])}n=r,r=n.#e}}return this}push(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)if(i!==""){if(typeof i!="string"&&!(i instanceof nt&&i.#e===this))throw new Error("invalid part: "+i);this.#t.push(i)}}toJSON(){const t=this.type===null?this.#t.slice().map(n=>typeof n=="string"?n:n.toJSON()):[this.type,...this.#t.map(n=>n.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#n||this.#n.#a&&this.#e?.type==="!")&&t.push({}),t}isStart(){if(this.#n===this)return!0;if(!this.#e?.isStart())return!1;if(this.#o===0)return!0;const t=this.#e;for(let n=0;n<this.#o;n++){const r=t.#t[n];if(!(r instanceof nt&&r.type==="!"))return!1}return!0}isEnd(){if(this.#n===this||this.#e?.type==="!")return!0;if(!this.#e?.isEnd())return!1;if(!this.type)return this.#e?.isEnd();const t=this.#e?this.#e.#t.length:0;return this.#o===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){const n=new nt(this.type,t);for(const r of this.#t)n.copyIn(r);return n}static#l(t,n,r,i){let s=!1,u=!1,c=-1,p=!1;if(n.type===null){let g=r,d="";for(;g<t.length;){const v=t.charAt(g++);if(s||v==="\\")s=!s,d+=v;else if(u)g===c+1?v!=="^"&&v!=="!"||(p=!0):v!=="]"||g===c+2&&p||(u=!1),d+=v;else if(v!=="[")if(i.noext||!cn(v)||t.charAt(g)!=="(")d+=v;else{n.push(d),d="";const y=new nt(v,n);g=nt.#l(t,y,g,i),n.push(y)}else u=!0,c=g,p=!1,d+=v}return n.push(d),g}let a=r+1,o=new nt(null,n);const h=[];let l="";for(;a<t.length;){const g=t.charAt(a++);if(s||g==="\\")s=!s,l+=g;else if(u)a===c+1?g!=="^"&&g!=="!"||(p=!0):g!=="]"||a===c+2&&p||(u=!1),l+=g;else if(g!=="[")if(cn(g)&&t.charAt(a)==="("){o.push(l),l="";const d=new nt(g,o);o.push(d),a=nt.#l(t,d,a,i)}else if(g!=="|"){if(g===")")return l===""&&n.#t.length===0&&(n.#h=!0),o.push(l),l="",n.push(...h,o),a;l+=g}else o.push(l),l="",h.push(o),o=new nt(null,n);else u=!0,c=a,p=!1,l+=g}return n.type=null,n.#r=void 0,n.#t=[t.substring(r-1)],a}static fromGlob(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=new nt(null,void 0,n);return nt.#l(t,r,0,n),r}toMMPattern(){if(this!==this.#n)return this.#n.toMMPattern();const t=this.toString(),[n,r,i,s]=this.toRegExpSource();if(!(i||this.#r||this.#i.nocase&&!this.#i.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return r;const u=(this.#i.nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${n}$`,u),{_src:n,_glob:t})}get options(){return this.#i}toRegExpSource(t){const n=t??!!this.#i.dot;if(this.#n===this&&this.#f(),!this.type){const p=this.isStart()&&this.isEnd(),a=this.#t.map(l=>{const[g,d,v,y]=typeof l=="string"?nt.#d(l,this.#r,p):l.toRegExpSource(t);return this.#r=this.#r||v,this.#s=this.#s||y,g}).join("");let o="";if(this.isStart()&&typeof this.#t[0]=="string"&&(this.#t.length!==1||!qr.has(this.#t[0]))){const l=Wr,g=n&&l.has(a.charAt(0))||a.startsWith("\\.")&&l.has(a.charAt(2))||a.startsWith("\\.\\.")&&l.has(a.charAt(4)),d=!n&&!t&&l.has(a.charAt(0));o=g?"(?!(?:^|/)\\.\\.?(?:$|/))":d?se:""}let h="";return this.isEnd()&&this.#n.#a&&this.#e?.type==="!"&&(h="(?:$|\\/)"),[o+a+h,St(a),this.#r=!!this.#r,this.#s]}const r=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:";let s=this.#p(n);if(this.isStart()&&this.isEnd()&&!s&&this.type!=="!"){const p=this.toString();return this.#t=[p],this.type=null,this.#r=void 0,[p,St(this.toString()),!1,!1]}let u=!r||t||n?"":this.#p(!0);u===s&&(u=""),u&&(s=`(?:${s})(?:${u})*?`);let c="";return c=this.type==="!"&&this.#h?(this.isStart()&&!n?se:"")+hn:i+s+(this.type==="!"?"))"+(!this.isStart()||n||t?"":se)+ln+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&u?")":this.type==="*"&&u?")?":`)${this.type}`),[c,St(s),this.#r=!!this.#r,this.#s]}#p(t){return this.#t.map(n=>{if(typeof n=="string")throw new Error("string type in extglob ast??");const[r,i,s,u]=n.toRegExpSource(t);return this.#s=this.#s||u,r}).filter(n=>!(this.isStart()&&this.isEnd()&&!n)).join("|")}static#d(t,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=!1,s="",u=!1;for(let c=0;c<t.length;c++){const p=t.charAt(c);if(i)i=!1,s+=(zr.has(p)?"\\":"")+p;else if(p!=="\\"){if(p==="["){const[a,o,h,l]=Vr(t,c);if(h){s+=a,u=u||o,c+=h-1,n=n||l;continue}}p!=="*"?p!=="?"?s+=p.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):(s+=De,n=!0):(s+=r&&t==="*"?hn:ln,n=!0)}else c===t.length-1?s+="\\\\":i=!0}return[s,St(t),!!n,u]}}const et=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return qt(t),!(!n.nocomment&&t.charAt(0)==="#")&&new zt(t,n).match(e)},Hr=/^\*+([^+@!?\*\[\(]*)$/,Yr=e=>t=>!t.startsWith(".")&&t.endsWith(e),Zr=e=>t=>t.endsWith(e),Kr=e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),Jr=e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),Qr=/^\*+\.\*+$/,ti=e=>!e.startsWith(".")&&e.includes("."),ei=e=>e!=="."&&e!==".."&&e.includes("."),ni=/^\.\*+$/,ri=e=>e!=="."&&e!==".."&&e.startsWith("."),ii=/^\*+$/,si=e=>e.length!==0&&!e.startsWith("."),oi=e=>e.length!==0&&e!=="."&&e!=="..",ai=/^\?+([^+@!?\*\[\(]*)?$/,ui=e=>{let[t,n=""]=e;const r=Wn([t]);return n?(n=n.toLowerCase(),i=>r(i)&&i.toLowerCase().endsWith(n)):r},ci=e=>{let[t,n=""]=e;const r=qn([t]);return n?(n=n.toLowerCase(),i=>r(i)&&i.toLowerCase().endsWith(n)):r},li=e=>{let[t,n=""]=e;const r=qn([t]);return n?i=>r(i)&&i.endsWith(n):r},hi=e=>{let[t,n=""]=e;const r=Wn([t]);return n?i=>r(i)&&i.endsWith(n):r},Wn=e=>{let[t]=e;const n=t.length;return r=>r.length===n&&!r.startsWith(".")},qn=e=>{let[t]=e;const n=t.length;return r=>r.length===n&&r!=="."&&r!==".."},zn=typeof Ot=="object"&&Ot?typeof ee=="object"&&ee&&ee.__MINIMATCH_TESTING_PLATFORM__||Ot.platform:"posix";et.sep=zn==="win32"?"\\":"/";const ct=Symbol("globstar **");et.GLOBSTAR=ct,et.filter=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n=>et(n,e,t)};const ut=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.assign({},e,t)};et.defaults=e=>{if(!e||typeof e!="object"||!Object.keys(e).length)return et;const t=et;return Object.assign(function(n,r){return t(n,r,ut(e,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))},{Minimatch:class extends t.Minimatch{constructor(n){super(n,ut(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}))}static defaults(n){return t.defaults(ut(e,n)).Minimatch}},AST:class extends t.AST{constructor(n,r){super(n,r,ut(e,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))}static fromGlob(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.AST.fromGlob(n,ut(e,r))}},unescape:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.unescape(n,ut(e,r))},escape:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.escape(n,ut(e,r))},filter:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.filter(n,ut(e,r))},defaults:n=>t.defaults(ut(e,n)),makeRe:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.makeRe(n,ut(e,r))},braceExpand:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.braceExpand(n,ut(e,r))},match:function(n,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t.match(n,r,ut(e,i))},sep:t.sep,GLOBSTAR:ct})};const Hn=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return qt(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:Br(e)};et.braceExpand=Hn,et.makeRe=function(e){return new zt(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).makeRe()},et.match=function(e,t){const n=new zt(t,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{});return e=e.filter(r=>n.match(r)),n.options.nonull&&!e.length&&e.push(t),e};const pn=/[?*]|[+@!]\(.*?\)|\[|\]/;class zt{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};qt(t),n=n||{},this.options=n,this.pattern=t,this.platform=n.platform||zn,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!n.windowsPathsNoEscape||n.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!n.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!n.nonegate,this.comment=!1,this.empty=!1,this.partial=!!n.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=n.windowsNoMagicRoot!==void 0?n.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const t of this.set)for(const n of t)if(typeof n!="string")return!0;return!1}debug(){}make(){const t=this.pattern,n=this.options;if(!n.nocomment&&t.charAt(0)==="#")return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],n.debug&&(this.debug=function(){return console.error(...arguments)}),this.debug(this.pattern,this.globSet);const r=this.globSet.map(s=>this.slashSplit(s));this.globParts=this.preprocess(r),this.debug(this.pattern,this.globParts);let i=this.globParts.map((s,u,c)=>{if(this.isWindows&&this.windowsNoMagicRoot){const p=!(s[0]!==""||s[1]!==""||s[2]!=="?"&&pn.test(s[2])||pn.test(s[3])),a=/^[a-z]:/i.test(s[0]);if(p)return[...s.slice(0,4),...s.slice(4).map(o=>this.parse(o))];if(a)return[s[0],...s.slice(1).map(o=>this.parse(o))]}return s.map(p=>this.parse(p))});if(this.debug(this.pattern,i),this.set=i.filter(s=>s.indexOf(!1)===-1),this.isWindows)for(let s=0;s<this.set.length;s++){const u=this.set[s];u[0]===""&&u[1]===""&&this.globParts[s][2]==="?"&&typeof u[3]=="string"&&/^[a-z]:$/i.test(u[3])&&(u[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let r=0;r<t.length;r++)for(let i=0;i<t[r].length;i++)t[r][i]==="**"&&(t[r][i]="*");const{optimizationLevel:n=1}=this.options;return n>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):t=n>=1?this.levelOneOptimize(t):this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(n=>{let r=-1;for(;(r=n.indexOf("**",r+1))!==-1;){let i=r;for(;n[i+1]==="**";)i++;i!==r&&n.splice(r,i-r)}return n})}levelOneOptimize(t){return t.map(n=>(n=n.reduce((r,i)=>{const s=r[r.length-1];return i==="**"&&s==="**"?r:i===".."&&s&&s!==".."&&s!=="."&&s!=="**"?(r.pop(),r):(r.push(i),r)},[])).length===0?[""]:n)}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let n=!1;do{if(n=!1,!this.preserveMultipleSlashes){for(let i=1;i<t.length-1;i++){const s=t[i];i===1&&s===""&&t[0]===""||s!=="."&&s!==""||(n=!0,t.splice(i,1),i--)}t[0]!=="."||t.length!==2||t[1]!=="."&&t[1]!==""||(n=!0,t.pop())}let r=0;for(;(r=t.indexOf("..",r+1))!==-1;){const i=t[r-1];i&&i!=="."&&i!==".."&&i!=="**"&&(n=!0,t.splice(r-1,2),r-=2)}}while(n);return t.length===0?[""]:t}firstPhasePreProcess(t){let n=!1;do{n=!1;for(let r of t){let i=-1;for(;(i=r.indexOf("**",i+1))!==-1;){let u=i;for(;r[u+1]==="**";)u++;u>i&&r.splice(i+1,u-i);let c=r[i+1];const p=r[i+2],a=r[i+3];if(c!==".."||!p||p==="."||p===".."||!a||a==="."||a==="..")continue;n=!0,r.splice(i,1);const o=r.slice(0);o[i]="**",t.push(o),i--}if(!this.preserveMultipleSlashes){for(let u=1;u<r.length-1;u++){const c=r[u];u===1&&c===""&&r[0]===""||c!=="."&&c!==""||(n=!0,r.splice(u,1),u--)}r[0]!=="."||r.length!==2||r[1]!=="."&&r[1]!==""||(n=!0,r.pop())}let s=0;for(;(s=r.indexOf("..",s+1))!==-1;){const u=r[s-1];if(u&&u!=="."&&u!==".."&&u!=="**"){n=!0;const c=s===1&&r[s+1]==="**"?["."]:[];r.splice(s-1,2,...c),r.length===0&&r.push(""),s-=2}}}}while(n);return t}secondPhasePreProcess(t){for(let n=0;n<t.length-1;n++)for(let r=n+1;r<t.length;r++){const i=this.partsMatch(t[n],t[r],!this.preserveMultipleSlashes);if(i){t[n]=[],t[r]=i;break}}return t.filter(n=>n.length)}partsMatch(t,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=0,s=0,u=[],c="";for(;i<t.length&&s<n.length;)if(t[i]===n[s])u.push(c==="b"?n[s]:t[i]),i++,s++;else if(r&&t[i]==="**"&&n[s]===t[i+1])u.push(t[i]),i++;else if(r&&n[s]==="**"&&t[i]===n[s+1])u.push(n[s]),s++;else if(t[i]!=="*"||!n[s]||!this.options.dot&&n[s].startsWith(".")||n[s]==="**"){if(n[s]!=="*"||!t[i]||!this.options.dot&&t[i].startsWith(".")||t[i]==="**"||c==="a")return!1;c="b",u.push(n[s]),i++,s++}else{if(c==="b")return!1;c="a",u.push(t[i]),i++,s++}return t.length===n.length&&u}parseNegate(){if(this.nonegate)return;const t=this.pattern;let n=!1,r=0;for(let i=0;i<t.length&&t.charAt(i)==="!";i++)n=!n,r++;r&&(this.pattern=t.slice(r)),this.negate=n}matchOne(t,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const i=this.options;if(this.isWindows){const v=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),y=!v&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),x=typeof n[0]=="string"&&/^[a-z]:$/i.test(n[0]),m=y?3:v?0:void 0,E=!x&&n[0]===""&&n[1]===""&&n[2]==="?"&&typeof n[3]=="string"&&/^[a-z]:$/i.test(n[3])?3:x?0:void 0;if(typeof m=="number"&&typeof E=="number"){const[T,A]=[t[m],n[E]];T.toLowerCase()===A.toLowerCase()&&(n[E]=T,E>m?n=n.slice(E):m>E&&(t=t.slice(m)))}}const{optimizationLevel:s=1}=this.options;s>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:n}),this.debug("matchOne",t.length,n.length);for(var u=0,c=0,p=t.length,a=n.length;u<p&&c<a;u++,c++){this.debug("matchOne loop");var o=n[c],h=t[u];if(this.debug(n,o,h),o===!1)return!1;if(o===ct){this.debug("GLOBSTAR",[n,o,h]);var l=u,g=c+1;if(g===a){for(this.debug("** at the end");u<p;u++)if(t[u]==="."||t[u]===".."||!i.dot&&t[u].charAt(0)===".")return!1;return!0}for(;l<p;){var d=t[l];if(this.debug(`
globstar while`,t,l,n,g,d),this.matchOne(t.slice(l),n.slice(g),r))return this.debug("globstar found match!",l,p,d),!0;if(d==="."||d===".."||!i.dot&&d.charAt(0)==="."){this.debug("dot detected!",t,l,n,g);break}this.debug("globstar swallow a segment, and continue"),l++}return!(!r||(this.debug(`
>>> no match, partial?`,t,l,n,g),l!==p))}let v;if(typeof o=="string"?(v=h===o,this.debug("string match",o,h,v)):(v=o.test(h),this.debug("pattern match",o,h,v)),!v)return!1}if(u===p&&c===a)return!0;if(u===p)return r;if(c===a)return u===p-1&&t[u]==="";throw new Error("wtf?")}braceExpand(){return Hn(this.pattern,this.options)}parse(t){qt(t);const n=this.options;if(t==="**")return ct;if(t==="")return"";let r,i=null;(r=t.match(ii))?i=n.dot?oi:si:(r=t.match(Hr))?i=(n.nocase?n.dot?Jr:Kr:n.dot?Zr:Yr)(r[1]):(r=t.match(ai))?i=(n.nocase?n.dot?ci:ui:n.dot?li:hi)(r):(r=t.match(Qr))?i=n.dot?ei:ti:(r=t.match(ni))&&(i=ri);const s=nt.fromGlob(t,this.options).toMMPattern();return i&&typeof s=="object"&&Reflect.defineProperty(s,"test",{value:i}),s}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const n=this.options,r=n.noglobstar?"[^/]*?":n.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",i=new Set(n.nocase?["i"]:[]);let s=t.map(p=>{const a=p.map(o=>{if(o instanceof RegExp)for(const h of o.flags.split(""))i.add(h);return typeof o=="string"?o.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):o===ct?ct:o._src});return a.forEach((o,h)=>{const l=a[h+1],g=a[h-1];o===ct&&g!==ct&&(g===void 0?l!==void 0&&l!==ct?a[h+1]="(?:\\/|"+r+"\\/)?"+l:a[h]=r:l===void 0?a[h-1]=g+"(?:\\/|"+r+")?":l!==ct&&(a[h-1]=g+"(?:\\/|\\/"+r+"\\/)"+l,a[h+1]=ct))}),a.filter(o=>o!==ct).join("/")}).join("|");const[u,c]=t.length>1?["(?:",")"]:["",""];s="^"+u+s+c+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.partial;if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&n)return!0;const r=this.options;this.isWindows&&(t=t.split("\\").join("/"));const i=this.slashSplit(t);this.debug(this.pattern,"split",i);const s=this.set;this.debug(this.pattern,"set",s);let u=i[i.length-1];if(!u)for(let c=i.length-2;!u&&c>=0;c--)u=i[c];for(let c=0;c<s.length;c++){const p=s[c];let a=i;if(r.matchBase&&p.length===1&&(a=[u]),this.matchOne(a,p,n))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}static defaults(t){return et.defaults(t).Minimatch}}function $e(e){const t=new Error(`${arguments.length>1&&arguments[1]!==void 0?arguments[1]:""}Invalid response: ${e.status} ${e.statusText}`);return t.status=e.status,t.response=e,t}function Z(e,t){const{status:n}=t;if(n===401&&e.digest)return t;if(n>=400)throw $e(t);return t}function Et(e,t){return arguments.length>2&&arguments[2]!==void 0&&arguments[2]?{data:t,headers:e.headers?jr(e.headers):{},status:e.status,statusText:e.statusText}:t}et.AST=nt,et.Minimatch=zt,et.escape=function(e){let{windowsPathsNoEscape:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&")},et.unescape=St;const pi=(fn=function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=Y({url:V(e.remoteURL,G(t)),method:"COPY",headers:{Destination:V(e.remoteURL,G(n)),Overwrite:r.overwrite===!1?"F":"T",Depth:r.shallow?"0":"infinity"}},e,r);return u=function(c){Z(e,c)},(s=H(i,e))&&s.then||(s=Promise.resolve(s)),u?s.then(u):s;var s,u},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(fn.apply(this,e))}catch(n){return Promise.reject(n)}});var fn,Fe=M(635),fi=M(829),mt=M.n(fi),Tt=function(e){return e.Array="array",e.Object="object",e.Original="original",e}(Tt||{});function Mt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Tt.Original;const r=mt().get(e,t);return n==="array"&&Array.isArray(r)===!1?[r]:n==="object"&&Array.isArray(r)?r[0]:r}function $t(e){return new Promise(t=>{t(function(n){const{multistatus:r}=n;if(r==="")return{multistatus:{response:[]}};if(!r)throw new Error("Invalid response: No root multistatus found");const i={multistatus:Array.isArray(r)?r[0]:r};return mt().set(i,"multistatus.response",Mt(i,"multistatus.response",Tt.Array)),mt().set(i,"multistatus.response",mt().get(i,"multistatus.response").map(s=>function(u){const c=Object.assign({},u);return c.status?mt().set(c,"status",Mt(c,"status",Tt.Object)):(mt().set(c,"propstat",Mt(c,"propstat",Tt.Object)),mt().set(c,"propstat.prop",Mt(c,"propstat.prop",Tt.Object))),c}(s))),i}(new Fe.XMLParser({allowBooleanAttributes:!0,attributeNamePrefix:"",textNodeName:"text",ignoreAttributes:!1,removeNSPrefix:!0,numberParseOptions:{hex:!0,leadingZeros:!1},attributeValueProcessor:(n,r,i)=>r==="true"||r==="false"?r==="true":r,tagValueProcessor(n,r,i){if(!i.endsWith("propstat.prop.displayname"))return r}}).parse(e)))})}function Zt(e,t){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const{getlastmodified:r=null,getcontentlength:i="0",resourcetype:s=null,getcontenttype:u=null,getetag:c=null}=e,p=s&&typeof s=="object"&&s.collection!==void 0?"directory":"file",a={filename:t,basename:Gt().basename(t),lastmod:r,size:parseInt(i,10),type:p,etag:typeof c=="string"?c.replace(/"/g,""):null};return p==="file"&&(a.mime=u&&typeof u=="string"?u.split(";")[0]:""),n&&(e.displayname!==void 0&&(e.displayname=String(e.displayname)),a.props=e),a}function Yn(e,t){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=null;try{e.multistatus.response[0].propstat&&(r=e.multistatus.response[0])}catch{}if(!r)throw new Error("Failed getting item stat: bad response");const{propstat:{prop:i,status:s}}=r,[u,c,p]=s.split(" ",3),a=parseInt(c,10);if(a>=400){const o=new Error(`Invalid response: ${a} ${p}`);throw o.status=a,o}return Zt(i,Dt(t),n)}function Zn(e){switch(String(e)){case"-3":return"unlimited";case"-2":case"-1":return"unknown";default:return parseInt(String(e),10)}}function oe(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const je=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:r=!1}=n,i=Y({url:V(e.remoteURL,G(t)),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},e,n);return oe(H(i,e),function(s){return Z(e,s),oe(s.text(),function(u){return oe($t(u),function(c){const p=Yn(c,t,r);return Et(s,p,r)})})})});function Kn(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const di=Jn(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=function(s){if(!s||s==="/")return[];let u=s;const c=[];do c.push(u),u=Gt().dirname(u);while(u&&u!=="/");return c}(Dt(t));r.sort((s,u)=>s.length>u.length?1:u.length>s.length?-1:0);let i=!1;return function(s,u,c){if(typeof s[gn]=="function"){let v=function(y){try{for(;!(p=h.next()).done;)if((y=u(p.value))&&y.then){if(!mn(y))return void y.then(v,o||(o=it.bind(null,a=new It,2)));y=y.v}a?it(a,1,y):a=y}catch(x){it(a||(a=new It),2,x)}};var p,a,o,h=s[gn]();if(v(),h.return){var l=function(y){try{p.done||h.return()}catch{}return y};if(a&&a.then)return a.then(l,function(y){throw l(y)});l()}return a}if(!("length"in s))throw new TypeError("Object is not iterable");for(var g=[],d=0;d<s.length;d++)g.push(s[d]);return function(v,y,x){var m,E,T=-1;return function A(w){try{for(;++T<v.length&&(!x||!x());)if((w=y(T))&&w.then){if(!mn(w))return void w.then(A,E||(E=it.bind(null,m=new It,2)));w=w.v}m?it(m,1,w):m=w}catch(_){it(m||(m=new It),2,_)}}(),m}(g,function(v){return u(g[v])},c)}(r,function(s){return u=function(){return function(p,a){try{var o=Kn(je(e,s),function(h){if(h.type!=="directory")throw new Error(`Path includes a file: ${t}`)})}catch(h){return a(h)}return o&&o.then?o.then(void 0,a):o}(0,function(p){const a=p;return function(){if(a.status===404)return i=!0,dn(Oe(e,s,{...n,recursive:!1}));throw p}()})},(c=function(){if(i)return dn(Oe(e,s,{...n,recursive:!1}))}())&&c.then?c.then(u):u();var u,c},function(){return!1})});function Jn(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}function gi(){}function dn(e,t){return e&&e.then?e.then(gi):Promise.resolve()}const gn=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function it(e,t,n){if(!e.s){if(n instanceof It){if(!n.s)return void(n.o=it.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(it.bind(null,e,t),it.bind(null,e,2));e.s=t,e.v=n;const r=e.o;r&&r(e)}}const It=function(){function e(){}return e.prototype.then=function(t,n){const r=new e,i=this.s;if(i){const s=1&i?t:n;if(s){try{it(r,1,s(this.v))}catch(u){it(r,2,u)}return r}return this}return this.o=function(s){try{const u=s.v;1&s.s?it(r,1,t?t(u):u):n?it(r,1,n(u)):it(r,2,u)}catch(u){it(r,2,u)}},r},e}();function mn(e){return e instanceof It&&1&e.s}const Oe=Jn(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n.recursive===!0)return di(e,t,n);const r=Y({url:V(e.remoteURL,(i=G(t),i.endsWith("/")?i:i+"/")),method:"MKCOL"},e,n);var i;return Kn(H(r,e),function(s){Z(e,s)})});var mi=M(388),vn=M.n(mi);const vi=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r={};if(typeof n.range=="object"&&typeof n.range.start=="number"){let c=`bytes=${n.range.start}-`;typeof n.range.end=="number"&&(c=`${c}${n.range.end}`),r.Range=c}const i=Y({url:V(e.remoteURL,G(t)),method:"GET",headers:r},e,n);return u=function(c){if(Z(e,c),r.Range&&c.status!==206){const p=new Error(`Invalid response code for partial request: ${c.status}`);throw p.status=c.status,p}return n.callback&&setTimeout(()=>{n.callback(c)},0),c.body},(s=H(i,e))&&s.then||(s=Promise.resolve(s)),u?s.then(u):s;var s,u}),bi=()=>{},yi=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t,n){n.url||(n.url=V(e.remoteURL,G(t)));const r=Y(n,e,{});return s=function(u){return Z(e,u),u},(i=H(r,e))&&i.then||(i=Promise.resolve(i)),s?i.then(s):i;var i,s}),Ni=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Y({url:V(e.remoteURL,G(t)),method:"DELETE"},e,n);return s=function(u){Z(e,u)},(i=H(r,e))&&i.then||(i=Promise.resolve(i)),s?i.then(s):i;var i,s}),Ei=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function(r,i){try{var s=(u=je(e,t,n),c=function(){return!0},p?c?c(u):u:(u&&u.then||(u=Promise.resolve(u)),c?u.then(c):u))}catch(a){return i(a)}var u,c,p;return s&&s.then?s.then(void 0,i):s}(0,function(r){if(r.status===404)return!1;throw r})});function ae(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const wi=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Y({url:V(e.remoteURL,G(t),"/"),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:n.deep?"infinity":"1"}},e,n);return ae(H(r,e),function(i){return Z(e,i),ae(i.text(),function(s){if(!s)throw new Error("Failed parsing directory contents: Empty response");return ae($t(s),function(u){const c=en(t);let p=function(a,o,h){let l=arguments.length>3&&arguments[3]!==void 0&&arguments[3],g=arguments.length>4&&arguments[4]!==void 0&&arguments[4];const d=Gt().join(o,"/"),{multistatus:{response:v}}=a,y=v.map(x=>{const m=function(T){try{return T.replace(/^https?:\/\/[^\/]+/,"")}catch(A){throw new st(A,"Failed normalising HREF")}}(x.href),{propstat:{prop:E}}=x;return Zt(E,d==="/"?decodeURIComponent(Dt(m)):Dt(Gt().relative(decodeURIComponent(d),decodeURIComponent(m))),l)});return g?y:y.filter(x=>x.basename&&(x.type==="file"||x.filename!==h.replace(/\/$/,"")))}(u,en(e.remoteBasePath||e.remotePath),c,n.details,n.includeSelf);return n.glob&&(p=function(a,o){return a.filter(h=>et(h.filename,o,{matchBase:!0}))}(p,n.glob)),Et(i,p,n.details)})})})});function ke(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}const Ti=ke(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Y({url:V(e.remoteURL,G(t)),method:"GET",headers:{Accept:"text/plain"},transformResponse:[xi]},e,n);return Ht(H(r,e),function(i){return Z(e,i),Ht(i.text(),function(s){return Et(i,s,n.details)})})});function Ht(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const Ii=ke(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Y({url:V(e.remoteURL,G(t)),method:"GET"},e,n);return Ht(H(r,e),function(i){let s;return Z(e,i),function(u,c){var p=u();return p&&p.then?p.then(c):c()}(function(){return Ht(i.arrayBuffer(),function(u){s=u})},function(){return Et(i,s,n.details)})})}),Oi=ke(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{format:r="binary"}=n;if(r!=="binary"&&r!=="text")throw new st({info:{code:vt.InvalidOutputFormat}},`Invalid output format: ${r}`);return r==="text"?Ti(e,t,n):Ii(e,t,n)}),xi=e=>e;function Ai(e){return new Fe.XMLBuilder({attributeNamePrefix:"@_",format:!0,ignoreAttributes:!1,suppressEmptyNode:!0}).build(Qn({lockinfo:{"@_xmlns:d":"DAV:",lockscope:{exclusive:{}},locktype:{write:{}},owner:{href:e}}},"d"))}function Qn(e,t){const n={...e};for(const r in n)n.hasOwnProperty(r)&&(n[r]&&typeof n[r]=="object"&&r.indexOf(":")===-1?(n[`${t}:${r}`]=Qn(n[r],t),delete n[r]):/^@_/.test(r)===!1&&(n[`${t}:${r}`]=n[r],delete n[r]));return n}function xe(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}function tr(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}const Pi=tr(function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=Y({url:V(e.remoteURL,G(t)),method:"UNLOCK",headers:{"Lock-Token":n}},e,r);return xe(H(i,e),function(s){if(Z(e,s),s.status!==204&&s.status!==200)throw $e(s)})}),_i=tr(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{refreshToken:r,timeout:i=Ci}=n,s={Accept:"text/plain,application/xml",Timeout:i};r&&(s.If=r);const u=Y({url:V(e.remoteURL,G(t)),method:"LOCK",headers:s,data:Ai(e.contactHref)},e,n);return xe(H(u,e),function(c){return Z(e,c),xe(c.text(),function(p){const a=(l=p,new Fe.XMLParser({removeNSPrefix:!0,parseAttributeValue:!0,parseTagValue:!0}).parse(l)),o=mt().get(a,"prop.lockdiscovery.activelock.locktoken.href"),h=mt().get(a,"prop.lockdiscovery.activelock.timeout");var l;if(!o)throw $e(c,"No lock token received: ");return{token:o,serverTimeout:h}})})}),Ci="Infinite, Second-4100000000";function ue(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const Si=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=t.path||"/",r=Y({url:V(e.remoteURL,n),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},e,t);return ue(H(r,e),function(i){return Z(e,i),ue(i.text(),function(s){return ue($t(s),function(u){const c=function(p){try{const[a]=p.multistatus.response,{propstat:{prop:{"quota-used-bytes":o,"quota-available-bytes":h}}}=a;return o!==void 0&&h!==void 0?{used:parseInt(String(o),10),available:Zn(h)}:null}catch{}return null}(u);return Et(i,c,t.details)})})})});function ce(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const Ri=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:r=!1}=n,i=Y({url:V(e.remoteURL,G(t)),method:"SEARCH",headers:{Accept:"text/plain,application/xml","Content-Type":e.headers["Content-Type"]||"application/xml; charset=utf-8"}},e,n);return ce(H(i,e),function(s){return Z(e,s),ce(s.text(),function(u){return ce($t(u),function(c){const p=function(a,o,h){const l={truncated:!1,results:[]};return l.truncated=a.multistatus.response.some(g=>(g.status||g.propstat?.status).split(" ",3)?.[1]==="507"&&g.href.replace(/\/$/,"").endsWith(G(o).replace(/\/$/,""))),a.multistatus.response.forEach(g=>{if(g.propstat===void 0)return;const d=g.href.split("/").map(decodeURIComponent).join("/");l.results.push(Zt(g.propstat.prop,d,h))}),l}(c,t,r);return Et(s,p,r)})})})}),Li=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=Y({url:V(e.remoteURL,G(t)),method:"MOVE",headers:{Destination:V(e.remoteURL,G(n)),Overwrite:r.overwrite===!1?"F":"T"}},e,r);return u=function(c){Z(e,c)},(s=H(i,e))&&s.then||(s=Promise.resolve(s)),u?s.then(u):s;var s,u});var Di=M(172);const $i=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const{contentLength:i=!0,overwrite:s=!0}=r,u={"Content-Type":"application/octet-stream"};i===!1||(u["Content-Length"]=typeof i=="number"?`${i}`:`${function(o){if(Gn(o))return o.byteLength;if(Vn(o))return o.length;if(typeof o=="string")return(0,Di.d)(o);throw new st({info:{code:vt.DataTypeNoLength}},"Cannot calculate data length: Invalid type")}(n)}`),s||(u["If-None-Match"]="*");const c=Y({url:V(e.remoteURL,G(t)),method:"PUT",headers:u,data:n},e,r);return a=function(o){try{Z(e,o)}catch(h){const l=h;if(l.status!==412||s)throw l;return!1}return!0},(p=H(c,e))&&p.then||(p=Promise.resolve(p)),a?p.then(a):p;var p,a}),er=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Y({url:V(e.remoteURL,G(t)),method:"OPTIONS"},e,n);return s=function(u){try{Z(e,u)}catch(c){throw c}return{compliance:(u.headers.get("DAV")??"").split(",").map(c=>c.trim()),server:u.headers.get("Server")??""}},(i=H(r,e))&&i.then||(i=Promise.resolve(i)),s?i.then(s):i;var i,s});function Lt(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const Fi=Ue(function(e,t,n,r,i){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(n>r||n<0)throw new st({info:{code:vt.InvalidUpdateRange}},`Invalid update range ${n} for partial update`);const u={"Content-Type":"application/octet-stream","Content-Length":""+(r-n+1),"Content-Range":`bytes ${n}-${r}/*`},c=Y({url:V(e.remoteURL,G(t)),method:"PUT",headers:u,data:i},e,s);return Lt(H(c,e),function(p){Z(e,p)})});function bn(e,t){var n=e();return n&&n.then?n.then(t):t(n)}const ji=Ue(function(e,t,n,r,i){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(n>r||n<0)throw new st({info:{code:vt.InvalidUpdateRange}},`Invalid update range ${n} for partial update`);const u={"Content-Type":"application/x-sabredav-partialupdate","Content-Length":""+(r-n+1),"X-Update-Range":`bytes=${n}-${r}`},c=Y({url:V(e.remoteURL,G(t)),method:"PATCH",headers:u,data:i},e,s);return Lt(H(c,e),function(p){Z(e,p)})});function Ue(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}const ki=Ue(function(e,t,n,r,i){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};return Lt(er(e,t,s),function(u){let c=!1;return bn(function(){if(u.compliance.includes("sabredav-partialupdate"))return Lt(ji(e,t,n,r,i,s),function(p){return c=!0,p})},function(p){let a=!1;return c?p:bn(function(){if(u.server.includes("Apache")&&u.compliance.includes("<http://apache.org/dav/propset/fs/1>"))return Lt(Fi(e,t,n,r,i,s),function(o){return a=!0,o})},function(o){if(a)return o;throw new st({info:{code:vt.NotSupported}},"Not supported")})})})}),Ui="https://github.com/perry-mitchell/webdav-client/blob/master/LOCK_CONTACT.md";function Mi(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{authType:n=null,remoteBasePath:r,contactHref:i=Ui,ha1:s,headers:u={},httpAgent:c,httpsAgent:p,password:a,token:o,username:h,withCredentials:l}=t;let g=n;g||(g=h||a?rt.Password:rt.None);const d={authType:g,remoteBasePath:r,contactHref:i,ha1:s,headers:Object.assign({},u),httpAgent:c,httpsAgent:p,password:a,remotePath:Pr(e),remoteURL:e,token:o,username:h,withCredentials:l};return Un(d,h,a,o,s),{copyFile:(v,y,x)=>pi(d,v,y,x),createDirectory:(v,y)=>Oe(d,v,y),createReadStream:(v,y)=>function(x,m){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const T=new(vn()).PassThrough;return vi(x,m,E).then(A=>{A.pipe(T)}).catch(A=>{T.emit("error",A)}),T}(d,v,y),createWriteStream:(v,y,x)=>function(m,E){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:bi;const w=new(vn()).PassThrough,_={};T.overwrite===!1&&(_["If-None-Match"]="*");const I=Y({url:V(m.remoteURL,G(E)),method:"PUT",headers:_,data:w,maxRedirects:0},m,T);return H(I,m).then(N=>Z(m,N)).then(N=>{setTimeout(()=>{A(N)},0)}).catch(N=>{w.emit("error",N)}),w}(d,v,y,x),customRequest:(v,y)=>yi(d,v,y),deleteFile:(v,y)=>Ni(d,v,y),exists:(v,y)=>Ei(d,v,y),getDirectoryContents:(v,y)=>wi(d,v,y),getFileContents:(v,y)=>Oi(d,v,y),getFileDownloadLink:v=>function(y,x){let m=V(y.remoteURL,G(x));const E=/^https:/i.test(m)?"https":"http";switch(y.authType){case rt.None:break;case rt.Password:{const T=rn(y.headers.Authorization.replace(/^Basic /i,"").trim());m=m.replace(/^https?:\/\//,`${E}://${T}@`);break}default:throw new st({info:{code:vt.LinkUnsupportedAuthType}},`Unsupported auth type for file link: ${y.authType}`)}return m}(d,v),getFileUploadLink:v=>function(y,x){let m=`${V(y.remoteURL,G(x))}?Content-Type=application/octet-stream`;const E=/^https:/i.test(m)?"https":"http";switch(y.authType){case rt.None:break;case rt.Password:{const T=rn(y.headers.Authorization.replace(/^Basic /i,"").trim());m=m.replace(/^https?:\/\//,`${E}://${T}@`);break}default:throw new st({info:{code:vt.LinkUnsupportedAuthType}},`Unsupported auth type for file link: ${y.authType}`)}return m}(d,v),getHeaders:()=>Object.assign({},d.headers),getQuota:v=>Si(d,v),lock:(v,y)=>_i(d,v,y),moveFile:(v,y,x)=>Li(d,v,y,x),putFileContents:(v,y,x)=>$i(d,v,y,x),partialUpdateFileContents:(v,y,x,m,E)=>ki(d,v,y,x,m,E),getDAVCompliance:v=>er(d,v),search:(v,y)=>Ri(d,v,y),setHeaders:v=>{d.headers=Object.assign({},v)},stat:(v,y)=>je(d,v,y),unlock:(v,y,x)=>Pi(d,v,y,x)}}lt.hT,lt.O4,lt.Kd,lt.YK;var Bi=lt.UU,Gi=lt.Gu;lt.ky,lt.h4,lt.ch,lt.hq,lt.i5;function ft(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function yn(e,t){for(var n="",r=0,i=-1,s=0,u,c=0;c<=e.length;++c){if(c<e.length)u=e.charCodeAt(c);else{if(u===47)break;u=47}if(u===47){if(!(i===c-1||s===1))if(i!==c-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var p=n.lastIndexOf("/");if(p!==n.length-1){p===-1?(n="",r=0):(n=n.slice(0,p),r=n.length-1-n.lastIndexOf("/")),i=c,s=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=c,s=0;continue}}t&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+="/"+e.slice(i+1,c):n=e.slice(i+1,c),r=c-i-1;i=c,s=0}else u===46&&s!==-1?++s:s=-1}return n}function Vi(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+e+r:r}var xt={resolve:function(){for(var e="",t=!1,n,r=arguments.length-1;r>=-1&&!t;r--){var i;r>=0?i=arguments[r]:(n===void 0&&(n=Ot.cwd()),i=n),ft(i),i.length!==0&&(e=i+"/"+e,t=i.charCodeAt(0)===47)}return e=yn(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(ft(e),e.length===0)return".";var t=e.charCodeAt(0)===47,n=e.charCodeAt(e.length-1)===47;return e=yn(e,!t),e.length===0&&!t&&(e="."),e.length>0&&n&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return ft(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var n=arguments[t];ft(n),n.length>0&&(e===void 0?e=n:e+="/"+n)}return e===void 0?".":xt.normalize(e)},relative:function(e,t){if(ft(e),ft(t),e===t||(e=xt.resolve(e),t=xt.resolve(t),e===t))return"";for(var n=1;n<e.length&&e.charCodeAt(n)===47;++n);for(var r=e.length,i=r-n,s=1;s<t.length&&t.charCodeAt(s)===47;++s);for(var u=t.length,c=u-s,p=i<c?i:c,a=-1,o=0;o<=p;++o){if(o===p){if(c>p){if(t.charCodeAt(s+o)===47)return t.slice(s+o+1);if(o===0)return t.slice(s+o)}else i>p&&(e.charCodeAt(n+o)===47?a=o:o===0&&(a=0));break}var h=e.charCodeAt(n+o),l=t.charCodeAt(s+o);if(h!==l)break;h===47&&(a=o)}var g="";for(o=n+a+1;o<=r;++o)(o===r||e.charCodeAt(o)===47)&&(g.length===0?g+="..":g+="/..");return g.length>0?g+t.slice(s+a):(s+=a,t.charCodeAt(s)===47&&++s,t.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(ft(e),e.length===0)return".";for(var t=e.charCodeAt(0),n=t===47,r=-1,i=!0,s=e.length-1;s>=1;--s)if(t=e.charCodeAt(s),t===47){if(!i){r=s;break}}else i=!1;return r===-1?n?"/":".":n&&r===1?"//":e.slice(0,r)},basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ft(e);var n=0,r=-1,i=!0,s;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var u=t.length-1,c=-1;for(s=e.length-1;s>=0;--s){var p=e.charCodeAt(s);if(p===47){if(!i){n=s+1;break}}else c===-1&&(i=!1,c=s+1),u>=0&&(p===t.charCodeAt(u)?--u===-1&&(r=s):(u=-1,r=c))}return n===r?r=c:r===-1&&(r=e.length),e.slice(n,r)}else{for(s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===47){if(!i){n=s+1;break}}else r===-1&&(i=!1,r=s+1);return r===-1?"":e.slice(n,r)}},extname:function(e){ft(e);for(var t=-1,n=0,r=-1,i=!0,s=0,u=e.length-1;u>=0;--u){var c=e.charCodeAt(u);if(c===47){if(!i){n=u+1;break}continue}r===-1&&(i=!1,r=u+1),c===46?t===-1?t=u:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||r===-1||s===0||s===1&&t===r-1&&t===n+1?"":e.slice(t,r)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return Vi("/",e)},parse:function(e){ft(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var n=e.charCodeAt(0),r=n===47,i;r?(t.root="/",i=1):i=0;for(var s=-1,u=0,c=-1,p=!0,a=e.length-1,o=0;a>=i;--a){if(n=e.charCodeAt(a),n===47){if(!p){u=a+1;break}continue}c===-1&&(p=!1,c=a+1),n===46?s===-1?s=a:o!==1&&(o=1):s!==-1&&(o=-1)}return s===-1||c===-1||o===0||o===1&&s===c-1&&s===u+1?c!==-1&&(u===0&&r?t.base=t.name=e.slice(1,c):t.base=t.name=e.slice(u,c)):(u===0&&r?(t.name=e.slice(1,s),t.base=e.slice(1,c)):(t.name=e.slice(u,s),t.base=e.slice(u,c)),t.ext=e.slice(s,c)),u>0?t.dir=e.slice(0,u-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};xt.posix=xt;var Nt=xt;const Ae=hr().setApp("@nextcloud/files").detectUser().build();var Me=(e=>(e.Folder="folder",e.File="file",e))(Me||{}),ht=(e=>(e[e.NONE=0]="NONE",e[e.CREATE=4]="CREATE",e[e.READ=1]="READ",e[e.UPDATE=2]="UPDATE",e[e.DELETE=8]="DELETE",e[e.SHARE=16]="SHARE",e[e.ALL=31]="ALL",e))(ht||{});const nr=function(e,t){return e.match(t)!==null},bt=(e,t)=>{if(e.id&&typeof e.id!="number")throw new Error("Invalid id type of value");if(!e.source)throw new Error("Missing mandatory source");try{new URL(e.source)}catch{throw new Error("Invalid source format, source must be a valid URL")}if(!e.source.startsWith("http"))throw new Error("Invalid source format, only http(s) is supported");if(e.displayname&&typeof e.displayname!="string")throw new Error("Invalid displayname type");if(e.mtime&&!(e.mtime instanceof Date))throw new Error("Invalid mtime type");if(e.crtime&&!(e.crtime instanceof Date))throw new Error("Invalid crtime type");if(!e.mime||typeof e.mime!="string"||!e.mime.match(/^[-\w.]+\/[-+\w.]+$/gi))throw new Error("Missing or invalid mandatory mime");if("size"in e&&typeof e.size!="number"&&e.size!==void 0)throw new Error("Invalid size type");if("permissions"in e&&e.permissions!==void 0&&!(typeof e.permissions=="number"&&e.permissions>=ht.NONE&&e.permissions<=ht.ALL))throw new Error("Invalid permissions");if(e.owner&&e.owner!==null&&typeof e.owner!="string")throw new Error("Invalid owner type");if(e.attributes&&typeof e.attributes!="object")throw new Error("Invalid attributes type");if(e.root&&typeof e.root!="string")throw new Error("Invalid root type");if(e.root&&!e.root.startsWith("/"))throw new Error("Root must start with a leading slash");if(e.root&&!e.source.includes(e.root))throw new Error("Root must be part of the source");if(e.root&&nr(e.source,t)){const n=e.source.match(t)[0];if(!e.source.includes(Nt.join(n,e.root)))throw new Error("The root must be relative to the service. e.g /files/emma")}if(e.status&&!Object.values(Be).includes(e.status))throw new Error("Status must be a valid NodeStatus")};var Be=(e=>(e.NEW="new",e.FAILED="failed",e.LOADING="loading",e.LOCKED="locked",e))(Be||{});class Kt{_data;_attributes;_knownDavService=/(remote|public)\.php\/(web)?dav/i;readonlyAttributes=Object.entries(Object.getOwnPropertyDescriptors(Kt.prototype)).filter(t=>typeof t[1].get=="function"&&t[0]!=="__proto__").map(t=>t[0]);handler={set:(t,n,r)=>this.readonlyAttributes.includes(n)?!1:Reflect.set(t,n,r),deleteProperty:(t,n)=>this.readonlyAttributes.includes(n)?!1:Reflect.deleteProperty(t,n),get:(t,n,r)=>this.readonlyAttributes.includes(n)?(Ae.warn(`Accessing "Node.attributes.${n}" is deprecated, access it directly on the Node instance.`),Reflect.get(this,n)):Reflect.get(t,n,r)};constructor(t,n){t.mime||(t.mime="application/octet-stream"),bt(t,n||this._knownDavService),this._data={displayname:t.attributes?.displayname,...t,attributes:{}},this._attributes=new Proxy(this._data.attributes,this.handler),this.update(t.attributes??{}),n&&(this._knownDavService=n)}get source(){return this._data.source.replace(/\/$/i,"")}get encodedSource(){const{origin:t}=new URL(this.source);return t+br(this.source.slice(t.length))}get basename(){return Nt.basename(this.source)}get displayname(){return this._data.displayname||this.basename}set displayname(t){bt({...this._data,displayname:t},this._knownDavService),this._data.displayname=t}get extension(){return Nt.extname(this.source)}get dirname(){if(this.root){let n=this.source;this.isDavResource&&(n=n.split(this._knownDavService).pop());const r=n.indexOf(this.root),i=this.root.replace(/\/$/,"");return Nt.dirname(n.slice(r+i.length)||"/")}const t=new URL(this.source);return Nt.dirname(t.pathname)}get mime(){return this._data.mime||"application/octet-stream"}set mime(t){t??="application/octet-stream",bt({...this._data,mime:t},this._knownDavService),this._data.mime=t}get mtime(){return this._data.mtime}set mtime(t){bt({...this._data,mtime:t},this._knownDavService),this._data.mtime=t}get crtime(){return this._data.crtime}get size(){return this._data.size}set size(t){bt({...this._data,size:t},this._knownDavService),this.updateMtime(),this._data.size=t}get attributes(){return this._attributes}get permissions(){return this.owner===null&&!this.isDavResource?ht.READ:this._data.permissions!==void 0?this._data.permissions:ht.NONE}set permissions(t){bt({...this._data,permissions:t},this._knownDavService),this.updateMtime(),this._data.permissions=t}get owner(){return this.isDavResource?this._data.owner:null}get isDavResource(){return nr(this.source,this._knownDavService)}get isDavRessource(){return this.isDavResource}get root(){return this._data.root?this._data.root.replace(/^(.+)\/$/,"$1"):this.isDavResource&&Nt.dirname(this.source).split(this._knownDavService).pop()||null}get path(){if(this.root){let t=this.source;this.isDavResource&&(t=t.split(this._knownDavService).pop());const n=t.indexOf(this.root),r=this.root.replace(/\/$/,"");return t.slice(n+r.length)||"/"}return(this.dirname+"/"+this.basename).replace(/\/\//g,"/")}get fileid(){return this._data?.id}get status(){return this._data?.status}set status(t){bt({...this._data,status:t},this._knownDavService),this._data.status=t}get data(){return structuredClone(this._data)}move(t){bt({...this._data,source:t},this._knownDavService);const n=this.basename;this._data.source=t,this.displayname===n&&this.basename!==n&&(this.displayname=this.basename)}rename(t){if(t.includes("/"))throw new Error("Invalid basename");this.move(Nt.dirname(this.source)+"/"+t)}updateMtime(){this._data.mtime&&(this._data.mtime=new Date)}update(t){for(const[n,r]of Object.entries(t))try{r===void 0?delete this.attributes[n]:this.attributes[n]=r}catch(i){if(i instanceof TypeError)continue;throw i}}}class Ge extends Kt{get type(){return Me.File}clone(){return new Ge(this.data)}}class Ve extends Kt{constructor(t){super({...t,mime:"httpd/unix-directory"})}get type(){return Me.Folder}get extension(){return null}get mime(){return"httpd/unix-directory"}clone(){return new Ve(this.data)}}const Xi=function(e=""){let t=ht.NONE;return e&&((e.includes("C")||e.includes("K"))&&(t|=ht.CREATE),e.includes("G")&&(t|=ht.READ),(e.includes("W")||e.includes("N")||e.includes("V"))&&(t|=ht.UPDATE),e.includes("D")&&(t|=ht.DELETE),e.includes("R")&&(t|=ht.SHARE)),t},Wi=["d:getcontentlength","d:getcontenttype","d:getetag","d:getlastmodified","d:creationdate","d:displayname","d:quota-available-bytes","d:resourcetype","nc:has-preview","nc:is-encrypted","nc:mount-type","oc:comments-unread","oc:favorite","oc:fileid","oc:owner-display-name","oc:owner-id","oc:permissions","oc:size"],qi={d:"DAV:",nc:"http://nextcloud.org/ns",oc:"http://owncloud.org/ns",ocs:"http://open-collaboration-services.org/ns"},Xe=function(){return typeof window._nc_dav_properties>"u"&&(window._nc_dav_properties=[...Wi]),window._nc_dav_properties.map(e=>`<${e} />`).join(" ")},We=function(){return typeof window._nc_dav_namespaces>"u"&&(window._nc_dav_namespaces={...qi}),Object.keys(window._nc_dav_namespaces).map(e=>`xmlns:${e}="${window._nc_dav_namespaces?.[e]}"`).join(" ")},ws=function(){return`<?xml version="1.0"?>
		<d:propfind ${We()}>
			<d:prop>
				${Xe()}
			</d:prop>
		</d:propfind>`},zi=function(){return`<?xml version="1.0"?>
		<oc:filter-files ${We()}>
			<d:prop>
				${Xe()}
			</d:prop>
			<oc:filter-rules>
				<oc:favorite>1</oc:favorite>
			</oc:filter-rules>
		</oc:filter-files>`},Ts=function(e){return`<?xml version="1.0" encoding="UTF-8"?>
<d:searchrequest ${We()}
	xmlns:ns="https://github.com/icewind1991/SearchDAV/ns">
	<d:basicsearch>
		<d:select>
			<d:prop>
				${Xe()}
			</d:prop>
		</d:select>
		<d:from>
			<d:scope>
				<d:href>/files/${_e()?.uid}/</d:href>
				<d:depth>infinity</d:depth>
			</d:scope>
		</d:from>
		<d:where>
			<d:and>
				<d:or>
					<d:not>
						<d:eq>
							<d:prop>
								<d:getcontenttype/>
							</d:prop>
							<d:literal>httpd/unix-directory</d:literal>
						</d:eq>
					</d:not>
					<d:eq>
						<d:prop>
							<oc:size/>
						</d:prop>
						<d:literal>0</d:literal>
					</d:eq>
				</d:or>
				<d:gt>
					<d:prop>
						<d:getlastmodified/>
					</d:prop>
					<d:literal>${e}</d:literal>
				</d:gt>
			</d:and>
		</d:where>
		<d:orderby>
			<d:order>
				<d:prop>
					<d:getlastmodified/>
				</d:prop>
				<d:descending/>
			</d:order>
		</d:orderby>
		<d:limit>
			<d:nresults>100</d:nresults>
			<ns:firstresult>0</ns:firstresult>
		</d:limit>
	</d:basicsearch>
</d:searchrequest>`};function Hi(){return Ce()?`/files/${yr()}`:`/files/${_e()?.uid}`}const rr=Hi();function Yi(){const e=pr("dav");return Ce()?e.replace("remote.php","public.php"):e}const ir=Yi(),Is=function(e=ir,t={}){const n=Bi(e,{headers:t});function r(i){n.setHeaders({...t,"X-Requested-With":"XMLHttpRequest",requesttoken:i??""})}return fr(r),r(dr()),Gi().patch("fetch",(i,s)=>{const u=s.headers;return u?.method&&(s.method=u.method,delete u.method),fetch(i,s)}),n},Os=(e,t="/",n=rr)=>{const r=new AbortController;return new gt(async(i,s,u)=>{u(()=>r.abort());try{const c=(await e.getDirectoryContents(`${n}${t}`,{signal:r.signal,details:!0,data:zi(),headers:{method:"REPORT"},includeSelf:!0})).data.filter(p=>p.filename!==t).map(p=>Zi(p,n));i(c)}catch(c){s(c)}})},Zi=function(e,t=rr,n=ir){let r=_e()?.uid;if(Ce())r=r??"anonymous";else if(!r)throw new Error("No user id found");const i=e.props,s=Xi(i?.permissions),u=String(i?.["owner-id"]||r),c=i.fileid||0,p=new Date(Date.parse(e.lastmod)),a=new Date(Date.parse(i.creationdate)),o={id:c,source:`${n}${e.filename}`,mtime:!isNaN(p.getTime())&&p.getTime()!==0?p:void 0,crtime:!isNaN(a.getTime())&&a.getTime()!==0?a:void 0,mime:e.mime||"application/octet-stream",displayname:i.displayname!==void 0?String(i.displayname):void 0,size:i?.size||Number.parseInt(i.getcontentlength||"0"),status:c<0?Be.FAILED:void 0,permissions:s,owner:u,root:t,attributes:{...e,...i,hasPreview:i?.["has-preview"]}};return delete o.attributes?.props,e.type==="file"?new Ge(o):new Ve(o)};var sr={},Pe={exports:{}};const Ki=gr(mr);(function(e,t){var n=Ki,r=n.Buffer;function i(u,c){for(var p in u)c[p]=u[p]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=s);function s(u,c,p){return r(u,c,p)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(u,c,p){if(typeof u=="number")throw new TypeError("Argument must not be a number");return r(u,c,p)},s.alloc=function(u,c,p){if(typeof u!="number")throw new TypeError("Argument must be a number");var a=r(u);return c!==void 0?typeof p=="string"?a.fill(c,p):a.fill(c):a.fill(0),a},s.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return r(u)},s.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(u)}})(Pe,Pe.exports);var Ji=Pe.exports,qe=Ji.Buffer,Nn=qe.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Qi(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function ts(e){var t=Qi(e);if(typeof t!="string"&&(qe.isEncoding===Nn||!Nn(e)))throw new Error("Unknown encoding: "+e);return t||e}sr.StringDecoder=Rt;function Rt(e){this.encoding=ts(e);var t;switch(this.encoding){case"utf16le":this.text=os,this.end=as,t=4;break;case"utf8":this.fillLast=rs,t=4;break;case"base64":this.text=us,this.end=cs,t=3;break;default:this.write=ls,this.end=hs;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=qe.allocUnsafe(t)}Rt.prototype.write=function(e){if(e.length===0)return"";var t,n;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},Rt.prototype.end=ss,Rt.prototype.text=is,Rt.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function le(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function es(e,t,n){var r=t.length-1;if(r<n)return 0;var i=le(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||i===-2?0:(i=le(t[r]),i>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||i===-2?0:(i=le(t[r]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function ns(e,t,n){if((t[0]&192)!==128)return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"�"}}function rs(e){var t=this.lastTotal-this.lastNeed,n=ns(this,e);if(n!==void 0)return n;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function is(e,t){var n=es(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function ss(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function os(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function as(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function us(e,t){var n=(e.length-t)%3;return n===0?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,n===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function cs(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function ls(e){return e.toString(this.encoding)}function hs(e){return e&&e.length?this.write(e):""}var he={},or=(e=>(e.DEFAULT="default",e.HIDDEN="hidden",e))(or||{});class xs{_action;constructor(t){this.validateAction(t),this._action=t}get id(){return this._action.id}get displayName(){return this._action.displayName}get title(){return this._action.title}get iconSvgInline(){return this._action.iconSvgInline}get enabled(){return this._action.enabled}get exec(){return this._action.exec}get execBatch(){return this._action.execBatch}get hotkey(){return this._action.hotkey}get order(){return this._action.order}get parent(){return this._action.parent}get default(){return this._action.default}get destructive(){return this._action.destructive}get inline(){return this._action.inline}get renderInline(){return this._action.renderInline}validateAction(t){if(!t.id||typeof t.id!="string")throw new Error("Invalid id");if(!t.displayName||typeof t.displayName!="function")throw new Error("Invalid displayName function");if("title"in t&&typeof t.title!="function")throw new Error("Invalid title function");if(!t.iconSvgInline||typeof t.iconSvgInline!="function")throw new Error("Invalid iconSvgInline function");if(!t.exec||typeof t.exec!="function")throw new Error("Invalid exec function");if("enabled"in t&&typeof t.enabled!="function")throw new Error("Invalid enabled function");if("execBatch"in t&&typeof t.execBatch!="function")throw new Error("Invalid execBatch function");if("order"in t&&typeof t.order!="number")throw new Error("Invalid order");if(t.destructive!==void 0&&typeof t.destructive!="boolean")throw new Error("Invalid destructive flag");if("parent"in t&&typeof t.parent!="string")throw new Error("Invalid parent");if(t.default&&!Object.values(or).includes(t.default))throw new Error("Invalid default");if("inline"in t&&typeof t.inline!="function")throw new Error("Invalid inline function");if("renderInline"in t&&typeof t.renderInline!="function")throw new Error("Invalid renderInline function");if("hotkey"in t&&t.hotkey!==void 0){if(typeof t.hotkey!="object")throw new Error("Invalid hotkey configuration");if(typeof t.hotkey.key!="string"||!t.hotkey.key)throw new Error("Missing or invalid hotkey key");if(typeof t.hotkey.description!="string"||!t.hotkey.description)throw new Error("Missing or invalid hotkey description")}}}const As=function(e){if(typeof window._nc_fileactions>"u"&&(window._nc_fileactions=[],Ae.debug("FileActions initialized")),window._nc_fileactions.find(t=>t.id===e.id)){Ae.error(`FileAction ${e.id} already registered`,{action:e});return}window._nc_fileactions.push(e)};var En,wn;function ar(){return wn||(wn=1,En=typeof Ot=="object"&&he&&he.NODE_DEBUG&&/\bsemver\b/i.test(he.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{}),En}var pe,Tn;function ur(){if(Tn)return pe;Tn=1;const e="2.0.0",t=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,r=16,i=t-6;return pe={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},pe}var fe={exports:{}},In;function ps(){return In||(In=1,function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=ur(),s=ar();t=e.exports={};const u=t.re=[],c=t.safeRe=[],p=t.src=[],a=t.t={};let o=0;const h="[a-zA-Z0-9-]",l=[["\\s",1],["\\d",i],[h,r]],g=v=>{for(const[y,x]of l)v=v.split(`${y}*`).join(`${y}{0,${x}}`).split(`${y}+`).join(`${y}{1,${x}}`);return v},d=(v,y,x)=>{const m=g(y),E=o++;s(v,E,y),a[v]=E,p[E]=y,u[E]=new RegExp(y,x?"g":void 0),c[E]=new RegExp(m,x?"g":void 0)};d("NUMERICIDENTIFIER","0|[1-9]\\d*"),d("NUMERICIDENTIFIERLOOSE","\\d+"),d("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),d("MAINVERSION",`(${p[a.NUMERICIDENTIFIER]})\\.(${p[a.NUMERICIDENTIFIER]})\\.(${p[a.NUMERICIDENTIFIER]})`),d("MAINVERSIONLOOSE",`(${p[a.NUMERICIDENTIFIERLOOSE]})\\.(${p[a.NUMERICIDENTIFIERLOOSE]})\\.(${p[a.NUMERICIDENTIFIERLOOSE]})`),d("PRERELEASEIDENTIFIER",`(?:${p[a.NUMERICIDENTIFIER]}|${p[a.NONNUMERICIDENTIFIER]})`),d("PRERELEASEIDENTIFIERLOOSE",`(?:${p[a.NUMERICIDENTIFIERLOOSE]}|${p[a.NONNUMERICIDENTIFIER]})`),d("PRERELEASE",`(?:-(${p[a.PRERELEASEIDENTIFIER]}(?:\\.${p[a.PRERELEASEIDENTIFIER]})*))`),d("PRERELEASELOOSE",`(?:-?(${p[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${p[a.PRERELEASEIDENTIFIERLOOSE]})*))`),d("BUILDIDENTIFIER",`${h}+`),d("BUILD",`(?:\\+(${p[a.BUILDIDENTIFIER]}(?:\\.${p[a.BUILDIDENTIFIER]})*))`),d("FULLPLAIN",`v?${p[a.MAINVERSION]}${p[a.PRERELEASE]}?${p[a.BUILD]}?`),d("FULL",`^${p[a.FULLPLAIN]}$`),d("LOOSEPLAIN",`[v=\\s]*${p[a.MAINVERSIONLOOSE]}${p[a.PRERELEASELOOSE]}?${p[a.BUILD]}?`),d("LOOSE",`^${p[a.LOOSEPLAIN]}$`),d("GTLT","((?:<|>)?=?)"),d("XRANGEIDENTIFIERLOOSE",`${p[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),d("XRANGEIDENTIFIER",`${p[a.NUMERICIDENTIFIER]}|x|X|\\*`),d("XRANGEPLAIN",`[v=\\s]*(${p[a.XRANGEIDENTIFIER]})(?:\\.(${p[a.XRANGEIDENTIFIER]})(?:\\.(${p[a.XRANGEIDENTIFIER]})(?:${p[a.PRERELEASE]})?${p[a.BUILD]}?)?)?`),d("XRANGEPLAINLOOSE",`[v=\\s]*(${p[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${p[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${p[a.XRANGEIDENTIFIERLOOSE]})(?:${p[a.PRERELEASELOOSE]})?${p[a.BUILD]}?)?)?`),d("XRANGE",`^${p[a.GTLT]}\\s*${p[a.XRANGEPLAIN]}$`),d("XRANGELOOSE",`^${p[a.GTLT]}\\s*${p[a.XRANGEPLAINLOOSE]}$`),d("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),d("COERCE",`${p[a.COERCEPLAIN]}(?:$|[^\\d])`),d("COERCEFULL",p[a.COERCEPLAIN]+`(?:${p[a.PRERELEASE]})?(?:${p[a.BUILD]})?(?:$|[^\\d])`),d("COERCERTL",p[a.COERCE],!0),d("COERCERTLFULL",p[a.COERCEFULL],!0),d("LONETILDE","(?:~>?)"),d("TILDETRIM",`(\\s*)${p[a.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",d("TILDE",`^${p[a.LONETILDE]}${p[a.XRANGEPLAIN]}$`),d("TILDELOOSE",`^${p[a.LONETILDE]}${p[a.XRANGEPLAINLOOSE]}$`),d("LONECARET","(?:\\^)"),d("CARETTRIM",`(\\s*)${p[a.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",d("CARET",`^${p[a.LONECARET]}${p[a.XRANGEPLAIN]}$`),d("CARETLOOSE",`^${p[a.LONECARET]}${p[a.XRANGEPLAINLOOSE]}$`),d("COMPARATORLOOSE",`^${p[a.GTLT]}\\s*(${p[a.LOOSEPLAIN]})$|^$`),d("COMPARATOR",`^${p[a.GTLT]}\\s*(${p[a.FULLPLAIN]})$|^$`),d("COMPARATORTRIM",`(\\s*)${p[a.GTLT]}\\s*(${p[a.LOOSEPLAIN]}|${p[a.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",d("HYPHENRANGE",`^\\s*(${p[a.XRANGEPLAIN]})\\s+-\\s+(${p[a.XRANGEPLAIN]})\\s*$`),d("HYPHENRANGELOOSE",`^\\s*(${p[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${p[a.XRANGEPLAINLOOSE]})\\s*$`),d("STAR","(<|>)?=?\\s*\\*"),d("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),d("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(fe,fe.exports)),fe.exports}var de,On;function fs(){if(On)return de;On=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return de=n=>n?typeof n!="object"?e:n:t,de}var ge,xn;function ds(){if(xn)return ge;xn=1;const e=/^[0-9]+$/,t=(n,r)=>{const i=e.test(n),s=e.test(r);return i&&s&&(n=+n,r=+r),n===r?0:i&&!s?-1:s&&!i?1:n<r?-1:1};return ge={compareIdentifiers:t,rcompareIdentifiers:(n,r)=>t(r,n)},ge}var me,An;function cr(){if(An)return me;An=1;const e=ar(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:n}=ur(),{safeRe:r,t:i}=ps(),s=fs(),{compareIdentifiers:u}=ds();class c{constructor(a,o){if(o=s(o),a instanceof c){if(a.loose===!!o.loose&&a.includePrerelease===!!o.includePrerelease)return a;a=a.version}else if(typeof a!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof a}".`);if(a.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",a,o),this.options=o,this.loose=!!o.loose,this.includePrerelease=!!o.includePrerelease;const h=a.trim().match(o.loose?r[i.LOOSE]:r[i.FULL]);if(!h)throw new TypeError(`Invalid Version: ${a}`);if(this.raw=a,this.major=+h[1],this.minor=+h[2],this.patch=+h[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");h[4]?this.prerelease=h[4].split(".").map(l=>{if(/^[0-9]+$/.test(l)){const g=+l;if(g>=0&&g<n)return g}return l}):this.prerelease=[],this.build=h[5]?h[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(a){if(e("SemVer.compare",this.version,this.options,a),!(a instanceof c)){if(typeof a=="string"&&a===this.version)return 0;a=new c(a,this.options)}return a.version===this.version?0:this.compareMain(a)||this.comparePre(a)}compareMain(a){return a instanceof c||(a=new c(a,this.options)),u(this.major,a.major)||u(this.minor,a.minor)||u(this.patch,a.patch)}comparePre(a){if(a instanceof c||(a=new c(a,this.options)),this.prerelease.length&&!a.prerelease.length)return-1;if(!this.prerelease.length&&a.prerelease.length)return 1;if(!this.prerelease.length&&!a.prerelease.length)return 0;let o=0;do{const h=this.prerelease[o],l=a.prerelease[o];if(e("prerelease compare",o,h,l),h===void 0&&l===void 0)return 0;if(l===void 0)return 1;if(h===void 0)return-1;if(h!==l)return u(h,l)}while(++o)}compareBuild(a){a instanceof c||(a=new c(a,this.options));let o=0;do{const h=this.build[o],l=a.build[o];if(e("build compare",o,h,l),h===void 0&&l===void 0)return 0;if(l===void 0)return 1;if(h===void 0)return-1;if(h!==l)return u(h,l)}while(++o)}inc(a,o,h){switch(a){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",o,h);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",o,h);break;case"prepatch":this.prerelease.length=0,this.inc("patch",o,h),this.inc("pre",o,h);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",o,h),this.inc("pre",o,h);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const l=Number(h)?1:0;if(!o&&h===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[l];else{let g=this.prerelease.length;for(;--g>=0;)typeof this.prerelease[g]=="number"&&(this.prerelease[g]++,g=-2);if(g===-1){if(o===this.prerelease.join(".")&&h===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(l)}}if(o){let g=[o,l];h===!1&&(g=[o]),u(this.prerelease[0],o)===0?isNaN(this.prerelease[1])&&(this.prerelease=g):this.prerelease=g}break}default:throw new Error(`invalid increment argument: ${a}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return me=c,me}var ve,Pn;function gs(){if(Pn)return ve;Pn=1;const e=cr();return ve=(t,n,r=!1)=>{if(t instanceof e)return t;try{return new e(t,n)}catch(i){if(!r)return null;throw i}},ve}var be,_n;function ms(){if(_n)return be;_n=1;const e=gs();return be=(t,n)=>{const r=e(t,n);return r?r.version:null},be}ms();var ye,Cn;function vs(){if(Cn)return ye;Cn=1;const e=cr();return ye=(t,n)=>new e(t,n).major,ye}vs();var Sn={},Rn;function bs(){return Rn||(Rn=1,function(e){(function(t){t.parser=function(b,f){return new r(b,f)},t.SAXParser=r,t.SAXStream=o,t.createStream=a,t.MAX_BUFFER_LENGTH=64*1024;var n=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function r(b,f){if(!(this instanceof r))return new r(b,f);var C=this;s(C),C.q=C.c="",C.bufferCheckPosition=t.MAX_BUFFER_LENGTH,C.opt=f||{},C.opt.lowercase=C.opt.lowercase||C.opt.lowercasetags,C.looseCase=C.opt.lowercase?"toLowerCase":"toUpperCase",C.tags=[],C.closed=C.closedRoot=C.sawRoot=!1,C.tag=C.error=null,C.strict=!!b,C.noscript=!!(b||C.opt.noscript),C.state=N.BEGIN,C.strictEntities=C.opt.strictEntities,C.ENTITIES=C.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),C.attribList=[],C.opt.xmlns&&(C.ns=Object.create(v)),C.opt.unquotedAttributeValues===void 0&&(C.opt.unquotedAttributeValues=!b),C.trackPosition=C.opt.position!==!1,C.trackPosition&&(C.position=C.line=C.column=0),R(C,"onready")}Object.create||(Object.create=function(b){function f(){}f.prototype=b;var C=new f;return C}),Object.keys||(Object.keys=function(b){var f=[];for(var C in b)b.hasOwnProperty(C)&&f.push(C);return f});function i(b){for(var f=Math.max(t.MAX_BUFFER_LENGTH,10),C=0,O=0,k=n.length;O<k;O++){var q=b[n[O]].length;if(q>f)switch(n[O]){case"textNode":P(b);break;case"cdata":L(b,"oncdata",b.cdata),b.cdata="";break;case"script":L(b,"onscript",b.script),b.script="";break;default:D(b,"Max buffer length exceeded: "+n[O])}C=Math.max(C,q)}var z=t.MAX_BUFFER_LENGTH-C;b.bufferCheckPosition=z+b.position}function s(b){for(var f=0,C=n.length;f<C;f++)b[n[f]]=""}function u(b){P(b),b.cdata!==""&&(L(b,"oncdata",b.cdata),b.cdata=""),b.script!==""&&(L(b,"onscript",b.script),b.script="")}r.prototype={end:function(){j(this)},write:Jt,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){u(this)}};var c;try{c=require("stream").Stream}catch{c=function(){}}c||(c=function(){});var p=t.EVENTS.filter(function(b){return b!=="error"&&b!=="end"});function a(b,f){return new o(b,f)}function o(b,f){if(!(this instanceof o))return new o(b,f);c.apply(this),this._parser=new r(b,f),this.writable=!0,this.readable=!0;var C=this;this._parser.onend=function(){C.emit("end")},this._parser.onerror=function(O){C.emit("error",O),C._parser.error=null},this._decoder=null,p.forEach(function(O){Object.defineProperty(C,"on"+O,{get:function(){return C._parser["on"+O]},set:function(k){if(!k)return C.removeAllListeners(O),C._parser["on"+O]=k,k;C.on(O,k)},enumerable:!0,configurable:!1})})}o.prototype=Object.create(c.prototype,{constructor:{value:o}}),o.prototype.write=function(b){if(typeof te=="function"&&typeof te.isBuffer=="function"&&te.isBuffer(b)){if(!this._decoder){var f=sr.StringDecoder;this._decoder=new f("utf8")}b=this._decoder.write(b)}return this._parser.write(b.toString()),this.emit("data",b),!0},o.prototype.end=function(b){return b&&b.length&&this.write(b),this._parser.end(),!0},o.prototype.on=function(b,f){var C=this;return!C._parser["on"+b]&&p.indexOf(b)!==-1&&(C._parser["on"+b]=function(){var O=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);O.splice(0,0,b),C.emit.apply(C,O)}),c.prototype.on.call(C,b,f)};var h="[CDATA[",l="DOCTYPE",g="http://www.w3.org/XML/1998/namespace",d="http://www.w3.org/2000/xmlns/",v={xml:g,xmlns:d},y=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,x=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,m=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,E=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function T(b){return b===" "||b===`
`||b==="\r"||b==="	"}function A(b){return b==='"'||b==="'"}function w(b){return b===">"||T(b)}function _(b,f){return b.test(f)}function I(b,f){return!_(b,f)}var N=0;t.STATE={BEGIN:N++,BEGIN_WHITESPACE:N++,TEXT:N++,TEXT_ENTITY:N++,OPEN_WAKA:N++,SGML_DECL:N++,SGML_DECL_QUOTED:N++,DOCTYPE:N++,DOCTYPE_QUOTED:N++,DOCTYPE_DTD:N++,DOCTYPE_DTD_QUOTED:N++,COMMENT_STARTING:N++,COMMENT:N++,COMMENT_ENDING:N++,COMMENT_ENDED:N++,CDATA:N++,CDATA_ENDING:N++,CDATA_ENDING_2:N++,PROC_INST:N++,PROC_INST_BODY:N++,PROC_INST_ENDING:N++,OPEN_TAG:N++,OPEN_TAG_SLASH:N++,ATTRIB:N++,ATTRIB_NAME:N++,ATTRIB_NAME_SAW_WHITE:N++,ATTRIB_VALUE:N++,ATTRIB_VALUE_QUOTED:N++,ATTRIB_VALUE_CLOSED:N++,ATTRIB_VALUE_UNQUOTED:N++,ATTRIB_VALUE_ENTITY_Q:N++,ATTRIB_VALUE_ENTITY_U:N++,CLOSE_TAG:N++,CLOSE_TAG_SAW_WHITE:N++,SCRIPT:N++,SCRIPT_ENDING:N++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(b){var f=t.ENTITIES[b],C=typeof f=="number"?String.fromCharCode(f):f;t.ENTITIES[b]=C});for(var S in t.STATE)t.STATE[t.STATE[S]]=S;N=t.STATE;function R(b,f,C){b[f]&&b[f](C)}function L(b,f,C){b.textNode&&P(b),R(b,f,C)}function P(b){b.textNode=$(b.opt,b.textNode),b.textNode&&R(b,"ontext",b.textNode),b.textNode=""}function $(b,f){return b.trim&&(f=f.trim()),b.normalize&&(f=f.replace(/\s+/g," ")),f}function D(b,f){return P(b),b.trackPosition&&(f+=`
Line: `+b.line+`
Column: `+b.column+`
Char: `+b.c),f=new Error(f),b.error=f,R(b,"onerror",f),b}function j(b){return b.sawRoot&&!b.closedRoot&&F(b,"Unclosed root tag"),b.state!==N.BEGIN&&b.state!==N.BEGIN_WHITESPACE&&b.state!==N.TEXT&&D(b,"Unexpected end"),P(b),b.c="",b.closed=!0,R(b,"onend"),r.call(b,b.strict,b.opt),b}function F(b,f){if(typeof b!="object"||!(b instanceof r))throw new Error("bad call to strictFail");b.strict&&D(b,f)}function X(b){b.strict||(b.tagName=b.tagName[b.looseCase]());var f=b.tags[b.tags.length-1]||b,C=b.tag={name:b.tagName,attributes:{}};b.opt.xmlns&&(C.ns=f.ns),b.attribList.length=0,L(b,"onopentagstart",C)}function B(b,f){var C=b.indexOf(":"),O=C<0?["",b]:b.split(":"),k=O[0],q=O[1];return f&&b==="xmlns"&&(k="xmlns",q=""),{prefix:k,local:q}}function Q(b){if(b.strict||(b.attribName=b.attribName[b.looseCase]()),b.attribList.indexOf(b.attribName)!==-1||b.tag.attributes.hasOwnProperty(b.attribName)){b.attribName=b.attribValue="";return}if(b.opt.xmlns){var f=B(b.attribName,!0),C=f.prefix,O=f.local;if(C==="xmlns")if(O==="xml"&&b.attribValue!==g)F(b,"xml: prefix must be bound to "+g+`
Actual: `+b.attribValue);else if(O==="xmlns"&&b.attribValue!==d)F(b,"xmlns: prefix must be bound to "+d+`
Actual: `+b.attribValue);else{var k=b.tag,q=b.tags[b.tags.length-1]||b;k.ns===q.ns&&(k.ns=Object.create(q.ns)),k.ns[O]=b.attribValue}b.attribList.push([b.attribName,b.attribValue])}else b.tag.attributes[b.attribName]=b.attribValue,L(b,"onattribute",{name:b.attribName,value:b.attribValue});b.attribName=b.attribValue=""}function U(b,f){if(b.opt.xmlns){var C=b.tag,O=B(b.tagName);C.prefix=O.prefix,C.local=O.local,C.uri=C.ns[O.prefix]||"",C.prefix&&!C.uri&&(F(b,"Unbound namespace prefix: "+JSON.stringify(b.tagName)),C.uri=O.prefix);var k=b.tags[b.tags.length-1]||b;C.ns&&k.ns!==C.ns&&Object.keys(C.ns).forEach(function(He){L(b,"onopennamespace",{prefix:He,uri:C.ns[He]})});for(var q=0,z=b.attribList.length;q<z;q++){var ot=b.attribList[q],at=ot[0],wt=ot[1],K=B(at,!0),dt=K.prefix,lr=K.local,ze=dt===""?"":C.ns[dt]||"",Qt={name:at,value:wt,prefix:dt,local:lr,uri:ze};dt&&dt!=="xmlns"&&!ze&&(F(b,"Unbound namespace prefix: "+JSON.stringify(dt)),Qt.uri=dt),b.tag.attributes[at]=Qt,L(b,"onattribute",Qt)}b.attribList.length=0}b.tag.isSelfClosing=!!f,b.sawRoot=!0,b.tags.push(b.tag),L(b,"onopentag",b.tag),f||(!b.noscript&&b.tagName.toLowerCase()==="script"?b.state=N.SCRIPT:b.state=N.TEXT,b.tag=null,b.tagName=""),b.attribName=b.attribValue="",b.attribList.length=0}function W(b){if(!b.tagName){F(b,"Weird empty close tag."),b.textNode+="</>",b.state=N.TEXT;return}if(b.script){if(b.tagName!=="script"){b.script+="</"+b.tagName+">",b.tagName="",b.state=N.SCRIPT;return}L(b,"onscript",b.script),b.script=""}var f=b.tags.length,C=b.tagName;b.strict||(C=C[b.looseCase]());for(var O=C;f--;){var k=b.tags[f];if(k.name!==O)F(b,"Unexpected close tag");else break}if(f<0){F(b,"Unmatched closing tag: "+b.tagName),b.textNode+="</"+b.tagName+">",b.state=N.TEXT;return}b.tagName=C;for(var q=b.tags.length;q-- >f;){var z=b.tag=b.tags.pop();b.tagName=b.tag.name,L(b,"onclosetag",b.tagName);var ot={};for(var at in z.ns)ot[at]=z.ns[at];var wt=b.tags[b.tags.length-1]||b;b.opt.xmlns&&z.ns!==wt.ns&&Object.keys(z.ns).forEach(function(K){var dt=z.ns[K];L(b,"onclosenamespace",{prefix:K,uri:dt})})}f===0&&(b.closedRoot=!0),b.tagName=b.attribValue=b.attribName="",b.attribList.length=0,b.state=N.TEXT}function Ft(b){var f=b.entity,C=f.toLowerCase(),O,k="";return b.ENTITIES[f]?b.ENTITIES[f]:b.ENTITIES[C]?b.ENTITIES[C]:(f=C,f.charAt(0)==="#"&&(f.charAt(1)==="x"?(f=f.slice(2),O=parseInt(f,16),k=O.toString(16)):(f=f.slice(1),O=parseInt(f,10),k=O.toString(10))),f=f.replace(/^0+/,""),isNaN(O)||k.toLowerCase()!==f?(F(b,"Invalid character entity"),"&"+b.entity+";"):String.fromCodePoint(O))}function At(b,f){f==="<"?(b.state=N.OPEN_WAKA,b.startTagPosition=b.position):T(f)||(F(b,"Non-whitespace before first tag."),b.textNode=f,b.state=N.TEXT)}function pt(b,f){var C="";return f<b.length&&(C=b.charAt(f)),C}function Jt(b){var f=this;if(this.error)throw this.error;if(f.closed)return D(f,"Cannot write after close. Assign an onready handler.");if(b===null)return j(f);typeof b=="object"&&(b=b.toString());for(var C=0,O="";O=pt(b,C++),f.c=O,!!O;)switch(f.trackPosition&&(f.position++,O===`
`?(f.line++,f.column=0):f.column++),f.state){case N.BEGIN:if(f.state=N.BEGIN_WHITESPACE,O==="\uFEFF")continue;At(f,O);continue;case N.BEGIN_WHITESPACE:At(f,O);continue;case N.TEXT:if(f.sawRoot&&!f.closedRoot){for(var k=C-1;O&&O!=="<"&&O!=="&";)O=pt(b,C++),O&&f.trackPosition&&(f.position++,O===`
`?(f.line++,f.column=0):f.column++);f.textNode+=b.substring(k,C-1)}O==="<"&&!(f.sawRoot&&f.closedRoot&&!f.strict)?(f.state=N.OPEN_WAKA,f.startTagPosition=f.position):(!T(O)&&(!f.sawRoot||f.closedRoot)&&F(f,"Text data outside of root node."),O==="&"?f.state=N.TEXT_ENTITY:f.textNode+=O);continue;case N.SCRIPT:O==="<"?f.state=N.SCRIPT_ENDING:f.script+=O;continue;case N.SCRIPT_ENDING:O==="/"?f.state=N.CLOSE_TAG:(f.script+="<"+O,f.state=N.SCRIPT);continue;case N.OPEN_WAKA:if(O==="!")f.state=N.SGML_DECL,f.sgmlDecl="";else if(!T(O))if(_(y,O))f.state=N.OPEN_TAG,f.tagName=O;else if(O==="/")f.state=N.CLOSE_TAG,f.tagName="";else if(O==="?")f.state=N.PROC_INST,f.procInstName=f.procInstBody="";else{if(F(f,"Unencoded <"),f.startTagPosition+1<f.position){var q=f.position-f.startTagPosition;O=new Array(q).join(" ")+O}f.textNode+="<"+O,f.state=N.TEXT}continue;case N.SGML_DECL:if(f.sgmlDecl+O==="--"){f.state=N.COMMENT,f.comment="",f.sgmlDecl="";continue}f.doctype&&f.doctype!==!0&&f.sgmlDecl?(f.state=N.DOCTYPE_DTD,f.doctype+="<!"+f.sgmlDecl+O,f.sgmlDecl=""):(f.sgmlDecl+O).toUpperCase()===h?(L(f,"onopencdata"),f.state=N.CDATA,f.sgmlDecl="",f.cdata=""):(f.sgmlDecl+O).toUpperCase()===l?(f.state=N.DOCTYPE,(f.doctype||f.sawRoot)&&F(f,"Inappropriately located doctype declaration"),f.doctype="",f.sgmlDecl=""):O===">"?(L(f,"onsgmldeclaration",f.sgmlDecl),f.sgmlDecl="",f.state=N.TEXT):(A(O)&&(f.state=N.SGML_DECL_QUOTED),f.sgmlDecl+=O);continue;case N.SGML_DECL_QUOTED:O===f.q&&(f.state=N.SGML_DECL,f.q=""),f.sgmlDecl+=O;continue;case N.DOCTYPE:O===">"?(f.state=N.TEXT,L(f,"ondoctype",f.doctype),f.doctype=!0):(f.doctype+=O,O==="["?f.state=N.DOCTYPE_DTD:A(O)&&(f.state=N.DOCTYPE_QUOTED,f.q=O));continue;case N.DOCTYPE_QUOTED:f.doctype+=O,O===f.q&&(f.q="",f.state=N.DOCTYPE);continue;case N.DOCTYPE_DTD:O==="]"?(f.doctype+=O,f.state=N.DOCTYPE):O==="<"?(f.state=N.OPEN_WAKA,f.startTagPosition=f.position):A(O)?(f.doctype+=O,f.state=N.DOCTYPE_DTD_QUOTED,f.q=O):f.doctype+=O;continue;case N.DOCTYPE_DTD_QUOTED:f.doctype+=O,O===f.q&&(f.state=N.DOCTYPE_DTD,f.q="");continue;case N.COMMENT:O==="-"?f.state=N.COMMENT_ENDING:f.comment+=O;continue;case N.COMMENT_ENDING:O==="-"?(f.state=N.COMMENT_ENDED,f.comment=$(f.opt,f.comment),f.comment&&L(f,"oncomment",f.comment),f.comment=""):(f.comment+="-"+O,f.state=N.COMMENT);continue;case N.COMMENT_ENDED:O!==">"?(F(f,"Malformed comment"),f.comment+="--"+O,f.state=N.COMMENT):f.doctype&&f.doctype!==!0?f.state=N.DOCTYPE_DTD:f.state=N.TEXT;continue;case N.CDATA:O==="]"?f.state=N.CDATA_ENDING:f.cdata+=O;continue;case N.CDATA_ENDING:O==="]"?f.state=N.CDATA_ENDING_2:(f.cdata+="]"+O,f.state=N.CDATA);continue;case N.CDATA_ENDING_2:O===">"?(f.cdata&&L(f,"oncdata",f.cdata),L(f,"onclosecdata"),f.cdata="",f.state=N.TEXT):O==="]"?f.cdata+="]":(f.cdata+="]]"+O,f.state=N.CDATA);continue;case N.PROC_INST:O==="?"?f.state=N.PROC_INST_ENDING:T(O)?f.state=N.PROC_INST_BODY:f.procInstName+=O;continue;case N.PROC_INST_BODY:if(!f.procInstBody&&T(O))continue;O==="?"?f.state=N.PROC_INST_ENDING:f.procInstBody+=O;continue;case N.PROC_INST_ENDING:O===">"?(L(f,"onprocessinginstruction",{name:f.procInstName,body:f.procInstBody}),f.procInstName=f.procInstBody="",f.state=N.TEXT):(f.procInstBody+="?"+O,f.state=N.PROC_INST_BODY);continue;case N.OPEN_TAG:_(x,O)?f.tagName+=O:(X(f),O===">"?U(f):O==="/"?f.state=N.OPEN_TAG_SLASH:(T(O)||F(f,"Invalid character in tag name"),f.state=N.ATTRIB));continue;case N.OPEN_TAG_SLASH:O===">"?(U(f,!0),W(f)):(F(f,"Forward-slash in opening tag not followed by >"),f.state=N.ATTRIB);continue;case N.ATTRIB:if(T(O))continue;O===">"?U(f):O==="/"?f.state=N.OPEN_TAG_SLASH:_(y,O)?(f.attribName=O,f.attribValue="",f.state=N.ATTRIB_NAME):F(f,"Invalid attribute name");continue;case N.ATTRIB_NAME:O==="="?f.state=N.ATTRIB_VALUE:O===">"?(F(f,"Attribute without value"),f.attribValue=f.attribName,Q(f),U(f)):T(O)?f.state=N.ATTRIB_NAME_SAW_WHITE:_(x,O)?f.attribName+=O:F(f,"Invalid attribute name");continue;case N.ATTRIB_NAME_SAW_WHITE:if(O==="=")f.state=N.ATTRIB_VALUE;else{if(T(O))continue;F(f,"Attribute without value"),f.tag.attributes[f.attribName]="",f.attribValue="",L(f,"onattribute",{name:f.attribName,value:""}),f.attribName="",O===">"?U(f):_(y,O)?(f.attribName=O,f.state=N.ATTRIB_NAME):(F(f,"Invalid attribute name"),f.state=N.ATTRIB)}continue;case N.ATTRIB_VALUE:if(T(O))continue;A(O)?(f.q=O,f.state=N.ATTRIB_VALUE_QUOTED):(f.opt.unquotedAttributeValues||D(f,"Unquoted attribute value"),f.state=N.ATTRIB_VALUE_UNQUOTED,f.attribValue=O);continue;case N.ATTRIB_VALUE_QUOTED:if(O!==f.q){O==="&"?f.state=N.ATTRIB_VALUE_ENTITY_Q:f.attribValue+=O;continue}Q(f),f.q="",f.state=N.ATTRIB_VALUE_CLOSED;continue;case N.ATTRIB_VALUE_CLOSED:T(O)?f.state=N.ATTRIB:O===">"?U(f):O==="/"?f.state=N.OPEN_TAG_SLASH:_(y,O)?(F(f,"No whitespace between attributes"),f.attribName=O,f.attribValue="",f.state=N.ATTRIB_NAME):F(f,"Invalid attribute name");continue;case N.ATTRIB_VALUE_UNQUOTED:if(!w(O)){O==="&"?f.state=N.ATTRIB_VALUE_ENTITY_U:f.attribValue+=O;continue}Q(f),O===">"?U(f):f.state=N.ATTRIB;continue;case N.CLOSE_TAG:if(f.tagName)O===">"?W(f):_(x,O)?f.tagName+=O:f.script?(f.script+="</"+f.tagName,f.tagName="",f.state=N.SCRIPT):(T(O)||F(f,"Invalid tagname in closing tag"),f.state=N.CLOSE_TAG_SAW_WHITE);else{if(T(O))continue;I(y,O)?f.script?(f.script+="</"+O,f.state=N.SCRIPT):F(f,"Invalid tagname in closing tag."):f.tagName=O}continue;case N.CLOSE_TAG_SAW_WHITE:if(T(O))continue;O===">"?W(f):F(f,"Invalid characters in closing tag");continue;case N.TEXT_ENTITY:case N.ATTRIB_VALUE_ENTITY_Q:case N.ATTRIB_VALUE_ENTITY_U:var z,ot;switch(f.state){case N.TEXT_ENTITY:z=N.TEXT,ot="textNode";break;case N.ATTRIB_VALUE_ENTITY_Q:z=N.ATTRIB_VALUE_QUOTED,ot="attribValue";break;case N.ATTRIB_VALUE_ENTITY_U:z=N.ATTRIB_VALUE_UNQUOTED,ot="attribValue";break}if(O===";"){var at=Ft(f);f.opt.unparsedEntities&&!Object.values(t.XML_ENTITIES).includes(at)?(f.entity="",f.state=z,f.write(at)):(f[ot]+=at,f.entity="",f.state=z)}else _(f.entity.length?E:m,O)?f.entity+=O:(F(f,"Invalid character in entity name"),f[ot]+="&"+f.entity+O,f.entity="",f.state=z);continue;default:throw new Error(f,"Unknown state: "+f.state)}return f.position>=f.bufferCheckPosition&&i(f),f}String.fromCodePoint||function(){var b=String.fromCharCode,f=Math.floor,C=function(){var O=16384,k=[],q,z,ot=-1,at=arguments.length;if(!at)return"";for(var wt="";++ot<at;){var K=Number(arguments[ot]);if(!isFinite(K)||K<0||K>1114111||f(K)!==K)throw RangeError("Invalid code point: "+K);K<=65535?k.push(K):(K-=65536,q=(K>>10)+55296,z=K%1024+56320,k.push(q,z)),(ot+1===at||k.length>O)&&(wt+=b.apply(null,k),k.length=0)}return wt};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:C,configurable:!0,writable:!0}):String.fromCodePoint=C}()})(e)}(Sn)),Sn}bs();const Ne=["B","KB","MB","GB","TB","PB"],Ee=["B","KiB","MiB","GiB","TiB","PiB"];function Ps(e,t=!1,n=!1,r=!1){n=n&&!r,typeof e=="string"&&(e=Number(e));let i=e>0?Math.floor(Math.log(e)/Math.log(r?1e3:1024)):0;i=Math.min((n?Ee.length:Ne.length)-1,i);const s=n?Ee[i]:Ne[i];let u=(e/Math.pow(r?1e3:1024,i)).toFixed(1);return t===!0&&i===0?(u!=="0.0"?"< 1 ":"0 ")+(n?Ee[1]:Ne[1]):(i<2?u=parseFloat(u).toFixed(0):u=parseFloat(u).toLocaleString(Dn()),u+" "+s)}function Ln(e){return e instanceof Date?e.toISOString():String(e)}function ys(e,t,n){t=t??[s=>s],n=n??[];const r=t.map((s,u)=>(n[u]??"asc")==="asc"?1:-1),i=Intl.Collator([vr(),Dn()],{numeric:!0,usage:"sort"});return[...e].sort((s,u)=>{for(const[c,p]of t.entries()){const a=i.compare(Ln(p(s)),Ln(p(u)));if(a!==0)return a*r[c]}return 0})}function _s(e,t={}){const n={sortingMode:"basename",sortingOrder:"asc",...t},r=u=>u.lastIndexOf(".")>0?u.slice(0,u.lastIndexOf(".")):u,i=[...n.sortFavoritesFirst?[u=>u.attributes?.favorite!==1]:[],...n.sortFoldersFirst?[u=>u.type!=="folder"]:[],...n.sortingMode!=="basename"?[u=>u[n.sortingMode]??u.attributes[n.sortingMode]]:[],u=>r(u.displayname||u.attributes?.displayname||u.basename||""),u=>u.basename],s=[...n.sortFavoritesFirst?["asc"]:[],...n.sortFoldersFirst?["asc"]:[],...n.sortingMode==="mtime"?[n.sortingOrder==="asc"?"desc":"asc"]:[],...n.sortingMode!=="mtime"&&n.sortingMode!=="basename"?[n.sortingOrder]:[],n.sortingOrder,n.sortingOrder];return ys(e,i,s)}export{gt as C,or as D,xs as F,ht as P,Me as a,Os as b,Ts as c,Zi as d,rr as e,ws as f,Is as g,Ps as h,Ce as i,As as r,_s as s};
//# sourceMappingURL=index-CsOE1F5j.chunk.mjs.map
