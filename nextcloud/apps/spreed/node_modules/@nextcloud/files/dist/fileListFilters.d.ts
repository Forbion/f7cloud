import { TypedEventTarget } from 'typescript-event-target';
import { INode } from './files/node';

/**
 * Active filters can provide one or more "chips" to show the currently active state.
 * Must at least provide a text representing the filters state and a callback to unset that state (disable this filter).
 */
export interface IFileListFilterChip {
    /**
     * Text of the chip
     */
    text: string;
    /**
     * Optional icon to be used on the chip (inline SVG as string)
     */
    icon?: string;
    /**
     * Handler to be called on click
     */
    onclick: () => void;
}
/**
 * This event is emitted when the the filter value changed and the file list needs to be updated
 */
export interface FilterUpdateEvent extends CustomEvent<never> {
    type: 'update:filter';
}
/**
 * This event is emitted when the the filter value changed and the file list needs to be updated
 */
export interface FilterUpdateChipsEvent extends CustomEvent<IFileListFilterChip[]> {
    type: 'update:chips';
}
interface IFileListFilterEvents {
    [name: string]: CustomEvent;
    'update:filter': FilterUpdateEvent;
    'update:chips': FilterUpdateChipsEvent;
}
export interface IFileListFilter extends TypedEventTarget<IFileListFilterEvents> {
    /**
     * Unique ID of this filter
     */
    readonly id: string;
    /**
     * Order of the filter
     *
     * Use a low number to make this filter ordered in front.
     */
    readonly order: number;
    /**
     * If the filter needs a visual element for settings it can provide a function to mount it.
     */
    readonly mount?: (el: HTMLElement) => void;
    /**
     * Filter function to decide if a node is shown
     * @return The nodes to be shown
     */
    filter(node: INode[]): INode[];
}
export declare class FileListFilter extends TypedEventTarget<IFileListFilterEvents> implements IFileListFilter {
    id: string;
    order: number;
    constructor(id: string, order?: number);
    filter(nodes: INode[]): INode[];
    protected updateChips(chips: IFileListFilterChip[]): void;
    protected filterUpdated(): void;
}
/**
 * Register a new filter on the file list
 *
 * This only must be called once to register the filter,
 * when the filter state changes you need to call `filterUpdated` on the filter instead.
 *
 * @param filter The filter to register on the file list
 */
export declare function registerFileListFilter(filter: IFileListFilter): void;
/**
 * Remove a registered filter from the file list
 * @param filterId The unique ID of the filter to remove
 */
export declare function unregisterFileListFilter(filterId: string): void;
/**
 * Get all registered file list filters
 */
export declare function getFileListFilters(): IFileListFilter[];
export {};
