(()=>{var Rr=Object.defineProperty;var xr=pt=>{throw TypeError(pt)};var Lr=(pt,it,Y)=>it in pt?Rr(pt,it,{enumerable:!0,configurable:!0,writable:!0,value:Y}):pt[it]=Y;var ft=(pt,it,Y)=>Lr(pt,typeof it!="symbol"?it+"":it,Y),pr=(pt,it,Y)=>it.has(pt)||xr("Cannot "+Y);var V=(pt,it,Y)=>(pr(pt,it,"read from private field"),Y?Y.call(pt):it.get(pt)),ce=(pt,it,Y)=>it.has(pt)?xr("Cannot add the same private member more than once"):it instanceof WeakSet?it.add(pt):it.set(pt,Y),Mt=(pt,it,Y,ht)=>(pr(pt,it,"write to private field"),ht?ht.call(pt,Y):it.set(pt,Y),Y),Fe=(pt,it,Y)=>(pr(pt,it,"access private method"),Y);(self.webpackChunktalk=self.webpackChunktalk||[]).push([["defaultVendors-node_modules_nextcloud_files_dist_index_mjs"],{380:((pt,it,Y)=>{"use strict";Y.d(it,{m:()=>ht});var ht=class extends EventTarget{dispatchTypedEvent(vt,xt){return super.dispatchEvent(xt)}}}),32981:((pt,it,Y)=>{"use strict";Y.d(it,{C:()=>ht});function ht(vt,xt,z){const Q=document.querySelector(`#initial-state-${vt}-${xt}`);if(Q===null){if(z!==void 0)return z;throw new Error(`Could not find initial state ${xt} of ${vt}`)}try{return JSON.parse(atob(Q.value))}catch{throw new Error(`Could not parse initial state ${xt} of ${vt}`)}}}),36117:(function(pt,it){var Y,ht,vt;function xt(z){"@babel/helpers - typeof";return xt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},xt(z)}(function(z,Q){if(1)ht=[it],Y=Q,vt=typeof Y=="function"?Y.apply(it,ht):Y,vt!==void 0&&(pt.exports=vt);else var lt})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:this,function(z){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.CancelablePromise=void 0,z.cancelable=xe,z.default=void 0,z.isCancelablePromise=St;function Q(F,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(j&&j.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),Object.defineProperty(F,"prototype",{writable:!1}),j&&lt(F,j)}function lt(F,j){return lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Z,Tt){return Z.__proto__=Tt,Z},lt(F,j)}function bt(F){var j=_t();return function(){var Z=Ht(F),Tt;if(j){var Ut=Ht(this).constructor;Tt=Reflect.construct(Z,arguments,Ut)}else Tt=Z.apply(this,arguments);return Gt(this,Tt)}}function Gt(F,j){if(j&&(xt(j)==="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dt(F)}function Dt(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function _t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ht(F){return Ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(G){return G.__proto__||Object.getPrototypeOf(G)},Ht(F)}function zt(F,j){var G=typeof Symbol<"u"&&F[Symbol.iterator]||F["@@iterator"];if(!G){if(Array.isArray(F)||(G=Ct(F))||j&&F&&typeof F.length=="number"){G&&(F=G);var Z=0,Tt=function(){};return{s:Tt,n:function(){return Z>=F.length?{done:!0}:{done:!1,value:F[Z++]}},e:function(le){throw le},f:Tt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ut=!0,se=!1,Ue;return{s:function(){G=G.call(F)},n:function(){var le=G.next();return Ut=le.done,le},e:function(le){se=!0,Ue=le},f:function(){try{!Ut&&G.return!=null&&G.return()}finally{if(se)throw Ue}}}}function Ct(F,j){if(F){if(typeof F=="string")return Wt(F,j);var G=Object.prototype.toString.call(F).slice(8,-1);if(G==="Object"&&F.constructor&&(G=F.constructor.name),G==="Map"||G==="Set")return Array.from(F);if(G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G))return Wt(F,j)}}function Wt(F,j){(j==null||j>F.length)&&(j=F.length);for(var G=0,Z=new Array(j);G<j;G++)Z[G]=F[G];return Z}function rt(F,j){if(!(F instanceof j))throw new TypeError("Cannot call a class as a function")}function ve(F,j){for(var G=0;G<j.length;G++){var Z=j[G];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(F,Z.key,Z)}}function ie(F,j,G){return j&&ve(F.prototype,j),G&&ve(F,G),Object.defineProperty(F,"prototype",{writable:!1}),F}function L(F,j,G){return j in F?Object.defineProperty(F,j,{value:G,enumerable:!0,configurable:!0,writable:!0}):F[j]=G,F}function B(F,j,G){dt(F,j),j.set(F,G)}function dt(F,j){if(j.has(F))throw new TypeError("Cannot initialize the same private elements twice on an object")}function at(F,j){var G=Oe(F,j,"get");return It(F,G)}function It(F,j){return j.get?j.get.call(F):j.value}function Ze(F,j,G){var Z=Oe(F,j,"set");return je(F,Z,G),G}function Oe(F,j,G){if(!j.has(F))throw new TypeError("attempted to "+G+" private field on non-instance");return j.get(F)}function je(F,j,G){if(j.set)j.set.call(F,G);else{if(!j.writable)throw new TypeError("attempted to set read only private field");j.value=G}}var Je=typeof Symbol<"u"?Symbol.toStringTag:"@@toStringTag",$t=new WeakMap,Ee=new WeakMap,de=(function(){function F(j){var G=j.executor,Z=G===void 0?function(){}:G,Tt=j.internals,Ut=Tt===void 0?Me():Tt,se=j.promise,Ue=se===void 0?new Promise(function(oe,le){return Z(oe,le,function(tn){Ut.onCancelList.push(tn)})}):se;rt(this,F),B(this,$t,{writable:!0,value:void 0}),B(this,Ee,{writable:!0,value:void 0}),L(this,Je,"CancelablePromise"),this.cancel=this.cancel.bind(this),Ze(this,$t,Ut),Ze(this,Ee,Ue||new Promise(function(oe,le){return Z(oe,le,function(tn){Ut.onCancelList.push(tn)})}))}return ie(F,[{key:"then",value:function(G,Z){return be(at(this,Ee).then(ee(G,at(this,$t)),ee(Z,at(this,$t))),at(this,$t))}},{key:"catch",value:function(G){return be(at(this,Ee).catch(ee(G,at(this,$t))),at(this,$t))}},{key:"finally",value:function(G,Z){var Tt=this;return Z&&at(this,$t).onCancelList.push(G),be(at(this,Ee).finally(ee(function(){if(G)return Z&&(at(Tt,$t).onCancelList=at(Tt,$t).onCancelList.filter(function(Ut){return Ut!==G})),G()},at(this,$t))),at(this,$t))}},{key:"cancel",value:function(){at(this,$t).isCanceled=!0;var G=at(this,$t).onCancelList;at(this,$t).onCancelList=[];var Z=zt(G),Tt;try{for(Z.s();!(Tt=Z.n()).done;){var Ut=Tt.value;if(typeof Ut=="function")try{Ut()}catch(se){console.error(se)}}}catch(se){Z.e(se)}finally{Z.f()}}},{key:"isCanceled",value:function(){return at(this,$t).isCanceled===!0}}]),F})(),te=(function(F){Q(G,F);var j=bt(G);function G(Z){return rt(this,G),j.call(this,{executor:Z})}return ie(G)})(de);z.CancelablePromise=te,L(te,"all",function(j){return Ce(j,Promise.all(j))}),L(te,"allSettled",function(j){return Ce(j,Promise.allSettled(j))}),L(te,"any",function(j){return Ce(j,Promise.any(j))}),L(te,"race",function(j){return Ce(j,Promise.race(j))}),L(te,"resolve",function(j){return xe(Promise.resolve(j))}),L(te,"reject",function(j){return xe(Promise.reject(j))}),L(te,"isCancelable",St);var pn=te;z.default=pn;function xe(F){return be(F,Me())}function St(F){return F instanceof te||F instanceof de}function ee(F,j){if(F)return function(G){if(!j.isCanceled){var Z=F(G);return St(Z)&&j.onCancelList.push(Z.cancel),Z}return G}}function be(F,j){return new de({internals:j,promise:F})}function Ce(F,j){var G=Me();return G.onCancelList.push(function(){var Z=zt(F),Tt;try{for(Z.s();!(Tt=Z.n()).done;){var Ut=Tt.value;St(Ut)&&Ut.cancel()}}catch(se){Z.e(se)}finally{Z.f()}}),new de({internals:G,promise:j})}function Me(){return{isCanceled:!1,onCancelList:[]}}})}),44719:((pt,it,Y)=>{"use strict";var gt,mt,re,st,Et,Ae,Ie,ge,fe,Ye,Sn,Ke,Cr,$e,zn,gr,Sr;Y.d(it,{Gu:()=>u,UU:()=>v});var ht=Y(65606);/*! For license information please see index.js.LICENSE.txt */var vt={2:n=>{function t(s,o,h){s instanceof RegExp&&(s=e(s,h)),o instanceof RegExp&&(o=e(o,h));var c=r(s,o,h);return c&&{start:c[0],end:c[1],pre:h.slice(0,c[0]),body:h.slice(c[0]+s.length,c[1]),post:h.slice(c[1]+o.length)}}function e(s,o){var h=o.match(s);return h?h[0]:null}function r(s,o,h){var c,y,f,i,l,a=h.indexOf(s),E=h.indexOf(o,a+1),w=a;if(a>=0&&E>0){for(c=[],f=h.length;w>=0&&!l;)w==a?(c.push(w),a=h.indexOf(s,w+1)):c.length==1?l=[c.pop(),E]:((y=c.pop())<f&&(f=y,i=E),E=h.indexOf(o,w+1)),w=a<E&&a>=0?a:E;c.length&&(l=[f,i])}return l}n.exports=t,t.range=r},101:function(n,t,e){var r;n=e.nmd(n),(function(s){var o=(n&&n.exports,typeof global=="object"&&global);o.global!==o&&o.window;var h=function(l){this.message=l};(h.prototype=new Error).name="InvalidCharacterError";var c=function(l){throw new h(l)},y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=/[\t\n\f\r ]/g,i={encode:function(l){l=String(l),/[^\0-\xFF]/.test(l)&&c("The string to be encoded contains characters outside of the Latin1 range.");for(var a,E,w,m,b=l.length%3,O="",p=-1,T=l.length-b;++p<T;)a=l.charCodeAt(p)<<16,E=l.charCodeAt(++p)<<8,w=l.charCodeAt(++p),O+=y.charAt((m=a+E+w)>>18&63)+y.charAt(m>>12&63)+y.charAt(m>>6&63)+y.charAt(63&m);return b==2?(a=l.charCodeAt(p)<<8,E=l.charCodeAt(++p),O+=y.charAt((m=a+E)>>10)+y.charAt(m>>4&63)+y.charAt(m<<2&63)+"="):b==1&&(m=l.charCodeAt(p),O+=y.charAt(m>>2)+y.charAt(m<<4&63)+"=="),O},decode:function(l){var a=(l=String(l).replace(f,"")).length;a%4==0&&(a=(l=l.replace(/==?$/,"")).length),(a%4==1||/[^+a-zA-Z0-9/]/.test(l))&&c("Invalid character: the string to be decoded is not correctly encoded.");for(var E,w,m=0,b="",O=-1;++O<a;)w=y.indexOf(l.charAt(O)),E=m%4?64*E+w:w,m++%4&&(b+=String.fromCharCode(255&E>>(-2*m&6)));return b},version:"1.0.0"};(r=function(){return i}.call(t,e,t,n))===void 0||(n.exports=r)})()},172:(n,t)=>{t.d=function(e){if(!e)return 0;for(var r=(e=e.toString()).length,s=e.length;s--;){var o=e.charCodeAt(s);56320<=o&&o<=57343&&s--,127<o&&o<=2047?r++:2047<o&&o<=65535&&(r+=2)}return r}},526:n=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var r=[],s=0;s<e.length;s++)r.push(255&e.charCodeAt(s));return r},bytesToString:function(e){for(var r=[],s=0;s<e.length;s++)r.push(String.fromCharCode(e[s]));return r.join("")}}};n.exports=t},298:n=>{var t,e;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(r,s){return r<<s|r>>>32-s},rotr:function(r,s){return r<<32-s|r>>>s},endian:function(r){if(r.constructor==Number)return 16711935&e.rotl(r,8)|4278255360&e.rotl(r,24);for(var s=0;s<r.length;s++)r[s]=e.endian(r[s]);return r},randomBytes:function(r){for(var s=[];r>0;r--)s.push(Math.floor(256*Math.random()));return s},bytesToWords:function(r){for(var s=[],o=0,h=0;o<r.length;o++,h+=8)s[h>>>5]|=r[o]<<24-h%32;return s},wordsToBytes:function(r){for(var s=[],o=0;o<32*r.length;o+=8)s.push(r[o>>>5]>>>24-o%32&255);return s},bytesToHex:function(r){for(var s=[],o=0;o<r.length;o++)s.push((r[o]>>>4).toString(16)),s.push((15&r[o]).toString(16));return s.join("")},hexToBytes:function(r){for(var s=[],o=0;o<r.length;o+=2)s.push(parseInt(r.substr(o,2),16));return s},bytesToBase64:function(r){for(var s=[],o=0;o<r.length;o+=3)for(var h=r[o]<<16|r[o+1]<<8|r[o+2],c=0;c<4;c++)8*o+6*c<=8*r.length?s.push(t.charAt(h>>>6*(3-c)&63)):s.push("=");return s.join("")},base64ToBytes:function(r){r=r.replace(/[^A-Z0-9+\/]/gi,"");for(var s=[],o=0,h=0;o<r.length;h=++o%4)h!=0&&s.push((t.indexOf(r.charAt(o-1))&Math.pow(2,-2*h+8)-1)<<2*h|t.indexOf(r.charAt(o))>>>6-2*h);return s}},n.exports=e},635:(n,t,e)=>{const r=e(31),s=e(338),o=e(221);n.exports={XMLParser:s,XMLValidator:r,XMLBuilder:o}},118:n=>{n.exports=function(t){return typeof t=="function"?t:Array.isArray(t)?e=>{for(const r of t)if(typeof r=="string"&&e===r||r instanceof RegExp&&r.test(e))return!0}:()=>!1}},705:(n,t)=>{const e=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r="["+e+"]["+e+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",s=new RegExp("^"+r+"$");t.isExist=function(o){return o!==void 0},t.isEmptyObject=function(o){return Object.keys(o).length===0},t.merge=function(o,h,c){if(h){const y=Object.keys(h),f=y.length;for(let i=0;i<f;i++)o[y[i]]=c==="strict"?[h[y[i]]]:h[y[i]]}},t.getValue=function(o){return t.isExist(o)?o:""},t.isName=function(o){return s.exec(o)!=null},t.getAllMatches=function(o,h){const c=[];let y=h.exec(o);for(;y;){const f=[];f.startIndex=h.lastIndex-y[0].length;const i=y.length;for(let l=0;l<i;l++)f.push(y[l]);c.push(f),y=h.exec(o)}return c},t.nameRegexp=r},31:(n,t,e)=>{const r=e(705),s={allowBooleanAttributes:!1,unpairedTags:[]};function o(p){return p===" "||p==="	"||p===`
`||p==="\r"}function h(p,T){const I=T;for(;T<p.length;T++)if(!(p[T]!="?"&&p[T]!=" ")){const S=p.substr(I,T-I);if(T>5&&S==="xml")return w("InvalidXml","XML declaration allowed only at the start of the document.",b(p,T));if(p[T]=="?"&&p[T+1]==">"){T++;break}}return T}function c(p,T){if(p.length>T+5&&p[T+1]==="-"&&p[T+2]==="-"){for(T+=3;T<p.length;T++)if(p[T]==="-"&&p[T+1]==="-"&&p[T+2]===">"){T+=2;break}}else if(p.length>T+8&&p[T+1]==="D"&&p[T+2]==="O"&&p[T+3]==="C"&&p[T+4]==="T"&&p[T+5]==="Y"&&p[T+6]==="P"&&p[T+7]==="E"){let I=1;for(T+=8;T<p.length;T++)if(p[T]==="<")I++;else if(p[T]===">"&&(I--,I===0))break}else if(p.length>T+9&&p[T+1]==="["&&p[T+2]==="C"&&p[T+3]==="D"&&p[T+4]==="A"&&p[T+5]==="T"&&p[T+6]==="A"&&p[T+7]==="["){for(T+=8;T<p.length;T++)if(p[T]==="]"&&p[T+1]==="]"&&p[T+2]===">"){T+=2;break}}return T}t.validate=function(p,T){T=Object.assign({},s,T);const I=[];let S=!1,N=!1;p[0]==="\uFEFF"&&(p=p.substr(1));for(let A=0;A<p.length;A++)if(p[A]==="<"&&p[A+1]==="?"){if(A+=2,A=h(p,A),A.err)return A}else{if(p[A]!=="<"){if(o(p[A]))continue;return w("InvalidChar","char '"+p[A]+"' is not expected.",b(p,A))}{let M=A;if(A++,p[A]==="!"){A=c(p,A);continue}{let X=!1;p[A]==="/"&&(X=!0,A++);let W="";for(;A<p.length&&p[A]!==">"&&p[A]!==" "&&p[A]!=="	"&&p[A]!==`
`&&p[A]!=="\r";A++)W+=p[A];if(W=W.trim(),W[W.length-1]==="/"&&(W=W.substring(0,W.length-1),A--),D=W,!r.isName(D)){let nt;return nt=W.trim().length===0?"Invalid space after '<'.":"Tag '"+W+"' is an invalid name.",w("InvalidTag",nt,b(p,A))}const K=i(p,A);if(K===!1)return w("InvalidAttr","Attributes for '"+W+"' have open quote.",b(p,A));let P=K.value;if(A=K.index,P[P.length-1]==="/"){const nt=A-P.length;P=P.substring(0,P.length-1);const et=a(P,T);if(et!==!0)return w(et.err.code,et.err.msg,b(p,nt+et.err.line));S=!0}else if(X){if(!K.tagClosed)return w("InvalidTag","Closing tag '"+W+"' doesn't have proper closing.",b(p,A));if(P.trim().length>0)return w("InvalidTag","Closing tag '"+W+"' can't have attributes or invalid starting.",b(p,M));if(I.length===0)return w("InvalidTag","Closing tag '"+W+"' has not been opened.",b(p,M));{const nt=I.pop();if(W!==nt.tagName){let et=b(p,nt.tagStartPos);return w("InvalidTag","Expected closing tag '"+nt.tagName+"' (opened in line "+et.line+", col "+et.col+") instead of closing tag '"+W+"'.",b(p,M))}I.length==0&&(N=!0)}}else{const nt=a(P,T);if(nt!==!0)return w(nt.err.code,nt.err.msg,b(p,A-P.length+nt.err.line));if(N===!0)return w("InvalidXml","Multiple possible root nodes found.",b(p,A));T.unpairedTags.indexOf(W)!==-1||I.push({tagName:W,tagStartPos:M}),S=!0}for(A++;A<p.length;A++)if(p[A]==="<"){if(p[A+1]==="!"){A++,A=c(p,A);continue}if(p[A+1]!=="?")break;if(A=h(p,++A),A.err)return A}else if(p[A]==="&"){const nt=E(p,A);if(nt==-1)return w("InvalidChar","char '&' is not expected.",b(p,A));A=nt}else if(N===!0&&!o(p[A]))return w("InvalidXml","Extra text at the end",b(p,A));p[A]==="<"&&A--}}}var D;return S?I.length==1?w("InvalidTag","Unclosed tag '"+I[0].tagName+"'.",b(p,I[0].tagStartPos)):!(I.length>0)||w("InvalidXml","Invalid '"+JSON.stringify(I.map((A=>A.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):w("InvalidXml","Start tag expected.",1)};const y='"',f="'";function i(p,T){let I="",S="",N=!1;for(;T<p.length;T++){if(p[T]===y||p[T]===f)S===""?S=p[T]:S!==p[T]||(S="");else if(p[T]===">"&&S===""){N=!0;break}I+=p[T]}return S===""&&{value:I,index:T,tagClosed:N}}const l=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function a(p,T){const I=r.getAllMatches(p,l),S={};for(let N=0;N<I.length;N++){if(I[N][1].length===0)return w("InvalidAttr","Attribute '"+I[N][2]+"' has no space in starting.",O(I[N]));if(I[N][3]!==void 0&&I[N][4]===void 0)return w("InvalidAttr","Attribute '"+I[N][2]+"' is without value.",O(I[N]));if(I[N][3]===void 0&&!T.allowBooleanAttributes)return w("InvalidAttr","boolean attribute '"+I[N][2]+"' is not allowed.",O(I[N]));const D=I[N][2];if(!m(D))return w("InvalidAttr","Attribute '"+D+"' is an invalid name.",O(I[N]));if(S.hasOwnProperty(D))return w("InvalidAttr","Attribute '"+D+"' is repeated.",O(I[N]));S[D]=1}return!0}function E(p,T){if(p[++T]===";")return-1;if(p[T]==="#")return(function(S,N){let D=/\d/;for(S[N]==="x"&&(N++,D=/[\da-fA-F]/);N<S.length;N++){if(S[N]===";")return N;if(!S[N].match(D))break}return-1})(p,++T);let I=0;for(;T<p.length;T++,I++)if(!(p[T].match(/\w/)&&I<20)){if(p[T]===";")break;return-1}return T}function w(p,T,I){return{err:{code:p,msg:T,line:I.line||I,col:I.col}}}function m(p){return r.isName(p)}function b(p,T){const I=p.substring(0,T).split(/\r?\n/);return{line:I.length,col:I[I.length-1].length+1}}function O(p){return p.startIndex+p[1].length}},221:(n,t,e)=>{const r=e(87),s=e(118),o={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(i,l){return l},attributeValueProcessor:function(i,l){return l},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function h(i){this.options=Object.assign({},o,i),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=s(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=f),this.processTextOrObjNode=c,this.options.format?(this.indentate=y,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function c(i,l,a,E){const w=this.j2x(i,a+1,E.concat(l));return i[this.options.textNodeName]!==void 0&&Object.keys(i).length===1?this.buildTextValNode(i[this.options.textNodeName],l,w.attrStr,a):this.buildObjectNode(w.val,l,w.attrStr,a)}function y(i){return this.options.indentBy.repeat(i)}function f(i){return!(!i.startsWith(this.options.attributeNamePrefix)||i===this.options.textNodeName)&&i.substr(this.attrPrefixLen)}h.prototype.build=function(i){return this.options.preserveOrder?r(i,this.options):(Array.isArray(i)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(i={[this.options.arrayNodeName]:i}),this.j2x(i,0,[]).val)},h.prototype.j2x=function(i,l,a){let E="",w="";const m=a.join(".");for(let b in i)if(Object.prototype.hasOwnProperty.call(i,b))if(i[b]===void 0)this.isAttribute(b)&&(w+="");else if(i[b]===null)this.isAttribute(b)?w+="":b[0]==="?"?w+=this.indentate(l)+"<"+b+"?"+this.tagEndChar:w+=this.indentate(l)+"<"+b+"/"+this.tagEndChar;else if(i[b]instanceof Date)w+=this.buildTextValNode(i[b],b,"",l);else if(typeof i[b]!="object"){const O=this.isAttribute(b);if(O&&!this.ignoreAttributesFn(O,m))E+=this.buildAttrPairStr(O,""+i[b]);else if(!O)if(b===this.options.textNodeName){let p=this.options.tagValueProcessor(b,""+i[b]);w+=this.replaceEntitiesValue(p)}else w+=this.buildTextValNode(i[b],b,"",l)}else if(Array.isArray(i[b])){const O=i[b].length;let p="",T="";for(let I=0;I<O;I++){const S=i[b][I];if(S!==void 0)if(S===null)b[0]==="?"?w+=this.indentate(l)+"<"+b+"?"+this.tagEndChar:w+=this.indentate(l)+"<"+b+"/"+this.tagEndChar;else if(typeof S=="object")if(this.options.oneListGroup){const N=this.j2x(S,l+1,a.concat(b));p+=N.val,this.options.attributesGroupName&&S.hasOwnProperty(this.options.attributesGroupName)&&(T+=N.attrStr)}else p+=this.processTextOrObjNode(S,b,l,a);else if(this.options.oneListGroup){let N=this.options.tagValueProcessor(b,S);N=this.replaceEntitiesValue(N),p+=N}else p+=this.buildTextValNode(S,b,"",l)}this.options.oneListGroup&&(p=this.buildObjectNode(p,b,T,l)),w+=p}else if(this.options.attributesGroupName&&b===this.options.attributesGroupName){const O=Object.keys(i[b]),p=O.length;for(let T=0;T<p;T++)E+=this.buildAttrPairStr(O[T],""+i[b][O[T]])}else w+=this.processTextOrObjNode(i[b],b,l,a);return{attrStr:E,val:w}},h.prototype.buildAttrPairStr=function(i,l){return l=this.options.attributeValueProcessor(i,""+l),l=this.replaceEntitiesValue(l),this.options.suppressBooleanAttributes&&l==="true"?" "+i:" "+i+'="'+l+'"'},h.prototype.buildObjectNode=function(i,l,a,E){if(i==="")return l[0]==="?"?this.indentate(E)+"<"+l+a+"?"+this.tagEndChar:this.indentate(E)+"<"+l+a+this.closeTag(l)+this.tagEndChar;{let w="</"+l+this.tagEndChar,m="";return l[0]==="?"&&(m="?",w=""),!a&&a!==""||i.indexOf("<")!==-1?this.options.commentPropName!==!1&&l===this.options.commentPropName&&m.length===0?this.indentate(E)+`<!--${i}-->`+this.newLine:this.indentate(E)+"<"+l+a+m+this.tagEndChar+i+this.indentate(E)+w:this.indentate(E)+"<"+l+a+m+">"+i+w}},h.prototype.closeTag=function(i){let l="";return this.options.unpairedTags.indexOf(i)!==-1?this.options.suppressUnpairedNode||(l="/"):l=this.options.suppressEmptyNode?"/":`></${i}`,l},h.prototype.buildTextValNode=function(i,l,a,E){if(this.options.cdataPropName!==!1&&l===this.options.cdataPropName)return this.indentate(E)+`<![CDATA[${i}]]>`+this.newLine;if(this.options.commentPropName!==!1&&l===this.options.commentPropName)return this.indentate(E)+`<!--${i}-->`+this.newLine;if(l[0]==="?")return this.indentate(E)+"<"+l+a+"?"+this.tagEndChar;{let w=this.options.tagValueProcessor(l,i);return w=this.replaceEntitiesValue(w),w===""?this.indentate(E)+"<"+l+a+this.closeTag(l)+this.tagEndChar:this.indentate(E)+"<"+l+a+">"+w+"</"+l+this.tagEndChar}},h.prototype.replaceEntitiesValue=function(i){if(i&&i.length>0&&this.options.processEntities)for(let l=0;l<this.options.entities.length;l++){const a=this.options.entities[l];i=i.replace(a.regex,a.val)}return i},n.exports=h},87:n=>{function t(h,c,y,f){let i="",l=!1;for(let a=0;a<h.length;a++){const E=h[a],w=e(E);if(w===void 0)continue;let m="";if(m=y.length===0?w:`${y}.${w}`,w===c.textNodeName){let T=E[w];s(m,c)||(T=c.tagValueProcessor(w,T),T=o(T,c)),l&&(i+=f),i+=T,l=!1;continue}if(w===c.cdataPropName){l&&(i+=f),i+=`<![CDATA[${E[w][0][c.textNodeName]}]]>`,l=!1;continue}if(w===c.commentPropName){i+=f+`<!--${E[w][0][c.textNodeName]}-->`,l=!0;continue}if(w[0]==="?"){const T=r(E[":@"],c),I=w==="?xml"?"":f;let S=E[w][0][c.textNodeName];S=S.length!==0?" "+S:"",i+=I+`<${w}${S}${T}?>`,l=!0;continue}let b=f;b!==""&&(b+=c.indentBy);const O=f+`<${w}${r(E[":@"],c)}`,p=t(E[w],c,m,b);c.unpairedTags.indexOf(w)!==-1?c.suppressUnpairedNode?i+=O+">":i+=O+"/>":p&&p.length!==0||!c.suppressEmptyNode?p&&p.endsWith(">")?i+=O+`>${p}${f}</${w}>`:(i+=O+">",p&&f!==""&&(p.includes("/>")||p.includes("</"))?i+=f+c.indentBy+p+f:i+=p,i+=`</${w}>`):i+=O+"/>",l=!0}return i}function e(h){const c=Object.keys(h);for(let y=0;y<c.length;y++){const f=c[y];if(h.hasOwnProperty(f)&&f!==":@")return f}}function r(h,c){let y="";if(h&&!c.ignoreAttributes)for(let f in h){if(!h.hasOwnProperty(f))continue;let i=c.attributeValueProcessor(f,h[f]);i=o(i,c),i===!0&&c.suppressBooleanAttributes?y+=` ${f.substr(c.attributeNamePrefix.length)}`:y+=` ${f.substr(c.attributeNamePrefix.length)}="${i}"`}return y}function s(h,c){let y=(h=h.substr(0,h.length-c.textNodeName.length-1)).substr(h.lastIndexOf(".")+1);for(let f in c.stopNodes)if(c.stopNodes[f]===h||c.stopNodes[f]==="*."+y)return!0;return!1}function o(h,c){if(h&&h.length>0&&c.processEntities)for(let y=0;y<c.entities.length;y++){const f=c.entities[y];h=h.replace(f.regex,f.val)}return h}n.exports=function(h,c){let y="";return c.format&&c.indentBy.length>0&&(y=`
`),t(h,c,"",y)}},193:(n,t,e)=>{const r=e(705);function s(l,a){let E="";for(;a<l.length&&l[a]!=="'"&&l[a]!=='"';a++)E+=l[a];if(E=E.trim(),E.indexOf(" ")!==-1)throw new Error("External entites are not supported");const w=l[a++];let m="";for(;a<l.length&&l[a]!==w;a++)m+=l[a];return[E,m,a]}function o(l,a){return l[a+1]==="!"&&l[a+2]==="-"&&l[a+3]==="-"}function h(l,a){return l[a+1]==="!"&&l[a+2]==="E"&&l[a+3]==="N"&&l[a+4]==="T"&&l[a+5]==="I"&&l[a+6]==="T"&&l[a+7]==="Y"}function c(l,a){return l[a+1]==="!"&&l[a+2]==="E"&&l[a+3]==="L"&&l[a+4]==="E"&&l[a+5]==="M"&&l[a+6]==="E"&&l[a+7]==="N"&&l[a+8]==="T"}function y(l,a){return l[a+1]==="!"&&l[a+2]==="A"&&l[a+3]==="T"&&l[a+4]==="T"&&l[a+5]==="L"&&l[a+6]==="I"&&l[a+7]==="S"&&l[a+8]==="T"}function f(l,a){return l[a+1]==="!"&&l[a+2]==="N"&&l[a+3]==="O"&&l[a+4]==="T"&&l[a+5]==="A"&&l[a+6]==="T"&&l[a+7]==="I"&&l[a+8]==="O"&&l[a+9]==="N"}function i(l){if(r.isName(l))return l;throw new Error(`Invalid entity name ${l}`)}n.exports=function(l,a){const E={};if(l[a+3]!=="O"||l[a+4]!=="C"||l[a+5]!=="T"||l[a+6]!=="Y"||l[a+7]!=="P"||l[a+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{a+=9;let w=1,m=!1,b=!1,O="";for(;a<l.length;a++)if(l[a]!=="<"||b)if(l[a]===">"){if(b?l[a-1]==="-"&&l[a-2]==="-"&&(b=!1,w--):w--,w===0)break}else l[a]==="["?m=!0:O+=l[a];else{if(m&&h(l,a)){let p,T;a+=7,[p,T,a]=s(l,a+1),T.indexOf("&")===-1&&(E[i(p)]={regx:RegExp(`&${p};`,"g"),val:T})}else if(m&&c(l,a))a+=8;else if(m&&y(l,a))a+=8;else if(m&&f(l,a))a+=9;else{if(!o)throw new Error("Invalid DOCTYPE");b=!0}w++,O=""}if(w!==0)throw new Error("Unclosed DOCTYPE")}return{entities:E,i:a}}},63:(n,t)=>{const e={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(r,s){return s},attributeValueProcessor:function(r,s){return s},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(r,s,o){return r}};t.buildOptions=function(r){return Object.assign({},e,r)},t.defaultOptions=e},299:(n,t,e)=>{const r=e(705),s=e(365),o=e(193),h=e(494),c=e(118);function y(N){const D=Object.keys(N);for(let A=0;A<D.length;A++){const M=D[A];this.lastEntities[M]={regex:new RegExp("&"+M+";","g"),val:N[M]}}}function f(N,D,A,M,X,W,K){if(N!==void 0&&(this.options.trimValues&&!M&&(N=N.trim()),N.length>0)){K||(N=this.replaceEntitiesValue(N));const P=this.options.tagValueProcessor(D,N,A,X,W);return P==null?N:typeof P!=typeof N||P!==N?P:this.options.trimValues||N.trim()===N?S(N,this.options.parseTagValue,this.options.numberParseOptions):N}}function i(N){if(this.options.removeNSPrefix){const D=N.split(":"),A=N.charAt(0)==="/"?"/":"";if(D[0]==="xmlns")return"";D.length===2&&(N=A+D[1])}return N}const l=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function a(N,D,A){if(this.options.ignoreAttributes!==!0&&typeof N=="string"){const M=r.getAllMatches(N,l),X=M.length,W={};for(let K=0;K<X;K++){const P=this.resolveNameSpace(M[K][1]);if(this.ignoreAttributesFn(P,D))continue;let nt=M[K][4],et=this.options.attributeNamePrefix+P;if(P.length)if(this.options.transformAttributeName&&(et=this.options.transformAttributeName(et)),et==="__proto__"&&(et="#__proto__"),nt!==void 0){this.options.trimValues&&(nt=nt.trim()),nt=this.replaceEntitiesValue(nt);const At=this.options.attributeValueProcessor(P,nt,D);W[et]=At==null?nt:typeof At!=typeof nt||At!==nt?At:S(nt,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(W[et]=!0)}if(!Object.keys(W).length)return;if(this.options.attributesGroupName){const K={};return K[this.options.attributesGroupName]=W,K}return W}}const E=function(N){N=N.replace(/\r\n?/g,`
`);const D=new s("!xml");let A=D,M="",X="";for(let W=0;W<N.length;W++)if(N[W]==="<")if(N[W+1]==="/"){const K=p(N,">",W,"Closing Tag is not closed.");let P=N.substring(W+2,K).trim();if(this.options.removeNSPrefix){const At=P.indexOf(":");At!==-1&&(P=P.substr(At+1))}this.options.transformTagName&&(P=this.options.transformTagName(P)),A&&(M=this.saveTextToParentTag(M,A,X));const nt=X.substring(X.lastIndexOf(".")+1);if(P&&this.options.unpairedTags.indexOf(P)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${P}>`);let et=0;nt&&this.options.unpairedTags.indexOf(nt)!==-1?(et=X.lastIndexOf(".",X.lastIndexOf(".")-1),this.tagsNodeStack.pop()):et=X.lastIndexOf("."),X=X.substring(0,et),A=this.tagsNodeStack.pop(),M="",W=K}else if(N[W+1]==="?"){let K=T(N,W,!1,"?>");if(!K)throw new Error("Pi Tag is not closed.");if(M=this.saveTextToParentTag(M,A,X),!(this.options.ignoreDeclaration&&K.tagName==="?xml"||this.options.ignorePiTags)){const P=new s(K.tagName);P.add(this.options.textNodeName,""),K.tagName!==K.tagExp&&K.attrExpPresent&&(P[":@"]=this.buildAttributesMap(K.tagExp,X,K.tagName)),this.addChild(A,P,X)}W=K.closeIndex+1}else if(N.substr(W+1,3)==="!--"){const K=p(N,"-->",W+4,"Comment is not closed.");if(this.options.commentPropName){const P=N.substring(W+4,K-2);M=this.saveTextToParentTag(M,A,X),A.add(this.options.commentPropName,[{[this.options.textNodeName]:P}])}W=K}else if(N.substr(W+1,2)==="!D"){const K=o(N,W);this.docTypeEntities=K.entities,W=K.i}else if(N.substr(W+1,2)==="!["){const K=p(N,"]]>",W,"CDATA is not closed.")-2,P=N.substring(W+9,K);M=this.saveTextToParentTag(M,A,X);let nt=this.parseTextData(P,A.tagname,X,!0,!1,!0,!0);nt==null&&(nt=""),this.options.cdataPropName?A.add(this.options.cdataPropName,[{[this.options.textNodeName]:P}]):A.add(this.options.textNodeName,nt),W=K+2}else{let K=T(N,W,this.options.removeNSPrefix),P=K.tagName;const nt=K.rawTagName;let et=K.tagExp,At=K.attrExpPresent,Zt=K.closeIndex;this.options.transformTagName&&(P=this.options.transformTagName(P)),A&&M&&A.tagname!=="!xml"&&(M=this.saveTextToParentTag(M,A,X,!1));const Xt=A;if(Xt&&this.options.unpairedTags.indexOf(Xt.tagname)!==-1&&(A=this.tagsNodeStack.pop(),X=X.substring(0,X.lastIndexOf("."))),P!==D.tagname&&(X+=X?"."+P:P),this.isItStopNode(this.options.stopNodes,X,P)){let Lt="";if(et.length>0&&et.lastIndexOf("/")===et.length-1)P[P.length-1]==="/"?(P=P.substr(0,P.length-1),X=X.substr(0,X.length-1),et=P):et=et.substr(0,et.length-1),W=K.closeIndex;else if(this.options.unpairedTags.indexOf(P)!==-1)W=K.closeIndex;else{const Vt=this.readStopNodeData(N,nt,Zt+1);if(!Vt)throw new Error(`Unexpected end of ${nt}`);W=Vt.i,Lt=Vt.tagContent}const me=new s(P);P!==et&&At&&(me[":@"]=this.buildAttributesMap(et,X,P)),Lt&&(Lt=this.parseTextData(Lt,P,X,!0,At,!0,!0)),X=X.substr(0,X.lastIndexOf(".")),me.add(this.options.textNodeName,Lt),this.addChild(A,me,X)}else{if(et.length>0&&et.lastIndexOf("/")===et.length-1){P[P.length-1]==="/"?(P=P.substr(0,P.length-1),X=X.substr(0,X.length-1),et=P):et=et.substr(0,et.length-1),this.options.transformTagName&&(P=this.options.transformTagName(P));const Lt=new s(P);P!==et&&At&&(Lt[":@"]=this.buildAttributesMap(et,X,P)),this.addChild(A,Lt,X),X=X.substr(0,X.lastIndexOf("."))}else{const Lt=new s(P);this.tagsNodeStack.push(A),P!==et&&At&&(Lt[":@"]=this.buildAttributesMap(et,X,P)),this.addChild(A,Lt,X),A=Lt}M="",W=Zt}}else M+=N[W];return D.child};function w(N,D,A){const M=this.options.updateTag(D.tagname,A,D[":@"]);M===!1||(typeof M=="string"&&(D.tagname=M),N.addChild(D))}const m=function(N){if(this.options.processEntities){for(let D in this.docTypeEntities){const A=this.docTypeEntities[D];N=N.replace(A.regx,A.val)}for(let D in this.lastEntities){const A=this.lastEntities[D];N=N.replace(A.regex,A.val)}if(this.options.htmlEntities)for(let D in this.htmlEntities){const A=this.htmlEntities[D];N=N.replace(A.regex,A.val)}N=N.replace(this.ampEntity.regex,this.ampEntity.val)}return N};function b(N,D,A,M){return N&&(M===void 0&&(M=Object.keys(D.child).length===0),(N=this.parseTextData(N,D.tagname,A,!1,!!D[":@"]&&Object.keys(D[":@"]).length!==0,M))!==void 0&&N!==""&&D.add(this.options.textNodeName,N),N=""),N}function O(N,D,A){const M="*."+A;for(const X in N){const W=N[X];if(M===W||D===W)return!0}return!1}function p(N,D,A,M){const X=N.indexOf(D,A);if(X===-1)throw new Error(M);return X+D.length-1}function T(N,D,A){const M=(function(At,Zt){let Xt,Lt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:">",me="";for(let Vt=Zt;Vt<At.length;Vt++){let Jt=At[Vt];if(Xt)Jt===Xt&&(Xt="");else if(Jt==='"'||Jt==="'")Xt=Jt;else if(Jt===Lt[0]){if(!Lt[1])return{data:me,index:Vt};if(At[Vt+1]===Lt[1])return{data:me,index:Vt}}else Jt==="	"&&(Jt=" ");me+=Jt}})(N,D+1,arguments.length>3&&arguments[3]!==void 0?arguments[3]:">");if(!M)return;let X=M.data;const W=M.index,K=X.search(/\s/);let P=X,nt=!0;K!==-1&&(P=X.substring(0,K),X=X.substring(K+1).trimStart());const et=P;if(A){const At=P.indexOf(":");At!==-1&&(P=P.substr(At+1),nt=P!==M.data.substr(At+1))}return{tagName:P,tagExp:X,closeIndex:W,attrExpPresent:nt,rawTagName:et}}function I(N,D,A){const M=A;let X=1;for(;A<N.length;A++)if(N[A]==="<")if(N[A+1]==="/"){const W=p(N,">",A,`${D} is not closed`);if(N.substring(A+2,W).trim()===D&&(X--,X===0))return{tagContent:N.substring(M,A),i:W};A=W}else if(N[A+1]==="?")A=p(N,"?>",A+1,"StopNode is not closed.");else if(N.substr(A+1,3)==="!--")A=p(N,"-->",A+3,"StopNode is not closed.");else if(N.substr(A+1,2)==="![")A=p(N,"]]>",A,"StopNode is not closed.")-2;else{const W=T(N,A,">");W&&((W&&W.tagName)===D&&W.tagExp[W.tagExp.length-1]!=="/"&&X++,A=W.closeIndex)}}function S(N,D,A){if(D&&typeof N=="string"){const M=N.trim();return M==="true"||M!=="false"&&h(N,A)}return r.isExist(N)?N:""}n.exports=class{constructor(N){this.options=N,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(D,A)=>String.fromCharCode(Number.parseInt(A,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(D,A)=>String.fromCharCode(Number.parseInt(A,16))}},this.addExternalEntities=y,this.parseXml=E,this.parseTextData=f,this.resolveNameSpace=i,this.buildAttributesMap=a,this.isItStopNode=O,this.replaceEntitiesValue=m,this.readStopNodeData=I,this.saveTextToParentTag=b,this.addChild=w,this.ignoreAttributesFn=c(this.options.ignoreAttributes)}}},338:(n,t,e)=>{const{buildOptions:r}=e(63),s=e(299),{prettify:o}=e(728),h=e(31);n.exports=class{constructor(c){this.externalEntities={},this.options=r(c)}parse(c,y){if(typeof c!="string"){if(!c.toString)throw new Error("XML data is accepted in String or Bytes[] form.");c=c.toString()}if(y){y===!0&&(y={});const l=h.validate(c,y);if(l!==!0)throw Error(`${l.err.msg}:${l.err.line}:${l.err.col}`)}const f=new s(this.options);f.addExternalEntities(this.externalEntities);const i=f.parseXml(c);return this.options.preserveOrder||i===void 0?i:o(i,this.options)}addEntity(c,y){if(y.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(c.indexOf("&")!==-1||c.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(y==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[c]=y}}},728:(n,t)=>{function e(h,c,y){let f;const i={};for(let l=0;l<h.length;l++){const a=h[l],E=r(a);let w="";if(w=y===void 0?E:y+"."+E,E===c.textNodeName)f===void 0?f=a[E]:f+=""+a[E];else{if(E===void 0)continue;if(a[E]){let m=e(a[E],c,w);const b=o(m,c);a[":@"]?s(m,a[":@"],w,c):Object.keys(m).length!==1||m[c.textNodeName]===void 0||c.alwaysCreateTextNode?Object.keys(m).length===0&&(c.alwaysCreateTextNode?m[c.textNodeName]="":m=""):m=m[c.textNodeName],i[E]!==void 0&&i.hasOwnProperty(E)?(Array.isArray(i[E])||(i[E]=[i[E]]),i[E].push(m)):c.isArray(E,w,b)?i[E]=[m]:i[E]=m}}}return typeof f=="string"?f.length>0&&(i[c.textNodeName]=f):f!==void 0&&(i[c.textNodeName]=f),i}function r(h){const c=Object.keys(h);for(let y=0;y<c.length;y++){const f=c[y];if(f!==":@")return f}}function s(h,c,y,f){if(c){const i=Object.keys(c),l=i.length;for(let a=0;a<l;a++){const E=i[a];f.isArray(E,y+"."+E,!0,!0)?h[E]=[c[E]]:h[E]=c[E]}}}function o(h,c){const{textNodeName:y}=c,f=Object.keys(h).length;return f===0||!(f!==1||!h[y]&&typeof h[y]!="boolean"&&h[y]!==0)}t.prettify=function(h,c){return e(h,c)}},365:n=>{n.exports=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,e){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:e})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}}},135:n=>{function t(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}n.exports=function(e){return e!=null&&(t(e)||(function(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&t(r.slice(0,0))})(e)||!!e._isBuffer)}},542:(n,t,e)=>{(function(){var r=e(298),s=e(526).utf8,o=e(135),h=e(526).bin,c=function(y,f){y.constructor==String?y=f&&f.encoding==="binary"?h.stringToBytes(y):s.stringToBytes(y):o(y)?y=Array.prototype.slice.call(y,0):Array.isArray(y)||y.constructor===Uint8Array||(y=y.toString());for(var i=r.bytesToWords(y),l=8*y.length,a=1732584193,E=-271733879,w=-1732584194,m=271733878,b=0;b<i.length;b++)i[b]=16711935&(i[b]<<8|i[b]>>>24)|4278255360&(i[b]<<24|i[b]>>>8);i[l>>>5]|=128<<l%32,i[14+(l+64>>>9<<4)]=l;var O=c._ff,p=c._gg,T=c._hh,I=c._ii;for(b=0;b<i.length;b+=16){var S=a,N=E,D=w,A=m;a=O(a,E,w,m,i[b+0],7,-680876936),m=O(m,a,E,w,i[b+1],12,-389564586),w=O(w,m,a,E,i[b+2],17,606105819),E=O(E,w,m,a,i[b+3],22,-1044525330),a=O(a,E,w,m,i[b+4],7,-176418897),m=O(m,a,E,w,i[b+5],12,1200080426),w=O(w,m,a,E,i[b+6],17,-1473231341),E=O(E,w,m,a,i[b+7],22,-45705983),a=O(a,E,w,m,i[b+8],7,1770035416),m=O(m,a,E,w,i[b+9],12,-1958414417),w=O(w,m,a,E,i[b+10],17,-42063),E=O(E,w,m,a,i[b+11],22,-1990404162),a=O(a,E,w,m,i[b+12],7,1804603682),m=O(m,a,E,w,i[b+13],12,-40341101),w=O(w,m,a,E,i[b+14],17,-1502002290),a=p(a,E=O(E,w,m,a,i[b+15],22,1236535329),w,m,i[b+1],5,-165796510),m=p(m,a,E,w,i[b+6],9,-1069501632),w=p(w,m,a,E,i[b+11],14,643717713),E=p(E,w,m,a,i[b+0],20,-373897302),a=p(a,E,w,m,i[b+5],5,-701558691),m=p(m,a,E,w,i[b+10],9,38016083),w=p(w,m,a,E,i[b+15],14,-660478335),E=p(E,w,m,a,i[b+4],20,-405537848),a=p(a,E,w,m,i[b+9],5,568446438),m=p(m,a,E,w,i[b+14],9,-1019803690),w=p(w,m,a,E,i[b+3],14,-187363961),E=p(E,w,m,a,i[b+8],20,1163531501),a=p(a,E,w,m,i[b+13],5,-1444681467),m=p(m,a,E,w,i[b+2],9,-51403784),w=p(w,m,a,E,i[b+7],14,1735328473),a=T(a,E=p(E,w,m,a,i[b+12],20,-1926607734),w,m,i[b+5],4,-378558),m=T(m,a,E,w,i[b+8],11,-2022574463),w=T(w,m,a,E,i[b+11],16,1839030562),E=T(E,w,m,a,i[b+14],23,-35309556),a=T(a,E,w,m,i[b+1],4,-1530992060),m=T(m,a,E,w,i[b+4],11,1272893353),w=T(w,m,a,E,i[b+7],16,-155497632),E=T(E,w,m,a,i[b+10],23,-1094730640),a=T(a,E,w,m,i[b+13],4,681279174),m=T(m,a,E,w,i[b+0],11,-358537222),w=T(w,m,a,E,i[b+3],16,-722521979),E=T(E,w,m,a,i[b+6],23,76029189),a=T(a,E,w,m,i[b+9],4,-640364487),m=T(m,a,E,w,i[b+12],11,-421815835),w=T(w,m,a,E,i[b+15],16,530742520),a=I(a,E=T(E,w,m,a,i[b+2],23,-995338651),w,m,i[b+0],6,-198630844),m=I(m,a,E,w,i[b+7],10,1126891415),w=I(w,m,a,E,i[b+14],15,-1416354905),E=I(E,w,m,a,i[b+5],21,-57434055),a=I(a,E,w,m,i[b+12],6,1700485571),m=I(m,a,E,w,i[b+3],10,-1894986606),w=I(w,m,a,E,i[b+10],15,-1051523),E=I(E,w,m,a,i[b+1],21,-2054922799),a=I(a,E,w,m,i[b+8],6,1873313359),m=I(m,a,E,w,i[b+15],10,-30611744),w=I(w,m,a,E,i[b+6],15,-1560198380),E=I(E,w,m,a,i[b+13],21,1309151649),a=I(a,E,w,m,i[b+4],6,-145523070),m=I(m,a,E,w,i[b+11],10,-1120210379),w=I(w,m,a,E,i[b+2],15,718787259),E=I(E,w,m,a,i[b+9],21,-343485551),a=a+S>>>0,E=E+N>>>0,w=w+D>>>0,m=m+A>>>0}return r.endian([a,E,w,m])};c._ff=function(y,f,i,l,a,E,w){var m=y+(f&i|~f&l)+(a>>>0)+w;return(m<<E|m>>>32-E)+f},c._gg=function(y,f,i,l,a,E,w){var m=y+(f&l|i&~l)+(a>>>0)+w;return(m<<E|m>>>32-E)+f},c._hh=function(y,f,i,l,a,E,w){var m=y+(f^i^l)+(a>>>0)+w;return(m<<E|m>>>32-E)+f},c._ii=function(y,f,i,l,a,E,w){var m=y+(i^(f|~l))+(a>>>0)+w;return(m<<E|m>>>32-E)+f},c._blocksize=16,c._digestsize=16,n.exports=function(y,f){if(y==null)throw new Error("Illegal argument "+y);var i=r.wordsToBytes(c(y,f));return f&&f.asBytes?i:f&&f.asString?h.bytesToString(i):r.bytesToHex(i)}})()},285:(n,t,e)=>{var r=e(2);n.exports=function(O){return O?(O.substr(0,2)==="{}"&&(O="\\{\\}"+O.substr(2)),b((function(p){return p.split("\\\\").join(s).split("\\{").join(o).split("\\}").join(h).split("\\,").join(c).split("\\.").join(y)})(O),!0).map(i)):[]};var s="\0SLASH"+Math.random()+"\0",o="\0OPEN"+Math.random()+"\0",h="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",y="\0PERIOD"+Math.random()+"\0";function f(O){return parseInt(O,10)==O?parseInt(O,10):O.charCodeAt(0)}function i(O){return O.split(s).join("\\").split(o).join("{").split(h).join("}").split(c).join(",").split(y).join(".")}function l(O){if(!O)return[""];var p=[],T=r("{","}",O);if(!T)return O.split(",");var I=T.pre,S=T.body,N=T.post,D=I.split(",");D[D.length-1]+="{"+S+"}";var A=l(N);return N.length&&(D[D.length-1]+=A.shift(),D.push.apply(D,A)),p.push.apply(p,D),p}function a(O){return"{"+O+"}"}function E(O){return/^-?0\d/.test(O)}function w(O,p){return O<=p}function m(O,p){return O>=p}function b(O,p){var T=[],I=r("{","}",O);if(!I)return[O];var S=I.pre,N=I.post.length?b(I.post,!1):[""];if(/\$$/.test(I.pre))for(var D=0;D<N.length;D++){var A=S+"{"+I.body+"}"+N[D];T.push(A)}else{var M,X,W=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(I.body),K=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(I.body),P=W||K,nt=I.body.indexOf(",")>=0;if(!P&&!nt)return I.post.match(/,.*\}/)?b(O=I.pre+"{"+I.body+h+I.post):[O];if(P)M=I.body.split(/\.\./);else if((M=l(I.body)).length===1&&(M=b(M[0],!1).map(a)).length===1)return N.map((function(Pr){return I.pre+M[0]+Pr}));if(P){var et=f(M[0]),At=f(M[1]),Zt=Math.max(M[0].length,M[1].length),Xt=M.length==3?Math.abs(f(M[2])):1,Lt=w;At<et&&(Xt*=-1,Lt=m);var me=M.some(E);X=[];for(var Vt=et;Lt(Vt,At);Vt+=Xt){var Jt;if(K)(Jt=String.fromCharCode(Vt))==="\\"&&(Jt="");else if(Jt=String(Vt),me){var Ir=Zt-Jt.length;if(Ir>0){var Or=new Array(Ir+1).join("0");Jt=Vt<0?"-"+Or+Jt.slice(1):Or+Jt}}X.push(Jt)}}else{X=[];for(var Qe=0;Qe<M.length;Qe++)X.push.apply(X,b(M[Qe],!1))}for(Qe=0;Qe<X.length;Qe++)for(D=0;D<N.length;D++)A=S+X[Qe]+N[D],(!p||P||A)&&T.push(A)}return T}},829:n=>{function t(f){return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},t(f)}function e(f){var i=typeof Map=="function"?new Map:void 0;return e=function(l){if(l===null||(a=l,Function.toString.call(a).indexOf("[native code]")===-1))return l;var a;if(typeof l!="function")throw new TypeError("Super expression must either be null or a function");if(i!==void 0){if(i.has(l))return i.get(l);i.set(l,E)}function E(){return r(l,arguments,o(this).constructor)}return E.prototype=Object.create(l.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),s(E,l)},e(f)}function r(f,i,l){return r=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch{return!1}})()?Reflect.construct:function(a,E,w){var m=[null];m.push.apply(m,E);var b=new(Function.bind.apply(a,m));return w&&s(b,w.prototype),b},r.apply(null,arguments)}function s(f,i){return s=Object.setPrototypeOf||function(l,a){return l.__proto__=a,l},s(f,i)}function o(f){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},o(f)}var h=(function(f){function i(l){var a;return(function(E,w){if(!(E instanceof w))throw new TypeError("Cannot call a class as a function")})(this,i),(a=(function(E,w){return!w||t(w)!=="object"&&typeof w!="function"?(function(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m})(E):w})(this,o(i).call(this,l))).name="ObjectPrototypeMutationError",a}return(function(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(a&&a.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),a&&s(l,a)})(i,f),i})(e(Error));function c(f,i){for(var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},a=i.split("."),E=a.length,w=function(O){var p=a[O];if(!f)return{v:void 0};if(p==="+"){if(Array.isArray(f))return{v:f.map((function(I,S){var N=a.slice(O+1);return N.length>0?c(I,N.join("."),l):l(f,S,a,O)}))};var T=a.slice(0,O).join(".");throw new Error("Object at wildcard (".concat(T,") is not an array"))}f=l(f,p,a,O)},m=0;m<E;m++){var b=w(m);if(t(b)==="object")return b.v}return f}function y(f,i){return f.length===i+1}n.exports={set:function(f,i,l){if(t(f)!="object"||f===null||i===void 0)return f;if(typeof i=="number")return f[i]=l,f[i];try{return c(f,i,(function(a,E,w,m){if(a===Reflect.getPrototypeOf({}))throw new h("Attempting to mutate Object.prototype");if(!a[E]){var b=Number.isInteger(Number(w[m+1])),O=w[m+1]==="+";a[E]=b||O?[]:{}}return y(w,m)&&(a[E]=l),a[E]}))}catch(a){if(a instanceof h)throw a;return f}},get:function(f,i){if(t(f)!="object"||f===null||i===void 0)return f;if(typeof i=="number")return f[i];try{return c(f,i,(function(l,a){return l[a]}))}catch{return f}},has:function(f,i){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t(f)!="object"||f===null||i===void 0)return!1;if(typeof i=="number")return i in f;try{var a=!1;return c(f,i,(function(E,w,m,b){if(!y(m,b))return E&&E[w];a=l.own?E.hasOwnProperty(w):w in E})),a}catch{return!1}},hasOwn:function(f,i,l){return this.has(f,i,l||{own:!0})},isIn:function(f,i,l){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t(f)!="object"||f===null||i===void 0)return!1;try{var E=!1,w=!1;return c(f,i,(function(m,b,O,p){return E=E||m===l||!!m&&m[b]===l,w=y(O,p)&&t(m)==="object"&&b in m,m&&m[b]})),a.validPath?E&&w:E}catch{return!1}},ObjectPrototypeMutationError:h}},47:(n,t,e)=>{var r=e(410),s=function(f){return typeof f=="string"};function o(f,i){for(var l=[],a=0;a<f.length;a++){var E=f[a];E&&E!=="."&&(E===".."?l.length&&l[l.length-1]!==".."?l.pop():i&&l.push(".."):l.push(E))}return l}var h=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,c={};function y(f){return h.exec(f).slice(1)}c.resolve=function(){for(var f="",i=!1,l=arguments.length-1;l>=-1&&!i;l--){var a=l>=0?arguments[l]:ht.cwd();if(!s(a))throw new TypeError("Arguments to path.resolve must be strings");a&&(f=a+"/"+f,i=a.charAt(0)==="/")}return(i?"/":"")+(f=o(f.split("/"),!i).join("/"))||"."},c.normalize=function(f){var i=c.isAbsolute(f),l=f.substr(-1)==="/";return(f=o(f.split("/"),!i).join("/"))||i||(f="."),f&&l&&(f+="/"),(i?"/":"")+f},c.isAbsolute=function(f){return f.charAt(0)==="/"},c.join=function(){for(var f="",i=0;i<arguments.length;i++){var l=arguments[i];if(!s(l))throw new TypeError("Arguments to path.join must be strings");l&&(f+=f?"/"+l:l)}return c.normalize(f)},c.relative=function(f,i){function l(p){for(var T=0;T<p.length&&p[T]==="";T++);for(var I=p.length-1;I>=0&&p[I]==="";I--);return T>I?[]:p.slice(T,I+1)}f=c.resolve(f).substr(1),i=c.resolve(i).substr(1);for(var a=l(f.split("/")),E=l(i.split("/")),w=Math.min(a.length,E.length),m=w,b=0;b<w;b++)if(a[b]!==E[b]){m=b;break}var O=[];for(b=m;b<a.length;b++)O.push("..");return(O=O.concat(E.slice(m))).join("/")},c._makeLong=function(f){return f},c.dirname=function(f){var i=y(f),l=i[0],a=i[1];return l||a?(a&&(a=a.substr(0,a.length-1)),l+a):"."},c.basename=function(f,i){var l=y(f)[2];return i&&l.substr(-1*i.length)===i&&(l=l.substr(0,l.length-i.length)),l},c.extname=function(f){return y(f)[3]},c.format=function(f){if(!r.isObject(f))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof f);var i=f.root||"";if(!s(i))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof f.root);return(f.dir?f.dir+c.sep:"")+(f.base||"")},c.parse=function(f){if(!s(f))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof f);var i=y(f);if(!i||i.length!==4)throw new TypeError("Invalid path '"+f+"'");return i[1]=i[1]||"",i[2]=i[2]||"",i[3]=i[3]||"",{root:i[0],dir:i[0]+i[1].slice(0,i[1].length-1),base:i[2],ext:i[3],name:i[2].slice(0,i[2].length-i[3].length)}},c.sep="/",c.delimiter=":",n.exports=c},647:(n,t)=>{var e=Object.prototype.hasOwnProperty;function r(o){try{return decodeURIComponent(o.replace(/\+/g," "))}catch{return null}}function s(o){try{return encodeURIComponent(o)}catch{return null}}t.stringify=function(o,h){h=h||"";var c,y,f=[];for(y in typeof h!="string"&&(h="?"),o)if(e.call(o,y)){if((c=o[y])||c!=null&&!isNaN(c)||(c=""),y=s(y),c=s(c),y===null||c===null)continue;f.push(y+"="+c)}return f.length?h+f.join("&"):""},t.parse=function(o){for(var h,c=/([^=?#&]+)=?([^&]*)/g,y={};h=c.exec(o);){var f=r(h[1]),i=r(h[2]);f===null||i===null||f in y||(y[f]=i)}return y}},670:n=>{n.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0}},494:n=>{const t=/^[-+]?0x[a-fA-F0-9]+$/,e=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const r={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};n.exports=function(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(o=Object.assign({},r,o),!s||typeof s!="string")return s;let h=s.trim();if(o.skipLike!==void 0&&o.skipLike.test(h))return s;if(o.hex&&t.test(h))return Number.parseInt(h,16);{const y=e.exec(h);if(y){const f=y[1],i=y[2];let l=((c=y[3])&&c.indexOf(".")!==-1&&((c=c.replace(/0+$/,""))==="."?c="0":c[0]==="."?c="0"+c:c[c.length-1]==="."&&(c=c.substr(0,c.length-1))),c);const a=y[4]||y[6];if(!o.leadingZeros&&i.length>0&&f&&h[2]!=="."||!o.leadingZeros&&i.length>0&&!f&&h[1]!==".")return s;{const E=Number(h),w=""+E;return w.search(/[eE]/)!==-1||a?o.eNotation?E:s:h.indexOf(".")!==-1?w==="0"&&l===""||w===l||f&&w==="-"+l?E:s:i?l===w||f+l===w?E:s:h===w||h===f+w?E:s}}return s}var c}},737:(n,t,e)=>{var r=e(670),s=e(647),o=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,h=/[\n\r\t]/g,c=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,y=/:\d+$/,f=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,i=/^[a-zA-Z]:/;function l(p){return(p||"").toString().replace(o,"")}var a=[["#","hash"],["?","query"],function(p,T){return m(T.protocol)?p.replace(/\\/g,"/"):p},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],E={hash:1,query:1};function w(p){var T,I=(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{}).location||{},S={},N=typeof(p=p||I);if(p.protocol==="blob:")S=new O(unescape(p.pathname),{});else if(N==="string")for(T in S=new O(p,{}),E)delete S[T];else if(N==="object"){for(T in p)T in E||(S[T]=p[T]);S.slashes===void 0&&(S.slashes=c.test(p.href))}return S}function m(p){return p==="file:"||p==="ftp:"||p==="http:"||p==="https:"||p==="ws:"||p==="wss:"}function b(p,T){p=(p=l(p)).replace(h,""),T=T||{};var I,S=f.exec(p),N=S[1]?S[1].toLowerCase():"",D=!!S[2],A=!!S[3],M=0;return D?A?(I=S[2]+S[3]+S[4],M=S[2].length+S[3].length):(I=S[2]+S[4],M=S[2].length):A?(I=S[3]+S[4],M=S[3].length):I=S[4],N==="file:"?M>=2&&(I=I.slice(2)):m(N)?I=S[4]:N?D&&(I=I.slice(2)):M>=2&&m(T.protocol)&&(I=S[4]),{protocol:N,slashes:D||m(N),slashesCount:M,rest:I}}function O(p,T,I){if(p=(p=l(p)).replace(h,""),!(this instanceof O))return new O(p,T,I);var S,N,D,A,M,X,W=a.slice(),K=typeof T,P=this,nt=0;for(K!=="object"&&K!=="string"&&(I=T,T=null),I&&typeof I!="function"&&(I=s.parse),S=!(N=b(p||"",T=w(T))).protocol&&!N.slashes,P.slashes=N.slashes||S&&T.slashes,P.protocol=N.protocol||T.protocol||"",p=N.rest,(N.protocol==="file:"&&(N.slashesCount!==2||i.test(p))||!N.slashes&&(N.protocol||N.slashesCount<2||!m(P.protocol)))&&(W[3]=[/(.*)/,"pathname"]);nt<W.length;nt++)typeof(A=W[nt])!="function"?(D=A[0],X=A[1],D!=D?P[X]=p:typeof D=="string"?~(M=D==="@"?p.lastIndexOf(D):p.indexOf(D))&&(typeof A[2]=="number"?(P[X]=p.slice(0,M),p=p.slice(M+A[2])):(P[X]=p.slice(M),p=p.slice(0,M))):(M=D.exec(p))&&(P[X]=M[1],p=p.slice(0,M.index)),P[X]=P[X]||S&&A[3]&&T[X]||"",A[4]&&(P[X]=P[X].toLowerCase())):p=A(p,P);I&&(P.query=I(P.query)),S&&T.slashes&&P.pathname.charAt(0)!=="/"&&(P.pathname!==""||T.pathname!=="")&&(P.pathname=(function(et,At){if(et==="")return At;for(var Zt=(At||"/").split("/").slice(0,-1).concat(et.split("/")),Xt=Zt.length,Lt=Zt[Xt-1],me=!1,Vt=0;Xt--;)Zt[Xt]==="."?Zt.splice(Xt,1):Zt[Xt]===".."?(Zt.splice(Xt,1),Vt++):Vt&&(Xt===0&&(me=!0),Zt.splice(Xt,1),Vt--);return me&&Zt.unshift(""),Lt!=="."&&Lt!==".."||Zt.push(""),Zt.join("/")})(P.pathname,T.pathname)),P.pathname.charAt(0)!=="/"&&m(P.protocol)&&(P.pathname="/"+P.pathname),r(P.port,P.protocol)||(P.host=P.hostname,P.port=""),P.username=P.password="",P.auth&&(~(M=P.auth.indexOf(":"))?(P.username=P.auth.slice(0,M),P.username=encodeURIComponent(decodeURIComponent(P.username)),P.password=P.auth.slice(M+1),P.password=encodeURIComponent(decodeURIComponent(P.password))):P.username=encodeURIComponent(decodeURIComponent(P.auth)),P.auth=P.password?P.username+":"+P.password:P.username),P.origin=P.protocol!=="file:"&&m(P.protocol)&&P.host?P.protocol+"//"+P.host:"null",P.href=P.toString()}O.prototype={set:function(p,T,I){var S=this;switch(p){case"query":typeof T=="string"&&T.length&&(T=(I||s.parse)(T)),S[p]=T;break;case"port":S[p]=T,r(T,S.protocol)?T&&(S.host=S.hostname+":"+T):(S.host=S.hostname,S[p]="");break;case"hostname":S[p]=T,S.port&&(T+=":"+S.port),S.host=T;break;case"host":S[p]=T,y.test(T)?(T=T.split(":"),S.port=T.pop(),S.hostname=T.join(":")):(S.hostname=T,S.port="");break;case"protocol":S.protocol=T.toLowerCase(),S.slashes=!I;break;case"pathname":case"hash":if(T){var N=p==="pathname"?"/":"#";S[p]=T.charAt(0)!==N?N+T:T}else S[p]=T;break;case"username":case"password":S[p]=encodeURIComponent(T);break;case"auth":var D=T.indexOf(":");~D?(S.username=T.slice(0,D),S.username=encodeURIComponent(decodeURIComponent(S.username)),S.password=T.slice(D+1),S.password=encodeURIComponent(decodeURIComponent(S.password))):S.username=encodeURIComponent(decodeURIComponent(T))}for(var A=0;A<a.length;A++){var M=a[A];M[4]&&(S[M[1]]=S[M[1]].toLowerCase())}return S.auth=S.password?S.username+":"+S.password:S.username,S.origin=S.protocol!=="file:"&&m(S.protocol)&&S.host?S.protocol+"//"+S.host:"null",S.href=S.toString(),S},toString:function(p){p&&typeof p=="function"||(p=s.stringify);var T,I=this,S=I.host,N=I.protocol;N&&N.charAt(N.length-1)!==":"&&(N+=":");var D=N+(I.protocol&&I.slashes||m(I.protocol)?"//":"");return I.username?(D+=I.username,I.password&&(D+=":"+I.password),D+="@"):I.password?(D+=":"+I.password,D+="@"):I.protocol!=="file:"&&m(I.protocol)&&!S&&I.pathname!=="/"&&(D+="@"),(S[S.length-1]===":"||y.test(I.hostname)&&!I.port)&&(S+=":"),D+=S+I.pathname,(T=typeof I.query=="object"?p(I.query):I.query)&&(D+=T.charAt(0)!=="?"?"?"+T:T),I.hash&&(D+=I.hash),D}},O.extractProtocol=b,O.location=w,O.trimLeft=l,O.qs=s,n.exports=O},410:()=>{},388:()=>{},805:()=>{},345:()=>{},800:()=>{}},xt={};function z(n){var t=xt[n];if(t!==void 0)return t.exports;var e=xt[n]={id:n,loaded:!1,exports:{}};return vt[n].call(e.exports,e,e.exports,z),e.loaded=!0,e.exports}z.n=n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return z.d(t,{a:t}),t},z.d=(n,t)=>{for(var e in t)z.o(t,e)&&!z.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})},z.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),z.nmd=n=>(n.paths=[],n.children||(n.children=[]),n);var Q={};z.d(Q,{hT:()=>St,O4:()=>ee,Kd:()=>pn,YK:()=>xe,UU:()=>Cn,Gu:()=>Z,ky:()=>_n,h4:()=>cn,ch:()=>ln,hq:()=>Se,i5:()=>Pe});var lt=z(737),bt=z.n(lt);function Gt(n){if(!Dt(n))throw new Error("Parameter was not an error")}function Dt(n){return!!n&&typeof n=="object"&&(t=n,Object.prototype.toString.call(t)==="[object Error]")||n instanceof Error;var t}class _t extends Error{constructor(t,e){const r=[...arguments],{options:s,shortMessage:o}=(function(c){let y,f="";if(c.length===0)y={};else if(Dt(c[0]))y={cause:c[0]},f=c.slice(1).join(" ")||"";else if(c[0]&&typeof c[0]=="object")y=Object.assign({},c[0]),f=c.slice(1).join(" ")||"";else{if(typeof c[0]!="string")throw new Error("Invalid arguments passed to Layerr");y={},f=f=c.join(" ")||""}return{options:y,shortMessage:f}})(r);let h=o;if(s.cause&&(h=`${h}: ${s.cause.message}`),super(h),this.message=h,s.name&&typeof s.name=="string"?this.name=s.name:this.name="Layerr",s.cause&&Object.defineProperty(this,"_cause",{value:s.cause}),Object.defineProperty(this,"_info",{value:{}}),s.info&&typeof s.info=="object"&&Object.assign(this._info,s.info),Error.captureStackTrace){const c=s.constructorOpt||this.constructor;Error.captureStackTrace(this,c)}}static cause(t){return Gt(t),t._cause&&Dt(t._cause)?t._cause:null}static fullStack(t){Gt(t);const e=_t.cause(t);return e?`${t.stack}
caused by: ${_t.fullStack(e)}`:t.stack??""}static info(t){Gt(t);const e={},r=_t.cause(t);return r&&Object.assign(e,_t.info(r)),t._info&&Object.assign(e,t._info),e}toString(){let t=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(t=`${t}: ${this.message}`),t}}var Ht=z(47),zt=z.n(Ht);const Ct="__PATH_SEPARATOR_POSIX__",Wt="__PATH_SEPARATOR_WINDOWS__";function rt(n){try{const t=n.replace(/\//g,Ct).replace(/\\\\/g,Wt);return encodeURIComponent(t).split(Wt).join("\\\\").split(Ct).join("/")}catch(t){throw new _t(t,"Failed encoding path")}}function ve(n){return n.startsWith("/")?n:"/"+n}function ie(n){let t=n;return t[0]!=="/"&&(t="/"+t),/^.+\/$/.test(t)&&(t=t.substr(0,t.length-1)),t}function L(n){let t=new(bt())(n).pathname;return t.length<=0&&(t="/"),ie(t)}function B(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return(function(){return(function(r){var s=[];if(r.length===0)return"";if(typeof r[0]!="string")throw new TypeError("Url must be a string. Received "+r[0]);if(r[0].match(/^[^/:]+:\/*$/)&&r.length>1){var o=r.shift();r[0]=o+r[0]}r[0].match(/^file:\/\/\//)?r[0]=r[0].replace(/^([^/:]+):\/*/,"$1:///"):r[0]=r[0].replace(/^([^/:]+):\/*/,"$1://");for(var h=0;h<r.length;h++){var c=r[h];if(typeof c!="string")throw new TypeError("Url must be a string. Received "+c);c!==""&&(h>0&&(c=c.replace(/^[\/]+/,"")),c=h<r.length-1?c.replace(/[\/]+$/,""):c.replace(/[\/]+$/,"/"),s.push(c))}var y=s.join("/"),f=(y=y.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return f.shift()+(f.length>0?"?":"")+f.join("&")})(typeof arguments[0]=="object"?arguments[0]:[].slice.call(arguments))})(t.reduce(((r,s,o)=>((o===0||s!=="/"||s==="/"&&r[r.length-1]!=="/")&&r.push(s),r)),[]))}var dt=z(542),at=z.n(dt);const It="abcdef0123456789";function Ze(n,t){const e=n.url.replace("//",""),r=e.indexOf("/")==-1?"/":e.slice(e.indexOf("/")),s=n.method?n.method.toUpperCase():"GET",o=!!/(^|,)\s*auth\s*($|,)/.test(t.qop)&&"auth",h=`00000000${t.nc}`.slice(-8),c=(function(a,E,w,m,b,O,p){const T=p||at()(`${E}:${w}:${m}`);return a&&a.toLowerCase()==="md5-sess"?at()(`${T}:${b}:${O}`):T})(t.algorithm,t.username,t.realm,t.password,t.nonce,t.cnonce,t.ha1),y=at()(`${s}:${r}`),f=o?at()(`${c}:${t.nonce}:${h}:${t.cnonce}:${o}:${y}`):at()(`${c}:${t.nonce}:${y}`),i={username:t.username,realm:t.realm,nonce:t.nonce,uri:r,qop:o,response:f,nc:h,cnonce:t.cnonce,algorithm:t.algorithm,opaque:t.opaque},l=[];for(const a in i)i[a]&&(a==="qop"||a==="nc"||a==="algorithm"?l.push(`${a}=${i[a]}`):l.push(`${a}="${i[a]}"`));return`Digest ${l.join(", ")}`}function Oe(n){return(n.headers&&n.headers.get("www-authenticate")||"").split(/\s/)[0].toLowerCase()==="digest"}var je=z(101),Je=z.n(je);function $t(n){return Je().decode(n)}function Ee(n,t){var e;return`Basic ${e=`${n}:${t}`,Je().encode(e)}`}const de=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:typeof window<"u"?window:globalThis,te=de.fetch.bind(de),pn=(de.Headers,de.Request),xe=de.Response;let St=(function(n){return n.Auto="auto",n.Digest="digest",n.None="none",n.Password="password",n.Token="token",n})({}),ee=(function(n){return n.DataTypeNoLength="data-type-no-length",n.InvalidAuthType="invalid-auth-type",n.InvalidOutputFormat="invalid-output-format",n.LinkUnsupportedAuthType="link-unsupported-auth",n.InvalidUpdateRange="invalid-update-range",n.NotSupported="not-supported",n})({});function be(n,t,e,r,s){switch(n.authType){case St.Auto:t&&e&&(n.headers.Authorization=Ee(t,e));break;case St.Digest:n.digest=(function(h,c,y){return{username:h,password:c,ha1:y,nc:0,algorithm:"md5",hasDigestAuth:!1}})(t,e,s);break;case St.None:break;case St.Password:n.headers.Authorization=Ee(t,e);break;case St.Token:n.headers.Authorization=`${(o=r).token_type} ${o.access_token}`;break;default:throw new _t({info:{code:ee.InvalidAuthType}},`Invalid auth type: ${n.authType}`)}var o}z(345),z(800);const Ce="@@HOTPATCHER",Me=()=>{};function F(n){return{original:n,methods:[n],final:!1}}class j{constructor(){this._configuration={registry:{},getEmptyAction:"null"},this.__type__=Ce}get configuration(){return this._configuration}get getEmptyAction(){return this.configuration.getEmptyAction}set getEmptyAction(t){this.configuration.getEmptyAction=t}control(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!t||t.__type__!==Ce)throw new Error("Failed taking control of target HotPatcher instance: Invalid type or object");return Object.keys(t.configuration.registry).forEach((r=>{this.configuration.registry.hasOwnProperty(r)?e&&(this.configuration.registry[r]=Object.assign({},t.configuration.registry[r])):this.configuration.registry[r]=Object.assign({},t.configuration.registry[r])})),t._configuration=this.configuration,this}execute(t){const e=this.get(t)||Me;for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return e(...s)}get(t){const e=this.configuration.registry[t];if(!e)switch(this.getEmptyAction){case"null":return null;case"throw":throw new Error(`Failed handling method request: No method provided for override: ${t}`);default:throw new Error(`Failed handling request which resulted in an empty method: Invalid empty-action specified: ${this.getEmptyAction}`)}return(function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];if(s.length===0)throw new Error("Failed creating sequence: No functions provided");return function(){for(var h=arguments.length,c=new Array(h),y=0;y<h;y++)c[y]=arguments[y];let f=c;const i=this;for(;s.length>0;)f=[s.shift().apply(i,f)];return f[0]}})(...e.methods)}isPatched(t){return!!this.configuration.registry[t]}patch(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{chain:s=!1}=r;if(this.configuration.registry[t]&&this.configuration.registry[t].final)throw new Error(`Failed patching '${t}': Method marked as being final`);if(typeof e!="function")throw new Error(`Failed patching '${t}': Provided method is not a function`);if(s)this.configuration.registry[t]?this.configuration.registry[t].methods.push(e):this.configuration.registry[t]=F(e);else if(this.isPatched(t)){const{original:o}=this.configuration.registry[t];this.configuration.registry[t]=Object.assign(F(e),{original:o})}else this.configuration.registry[t]=F(e);return this}patchInline(t,e){this.isPatched(t)||this.patch(t,e);for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];return this.execute(t,...s)}plugin(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),s=1;s<e;s++)r[s-1]=arguments[s];return r.forEach((o=>{this.patch(t,o,{chain:!0})})),this}restore(t){if(!this.isPatched(t))throw new Error(`Failed restoring method: No method present for key: ${t}`);if(typeof this.configuration.registry[t].original!="function")throw new Error(`Failed restoring method: Original method not found or of invalid type for key: ${t}`);return this.configuration.registry[t].methods=[this.configuration.registry[t].original],this}setFinal(t){if(!this.configuration.registry.hasOwnProperty(t))throw new Error(`Failed marking '${t}' as final: No method found for key`);return this.configuration.registry[t].final=!0,this}}let G=null;function Z(){return G||(G=new j),G}function Tt(n){return(function(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e})(n)?Object.assign({},n):Object.setPrototypeOf(Object.assign({},n),Object.getPrototypeOf(n))}function Ut(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];let r=null,s=[...t];for(;s.length>0;){const o=s.shift();r=r?se(r,o):Tt(o)}return r}function se(n,t){const e=Tt(n);return Object.keys(t).forEach((r=>{e.hasOwnProperty(r)?Array.isArray(t[r])?e[r]=Array.isArray(e[r])?[...e[r],...t[r]]:[...t[r]]:typeof t[r]=="object"&&t[r]?e[r]=typeof e[r]=="object"&&e[r]?se(e[r],t[r]):Tt(t[r]):e[r]=t[r]:e[r]=t[r]})),e}function Ue(n){const t={};for(const e of n.keys())t[e]=n.get(e);return t}function oe(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];if(t.length===0)return{};const r={};return t.reduce(((s,o)=>(Object.keys(o).forEach((h=>{const c=h.toLowerCase();r.hasOwnProperty(c)?s[r[c]]=o[h]:(r[c]=h,s[h]=o[h])})),s)),{})}z(805);const le=typeof ArrayBuffer=="function",{toString:tn}=Object.prototype;function Yn(n){return le&&(n instanceof ArrayBuffer||tn.call(n)==="[object ArrayBuffer]")}function en(n){return n!=null&&n.constructor!=null&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function nn(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(r){return Promise.reject(r)}}}function rn(n,t,e){return e?t?t(n):n:(n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n)}const sn=nn((function(n){const t=n._digest;return delete n._digest,t.hasDigestAuth&&(n=Ut(n,{headers:{Authorization:Ze(n,t)}})),rn(ke(n),(function(e){let r=!1;return s=function(h){return r?h:e},(o=(function(){if(e.status==401)return t.hasDigestAuth=(function(h,c){if(!Oe(h))return!1;const y=/([a-z0-9_-]+)=(?:"([^"]+)"|([a-z0-9_-]+))/gi;for(;;){const f=h.headers&&h.headers.get("www-authenticate")||"",i=y.exec(f);if(!i)break;c[i[1]]=i[2]||i[3]}return c.nc+=1,c.cnonce=(function(){let f="";for(let i=0;i<32;++i)f=`${f}${It[Math.floor(16*Math.random())]}`;return f})(),!0})(e,t),(function(){if(t.hasDigestAuth)return rn(ke(n=Ut(n,{headers:{Authorization:Ze(n,t)}})),(function(h){return h.status==401?t.hasDigestAuth=!1:t.nc++,r=!0,h}))})();t.nc++})())&&o.then?o.then(s):s(o);var s,o}))})),Pn=nn((function(n,t){return rn(ke(n),(function(e){return e.ok?(t.authType=St.Password,e):e.status==401&&Oe(e)?(t.authType=St.Digest,be(t,t.username,t.password,void 0,void 0),n._digest=t.digest,sn(n)):e}))})),Pt=nn((function(n,t){return t.authType===St.Auto?Pn(n,t):n._digest?sn(n):ke(n)}));function Ot(n,t,e){const r=Tt(n);return r.headers=oe(t.headers,r.headers||{},e.headers||{}),e.data!==void 0&&(r.data=e.data),e.signal&&(r.signal=e.signal),t.httpAgent&&(r.httpAgent=t.httpAgent),t.httpsAgent&&(r.httpsAgent=t.httpsAgent),t.digest&&(r._digest=t.digest),typeof t.withCredentials=="boolean"&&(r.withCredentials=t.withCredentials),r}function ke(n){const t=Z();return t.patchInline("request",(e=>t.patchInline("fetch",te,e.url,(function(r){let s={};const o={method:r.method};if(r.headers&&(s=oe(s,r.headers)),r.data!==void 0){const[h,c]=(function(y){if(typeof y=="string")return[y,{}];if(en(y))return[y,{}];if(Yn(y))return[y,{}];if(y&&typeof y=="object")return[JSON.stringify(y),{"content-type":"application/json"}];throw new Error("Unable to convert request body: Unexpected body type: "+typeof y)})(r.data);o.body=h,s=oe(s,c)}return r.signal&&(o.signal=r.signal),r.withCredentials&&(o.credentials="include"),o.headers=s,o})(e))),n)}var Kn=z(285);const Le=n=>{if(typeof n!="string")throw new TypeError("invalid pattern");if(n.length>65536)throw new TypeError("pattern is too long")},Rn={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Be=n=>n.replace(/[[\]\\-]/g,"\\$&"),on=n=>n.join(""),Ln=(n,t)=>{const e=t;if(n.charAt(e)!=="[")throw new Error("not in a brace expression");const r=[],s=[];let o=e+1,h=!1,c=!1,y=!1,f=!1,i=e,l="";t:for(;o<n.length;){const m=n.charAt(o);if(m!=="!"&&m!=="^"||o!==e+1){if(m==="]"&&h&&!y){i=o+1;break}if(h=!0,m!=="\\"||y){if(m==="["&&!y){for(const[b,[O,p,T]]of Object.entries(Rn))if(n.startsWith(b,o)){if(l)return["$.",!1,n.length-e,!0];o+=b.length,T?s.push(O):r.push(O),c=c||p;continue t}}y=!1,l?(m>l?r.push(Be(l)+"-"+Be(m)):m===l&&r.push(Be(m)),l="",o++):n.startsWith("-]",o+1)?(r.push(Be(m+"-")),o+=2):n.startsWith("-",o+1)?(l=m,o+=2):(r.push(Be(m)),o++)}else y=!0,o++}else f=!0,o++}if(i<o)return["",!1,0,!1];if(!r.length&&!s.length)return["$.",!1,n.length-e,!0];if(s.length===0&&r.length===1&&/^\\?.$/.test(r[0])&&!f)return[(a=r[0].length===2?r[0].slice(-1):r[0],a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,i-e,!1];var a;const E="["+(f?"^":"")+on(r)+"]",w="["+(f?"":"^")+on(s)+"]";return[r.length&&s.length?"("+E+"|"+w+")":r.length?E:w,c,i-e,!0]},Ve=function(n){let{windowsPathsNoEscape:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t?n.replace(/\[([^\/\\])\]/g,"$1"):n.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1")},gn=new Set(["!","?","+","*","@"]),mn=n=>gn.has(n),an="(?!\\.)",vn=new Set(["[","."]),Dn=new Set(["..","."]),Qn=new Set("().*{}+?[]^$\\!"),Ge="[^/]",wn=Ge+"*?",$n=Ge+"+?",ue=class ue{constructor(t,e){ce(this,Ke);ft(this,"type");ce(this,gt);ce(this,mt);ce(this,re,!1);ce(this,st,[]);ce(this,Et);ce(this,Ae);ce(this,Ie);ce(this,ge,!1);ce(this,fe);ce(this,Ye);ce(this,Sn,!1);let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.type=t,t&&Mt(this,mt,!0),Mt(this,Et,e),Mt(this,gt,V(this,Et)?V(V(this,Et),gt):this),Mt(this,fe,V(this,gt)===this?r:V(V(this,gt),fe)),Mt(this,Ie,V(this,gt)===this?[]:V(V(this,gt),Ie)),t!=="!"||V(V(this,gt),ge)||V(this,Ie).push(this),Mt(this,Ae,V(this,Et)?V(V(this,Et),st).length:0)}get hasMagic(){if(V(this,mt)!==void 0)return V(this,mt);for(const t of V(this,st))if(typeof t!="string"&&(t.type||t.hasMagic))return Mt(this,mt,!0);return V(this,mt)}toString(){return V(this,Ye)!==void 0?V(this,Ye):this.type?Mt(this,Ye,this.type+"("+V(this,st).map((t=>String(t))).join("|")+")"):Mt(this,Ye,V(this,st).map((t=>String(t))).join(""))}push(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(const s of e)if(s!==""){if(typeof s!="string"&&!(s instanceof ue&&V(s,Et)===this))throw new Error("invalid part: "+s);V(this,st).push(s)}}toJSON(){const t=this.type===null?V(this,st).slice().map((e=>typeof e=="string"?e:e.toJSON())):[this.type,...V(this,st).map((e=>e.toJSON()))];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===V(this,gt)||V(V(this,gt),ge)&&V(this,Et)?.type==="!")&&t.push({}),t}isStart(){if(V(this,gt)===this)return!0;if(!V(this,Et)?.isStart())return!1;if(V(this,Ae)===0)return!0;const t=V(this,Et);for(let e=0;e<V(this,Ae);e++){const r=V(t,st)[e];if(!(r instanceof ue&&r.type==="!"))return!1}return!0}isEnd(){if(V(this,gt)===this||V(this,Et)?.type==="!")return!0;if(!V(this,Et)?.isEnd())return!1;if(!this.type)return V(this,Et)?.isEnd();const t=V(this,Et)?V(V(this,Et),st).length:0;return V(this,Ae)===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){const e=new ue(this.type,t);for(const r of V(this,st))e.copyIn(r);return e}static fromGlob(t){var s;let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=new ue(null,void 0,e);return Fe(s=ue,$e,zn).call(s,t,r,0,e),r}toMMPattern(){if(this!==V(this,gt))return V(this,gt).toMMPattern();const t=this.toString(),[e,r,s,o]=this.toRegExpSource();if(!(s||V(this,mt)||V(this,fe).nocase&&!V(this,fe).nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return r;const h=(V(this,fe).nocase?"i":"")+(o?"u":"");return Object.assign(new RegExp(`^${e}$`,h),{_src:e,_glob:t})}get options(){return V(this,fe)}toRegExpSource(t){const e=t??!!V(this,fe).dot;if(V(this,gt)===this&&Fe(this,Ke,Cr).call(this),!this.type){const y=this.isStart()&&this.isEnd(),f=V(this,st).map((a=>{var O;const[E,w,m,b]=typeof a=="string"?Fe(O=ue,$e,Sr).call(O,a,V(this,mt),y):a.toRegExpSource(t);return Mt(this,mt,V(this,mt)||m),Mt(this,re,V(this,re)||b),E})).join("");let i="";if(this.isStart()&&typeof V(this,st)[0]=="string"&&(V(this,st).length!==1||!Dn.has(V(this,st)[0]))){const a=vn,E=e&&a.has(f.charAt(0))||f.startsWith("\\.")&&a.has(f.charAt(2))||f.startsWith("\\.\\.")&&a.has(f.charAt(4)),w=!e&&!t&&a.has(f.charAt(0));i=E?"(?!(?:^|/)\\.\\.?(?:$|/))":w?an:""}let l="";return this.isEnd()&&V(V(this,gt),ge)&&V(this,Et)?.type==="!"&&(l="(?:$|\\/)"),[i+f+l,Ve(f),Mt(this,mt,!!V(this,mt)),V(this,re)]}const r=this.type==="*"||this.type==="+",s=this.type==="!"?"(?:(?!(?:":"(?:";let o=Fe(this,Ke,gr).call(this,e);if(this.isStart()&&this.isEnd()&&!o&&this.type!=="!"){const y=this.toString();return Mt(this,st,[y]),this.type=null,Mt(this,mt,void 0),[y,Ve(this.toString()),!1,!1]}let h=!r||t||e?"":Fe(this,Ke,gr).call(this,!0);h===o&&(h=""),h&&(o=`(?:${o})(?:${h})*?`);let c="";return c=this.type==="!"&&V(this,Sn)?(this.isStart()&&!e?an:"")+$n:s+o+(this.type==="!"?"))"+(!this.isStart()||e||t?"":an)+wn+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&h?")":this.type==="*"&&h?")?":`)${this.type}`),[c,Ve(o),Mt(this,mt,!!V(this,mt)),V(this,re)]}};gt=new WeakMap,mt=new WeakMap,re=new WeakMap,st=new WeakMap,Et=new WeakMap,Ae=new WeakMap,Ie=new WeakMap,ge=new WeakMap,fe=new WeakMap,Ye=new WeakMap,Sn=new WeakMap,Ke=new WeakSet,Cr=function(){if(this!==V(this,gt))throw new Error("should only call on root");if(V(this,ge))return this;let t;for(this.toString(),Mt(this,ge,!0);t=V(this,Ie).pop();){if(t.type!=="!")continue;let e=t,r=V(e,Et);for(;r;){for(let s=V(e,Ae)+1;!r.type&&s<V(r,st).length;s++)for(const o of V(t,st)){if(typeof o=="string")throw new Error("string part in extglob AST??");o.copyIn(V(r,st)[s])}e=r,r=V(e,Et)}}return this},$e=new WeakSet,zn=function(t,e,r,s){var E,w;let o=!1,h=!1,c=-1,y=!1;if(e.type===null){let m=r,b="";for(;m<t.length;){const O=t.charAt(m++);if(o||O==="\\")o=!o,b+=O;else if(h)m===c+1?O!=="^"&&O!=="!"||(y=!0):O!=="]"||m===c+2&&y||(h=!1),b+=O;else if(O!=="[")if(s.noext||!mn(O)||t.charAt(m)!=="(")b+=O;else{e.push(b),b="";const p=new ue(O,e);m=Fe(E=ue,$e,zn).call(E,t,p,m,s),e.push(p)}else h=!0,c=m,y=!1,b+=O}return e.push(b),m}let f=r+1,i=new ue(null,e);const l=[];let a="";for(;f<t.length;){const m=t.charAt(f++);if(o||m==="\\")o=!o,a+=m;else if(h)f===c+1?m!=="^"&&m!=="!"||(y=!0):m!=="]"||f===c+2&&y||(h=!1),a+=m;else if(m!=="[")if(mn(m)&&t.charAt(f)==="("){i.push(a),a="";const b=new ue(m,i);i.push(b),f=Fe(w=ue,$e,zn).call(w,t,b,f,s)}else if(m!=="|"){if(m===")")return a===""&&V(e,st).length===0&&Mt(e,Sn,!0),i.push(a),a="",e.push(...l,i),f;a+=m}else i.push(a),a="",l.push(i),i=new ue(null,e);else h=!0,c=f,y=!1,a+=m}return e.type=null,Mt(e,mt,void 0),Mt(e,st,[t.substring(r-1)]),f},gr=function(t){return V(this,st).map((e=>{if(typeof e=="string")throw new Error("string type in extglob ast??");const[r,s,o,h]=e.toRegExpSource(t);return Mt(this,re,V(this,re)||h),r})).filter((e=>!(this.isStart()&&this.isEnd()&&!e))).join("|")},Sr=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=!1,o="",h=!1;for(let c=0;c<t.length;c++){const y=t.charAt(c);if(s)s=!1,o+=(Qn.has(y)?"\\":"")+y;else if(y!=="\\"){if(y==="["){const[f,i,l,a]=Ln(t,c);if(l){o+=f,h=h||i,c+=l-1,e=e||a;continue}}y!=="*"?y!=="?"?o+=y.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):(o+=Ge,e=!0):(o+=r&&t==="*"?$n:wn,e=!0)}else c===t.length-1?o+="\\\\":s=!0}return[o,Ve(t),!!e,h]},ce(ue,$e);let yn=ue;const qt=function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Le(t),!(!e.nocomment&&t.charAt(0)==="#")&&new un(t,e).match(n)},En=/^\*+([^+@!?\*\[\(]*)$/,Fn=n=>t=>!t.startsWith(".")&&t.endsWith(n),Zn=n=>t=>t.endsWith(n),mr=n=>(n=n.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(n)),jn=n=>(n=n.toLowerCase(),t=>t.toLowerCase().endsWith(n)),Jn=/^\*+\.\*+$/,tr=n=>!n.startsWith(".")&&n.includes("."),Xe=n=>n!=="."&&n!==".."&&n.includes("."),er=/^\.\*+$/,Mn=n=>n!=="."&&n!==".."&&n.startsWith("."),vr=/^\*+$/,wr=n=>n.length!==0&&!n.startsWith("."),yr=n=>n.length!==0&&n!=="."&&n!=="..",Er=/^\?+([^+@!?\*\[\(]*)?$/,br=n=>{let[t,e=""]=n;const r=rr([t]);return e?(e=e.toLowerCase(),s=>r(s)&&s.toLowerCase().endsWith(e)):r},Tr=n=>{let[t,e=""]=n;const r=Un([t]);return e?(e=e.toLowerCase(),s=>r(s)&&s.toLowerCase().endsWith(e)):r},Nr=n=>{let[t,e=""]=n;const r=Un([t]);return e?s=>r(s)&&s.endsWith(e):r},nr=n=>{let[t,e=""]=n;const r=rr([t]);return e?s=>r(s)&&s.endsWith(e):r},rr=n=>{let[t]=n;const e=t.length;return r=>r.length===e&&!r.startsWith(".")},Un=n=>{let[t]=n;const e=t.length;return r=>r.length===e&&r!=="."&&r!==".."},kn=typeof ht=="object"&&ht?typeof ht.env=="object"&&ht.env&&ht.env.__MINIMATCH_TESTING_PLATFORM__||ht.platform:"posix";qt.sep=kn==="win32"?"\\":"/";const ne=Symbol("globstar **");qt.GLOBSTAR=ne,qt.filter=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e=>qt(e,n,t)};const ae=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.assign({},n,t)};qt.defaults=n=>{if(!n||typeof n!="object"||!Object.keys(n).length)return qt;const t=qt;return Object.assign((function(e,r){return t(e,r,ae(n,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))}),{Minimatch:class extends t.Minimatch{constructor(e){super(e,ae(n,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}))}static defaults(e){return t.defaults(ae(n,e)).Minimatch}},AST:class extends t.AST{constructor(e,r){super(e,r,ae(n,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))}static fromGlob(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.AST.fromGlob(e,ae(n,r))}},unescape:function(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.unescape(e,ae(n,r))},escape:function(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.escape(e,ae(n,r))},filter:function(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.filter(e,ae(n,r))},defaults:e=>t.defaults(ae(n,e)),makeRe:function(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.makeRe(e,ae(n,r))},braceExpand:function(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.braceExpand(e,ae(n,r))},match:function(e,r){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t.match(e,r,ae(n,s))},sep:t.sep,GLOBSTAR:ne})};const Bn=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Le(n),t.nobrace||!/\{(?:(?!\{).)*\}/.test(n)?[n]:Kn(n)};qt.braceExpand=Bn,qt.makeRe=function(n){return new un(n,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).makeRe()},qt.match=function(n,t){const e=new un(t,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{});return n=n.filter((r=>e.match(r))),e.options.nonull&&!n.length&&n.push(t),n};const ir=/[?*]|[+@!]\(.*?\)|\[|\]/;class un{constructor(t){ft(this,"options");ft(this,"set");ft(this,"pattern");ft(this,"windowsPathsNoEscape");ft(this,"nonegate");ft(this,"negate");ft(this,"comment");ft(this,"empty");ft(this,"preserveMultipleSlashes");ft(this,"partial");ft(this,"globSet");ft(this,"globParts");ft(this,"nocase");ft(this,"isWindows");ft(this,"platform");ft(this,"windowsNoMagicRoot");ft(this,"regexp");let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Le(t),e=e||{},this.options=e,this.pattern=t,this.platform=e.platform||kn,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!e.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!e.nonegate,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=e.windowsNoMagicRoot!==void 0?e.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const t of this.set)for(const e of t)if(typeof e!="string")return!0;return!1}debug(){}make(){const t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#")return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],e.debug&&(this.debug=function(){return console.error(...arguments)}),this.debug(this.pattern,this.globSet);const r=this.globSet.map((o=>this.slashSplit(o)));this.globParts=this.preprocess(r),this.debug(this.pattern,this.globParts);let s=this.globParts.map(((o,h,c)=>{if(this.isWindows&&this.windowsNoMagicRoot){const y=!(o[0]!==""||o[1]!==""||o[2]!=="?"&&ir.test(o[2])||ir.test(o[3])),f=/^[a-z]:/i.test(o[0]);if(y)return[...o.slice(0,4),...o.slice(4).map((i=>this.parse(i)))];if(f)return[o[0],...o.slice(1).map((i=>this.parse(i)))]}return o.map((y=>this.parse(y)))}));if(this.debug(this.pattern,s),this.set=s.filter((o=>o.indexOf(!1)===-1)),this.isWindows)for(let o=0;o<this.set.length;o++){const h=this.set[o];h[0]===""&&h[1]===""&&this.globParts[o][2]==="?"&&typeof h[3]=="string"&&/^[a-z]:$/i.test(h[3])&&(h[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let r=0;r<t.length;r++)for(let s=0;s<t[r].length;s++)t[r][s]==="**"&&(t[r][s]="*");const{optimizationLevel:e=1}=this.options;return e>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):t=e>=1?this.levelOneOptimize(t):this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map((e=>{let r=-1;for(;(r=e.indexOf("**",r+1))!==-1;){let s=r;for(;e[s+1]==="**";)s++;s!==r&&e.splice(r,s-r)}return e}))}levelOneOptimize(t){return t.map((e=>(e=e.reduce(((r,s)=>{const o=r[r.length-1];return s==="**"&&o==="**"?r:s===".."&&o&&o!==".."&&o!=="."&&o!=="**"?(r.pop(),r):(r.push(s),r)}),[])).length===0?[""]:e))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let e=!1;do{if(e=!1,!this.preserveMultipleSlashes){for(let s=1;s<t.length-1;s++){const o=t[s];s===1&&o===""&&t[0]===""||o!=="."&&o!==""||(e=!0,t.splice(s,1),s--)}t[0]!=="."||t.length!==2||t[1]!=="."&&t[1]!==""||(e=!0,t.pop())}let r=0;for(;(r=t.indexOf("..",r+1))!==-1;){const s=t[r-1];s&&s!=="."&&s!==".."&&s!=="**"&&(e=!0,t.splice(r-1,2),r-=2)}}while(e);return t.length===0?[""]:t}firstPhasePreProcess(t){let e=!1;do{e=!1;for(let r of t){let s=-1;for(;(s=r.indexOf("**",s+1))!==-1;){let h=s;for(;r[h+1]==="**";)h++;h>s&&r.splice(s+1,h-s);let c=r[s+1];const y=r[s+2],f=r[s+3];if(c!==".."||!y||y==="."||y===".."||!f||f==="."||f==="..")continue;e=!0,r.splice(s,1);const i=r.slice(0);i[s]="**",t.push(i),s--}if(!this.preserveMultipleSlashes){for(let h=1;h<r.length-1;h++){const c=r[h];h===1&&c===""&&r[0]===""||c!=="."&&c!==""||(e=!0,r.splice(h,1),h--)}r[0]!=="."||r.length!==2||r[1]!=="."&&r[1]!==""||(e=!0,r.pop())}let o=0;for(;(o=r.indexOf("..",o+1))!==-1;){const h=r[o-1];if(h&&h!=="."&&h!==".."&&h!=="**"){e=!0;const c=o===1&&r[o+1]==="**"?["."]:[];r.splice(o-1,2,...c),r.length===0&&r.push(""),o-=2}}}}while(e);return t}secondPhasePreProcess(t){for(let e=0;e<t.length-1;e++)for(let r=e+1;r<t.length;r++){const s=this.partsMatch(t[e],t[r],!this.preserveMultipleSlashes);if(s){t[e]=[],t[r]=s;break}}return t.filter((e=>e.length))}partsMatch(t,e){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=0,o=0,h=[],c="";for(;s<t.length&&o<e.length;)if(t[s]===e[o])h.push(c==="b"?e[o]:t[s]),s++,o++;else if(r&&t[s]==="**"&&e[o]===t[s+1])h.push(t[s]),s++;else if(r&&e[o]==="**"&&t[s]===e[o+1])h.push(e[o]),o++;else if(t[s]!=="*"||!e[o]||!this.options.dot&&e[o].startsWith(".")||e[o]==="**"){if(e[o]!=="*"||!t[s]||!this.options.dot&&t[s].startsWith(".")||t[s]==="**"||c==="a")return!1;c="b",h.push(e[o]),s++,o++}else{if(c==="b")return!1;c="a",h.push(t[s]),s++,o++}return t.length===e.length&&h}parseNegate(){if(this.nonegate)return;const t=this.pattern;let e=!1,r=0;for(let s=0;s<t.length&&t.charAt(s)==="!";s++)e=!e,r++;r&&(this.pattern=t.slice(r)),this.negate=e}matchOne(t,e){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const s=this.options;if(this.isWindows){const m=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),b=!m&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),O=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),p=b?3:m?0:void 0,T=!O&&e[0]===""&&e[1]===""&&e[2]==="?"&&typeof e[3]=="string"&&/^[a-z]:$/i.test(e[3])?3:O?0:void 0;if(typeof p=="number"&&typeof T=="number"){const[I,S]=[t[p],e[T]];I.toLowerCase()===S.toLowerCase()&&(e[T]=I,T>p?e=e.slice(T):p>T&&(t=t.slice(p)))}}const{optimizationLevel:o=1}=this.options;o>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var h=0,c=0,y=t.length,f=e.length;h<y&&c<f;h++,c++){this.debug("matchOne loop");var i=e[c],l=t[h];if(this.debug(e,i,l),i===!1)return!1;if(i===ne){this.debug("GLOBSTAR",[e,i,l]);var a=h,E=c+1;if(E===f){for(this.debug("** at the end");h<y;h++)if(t[h]==="."||t[h]===".."||!s.dot&&t[h].charAt(0)===".")return!1;return!0}for(;a<y;){var w=t[a];if(this.debug(`
globstar while`,t,a,e,E,w),this.matchOne(t.slice(a),e.slice(E),r))return this.debug("globstar found match!",a,y,w),!0;if(w==="."||w===".."||!s.dot&&w.charAt(0)==="."){this.debug("dot detected!",t,a,e,E);break}this.debug("globstar swallow a segment, and continue"),a++}return!(!r||(this.debug(`
>>> no match, partial?`,t,a,e,E),a!==y))}let m;if(typeof i=="string"?(m=l===i,this.debug("string match",i,l,m)):(m=i.test(l),this.debug("pattern match",i,l,m)),!m)return!1}if(h===y&&c===f)return!0;if(h===y)return r;if(c===f)return h===y-1&&t[h]==="";throw new Error("wtf?")}braceExpand(){return Bn(this.pattern,this.options)}parse(t){Le(t);const e=this.options;if(t==="**")return ne;if(t==="")return"";let r,s=null;(r=t.match(vr))?s=e.dot?yr:wr:(r=t.match(En))?s=(e.nocase?e.dot?jn:mr:e.dot?Zn:Fn)(r[1]):(r=t.match(Er))?s=(e.nocase?e.dot?Tr:br:e.dot?Nr:nr)(r):(r=t.match(Jn))?s=e.dot?Xe:tr:(r=t.match(er))&&(s=Mn);const o=yn.fromGlob(t,this.options).toMMPattern();return s&&typeof o=="object"&&Reflect.defineProperty(o,"test",{value:s}),o}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const e=this.options,r=e.noglobstar?"[^/]*?":e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",s=new Set(e.nocase?["i"]:[]);let o=t.map((y=>{const f=y.map((i=>{if(i instanceof RegExp)for(const l of i.flags.split(""))s.add(l);return typeof i=="string"?i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):i===ne?ne:i._src}));return f.forEach(((i,l)=>{const a=f[l+1],E=f[l-1];i===ne&&E!==ne&&(E===void 0?a!==void 0&&a!==ne?f[l+1]="(?:\\/|"+r+"\\/)?"+a:f[l]=r:a===void 0?f[l-1]=E+"(?:\\/|"+r+")?":a!==ne&&(f[l-1]=E+"(?:\\/|\\/"+r+"\\/)"+a,f[l+1]=ne))})),f.filter((i=>i!==ne)).join("/")})).join("|");const[h,c]=t.length>1?["(?:",")"]:["",""];o="^"+h+o+c+"$",this.negate&&(o="^(?!"+o+").+$");try{this.regexp=new RegExp(o,[...s].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.partial;if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&e)return!0;const r=this.options;this.isWindows&&(t=t.split("\\").join("/"));const s=this.slashSplit(t);this.debug(this.pattern,"split",s);const o=this.set;this.debug(this.pattern,"set",o);let h=s[s.length-1];if(!h)for(let c=s.length-2;!h&&c>=0;c--)h=s[c];for(let c=0;c<o.length;c++){const y=o[c];let f=s;if(r.matchBase&&y.length===1&&(f=[h]),this.matchOne(f,y,e))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}static defaults(t){return qt.defaults(t).Minimatch}}function bn(n){const t=new Error(`${arguments.length>1&&arguments[1]!==void 0?arguments[1]:""}Invalid response: ${n.status} ${n.statusText}`);return t.status=n.status,t.response=n,t}function Ft(n,t){const{status:e}=t;if(e===401&&n.digest)return t;if(e>=400)throw bn(t);return t}function Se(n,t){return arguments.length>2&&arguments[2]!==void 0&&arguments[2]?{data:t,headers:n.headers?Ue(n.headers):{},status:n.status,statusText:n.statusText}:t}qt.AST=yn,qt.Minimatch=un,qt.escape=function(n){let{windowsPathsNoEscape:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t?n.replace(/[?*()[\]]/g,"[$&]"):n.replace(/[?*()[\]\\]/g,"\\$&")},qt.unescape=Ve;const sr=(or=function(n,t,e){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=Ot({url:B(n.remoteURL,rt(t)),method:"COPY",headers:{Destination:B(n.remoteURL,rt(e)),Overwrite:r.overwrite===!1?"F":"T",Depth:r.shallow?"0":"infinity"}},n,r);return h=function(c){Ft(n,c)},(o=Pt(s,n))&&o.then||(o=Promise.resolve(o)),h?o.then(h):o;var o,h},function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];try{return Promise.resolve(or.apply(this,n))}catch(e){return Promise.reject(e)}});var or,Tn=z(635),Vn=z(829),we=z.n(Vn),Te=(function(n){return n.Array="array",n.Object="object",n.Original="original",n})(Te||{});function Nn(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Te.Original;const r=we().get(n,t);return e==="array"&&Array.isArray(r)===!1?[r]:e==="object"&&Array.isArray(r)?r[0]:r}function cn(n){return new Promise((t=>{t((function(e){const{multistatus:r}=e;if(r==="")return{multistatus:{response:[]}};if(!r)throw new Error("Invalid response: No root multistatus found");const s={multistatus:Array.isArray(r)?r[0]:r};return we().set(s,"multistatus.response",Nn(s,"multistatus.response",Te.Array)),we().set(s,"multistatus.response",we().get(s,"multistatus.response").map((o=>(function(h){const c=Object.assign({},h);return c.status?we().set(c,"status",Nn(c,"status",Te.Object)):(we().set(c,"propstat",Nn(c,"propstat",Te.Object)),we().set(c,"propstat.prop",Nn(c,"propstat.prop",Te.Object))),c})(o)))),s})(new Tn.XMLParser({allowBooleanAttributes:!0,attributeNamePrefix:"",textNodeName:"text",ignoreAttributes:!1,removeNSPrefix:!0,numberParseOptions:{hex:!0,leadingZeros:!1},attributeValueProcessor:(e,r,s)=>r==="true"||r==="false"?r==="true":r,tagValueProcessor(e,r,s){if(!s.endsWith("propstat.prop.displayname"))return r}}).parse(n)))}))}function ln(n,t){let e=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const{getlastmodified:r=null,getcontentlength:s="0",resourcetype:o=null,getcontenttype:h=null,getetag:c=null}=n,y=o&&typeof o=="object"&&o.collection!==void 0?"directory":"file",f={filename:t,basename:zt().basename(t),lastmod:r,size:parseInt(s,10),type:y,etag:typeof c=="string"?c.replace(/"/g,""):null};return y==="file"&&(f.mime=h&&typeof h=="string"?h.split(";")[0]:""),e&&(n.displayname!==void 0&&(n.displayname=String(n.displayname)),f.props=n),f}function _n(n,t){let e=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=null;try{n.multistatus.response[0].propstat&&(r=n.multistatus.response[0])}catch{}if(!r)throw new Error("Failed getting item stat: bad response");const{propstat:{prop:s,status:o}}=r,[h,c,y]=o.split(" ",3),f=parseInt(c,10);if(f>=400){const i=new Error(`Invalid response: ${f} ${y}`);throw i.status=f,i}return ln(s,ie(t),e)}function Pe(n){switch(String(n)){case"-3":return"unlimited";case"-2":case"-1":return"unknown";default:return parseInt(String(n),10)}}function hn(n,t,e){return e?t?t(n):n:(n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n)}const Gn=(function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(r){return Promise.reject(r)}}})((function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:r=!1}=e,s=Ot({url:B(n.remoteURL,rt(t)),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},n,e);return hn(Pt(s,n),(function(o){return Ft(n,o),hn(o.text(),(function(h){return hn(cn(h),(function(c){const y=_n(c,t,r);return Se(o,y,r)}))}))}))}));function Xn(n,t,e){return e?t?t(n):n:(n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n)}const An=fn((function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=(function(o){if(!o||o==="/")return[];let h=o;const c=[];do c.push(h),h=zt().dirname(h);while(h&&h!=="/");return c})(ie(t));r.sort(((o,h)=>o.length>h.length?1:h.length>o.length?-1:0));let s=!1;return(function(o,h,c){if(typeof o[In]=="function"){let m=function(b){try{for(;!(y=l.next()).done;)if((b=h(y.value))&&b.then){if(!Wn(b))return void b.then(m,i||(i=Yt.bind(null,f=new De,2)));b=b.v}f?Yt(f,1,b):f=b}catch(O){Yt(f||(f=new De),2,O)}};var y,f,i,l=o[In]();if(m(),l.return){var a=function(b){try{y.done||l.return()}catch{}return b};if(f&&f.then)return f.then(a,(function(b){throw a(b)}));a()}return f}if(!("length"in o))throw new TypeError("Object is not iterable");for(var E=[],w=0;w<o.length;w++)E.push(o[w]);return(function(m,b,O){var p,T,I=-1;return(function S(N){try{for(;++I<m.length&&(!O||!O());)if((N=b(I))&&N.then){if(!Wn(N))return void N.then(S,T||(T=Yt.bind(null,p=new De,2)));N=N.v}p?Yt(p,1,N):p=N}catch(D){Yt(p||(p=new De),2,D)}})(),p})(E,(function(m){return h(E[m])}),c)})(r,(function(o){return h=function(){return(function(y,f){try{var i=Xn(Gn(n,o),(function(l){if(l.type!=="directory")throw new Error(`Path includes a file: ${t}`)}))}catch(l){return f(l)}return i&&i.then?i.then(void 0,f):i})(0,(function(y){const f=y;return(function(){if(f.status===404)return s=!0,ur(g(n,o,{...e,recursive:!1}));throw y})()}))},(c=(function(){if(s)return ur(g(n,o,{...e,recursive:!1}))})())&&c.then?c.then(h):h();var h,c}),(function(){return!1}))}));function fn(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(r){return Promise.reject(r)}}}function ar(){}function ur(n,t){if(!t)return n&&n.then?n.then(ar):Promise.resolve()}const In=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function Yt(n,t,e){if(!n.s){if(e instanceof De){if(!e.s)return void(e.o=Yt.bind(null,n,t));1&t&&(t=e.s),e=e.v}if(e&&e.then)return void e.then(Yt.bind(null,n,t),Yt.bind(null,n,2));n.s=t,n.v=e;const r=n.o;r&&r(n)}}const De=(function(){function n(){}return n.prototype.then=function(t,e){const r=new n,s=this.s;if(s){const o=1&s?t:e;if(o){try{Yt(r,1,o(this.v))}catch(h){Yt(r,2,h)}return r}return this}return this.o=function(o){try{const h=o.v;1&o.s?Yt(r,1,t?t(h):h):e?Yt(r,1,e(h)):Yt(r,2,h)}catch(h){Yt(r,2,h)}},r},n})();function Wn(n){return n instanceof De&&1&n.s}const g=fn((function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e.recursive===!0)return An(n,t,e);const r=Ot({url:B(n.remoteURL,(s=rt(t),s.endsWith("/")?s:s+"/")),method:"MKCOL"},n,e);var s;return Xn(Pt(r,n),(function(o){Ft(n,o)}))}));var d=z(388),C=z.n(d);const k=(function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(r){return Promise.reject(r)}}})((function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r={};if(typeof e.range=="object"&&typeof e.range.start=="number"){let c=`bytes=${e.range.start}-`;typeof e.range.end=="number"&&(c=`${c}${e.range.end}`),r.Range=c}const s=Ot({url:B(n.remoteURL,rt(t)),method:"GET",headers:r},n,e);return h=function(c){if(Ft(n,c),r.Range&&c.status!==206){const y=new Error(`Invalid response code for partial request: ${c.status}`);throw y.status=c.status,y}return e.callback&&setTimeout((()=>{e.callback(c)}),0),c.body},(o=Pt(s,n))&&o.then||(o=Promise.resolve(o)),h?o.then(h):o;var o,h})),q=()=>{},ot=(function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(r){return Promise.reject(r)}}})((function(n,t,e){e.url||(e.url=B(n.remoteURL,rt(t)));const r=Ot(e,n,{});return o=function(h){return Ft(n,h),h},(s=Pt(r,n))&&s.then||(s=Promise.resolve(s)),o?s.then(o):s;var s,o})),H=(function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(r){return Promise.reject(r)}}})((function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Ot({url:B(n.remoteURL,rt(t)),method:"DELETE"},n,e);return o=function(h){Ft(n,h)},(s=Pt(r,n))&&s.then||(s=Promise.resolve(s)),o?s.then(o):s;var s,o})),ct=(function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(r){return Promise.reject(r)}}})((function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(function(r,s){try{var o=(h=Gn(n,t,e),c=function(){return!0},y?c?c(h):h:(h&&h.then||(h=Promise.resolve(h)),c?h.then(c):h))}catch(f){return s(f)}var h,c,y;return o&&o.then?o.then(void 0,s):o})(0,(function(r){if(r.status===404)return!1;throw r}))}));function U(n,t,e){return e?t?t(n):n:(n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n)}const R=(function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(r){return Promise.reject(r)}}})((function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Ot({url:B(n.remoteURL,rt(t),"/"),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:e.deep?"infinity":"1"}},n,e);return U(Pt(r,n),(function(s){return Ft(n,s),U(s.text(),(function(o){if(!o)throw new Error("Failed parsing directory contents: Empty response");return U(cn(o),(function(h){const c=ve(t);let y=(function(f,i,l){let a=arguments.length>3&&arguments[3]!==void 0&&arguments[3],E=arguments.length>4&&arguments[4]!==void 0&&arguments[4];const w=zt().join(i,"/"),{multistatus:{response:m}}=f,b=m.map((O=>{const p=(function(I){try{return I.replace(/^https?:\/\/[^\/]+/,"")}catch(S){throw new _t(S,"Failed normalising HREF")}})(O.href),{propstat:{prop:T}}=O;return ln(T,w==="/"?decodeURIComponent(ie(p)):ie(zt().relative(decodeURIComponent(w),decodeURIComponent(p))),a)}));return E?b:b.filter((O=>O.basename&&(O.type==="file"||O.filename!==l.replace(/\/$/,""))))})(h,ve(n.remoteBasePath||n.remotePath),c,e.details,e.includeSelf);return e.glob&&(y=(function(f,i){return f.filter((l=>qt(l.filename,i,{matchBase:!0})))})(y,e.glob)),Se(s,y,e.details)}))}))}))}));function J(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(r){return Promise.reject(r)}}}const ut=J((function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Ot({url:B(n.remoteURL,rt(t)),method:"GET",headers:{Accept:"text/plain"},transformResponse:[Ne]},n,e);return Nt(Pt(r,n),(function(s){return Ft(n,s),Nt(s.text(),(function(o){return Se(s,o,e.details)}))}))}));function Nt(n,t,e){return e?t?t(n):n:(n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n)}const jt=J((function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Ot({url:B(n.remoteURL,rt(t)),method:"GET"},n,e);return Nt(Pt(r,n),(function(s){let o;return Ft(n,s),(function(h,c){var y=h();return y&&y.then?y.then(c):c()})((function(){return Nt(s.arrayBuffer(),(function(h){o=h}))}),(function(){return Se(s,o,e.details)}))}))})),tt=J((function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{format:r="binary"}=e;if(r!=="binary"&&r!=="text")throw new _t({info:{code:ee.InvalidOutputFormat}},`Invalid output format: ${r}`);return r==="text"?ut(n,t,e):jt(n,t,e)})),Ne=n=>n;function Kt(n){return new Tn.XMLBuilder({attributeNamePrefix:"@_",format:!0,ignoreAttributes:!1,suppressEmptyNode:!0}).build(pe({lockinfo:{"@_xmlns:d":"DAV:",lockscope:{exclusive:{}},locktype:{write:{}},owner:{href:n}}},"d"))}function pe(n,t){const e={...n};for(const r in e)e.hasOwnProperty(r)&&(e[r]&&typeof e[r]=="object"&&r.indexOf(":")===-1?(e[`${t}:${r}`]=pe(e[r],t),delete e[r]):/^@_/.test(r)===!1&&(e[`${t}:${r}`]=e[r],delete e[r]));return e}function We(n,t,e){return e?t?t(n):n:(n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n)}function _e(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(r){return Promise.reject(r)}}}const Qt=_e((function(n,t,e){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=Ot({url:B(n.remoteURL,rt(t)),method:"UNLOCK",headers:{"Lock-Token":e}},n,r);return We(Pt(s,n),(function(o){if(Ft(n,o),o.status!==204&&o.status!==200)throw bn(o)}))})),dn=_e((function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{refreshToken:r,timeout:s=cr}=e,o={Accept:"text/plain,application/xml",Timeout:s};r&&(o.If=r);const h=Ot({url:B(n.remoteURL,rt(t)),method:"LOCK",headers:o,data:Kt(n.contactHref)},n,e);return We(Pt(h,n),(function(c){return Ft(n,c),We(c.text(),(function(y){const f=(a=y,new Tn.XMLParser({removeNSPrefix:!0,parseAttributeValue:!0,parseTagValue:!0}).parse(a)),i=we().get(f,"prop.lockdiscovery.activelock.locktoken.href"),l=we().get(f,"prop.lockdiscovery.activelock.timeout");var a;if(!i)throw bn(c,"No lock token received: ");return{token:i,serverTimeout:l}}))}))})),cr="Infinite, Second-4100000000";function he(n,t,e){return e?t?t(n):n:(n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n)}const lr=(function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(r){return Promise.reject(r)}}})((function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const e=t.path||"/",r=Ot({url:B(n.remoteURL,e),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},n,t);return he(Pt(r,n),(function(s){return Ft(n,s),he(s.text(),(function(o){return he(cn(o),(function(h){const c=(function(y){try{const[f]=y.multistatus.response,{propstat:{prop:{"quota-used-bytes":i,"quota-available-bytes":l}}}=f;return i!==void 0&&l!==void 0?{used:parseInt(String(i),10),available:Pe(l)}:null}catch{}return null})(h);return Se(s,c,t.details)}))}))}))}));function x(n,t,e){return e?t?t(n):n:(n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n)}const qn=(function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(r){return Promise.reject(r)}}})((function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:r=!1}=e,s=Ot({url:B(n.remoteURL,rt(t)),method:"SEARCH",headers:{Accept:"text/plain,application/xml","Content-Type":n.headers["Content-Type"]||"application/xml; charset=utf-8"}},n,e);return x(Pt(s,n),(function(o){return Ft(n,o),x(o.text(),(function(h){return x(cn(h),(function(c){const y=(function(f,i,l){const a={truncated:!1,results:[]};return a.truncated=f.multistatus.response.some((E=>(E.status||E.propstat?.status).split(" ",3)?.[1]==="507"&&E.href.replace(/\/$/,"").endsWith(rt(i).replace(/\/$/,"")))),f.multistatus.response.forEach((E=>{if(E.propstat===void 0)return;const w=E.href.split("/").map(decodeURIComponent).join("/");a.results.push(ln(E.propstat.prop,w,l))})),a})(c,t,r);return Se(o,y,r)}))}))}))})),qe=(function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(r){return Promise.reject(r)}}})((function(n,t,e){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=Ot({url:B(n.remoteURL,rt(t)),method:"MOVE",headers:{Destination:B(n.remoteURL,rt(e)),Overwrite:r.overwrite===!1?"F":"T"}},n,r);return h=function(c){Ft(n,c)},(o=Pt(s,n))&&o.then||(o=Promise.resolve(o)),h?o.then(h):o;var o,h}));var Rt=z(172);const He=(function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(r){return Promise.reject(r)}}})((function(n,t,e){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const{contentLength:s=!0,overwrite:o=!0}=r,h={"Content-Type":"application/octet-stream"};s===!1||(h["Content-Length"]=typeof s=="number"?`${s}`:`${(function(i){if(Yn(i))return i.byteLength;if(en(i))return i.length;if(typeof i=="string")return(0,Rt.d)(i);throw new _t({info:{code:ee.DataTypeNoLength}},"Cannot calculate data length: Invalid type")})(e)}`),o||(h["If-None-Match"]="*");const c=Ot({url:B(n.remoteURL,rt(t)),method:"PUT",headers:h,data:e},n,r);return f=function(i){try{Ft(n,i)}catch(l){const a=l;if(a.status!==412||o)throw a;return!1}return!0},(y=Pt(c,n))&&y.then||(y=Promise.resolve(y)),f?y.then(f):y;var y,f})),On=(function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(r){return Promise.reject(r)}}})((function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Ot({url:B(n.remoteURL,rt(t)),method:"OPTIONS"},n,e);return o=function(h){try{Ft(n,h)}catch(c){throw c}return{compliance:(h.headers.get("DAV")??"").split(",").map((c=>c.trim())),server:h.headers.get("Server")??""}},(s=Pt(r,n))&&s.then||(s=Promise.resolve(s)),o?s.then(o):s;var s,o}));function ye(n,t,e){return e?t?t(n):n:(n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n)}const Hn=ze((function(n,t,e,r,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(e>r||e<0)throw new _t({info:{code:ee.InvalidUpdateRange}},`Invalid update range ${e} for partial update`);const h={"Content-Type":"application/octet-stream","Content-Length":""+(r-e+1),"Content-Range":`bytes ${e}-${r}/*`},c=Ot({url:B(n.remoteURL,rt(t)),method:"PUT",headers:h,data:s},n,o);return ye(Pt(c,n),(function(y){Ft(n,y)}))}));function wt(n,t){var e=n();return e&&e.then?e.then(t):t(e)}const hr=ze((function(n,t,e,r,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(e>r||e<0)throw new _t({info:{code:ee.InvalidUpdateRange}},`Invalid update range ${e} for partial update`);const h={"Content-Type":"application/x-sabredav-partialupdate","Content-Length":""+(r-e+1),"X-Update-Range":`bytes=${e}-${r}`},c=Ot({url:B(n.remoteURL,rt(t)),method:"PATCH",headers:h,data:s},n,o);return ye(Pt(c,n),(function(y){Ft(n,y)}))}));function ze(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(r){return Promise.reject(r)}}}const xn=ze((function(n,t,e,r,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};return ye(On(n,t,o),(function(h){let c=!1;return wt((function(){if(h.compliance.includes("sabredav-partialupdate"))return ye(hr(n,t,e,r,s,o),(function(y){return c=!0,y}))}),(function(y){let f=!1;return c?y:wt((function(){if(h.server.includes("Apache")&&h.compliance.includes("<http://apache.org/dav/propset/fs/1>"))return ye(Hn(n,t,e,r,s,o),(function(i){return f=!0,i}))}),(function(i){if(f)return i;throw new _t({info:{code:ee.NotSupported}},"Not supported")}))}))}))})),Re="https://github.com/perry-mitchell/webdav-client/blob/master/LOCK_CONTACT.md";function Cn(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{authType:e=null,remoteBasePath:r,contactHref:s=Re,ha1:o,headers:h={},httpAgent:c,httpsAgent:y,password:f,token:i,username:l,withCredentials:a}=t;let E=e;E||(E=l||f?St.Password:St.None);const w={authType:E,remoteBasePath:r,contactHref:s,ha1:o,headers:Object.assign({},h),httpAgent:c,httpsAgent:y,password:f,remotePath:L(n),remoteURL:n,token:i,username:l,withCredentials:a};return be(w,l,f,i,o),{copyFile:(m,b,O)=>sr(w,m,b,O),createDirectory:(m,b)=>g(w,m,b),createReadStream:(m,b)=>(function(O,p){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const I=new(C()).PassThrough;return k(O,p,T).then((S=>{S.pipe(I)})).catch((S=>{I.emit("error",S)})),I})(w,m,b),createWriteStream:(m,b,O)=>(function(p,T){let I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:q;const N=new(C()).PassThrough,D={};I.overwrite===!1&&(D["If-None-Match"]="*");const A=Ot({url:B(p.remoteURL,rt(T)),method:"PUT",headers:D,data:N,maxRedirects:0},p,I);return Pt(A,p).then((M=>Ft(p,M))).then((M=>{setTimeout((()=>{S(M)}),0)})).catch((M=>{N.emit("error",M)})),N})(w,m,b,O),customRequest:(m,b)=>ot(w,m,b),deleteFile:(m,b)=>H(w,m,b),exists:(m,b)=>ct(w,m,b),getDirectoryContents:(m,b)=>R(w,m,b),getFileContents:(m,b)=>tt(w,m,b),getFileDownloadLink:m=>(function(b,O){let p=B(b.remoteURL,rt(O));const T=/^https:/i.test(p)?"https":"http";switch(b.authType){case St.None:break;case St.Password:{const I=$t(b.headers.Authorization.replace(/^Basic /i,"").trim());p=p.replace(/^https?:\/\//,`${T}://${I}@`);break}default:throw new _t({info:{code:ee.LinkUnsupportedAuthType}},`Unsupported auth type for file link: ${b.authType}`)}return p})(w,m),getFileUploadLink:m=>(function(b,O){let p=`${B(b.remoteURL,rt(O))}?Content-Type=application/octet-stream`;const T=/^https:/i.test(p)?"https":"http";switch(b.authType){case St.None:break;case St.Password:{const I=$t(b.headers.Authorization.replace(/^Basic /i,"").trim());p=p.replace(/^https?:\/\//,`${T}://${I}@`);break}default:throw new _t({info:{code:ee.LinkUnsupportedAuthType}},`Unsupported auth type for file link: ${b.authType}`)}return p})(w,m),getHeaders:()=>Object.assign({},w.headers),getQuota:m=>lr(w,m),lock:(m,b)=>dn(w,m,b),moveFile:(m,b,O)=>qe(w,m,b,O),putFileContents:(m,b,O)=>He(w,m,b,O),partialUpdateFileContents:(m,b,O,p,T)=>xn(w,m,b,O,p,T),getDAVCompliance:m=>On(w,m),search:(m,b)=>qn(w,m,b),setHeaders:m=>{w.headers=Object.assign({},m)},stat:(m,b)=>Gn(w,m,b),unlock:(m,b,O)=>Qt(w,m,b,O)}}var _r=Q.hT,fr=Q.O4,dr=Q.Kd,Ar=Q.YK,v=Q.UU,u=Q.Gu,$=Q.ky,_=Q.h4,yt=Q.ch,kt=Q.hq,Bt=Q.i5}),71225:((pt,it,Y)=>{"use strict";Y.d(it,{O0:()=>ht,P8:()=>vt});function ht(lt){return lt&&lt.split("/").map(encodeURIComponent).join("/")}function vt(lt){return lt.replace(/\\/g,"/").replace(/.*\//,"")}function xt(lt){return lt.replace(/\\/g,"/").replace(/\/[^\/]*$/,"")}function z(...lt){if(arguments.length<1)return"";const bt=lt.filter(Wt=>Wt.length>0);if(bt.length<1)return"";const Gt=bt[bt.length-1],Dt=bt[0].charAt(0)==="/",_t=Gt.charAt(Gt.length-1)==="/",Ht=bt.reduce((Wt,rt)=>Wt.concat(rt.split("/")),[]);let zt=!Dt;const Ct=Ht.reduce((Wt,rt)=>rt===""?Wt:zt?(zt=!1,Wt+rt):Wt+"/"+rt,"");return _t?Ct+"/":Ct}function Q(lt,bt){const Gt=(lt||"").split("/").filter(_t=>_t!=="."),Dt=(bt||"").split("/").filter(_t=>_t!==".");return lt=z.apply(void 0,Gt),bt=z.apply(void 0,Dt),lt===bt}}),78454:((pt,it,Y)=>{"use strict";Y.d(it,{pt:()=>zt,vd:()=>B,di:()=>Pe,nF:()=>_n,a7:()=>Vn,aX:()=>Ct,H4:()=>St,VL:()=>Je,R3:()=>Ee,PY:()=>xe,Al:()=>be,lJ:()=>te,v7:()=>ar,Q$:()=>ee,m1:()=>ln,E6:()=>Xn,ur:()=>Wn,KT:()=>hn});var ht=Y(21777),vt=Y(32981);/*!
 * SPDX-FileCopyrightText: 2024 Nextcloud GmbH and Nextcloud contributors
 * SPDX-License-Identifier: GPL-3.0-or-later
 */function xt(){return(0,vt.C)("files_sharing","isPublic",null)??document.querySelector('input#isPublic[type="hidden"][name="isPublic"][value="1"]')!==null}function z(){return(0,vt.C)("files_sharing","sharingToken",null)??document.querySelector('input#sharingToken[type="hidden"]')?.value??null}var Q=Y(63814),lt=Y(36117),bt=Y(44719),Gt=Y(35947),Dt=Y(18558),_t=Y(71225);const Ht=(0,Gt.YK)().setApp("@nextcloud/files").detectUser().build();var zt=(g=>(g.Folder="folder",g.File="file",g))(zt||{}),Ct=(g=>(g[g.NONE=0]="NONE",g[g.CREATE=4]="CREATE",g[g.READ=1]="READ",g[g.UPDATE=2]="UPDATE",g[g.DELETE=8]="DELETE",g[g.SHARE=16]="SHARE",g[g.ALL=31]="ALL",g))(Ct||{});const Wt=function(g,d){return g.match(d)!==null},rt=(g,d)=>{if(g.id&&typeof g.id!="number")throw new Error("Invalid id type of value");if(!g.source)throw new Error("Missing mandatory source");try{new URL(g.source)}catch{throw new Error("Invalid source format, source must be a valid URL")}if(!g.source.startsWith("http"))throw new Error("Invalid source format, only http(s) is supported");if(g.displayname&&typeof g.displayname!="string")throw new Error("Invalid displayname type");if(g.mtime&&!(g.mtime instanceof Date))throw new Error("Invalid mtime type");if(g.crtime&&!(g.crtime instanceof Date))throw new Error("Invalid crtime type");if(!g.mime||typeof g.mime!="string"||!g.mime.match(/^[-\w.]+\/[-+\w.]+$/gi))throw new Error("Missing or invalid mandatory mime");if("size"in g&&typeof g.size!="number"&&g.size!==void 0)throw new Error("Invalid size type");if("permissions"in g&&g.permissions!==void 0&&!(typeof g.permissions=="number"&&g.permissions>=Ct.NONE&&g.permissions<=Ct.ALL))throw new Error("Invalid permissions");if(g.owner&&g.owner!==null&&typeof g.owner!="string")throw new Error("Invalid owner type");if(g.attributes&&typeof g.attributes!="object")throw new Error("Invalid attributes type");if(g.root&&typeof g.root!="string")throw new Error("Invalid root type");if(g.root&&!g.root.startsWith("/"))throw new Error("Root must start with a leading slash");if(g.root&&!g.source.includes(g.root))throw new Error("Root must be part of the source");if(g.root&&Wt(g.source,d)){const C=g.source.match(d)[0];if(!g.source.includes((0,Dt.join)(C,g.root)))throw new Error("The root must be relative to the service. e.g /files/emma")}if(g.status&&!Object.values(ve).includes(g.status))throw new Error("Status must be a valid NodeStatus")};var ve=(g=>(g.NEW="new",g.FAILED="failed",g.LOADING="loading",g.LOCKED="locked",g))(ve||{});class ie{constructor(d,C){ft(this,"_data");ft(this,"_attributes");ft(this,"_knownDavService",/(remote|public)\.php\/(web)?dav/i);ft(this,"readonlyAttributes",Object.entries(Object.getOwnPropertyDescriptors(ie.prototype)).filter(d=>typeof d[1].get=="function"&&d[0]!=="__proto__").map(d=>d[0]));ft(this,"handler",{set:(d,C,k)=>this.readonlyAttributes.includes(C)?!1:Reflect.set(d,C,k),deleteProperty:(d,C)=>this.readonlyAttributes.includes(C)?!1:Reflect.deleteProperty(d,C),get:(d,C,k)=>this.readonlyAttributes.includes(C)?(Ht.warn(`Accessing "Node.attributes.${C}" is deprecated, access it directly on the Node instance.`),Reflect.get(this,C)):Reflect.get(d,C,k)});d.mime||(d.mime="application/octet-stream"),rt(d,C||this._knownDavService),this._data={displayname:d.attributes?.displayname,...d,attributes:{}},this._attributes=new Proxy(this._data.attributes,this.handler),this.update(d.attributes??{}),C&&(this._knownDavService=C)}get source(){return this._data.source.replace(/\/$/i,"")}get encodedSource(){const{origin:d}=new URL(this.source);return d+(0,_t.O0)(this.source.slice(d.length))}get basename(){return(0,Dt.basename)(this.source)}get displayname(){return this._data.displayname||this.basename}set displayname(d){rt({...this._data,displayname:d},this._knownDavService),this._data.displayname=d}get extension(){return(0,Dt.extname)(this.source)}get dirname(){if(this.root){let C=this.source;this.isDavResource&&(C=C.split(this._knownDavService).pop());const k=C.indexOf(this.root),q=this.root.replace(/\/$/,"");return(0,Dt.dirname)(C.slice(k+q.length)||"/")}const d=new URL(this.source);return(0,Dt.dirname)(d.pathname)}get mime(){return this._data.mime||"application/octet-stream"}set mime(d){d??(d="application/octet-stream"),rt({...this._data,mime:d},this._knownDavService),this._data.mime=d}get mtime(){return this._data.mtime}set mtime(d){rt({...this._data,mtime:d},this._knownDavService),this._data.mtime=d}get crtime(){return this._data.crtime}get size(){return this._data.size}set size(d){rt({...this._data,size:d},this._knownDavService),this.updateMtime(),this._data.size=d}get attributes(){return this._attributes}get permissions(){return this.owner===null&&!this.isDavResource?Ct.READ:this._data.permissions!==void 0?this._data.permissions:Ct.NONE}set permissions(d){rt({...this._data,permissions:d},this._knownDavService),this.updateMtime(),this._data.permissions=d}get owner(){return this.isDavResource?this._data.owner:null}get isDavResource(){return Wt(this.source,this._knownDavService)}get isDavRessource(){return this.isDavResource}get root(){return this._data.root?this._data.root.replace(/^(.+)\/$/,"$1"):this.isDavResource&&(0,Dt.dirname)(this.source).split(this._knownDavService).pop()||null}get path(){if(this.root){let d=this.source;this.isDavResource&&(d=d.split(this._knownDavService).pop());const C=d.indexOf(this.root),k=this.root.replace(/\/$/,"");return d.slice(C+k.length)||"/"}return(this.dirname+"/"+this.basename).replace(/\/\//g,"/")}get fileid(){return this._data?.id}get status(){return this._data?.status}set status(d){rt({...this._data,status:d},this._knownDavService),this._data.status=d}get data(){return structuredClone(this._data)}move(d){rt({...this._data,source:d},this._knownDavService);const C=this.basename;this._data.source=d,this.displayname===C&&this.basename!==C&&(this.displayname=this.basename)}rename(d){if(d.includes("/"))throw new Error("Invalid basename");this.move((0,Dt.dirname)(this.source)+"/"+d)}updateMtime(){this._data.mtime&&(this._data.mtime=new Date)}update(d){for(const[C,k]of Object.entries(d))try{k===void 0?delete this.attributes[C]:this.attributes[C]=k}catch(q){if(q instanceof TypeError)continue;throw q}}}class L extends ie{get type(){return zt.File}clone(){return new L(this.data)}}class B extends ie{constructor(d){super({...d,mime:"httpd/unix-directory"})}get type(){return zt.Folder}get extension(){return null}get mime(){return"httpd/unix-directory"}clone(){return new B(this.data)}}const dt=function(g=""){let d=Ct.NONE;return g&&((g.includes("C")||g.includes("K"))&&(d|=Ct.CREATE),g.includes("G")&&(d|=Ct.READ),(g.includes("W")||g.includes("N")||g.includes("V"))&&(d|=Ct.UPDATE),g.includes("D")&&(d|=Ct.DELETE),g.includes("R")&&(d|=Ct.SHARE)),d},at=["d:getcontentlength","d:getcontenttype","d:getetag","d:getlastmodified","d:creationdate","d:displayname","d:quota-available-bytes","d:resourcetype","nc:has-preview","nc:is-encrypted","nc:mount-type","oc:comments-unread","oc:favorite","oc:fileid","oc:owner-display-name","oc:owner-id","oc:permissions","oc:size"],It={d:"DAV:",nc:"http://nextcloud.org/ns",oc:"http://owncloud.org/ns",ocs:"http://open-collaboration-services.org/ns"},Ze=function(g,d={nc:"http://nextcloud.org/ns"}){typeof window._nc_dav_properties>"u"&&(window._nc_dav_properties=[...at],window._nc_dav_namespaces={...It});const C={...window._nc_dav_namespaces,...d};if(window._nc_dav_properties.find(q=>q===g))return Ht.warn(`${g} already registered`,{prop:g}),!1;if(g.startsWith("<")||g.split(":").length!==2)return Ht.error(`${g} is not valid. See example: 'oc:fileid'`,{prop:g}),!1;const k=g.split(":")[0];return C[k]?(window._nc_dav_properties.push(g),window._nc_dav_namespaces=C,!0):(Ht.error(`${g} namespace unknown`,{prop:g,namespaces:C}),!1)},Oe=function(){return typeof window._nc_dav_properties>"u"&&(window._nc_dav_properties=[...at]),window._nc_dav_properties.map(g=>`<${g} />`).join(" ")},je=function(){return typeof window._nc_dav_namespaces>"u"&&(window._nc_dav_namespaces={...It}),Object.keys(window._nc_dav_namespaces).map(g=>`xmlns:${g}="${window._nc_dav_namespaces?.[g]}"`).join(" ")},Je=function(){return`<?xml version="1.0"?>
		<d:propfind ${je()}>
			<d:prop>
				${Oe()}
			</d:prop>
		</d:propfind>`},$t=function(){return`<?xml version="1.0"?>
		<oc:filter-files ${je()}>
			<d:prop>
				${Oe()}
			</d:prop>
			<oc:filter-rules>
				<oc:favorite>1</oc:favorite>
			</oc:filter-rules>
		</oc:filter-files>`},Ee=function(g){return`<?xml version="1.0" encoding="UTF-8"?>
<d:searchrequest ${je()}
	xmlns:ns="https://github.com/icewind1991/SearchDAV/ns">
	<d:basicsearch>
		<d:select>
			<d:prop>
				${Oe()}
			</d:prop>
		</d:select>
		<d:from>
			<d:scope>
				<d:href>/files/${(0,ht.HW)()?.uid}/</d:href>
				<d:depth>infinity</d:depth>
			</d:scope>
		</d:from>
		<d:where>
			<d:and>
				<d:or>
					<d:not>
						<d:eq>
							<d:prop>
								<d:getcontenttype/>
							</d:prop>
							<d:literal>httpd/unix-directory</d:literal>
						</d:eq>
					</d:not>
					<d:eq>
						<d:prop>
							<oc:size/>
						</d:prop>
						<d:literal>0</d:literal>
					</d:eq>
				</d:or>
				<d:gt>
					<d:prop>
						<d:getlastmodified/>
					</d:prop>
					<d:literal>${g}</d:literal>
				</d:gt>
			</d:and>
		</d:where>
		<d:orderby>
			<d:order>
				<d:prop>
					<d:getlastmodified/>
				</d:prop>
				<d:descending/>
			</d:order>
		</d:orderby>
		<d:limit>
			<d:nresults>100</d:nresults>
			<ns:firstresult>0</ns:firstresult>
		</d:limit>
	</d:basicsearch>
</d:searchrequest>`};function de(){return xt()?`/files/${z()}`:`/files/${(0,ht.HW)()?.uid}`}const te=de();function pn(){const g=(0,Q.dC)("dav");return xt()?g.replace("remote.php","public.php"):g}const xe=pn(),St=function(g=xe,d={}){const C=(0,bt.UU)(g,{headers:d});function k(ot){C.setHeaders({...d,"X-Requested-With":"XMLHttpRequest",requesttoken:ot??""})}return(0,ht.zo)(k),k((0,ht.do)()),(0,bt.Gu)().patch("fetch",(ot,H)=>{const ct=H.headers;return ct?.method&&(H.method=ct.method,delete ct.method),fetch(ot,H)}),C},ee=(g,d="/",C=te)=>{const k=new AbortController;return new lt.CancelablePromise(async(q,ot,H)=>{H(()=>k.abort());try{const U=(await g.getDirectoryContents(`${C}${d}`,{signal:k.signal,details:!0,data:$t(),headers:{method:"REPORT"},includeSelf:!0})).data.filter(R=>R.filename!==d).map(R=>be(R,C));q(U)}catch(ct){ot(ct)}})},be=function(g,d=te,C=xe){let k=(0,ht.HW)()?.uid;if(xt())k=k??"anonymous";else if(!k)throw new Error("No user id found");const q=g.props,ot=dt(q?.permissions),H=String(q?.["owner-id"]||k),ct=q.fileid||0,U=new Date(Date.parse(g.lastmod)),R=new Date(Date.parse(q.creationdate)),J={id:ct,source:`${C}${g.filename}`,mtime:!isNaN(U.getTime())&&U.getTime()!==0?U:void 0,crtime:!isNaN(R.getTime())&&R.getTime()!==0?R:void 0,mime:g.mime||"application/octet-stream",displayname:q.displayname!==void 0?String(q.displayname):void 0,size:q?.size||Number.parseInt(q.getcontentlength||"0"),status:ct<0?ve.FAILED:void 0,permissions:ot,owner:H,root:d,attributes:{...g,...q,hasPreview:q?.["has-preview"]}};return delete J.attributes?.props,g.type==="file"?new L(J):new B(J)};var Ce=Y(380),Me=Y(83141),F=Y(87485),j=Y(53334),G=Y(65606),Z=Y(48287).Buffer,Tt=(g=>(g.DEFAULT="default",g.HIDDEN="hidden",g))(Tt||{});class Ut{constructor(d){ft(this,"_action");this.validateAction(d),this._action=d}get id(){return this._action.id}get displayName(){return this._action.displayName}get title(){return this._action.title}get iconSvgInline(){return this._action.iconSvgInline}get enabled(){return this._action.enabled}get exec(){return this._action.exec}get execBatch(){return this._action.execBatch}get hotkey(){return this._action.hotkey}get order(){return this._action.order}get parent(){return this._action.parent}get default(){return this._action.default}get destructive(){return this._action.destructive}get inline(){return this._action.inline}get renderInline(){return this._action.renderInline}validateAction(d){if(!d.id||typeof d.id!="string")throw new Error("Invalid id");if(!d.displayName||typeof d.displayName!="function")throw new Error("Invalid displayName function");if("title"in d&&typeof d.title!="function")throw new Error("Invalid title function");if(!d.iconSvgInline||typeof d.iconSvgInline!="function")throw new Error("Invalid iconSvgInline function");if(!d.exec||typeof d.exec!="function")throw new Error("Invalid exec function");if("enabled"in d&&typeof d.enabled!="function")throw new Error("Invalid enabled function");if("execBatch"in d&&typeof d.execBatch!="function")throw new Error("Invalid execBatch function");if("order"in d&&typeof d.order!="number")throw new Error("Invalid order");if(d.destructive!==void 0&&typeof d.destructive!="boolean")throw new Error("Invalid destructive flag");if("parent"in d&&typeof d.parent!="string")throw new Error("Invalid parent");if(d.default&&!Object.values(Tt).includes(d.default))throw new Error("Invalid default");if("inline"in d&&typeof d.inline!="function")throw new Error("Invalid inline function");if("renderInline"in d&&typeof d.renderInline!="function")throw new Error("Invalid renderInline function");if("hotkey"in d&&d.hotkey!==void 0){if(typeof d.hotkey!="object")throw new Error("Invalid hotkey configuration");if(typeof d.hotkey.key!="string"||!d.hotkey.key)throw new Error("Missing or invalid hotkey key");if(typeof d.hotkey.description!="string"||!d.hotkey.description)throw new Error("Missing or invalid hotkey description")}}}const se=function(g){if(typeof window._nc_fileactions>"u"&&(window._nc_fileactions=[],logger.debug("FileActions initialized")),window._nc_fileactions.find(d=>d.id===g.id)){logger.error(`FileAction ${g.id} already registered`,{action:g});return}window._nc_fileactions.push(g)},Ue=function(){return typeof window._nc_fileactions>"u"&&(window._nc_fileactions=[],logger.debug("FileActions initialized")),window._nc_fileactions};class oe{constructor(d){ft(this,"_action");this.validateAction(d),this._action=d}get id(){return this._action.id}get displayName(){return this._action.displayName}get iconSvgInline(){return this._action.iconSvgInline}get order(){return this._action.order}get enabled(){return this._action.enabled}get exec(){return this._action.exec}validateAction(d){if(!d.id||typeof d.id!="string")throw new Error("Invalid id");if(!d.displayName||typeof d.displayName!="function")throw new Error("Invalid displayName function");if("iconSvgInline"in d&&typeof d.iconSvgInline!="function")throw new Error("Invalid iconSvgInline function");if("order"in d&&typeof d.order!="number")throw new Error("Invalid order");if("enabled"in d&&typeof d.enabled!="function")throw new Error("Invalid enabled function");if(!d.exec||typeof d.exec!="function")throw new Error("Invalid exec function")}}const le=g=>{if(typeof window._nc_filelistactions>"u"&&(window._nc_filelistactions=[]),window._nc_filelistactions.find(d=>d.id===g.id)){logger.error(`FileListAction with id "${g.id}" is already registered`,{action:g});return}window._nc_filelistactions.push(g)},tn=()=>(typeof window._nc_filelistactions>"u"&&(window._nc_filelistactions=[]),window._nc_filelistactions);function Yn(g){return g&&g.__esModule&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g}var en,nn;function rn(){return nn||(nn=1,en=typeof G=="object"&&G.env&&G.env.NODE_DEBUG&&/\bsemver\b/i.test(G.env.NODE_DEBUG)?(...d)=>console.error("SEMVER",...d):()=>{}),en}var sn,Pn;function Pt(){if(Pn)return sn;Pn=1;const g="2.0.0",d=256,C=Number.MAX_SAFE_INTEGER||9007199254740991,k=16,q=d-6;return sn={MAX_LENGTH:d,MAX_SAFE_COMPONENT_LENGTH:k,MAX_SAFE_BUILD_LENGTH:q,MAX_SAFE_INTEGER:C,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:g,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},sn}var Ot={exports:{}},ke;function Kn(){return ke||(ke=1,(function(g,d){const{MAX_SAFE_COMPONENT_LENGTH:C,MAX_SAFE_BUILD_LENGTH:k,MAX_LENGTH:q}=Pt(),ot=rn();d=g.exports={};const H=d.re=[],ct=d.safeRe=[],U=d.src=[],R=d.t={};let J=0;const ut="[a-zA-Z0-9-]",Nt=[["\\s",1],["\\d",q],[ut,k]],jt=Ne=>{for(const[Kt,pe]of Nt)Ne=Ne.split(`${Kt}*`).join(`${Kt}{0,${pe}}`).split(`${Kt}+`).join(`${Kt}{1,${pe}}`);return Ne},tt=(Ne,Kt,pe)=>{const We=jt(Kt),_e=J++;ot(Ne,_e,Kt),R[Ne]=_e,U[_e]=Kt,H[_e]=new RegExp(Kt,pe?"g":void 0),ct[_e]=new RegExp(We,pe?"g":void 0)};tt("NUMERICIDENTIFIER","0|[1-9]\\d*"),tt("NUMERICIDENTIFIERLOOSE","\\d+"),tt("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${ut}*`),tt("MAINVERSION",`(${U[R.NUMERICIDENTIFIER]})\\.(${U[R.NUMERICIDENTIFIER]})\\.(${U[R.NUMERICIDENTIFIER]})`),tt("MAINVERSIONLOOSE",`(${U[R.NUMERICIDENTIFIERLOOSE]})\\.(${U[R.NUMERICIDENTIFIERLOOSE]})\\.(${U[R.NUMERICIDENTIFIERLOOSE]})`),tt("PRERELEASEIDENTIFIER",`(?:${U[R.NUMERICIDENTIFIER]}|${U[R.NONNUMERICIDENTIFIER]})`),tt("PRERELEASEIDENTIFIERLOOSE",`(?:${U[R.NUMERICIDENTIFIERLOOSE]}|${U[R.NONNUMERICIDENTIFIER]})`),tt("PRERELEASE",`(?:-(${U[R.PRERELEASEIDENTIFIER]}(?:\\.${U[R.PRERELEASEIDENTIFIER]})*))`),tt("PRERELEASELOOSE",`(?:-?(${U[R.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${U[R.PRERELEASEIDENTIFIERLOOSE]})*))`),tt("BUILDIDENTIFIER",`${ut}+`),tt("BUILD",`(?:\\+(${U[R.BUILDIDENTIFIER]}(?:\\.${U[R.BUILDIDENTIFIER]})*))`),tt("FULLPLAIN",`v?${U[R.MAINVERSION]}${U[R.PRERELEASE]}?${U[R.BUILD]}?`),tt("FULL",`^${U[R.FULLPLAIN]}$`),tt("LOOSEPLAIN",`[v=\\s]*${U[R.MAINVERSIONLOOSE]}${U[R.PRERELEASELOOSE]}?${U[R.BUILD]}?`),tt("LOOSE",`^${U[R.LOOSEPLAIN]}$`),tt("GTLT","((?:<|>)?=?)"),tt("XRANGEIDENTIFIERLOOSE",`${U[R.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),tt("XRANGEIDENTIFIER",`${U[R.NUMERICIDENTIFIER]}|x|X|\\*`),tt("XRANGEPLAIN",`[v=\\s]*(${U[R.XRANGEIDENTIFIER]})(?:\\.(${U[R.XRANGEIDENTIFIER]})(?:\\.(${U[R.XRANGEIDENTIFIER]})(?:${U[R.PRERELEASE]})?${U[R.BUILD]}?)?)?`),tt("XRANGEPLAINLOOSE",`[v=\\s]*(${U[R.XRANGEIDENTIFIERLOOSE]})(?:\\.(${U[R.XRANGEIDENTIFIERLOOSE]})(?:\\.(${U[R.XRANGEIDENTIFIERLOOSE]})(?:${U[R.PRERELEASELOOSE]})?${U[R.BUILD]}?)?)?`),tt("XRANGE",`^${U[R.GTLT]}\\s*${U[R.XRANGEPLAIN]}$`),tt("XRANGELOOSE",`^${U[R.GTLT]}\\s*${U[R.XRANGEPLAINLOOSE]}$`),tt("COERCEPLAIN",`(^|[^\\d])(\\d{1,${C}})(?:\\.(\\d{1,${C}}))?(?:\\.(\\d{1,${C}}))?`),tt("COERCE",`${U[R.COERCEPLAIN]}(?:$|[^\\d])`),tt("COERCEFULL",U[R.COERCEPLAIN]+`(?:${U[R.PRERELEASE]})?(?:${U[R.BUILD]})?(?:$|[^\\d])`),tt("COERCERTL",U[R.COERCE],!0),tt("COERCERTLFULL",U[R.COERCEFULL],!0),tt("LONETILDE","(?:~>?)"),tt("TILDETRIM",`(\\s*)${U[R.LONETILDE]}\\s+`,!0),d.tildeTrimReplace="$1~",tt("TILDE",`^${U[R.LONETILDE]}${U[R.XRANGEPLAIN]}$`),tt("TILDELOOSE",`^${U[R.LONETILDE]}${U[R.XRANGEPLAINLOOSE]}$`),tt("LONECARET","(?:\\^)"),tt("CARETTRIM",`(\\s*)${U[R.LONECARET]}\\s+`,!0),d.caretTrimReplace="$1^",tt("CARET",`^${U[R.LONECARET]}${U[R.XRANGEPLAIN]}$`),tt("CARETLOOSE",`^${U[R.LONECARET]}${U[R.XRANGEPLAINLOOSE]}$`),tt("COMPARATORLOOSE",`^${U[R.GTLT]}\\s*(${U[R.LOOSEPLAIN]})$|^$`),tt("COMPARATOR",`^${U[R.GTLT]}\\s*(${U[R.FULLPLAIN]})$|^$`),tt("COMPARATORTRIM",`(\\s*)${U[R.GTLT]}\\s*(${U[R.LOOSEPLAIN]}|${U[R.XRANGEPLAIN]})`,!0),d.comparatorTrimReplace="$1$2$3",tt("HYPHENRANGE",`^\\s*(${U[R.XRANGEPLAIN]})\\s+-\\s+(${U[R.XRANGEPLAIN]})\\s*$`),tt("HYPHENRANGELOOSE",`^\\s*(${U[R.XRANGEPLAINLOOSE]})\\s+-\\s+(${U[R.XRANGEPLAINLOOSE]})\\s*$`),tt("STAR","(<|>)?=?\\s*\\*"),tt("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),tt("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Ot,Ot.exports)),Ot.exports}var Le,Rn;function Be(){if(Rn)return Le;Rn=1;const g=Object.freeze({loose:!0}),d=Object.freeze({});return Le=k=>k?typeof k!="object"?g:k:d,Le}var on,Ln;function Ve(){if(Ln)return on;Ln=1;const g=/^[0-9]+$/,d=(k,q)=>{const ot=g.test(k),H=g.test(q);return ot&&H&&(k=+k,q=+q),k===q?0:ot&&!H?-1:H&&!ot?1:k<q?-1:1};return on={compareIdentifiers:d,rcompareIdentifiers:(k,q)=>d(q,k)},on}var gn,mn;function an(){if(mn)return gn;mn=1;const g=rn(),{MAX_LENGTH:d,MAX_SAFE_INTEGER:C}=Pt(),{safeRe:k,t:q}=Kn(),ot=Be(),{compareIdentifiers:H}=Ve();class ct{constructor(R,J){if(J=ot(J),R instanceof ct){if(R.loose===!!J.loose&&R.includePrerelease===!!J.includePrerelease)return R;R=R.version}else if(typeof R!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof R}".`);if(R.length>d)throw new TypeError(`version is longer than ${d} characters`);g("SemVer",R,J),this.options=J,this.loose=!!J.loose,this.includePrerelease=!!J.includePrerelease;const ut=R.trim().match(J.loose?k[q.LOOSE]:k[q.FULL]);if(!ut)throw new TypeError(`Invalid Version: ${R}`);if(this.raw=R,this.major=+ut[1],this.minor=+ut[2],this.patch=+ut[3],this.major>C||this.major<0)throw new TypeError("Invalid major version");if(this.minor>C||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>C||this.patch<0)throw new TypeError("Invalid patch version");ut[4]?this.prerelease=ut[4].split(".").map(Nt=>{if(/^[0-9]+$/.test(Nt)){const jt=+Nt;if(jt>=0&&jt<C)return jt}return Nt}):this.prerelease=[],this.build=ut[5]?ut[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(R){if(g("SemVer.compare",this.version,this.options,R),!(R instanceof ct)){if(typeof R=="string"&&R===this.version)return 0;R=new ct(R,this.options)}return R.version===this.version?0:this.compareMain(R)||this.comparePre(R)}compareMain(R){return R instanceof ct||(R=new ct(R,this.options)),H(this.major,R.major)||H(this.minor,R.minor)||H(this.patch,R.patch)}comparePre(R){if(R instanceof ct||(R=new ct(R,this.options)),this.prerelease.length&&!R.prerelease.length)return-1;if(!this.prerelease.length&&R.prerelease.length)return 1;if(!this.prerelease.length&&!R.prerelease.length)return 0;let J=0;do{const ut=this.prerelease[J],Nt=R.prerelease[J];if(g("prerelease compare",J,ut,Nt),ut===void 0&&Nt===void 0)return 0;if(Nt===void 0)return 1;if(ut===void 0)return-1;if(ut===Nt)continue;return H(ut,Nt)}while(++J)}compareBuild(R){R instanceof ct||(R=new ct(R,this.options));let J=0;do{const ut=this.build[J],Nt=R.build[J];if(g("build compare",J,ut,Nt),ut===void 0&&Nt===void 0)return 0;if(Nt===void 0)return 1;if(ut===void 0)return-1;if(ut===Nt)continue;return H(ut,Nt)}while(++J)}inc(R,J,ut){switch(R){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",J,ut);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",J,ut);break;case"prepatch":this.prerelease.length=0,this.inc("patch",J,ut),this.inc("pre",J,ut);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",J,ut),this.inc("pre",J,ut);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const Nt=Number(ut)?1:0;if(!J&&ut===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[Nt];else{let jt=this.prerelease.length;for(;--jt>=0;)typeof this.prerelease[jt]=="number"&&(this.prerelease[jt]++,jt=-2);if(jt===-1){if(J===this.prerelease.join(".")&&ut===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(Nt)}}if(J){let jt=[J,Nt];ut===!1&&(jt=[J]),H(this.prerelease[0],J)===0?isNaN(this.prerelease[1])&&(this.prerelease=jt):this.prerelease=jt}break}default:throw new Error(`invalid increment argument: ${R}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return gn=ct,gn}var vn,Dn;function Qn(){if(Dn)return vn;Dn=1;const g=an();return vn=(C,k,q=!1)=>{if(C instanceof g)return C;try{return new g(C,k)}catch(ot){if(!q)return null;throw ot}},vn}var Ge,wn;function $n(){if(wn)return Ge;wn=1;const g=Qn();return Ge=(C,k)=>{const q=g(C,k);return q?q.version:null},Ge}var yn=$n();const qt=null;var En,Fn;function Zn(){if(Fn)return En;Fn=1;const g=an();return En=(C,k)=>new g(C,k).major,En}var mr=Zn();const jn=null;class Jn{constructor(d){ft(this,"bus");typeof d.getVersion!="function"||!qt(d.getVersion())?console.warn("Proxying an event bus with an unknown or invalid version"):jn(d.getVersion())!==jn(this.getVersion())&&console.warn("Proxying an event bus of version "+d.getVersion()+" with "+this.getVersion()),this.bus=d}getVersion(){return"3.3.2"}subscribe(d,C){this.bus.subscribe(d,C)}unsubscribe(d,C){this.bus.unsubscribe(d,C)}emit(d,...C){this.bus.emit(d,...C)}}class tr{constructor(){ft(this,"handlers",new Map)}getVersion(){return"3.3.2"}subscribe(d,C){this.handlers.set(d,(this.handlers.get(d)||[]).concat(C))}unsubscribe(d,C){this.handlers.set(d,(this.handlers.get(d)||[]).filter(k=>k!==C))}emit(d,...C){(this.handlers.get(d)||[]).forEach(q=>{try{q(C[0])}catch(ot){console.error("could not invoke event listener",ot)}})}}let Xe=null;function er(){return Xe!==null?Xe:typeof window>"u"?new Proxy({},{get:()=>()=>console.error("Window not available, EventBus can not be established!")}):(window.OC?._eventBus&&typeof window._nc_event_bus>"u"&&(console.warn("found old event bus instance at OC._eventBus. Update your version!"),window._nc_event_bus=window.OC._eventBus),typeof window?._nc_event_bus<"u"?Xe=new Jn(window._nc_event_bus):Xe=window._nc_event_bus=new tr,Xe)}function Mn(g,...d){er().emit(g,...d)}/*!
 * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors
 * SPDX-License-Identifier: AGPL-3.0-or-later
 */class vr extends Ce.m{constructor(C,k=100){super();ft(this,"id");ft(this,"order");this.id=C,this.order=k}filter(C){throw new Error("Not implemented")}updateChips(C){this.dispatchTypedEvent("update:chips",new CustomEvent("update:chips",{detail:C}))}filterUpdated(){this.dispatchTypedEvent("update:filter",new CustomEvent("update:filter"))}}function wr(g){if(window._nc_filelist_filters||(window._nc_filelist_filters=new Map),window._nc_filelist_filters.has(g.id))throw new Error(`File list filter "${g.id}" already registered`);window._nc_filelist_filters.set(g.id,g),Mn("files:filter:added",g)}function yr(g){window._nc_filelist_filters&&window._nc_filelist_filters.has(g)&&(window._nc_filelist_filters.delete(g),Mn("files:filter:removed",g))}function Er(){return window._nc_filelist_filters?[...window._nc_filelist_filters.values()]:[]}class br{constructor(d){ft(this,"_header");this.validateHeader(d),this._header=d}get id(){return this._header.id}get order(){return this._header.order}get enabled(){return this._header.enabled}get render(){return this._header.render}get updated(){return this._header.updated}validateHeader(d){if(!d.id||!d.render||!d.updated)throw new Error("Invalid header: id, render and updated are required");if(typeof d.id!="string")throw new Error("Invalid id property");if(d.enabled!==void 0&&typeof d.enabled!="function")throw new Error("Invalid enabled property");if(d.render&&typeof d.render!="function")throw new Error("Invalid render property");if(d.updated&&typeof d.updated!="function")throw new Error("Invalid updated property")}}const Tr=function(g){if(typeof window._nc_filelistheader>"u"&&(window._nc_filelistheader=[],logger.debug("FileListHeaders initialized")),window._nc_filelistheader.find(d=>d.id===g.id)){logger.error(`Header ${g.id} already registered`,{header:g});return}window._nc_filelistheader.push(g)},Nr=function(){return typeof window._nc_filelistheader>"u"&&(window._nc_filelistheader=[],logger.debug("FileListHeaders initialized")),window._nc_filelistheader};class nr extends null{constructor(){super(...arguments);ft(this,"_views",[]);ft(this,"_currentView",null)}register(C){if(this._views.find(k=>k.id===C.id))throw new Error(`View id ${C.id} is already registered`);this._views.push(C),this.dispatchTypedEvent("update",new CustomEvent("update"))}remove(C){const k=this._views.findIndex(q=>q.id===C);k!==-1&&(this._views.splice(k,1),this.dispatchTypedEvent("update",new CustomEvent("update")))}setActive(C){this._currentView=C;const k=new CustomEvent("updateActive",{detail:C});this.dispatchTypedEvent("updateActive",k)}get active(){return this._currentView}get views(){return this._views}}const rr=function(){return typeof window._nc_navigation>"u"&&(window._nc_navigation=new nr,logger.debug("Navigation service initialized")),window._nc_navigation};class Un{constructor(d){ft(this,"_column");kn(d),this._column=d}get id(){return this._column.id}get title(){return this._column.title}get render(){return this._column.render}get sort(){return this._column.sort}get summary(){return this._column.summary}}const kn=function(g){if(!g.id||typeof g.id!="string")throw new Error("A column id is required");if(!g.title||typeof g.title!="string")throw new Error("A column title is required");if(!g.render||typeof g.render!="function")throw new Error("A render function is required");if(g.sort&&typeof g.sort!="function")throw new Error("Column sortFunction must be a function");if(g.summary&&typeof g.summary!="function")throw new Error("Column summary must be a function");return!0};var ne={},ae;function Bn(){return ae||(ae=1,(function(g){(function(d){d.parser=function(v,u){return new k(v,u)},d.SAXParser=k,d.SAXStream=J,d.createStream=R,d.MAX_BUFFER_LENGTH=64*1024;var C=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];d.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function k(v,u){if(!(this instanceof k))return new k(v,u);var $=this;ot($),$.q=$.c="",$.bufferCheckPosition=d.MAX_BUFFER_LENGTH,$.opt=u||{},$.opt.lowercase=$.opt.lowercase||$.opt.lowercasetags,$.looseCase=$.opt.lowercase?"toLowerCase":"toUpperCase",$.tags=[],$.closed=$.closedRoot=$.sawRoot=!1,$.tag=$.error=null,$.strict=!!v,$.noscript=!!(v||$.opt.noscript),$.state=x.BEGIN,$.strictEntities=$.opt.strictEntities,$.ENTITIES=$.strictEntities?Object.create(d.XML_ENTITIES):Object.create(d.ENTITIES),$.attribList=[],$.opt.xmlns&&($.ns=Object.create(Ne)),$.opt.unquotedAttributeValues===void 0&&($.opt.unquotedAttributeValues=!v),$.trackPosition=$.opt.position!==!1,$.trackPosition&&($.position=$.line=$.column=0),qe($,"onready")}Object.create||(Object.create=function(v){function u(){}u.prototype=v;var $=new u;return $}),Object.keys||(Object.keys=function(v){var u=[];for(var $ in v)v.hasOwnProperty($)&&u.push($);return u});function q(v){for(var u=Math.max(d.MAX_BUFFER_LENGTH,10),$=0,_=0,yt=C.length;_<yt;_++){var kt=v[C[_]].length;if(kt>u)switch(C[_]){case"textNode":He(v);break;case"cdata":Rt(v,"oncdata",v.cdata),v.cdata="";break;case"script":Rt(v,"onscript",v.script),v.script="";break;default:ye(v,"Max buffer length exceeded: "+C[_])}$=Math.max($,kt)}var Bt=d.MAX_BUFFER_LENGTH-$;v.bufferCheckPosition=Bt+v.position}function ot(v){for(var u=0,$=C.length;u<$;u++)v[C[u]]=""}function H(v){He(v),v.cdata!==""&&(Rt(v,"oncdata",v.cdata),v.cdata=""),v.script!==""&&(Rt(v,"onscript",v.script),v.script="")}k.prototype={end:function(){Hn(this)},write:Ar,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){H(this)}};var ct;try{ct=require("stream").Stream}catch{ct=function(){}}ct||(ct=function(){});var U=d.EVENTS.filter(function(v){return v!=="error"&&v!=="end"});function R(v,u){return new J(v,u)}function J(v,u){if(!(this instanceof J))return new J(v,u);ct.apply(this),this._parser=new k(v,u),this.writable=!0,this.readable=!0;var $=this;this._parser.onend=function(){$.emit("end")},this._parser.onerror=function(_){$.emit("error",_),$._parser.error=null},this._decoder=null,U.forEach(function(_){Object.defineProperty($,"on"+_,{get:function(){return $._parser["on"+_]},set:function(yt){if(!yt)return $.removeAllListeners(_),$._parser["on"+_]=yt,yt;$.on(_,yt)},enumerable:!0,configurable:!1})})}J.prototype=Object.create(ct.prototype,{constructor:{value:J}}),J.prototype.write=function(v){if(typeof Z=="function"&&typeof Z.isBuffer=="function"&&Z.isBuffer(v)){if(!this._decoder){var u=Me.I;this._decoder=new u("utf8")}v=this._decoder.write(v)}return this._parser.write(v.toString()),this.emit("data",v),!0},J.prototype.end=function(v){return v&&v.length&&this.write(v),this._parser.end(),!0},J.prototype.on=function(v,u){var $=this;return!$._parser["on"+v]&&U.indexOf(v)!==-1&&($._parser["on"+v]=function(){var _=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);_.splice(0,0,v),$.emit.apply($,_)}),ct.prototype.on.call($,v,u)};var ut="[CDATA[",Nt="DOCTYPE",jt="http://www.w3.org/XML/1998/namespace",tt="http://www.w3.org/2000/xmlns/",Ne={xml:jt,xmlns:tt},Kt=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,pe=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,We=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,_e=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function Qt(v){return v===" "||v===`
`||v==="\r"||v==="	"}function dn(v){return v==='"'||v==="'"}function cr(v){return v===">"||Qt(v)}function he(v,u){return v.test(u)}function lr(v,u){return!he(v,u)}var x=0;d.STATE={BEGIN:x++,BEGIN_WHITESPACE:x++,TEXT:x++,TEXT_ENTITY:x++,OPEN_WAKA:x++,SGML_DECL:x++,SGML_DECL_QUOTED:x++,DOCTYPE:x++,DOCTYPE_QUOTED:x++,DOCTYPE_DTD:x++,DOCTYPE_DTD_QUOTED:x++,COMMENT_STARTING:x++,COMMENT:x++,COMMENT_ENDING:x++,COMMENT_ENDED:x++,CDATA:x++,CDATA_ENDING:x++,CDATA_ENDING_2:x++,PROC_INST:x++,PROC_INST_BODY:x++,PROC_INST_ENDING:x++,OPEN_TAG:x++,OPEN_TAG_SLASH:x++,ATTRIB:x++,ATTRIB_NAME:x++,ATTRIB_NAME_SAW_WHITE:x++,ATTRIB_VALUE:x++,ATTRIB_VALUE_QUOTED:x++,ATTRIB_VALUE_CLOSED:x++,ATTRIB_VALUE_UNQUOTED:x++,ATTRIB_VALUE_ENTITY_Q:x++,ATTRIB_VALUE_ENTITY_U:x++,CLOSE_TAG:x++,CLOSE_TAG_SAW_WHITE:x++,SCRIPT:x++,SCRIPT_ENDING:x++},d.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},d.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(d.ENTITIES).forEach(function(v){var u=d.ENTITIES[v],$=typeof u=="number"?String.fromCharCode(u):u;d.ENTITIES[v]=$});for(var qn in d.STATE)d.STATE[d.STATE[qn]]=qn;x=d.STATE;function qe(v,u,$){v[u]&&v[u]($)}function Rt(v,u,$){v.textNode&&He(v),qe(v,u,$)}function He(v){v.textNode=On(v.opt,v.textNode),v.textNode&&qe(v,"ontext",v.textNode),v.textNode=""}function On(v,u){return v.trim&&(u=u.trim()),v.normalize&&(u=u.replace(/\s+/g," ")),u}function ye(v,u){return He(v),v.trackPosition&&(u+=`
Line: `+v.line+`
Column: `+v.column+`
Char: `+v.c),u=new Error(u),v.error=u,qe(v,"onerror",u),v}function Hn(v){return v.sawRoot&&!v.closedRoot&&wt(v,"Unclosed root tag"),v.state!==x.BEGIN&&v.state!==x.BEGIN_WHITESPACE&&v.state!==x.TEXT&&ye(v,"Unexpected end"),He(v),v.c="",v.closed=!0,qe(v,"onend"),k.call(v,v.strict,v.opt),v}function wt(v,u){if(typeof v!="object"||!(v instanceof k))throw new Error("bad call to strictFail");v.strict&&ye(v,u)}function hr(v){v.strict||(v.tagName=v.tagName[v.looseCase]());var u=v.tags[v.tags.length-1]||v,$=v.tag={name:v.tagName,attributes:{}};v.opt.xmlns&&($.ns=u.ns),v.attribList.length=0,Rt(v,"onopentagstart",$)}function ze(v,u){var $=v.indexOf(":"),_=$<0?["",v]:v.split(":"),yt=_[0],kt=_[1];return u&&v==="xmlns"&&(yt="xmlns",kt=""),{prefix:yt,local:kt}}function xn(v){if(v.strict||(v.attribName=v.attribName[v.looseCase]()),v.attribList.indexOf(v.attribName)!==-1||v.tag.attributes.hasOwnProperty(v.attribName)){v.attribName=v.attribValue="";return}if(v.opt.xmlns){var u=ze(v.attribName,!0),$=u.prefix,_=u.local;if($==="xmlns")if(_==="xml"&&v.attribValue!==jt)wt(v,"xml: prefix must be bound to "+jt+`
Actual: `+v.attribValue);else if(_==="xmlns"&&v.attribValue!==tt)wt(v,"xmlns: prefix must be bound to "+tt+`
Actual: `+v.attribValue);else{var yt=v.tag,kt=v.tags[v.tags.length-1]||v;yt.ns===kt.ns&&(yt.ns=Object.create(kt.ns)),yt.ns[_]=v.attribValue}v.attribList.push([v.attribName,v.attribValue])}else v.tag.attributes[v.attribName]=v.attribValue,Rt(v,"onattribute",{name:v.attribName,value:v.attribValue});v.attribName=v.attribValue=""}function Re(v,u){if(v.opt.xmlns){var $=v.tag,_=ze(v.tagName);$.prefix=_.prefix,$.local=_.local,$.uri=$.ns[_.prefix]||"",$.prefix&&!$.uri&&(wt(v,"Unbound namespace prefix: "+JSON.stringify(v.tagName)),$.uri=_.prefix);var yt=v.tags[v.tags.length-1]||v;$.ns&&yt.ns!==$.ns&&Object.keys($.ns).forEach(function(fe){Rt(v,"onopennamespace",{prefix:fe,uri:$.ns[fe]})});for(var kt=0,Bt=v.attribList.length;kt<Bt;kt++){var gt=v.attribList[kt],mt=gt[0],re=gt[1],st=ze(mt,!0),Et=st.prefix,Ae=st.local,Ie=Et===""?"":$.ns[Et]||"",ge={name:mt,value:re,prefix:Et,local:Ae,uri:Ie};Et&&Et!=="xmlns"&&!Ie&&(wt(v,"Unbound namespace prefix: "+JSON.stringify(Et)),ge.uri=Et),v.tag.attributes[mt]=ge,Rt(v,"onattribute",ge)}v.attribList.length=0}v.tag.isSelfClosing=!!u,v.sawRoot=!0,v.tags.push(v.tag),Rt(v,"onopentag",v.tag),u||(!v.noscript&&v.tagName.toLowerCase()==="script"?v.state=x.SCRIPT:v.state=x.TEXT,v.tag=null,v.tagName=""),v.attribName=v.attribValue="",v.attribList.length=0}function Cn(v){if(!v.tagName){wt(v,"Weird empty close tag."),v.textNode+="</>",v.state=x.TEXT;return}if(v.script){if(v.tagName!=="script"){v.script+="</"+v.tagName+">",v.tagName="",v.state=x.SCRIPT;return}Rt(v,"onscript",v.script),v.script=""}var u=v.tags.length,$=v.tagName;v.strict||($=$[v.looseCase]());for(var _=$;u--;){var yt=v.tags[u];if(yt.name!==_)wt(v,"Unexpected close tag");else break}if(u<0){wt(v,"Unmatched closing tag: "+v.tagName),v.textNode+="</"+v.tagName+">",v.state=x.TEXT;return}v.tagName=$;for(var kt=v.tags.length;kt-- >u;){var Bt=v.tag=v.tags.pop();v.tagName=v.tag.name,Rt(v,"onclosetag",v.tagName);var gt={};for(var mt in Bt.ns)gt[mt]=Bt.ns[mt];var re=v.tags[v.tags.length-1]||v;v.opt.xmlns&&Bt.ns!==re.ns&&Object.keys(Bt.ns).forEach(function(st){var Et=Bt.ns[st];Rt(v,"onclosenamespace",{prefix:st,uri:Et})})}u===0&&(v.closedRoot=!0),v.tagName=v.attribValue=v.attribName="",v.attribList.length=0,v.state=x.TEXT}function _r(v){var u=v.entity,$=u.toLowerCase(),_,yt="";return v.ENTITIES[u]?v.ENTITIES[u]:v.ENTITIES[$]?v.ENTITIES[$]:(u=$,u.charAt(0)==="#"&&(u.charAt(1)==="x"?(u=u.slice(2),_=parseInt(u,16),yt=_.toString(16)):(u=u.slice(1),_=parseInt(u,10),yt=_.toString(10))),u=u.replace(/^0+/,""),isNaN(_)||yt.toLowerCase()!==u?(wt(v,"Invalid character entity"),"&"+v.entity+";"):String.fromCodePoint(_))}function fr(v,u){u==="<"?(v.state=x.OPEN_WAKA,v.startTagPosition=v.position):Qt(u)||(wt(v,"Non-whitespace before first tag."),v.textNode=u,v.state=x.TEXT)}function dr(v,u){var $="";return u<v.length&&($=v.charAt(u)),$}function Ar(v){var u=this;if(this.error)throw this.error;if(u.closed)return ye(u,"Cannot write after close. Assign an onready handler.");if(v===null)return Hn(u);typeof v=="object"&&(v=v.toString());for(var $=0,_="";_=dr(v,$++),u.c=_,!!_;)switch(u.trackPosition&&(u.position++,_===`
`?(u.line++,u.column=0):u.column++),u.state){case x.BEGIN:if(u.state=x.BEGIN_WHITESPACE,_==="\uFEFF")continue;fr(u,_);continue;case x.BEGIN_WHITESPACE:fr(u,_);continue;case x.TEXT:if(u.sawRoot&&!u.closedRoot){for(var yt=$-1;_&&_!=="<"&&_!=="&";)_=dr(v,$++),_&&u.trackPosition&&(u.position++,_===`
`?(u.line++,u.column=0):u.column++);u.textNode+=v.substring(yt,$-1)}_==="<"&&!(u.sawRoot&&u.closedRoot&&!u.strict)?(u.state=x.OPEN_WAKA,u.startTagPosition=u.position):(!Qt(_)&&(!u.sawRoot||u.closedRoot)&&wt(u,"Text data outside of root node."),_==="&"?u.state=x.TEXT_ENTITY:u.textNode+=_);continue;case x.SCRIPT:_==="<"?u.state=x.SCRIPT_ENDING:u.script+=_;continue;case x.SCRIPT_ENDING:_==="/"?u.state=x.CLOSE_TAG:(u.script+="<"+_,u.state=x.SCRIPT);continue;case x.OPEN_WAKA:if(_==="!")u.state=x.SGML_DECL,u.sgmlDecl="";else if(!Qt(_))if(he(Kt,_))u.state=x.OPEN_TAG,u.tagName=_;else if(_==="/")u.state=x.CLOSE_TAG,u.tagName="";else if(_==="?")u.state=x.PROC_INST,u.procInstName=u.procInstBody="";else{if(wt(u,"Unencoded <"),u.startTagPosition+1<u.position){var kt=u.position-u.startTagPosition;_=new Array(kt).join(" ")+_}u.textNode+="<"+_,u.state=x.TEXT}continue;case x.SGML_DECL:if(u.sgmlDecl+_==="--"){u.state=x.COMMENT,u.comment="",u.sgmlDecl="";continue}u.doctype&&u.doctype!==!0&&u.sgmlDecl?(u.state=x.DOCTYPE_DTD,u.doctype+="<!"+u.sgmlDecl+_,u.sgmlDecl=""):(u.sgmlDecl+_).toUpperCase()===ut?(Rt(u,"onopencdata"),u.state=x.CDATA,u.sgmlDecl="",u.cdata=""):(u.sgmlDecl+_).toUpperCase()===Nt?(u.state=x.DOCTYPE,(u.doctype||u.sawRoot)&&wt(u,"Inappropriately located doctype declaration"),u.doctype="",u.sgmlDecl=""):_===">"?(Rt(u,"onsgmldeclaration",u.sgmlDecl),u.sgmlDecl="",u.state=x.TEXT):(dn(_)&&(u.state=x.SGML_DECL_QUOTED),u.sgmlDecl+=_);continue;case x.SGML_DECL_QUOTED:_===u.q&&(u.state=x.SGML_DECL,u.q=""),u.sgmlDecl+=_;continue;case x.DOCTYPE:_===">"?(u.state=x.TEXT,Rt(u,"ondoctype",u.doctype),u.doctype=!0):(u.doctype+=_,_==="["?u.state=x.DOCTYPE_DTD:dn(_)&&(u.state=x.DOCTYPE_QUOTED,u.q=_));continue;case x.DOCTYPE_QUOTED:u.doctype+=_,_===u.q&&(u.q="",u.state=x.DOCTYPE);continue;case x.DOCTYPE_DTD:_==="]"?(u.doctype+=_,u.state=x.DOCTYPE):_==="<"?(u.state=x.OPEN_WAKA,u.startTagPosition=u.position):dn(_)?(u.doctype+=_,u.state=x.DOCTYPE_DTD_QUOTED,u.q=_):u.doctype+=_;continue;case x.DOCTYPE_DTD_QUOTED:u.doctype+=_,_===u.q&&(u.state=x.DOCTYPE_DTD,u.q="");continue;case x.COMMENT:_==="-"?u.state=x.COMMENT_ENDING:u.comment+=_;continue;case x.COMMENT_ENDING:_==="-"?(u.state=x.COMMENT_ENDED,u.comment=On(u.opt,u.comment),u.comment&&Rt(u,"oncomment",u.comment),u.comment=""):(u.comment+="-"+_,u.state=x.COMMENT);continue;case x.COMMENT_ENDED:_!==">"?(wt(u,"Malformed comment"),u.comment+="--"+_,u.state=x.COMMENT):u.doctype&&u.doctype!==!0?u.state=x.DOCTYPE_DTD:u.state=x.TEXT;continue;case x.CDATA:_==="]"?u.state=x.CDATA_ENDING:u.cdata+=_;continue;case x.CDATA_ENDING:_==="]"?u.state=x.CDATA_ENDING_2:(u.cdata+="]"+_,u.state=x.CDATA);continue;case x.CDATA_ENDING_2:_===">"?(u.cdata&&Rt(u,"oncdata",u.cdata),Rt(u,"onclosecdata"),u.cdata="",u.state=x.TEXT):_==="]"?u.cdata+="]":(u.cdata+="]]"+_,u.state=x.CDATA);continue;case x.PROC_INST:_==="?"?u.state=x.PROC_INST_ENDING:Qt(_)?u.state=x.PROC_INST_BODY:u.procInstName+=_;continue;case x.PROC_INST_BODY:if(!u.procInstBody&&Qt(_))continue;_==="?"?u.state=x.PROC_INST_ENDING:u.procInstBody+=_;continue;case x.PROC_INST_ENDING:_===">"?(Rt(u,"onprocessinginstruction",{name:u.procInstName,body:u.procInstBody}),u.procInstName=u.procInstBody="",u.state=x.TEXT):(u.procInstBody+="?"+_,u.state=x.PROC_INST_BODY);continue;case x.OPEN_TAG:he(pe,_)?u.tagName+=_:(hr(u),_===">"?Re(u):_==="/"?u.state=x.OPEN_TAG_SLASH:(Qt(_)||wt(u,"Invalid character in tag name"),u.state=x.ATTRIB));continue;case x.OPEN_TAG_SLASH:_===">"?(Re(u,!0),Cn(u)):(wt(u,"Forward-slash in opening tag not followed by >"),u.state=x.ATTRIB);continue;case x.ATTRIB:if(Qt(_))continue;_===">"?Re(u):_==="/"?u.state=x.OPEN_TAG_SLASH:he(Kt,_)?(u.attribName=_,u.attribValue="",u.state=x.ATTRIB_NAME):wt(u,"Invalid attribute name");continue;case x.ATTRIB_NAME:_==="="?u.state=x.ATTRIB_VALUE:_===">"?(wt(u,"Attribute without value"),u.attribValue=u.attribName,xn(u),Re(u)):Qt(_)?u.state=x.ATTRIB_NAME_SAW_WHITE:he(pe,_)?u.attribName+=_:wt(u,"Invalid attribute name");continue;case x.ATTRIB_NAME_SAW_WHITE:if(_==="=")u.state=x.ATTRIB_VALUE;else{if(Qt(_))continue;wt(u,"Attribute without value"),u.tag.attributes[u.attribName]="",u.attribValue="",Rt(u,"onattribute",{name:u.attribName,value:""}),u.attribName="",_===">"?Re(u):he(Kt,_)?(u.attribName=_,u.state=x.ATTRIB_NAME):(wt(u,"Invalid attribute name"),u.state=x.ATTRIB)}continue;case x.ATTRIB_VALUE:if(Qt(_))continue;dn(_)?(u.q=_,u.state=x.ATTRIB_VALUE_QUOTED):(u.opt.unquotedAttributeValues||ye(u,"Unquoted attribute value"),u.state=x.ATTRIB_VALUE_UNQUOTED,u.attribValue=_);continue;case x.ATTRIB_VALUE_QUOTED:if(_!==u.q){_==="&"?u.state=x.ATTRIB_VALUE_ENTITY_Q:u.attribValue+=_;continue}xn(u),u.q="",u.state=x.ATTRIB_VALUE_CLOSED;continue;case x.ATTRIB_VALUE_CLOSED:Qt(_)?u.state=x.ATTRIB:_===">"?Re(u):_==="/"?u.state=x.OPEN_TAG_SLASH:he(Kt,_)?(wt(u,"No whitespace between attributes"),u.attribName=_,u.attribValue="",u.state=x.ATTRIB_NAME):wt(u,"Invalid attribute name");continue;case x.ATTRIB_VALUE_UNQUOTED:if(!cr(_)){_==="&"?u.state=x.ATTRIB_VALUE_ENTITY_U:u.attribValue+=_;continue}xn(u),_===">"?Re(u):u.state=x.ATTRIB;continue;case x.CLOSE_TAG:if(u.tagName)_===">"?Cn(u):he(pe,_)?u.tagName+=_:u.script?(u.script+="</"+u.tagName,u.tagName="",u.state=x.SCRIPT):(Qt(_)||wt(u,"Invalid tagname in closing tag"),u.state=x.CLOSE_TAG_SAW_WHITE);else{if(Qt(_))continue;lr(Kt,_)?u.script?(u.script+="</"+_,u.state=x.SCRIPT):wt(u,"Invalid tagname in closing tag."):u.tagName=_}continue;case x.CLOSE_TAG_SAW_WHITE:if(Qt(_))continue;_===">"?Cn(u):wt(u,"Invalid characters in closing tag");continue;case x.TEXT_ENTITY:case x.ATTRIB_VALUE_ENTITY_Q:case x.ATTRIB_VALUE_ENTITY_U:var Bt,gt;switch(u.state){case x.TEXT_ENTITY:Bt=x.TEXT,gt="textNode";break;case x.ATTRIB_VALUE_ENTITY_Q:Bt=x.ATTRIB_VALUE_QUOTED,gt="attribValue";break;case x.ATTRIB_VALUE_ENTITY_U:Bt=x.ATTRIB_VALUE_UNQUOTED,gt="attribValue";break}if(_===";"){var mt=_r(u);u.opt.unparsedEntities&&!Object.values(d.XML_ENTITIES).includes(mt)?(u.entity="",u.state=Bt,u.write(mt)):(u[gt]+=mt,u.entity="",u.state=Bt)}else he(u.entity.length?_e:We,_)?u.entity+=_:(wt(u,"Invalid character in entity name"),u[gt]+="&"+u.entity+_,u.entity="",u.state=Bt);continue;default:throw new Error(u,"Unknown state: "+u.state)}return u.position>=u.bufferCheckPosition&&q(u),u}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||(function(){var v=String.fromCharCode,u=Math.floor,$=function(){var _=16384,yt=[],kt,Bt,gt=-1,mt=arguments.length;if(!mt)return"";for(var re="";++gt<mt;){var st=Number(arguments[gt]);if(!isFinite(st)||st<0||st>1114111||u(st)!==st)throw RangeError("Invalid code point: "+st);st<=65535?yt.push(st):(st-=65536,kt=(st>>10)+55296,Bt=st%1024+56320,yt.push(kt,Bt)),(gt+1===mt||yt.length>_)&&(re+=v.apply(null,yt),yt.length=0)}return re};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:$,configurable:!0,writable:!0}):String.fromCodePoint=$})()})(g)})(ne)),ne}var ir=Bn();const un=null,bn={"http://www.w3.org/2000/svg":{ext:"svg",mime:"image/svg+xml"},"http://www.w3.org/1999/xhtml":{ext:"xhtml",mime:"application/xhtml+xml"},"http://www.opengis.net/kml/2.2":{ext:"kml",mime:"application/vnd.google-earth.kml+xml"},"http://www.opengis.net/gml":{ext:"gml",mime:"application/gml+xml"}},Ft={rss:{ext:"rss",mime:"application/rss+xml"},"score-partwise":{ext:"musicxml",mime:"application/vnd.recordare.musicxml+xml"},svg:{ext:"svg",mime:"image/svg+xml"}};class Se{constructor(d){this.options=d??{},this.firstTag=!0,this.onEnd=!1,this.parser=un.parser(!0,{xmlns:!0}),this.nesting=0,this.parser.onerror=C=>{C.message.startsWith("Invalid character entity")||(this.fileType=void 0,this.onEnd=!0)},this.parser.onopentag=C=>{++this.nesting,!(!this.firstTag||this.onEnd)&&(this.firstTag=!1,C.uri?this.fileType=bn[C.uri]:C.name&&(this.fileType=Ft[C.name.toLowerCase()]),this.fileType&&!this.options.fullScan&&(this.onEnd=!0))},this.parser.onclosetag=()=>{--this.nesting}}write(d){this.parser.write(d)}close(){this.parser.close(),this.onEnd=!0}isValid(){return this.nesting===0}}function sr(g){if(typeof g!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof g}\``);if(g=g.trim(),g.length===0)return!1;const d=new Se;return d.write(g),d.isValid()&&d.fileType?.ext==="svg"}class or{constructor(d){ft(this,"_view");Tn(d),this._view=d}get id(){return this._view.id}get name(){return this._view.name}get caption(){return this._view.caption}get emptyTitle(){return this._view.emptyTitle}get emptyCaption(){return this._view.emptyCaption}get getContents(){return this._view.getContents}get hidden(){return this._view.hidden}get icon(){return this._view.icon}set icon(d){this._view.icon=d}get order(){return this._view.order}set order(d){this._view.order=d}get params(){return this._view.params}set params(d){this._view.params=d}get columns(){return this._view.columns}get emptyView(){return this._view.emptyView}get parent(){return this._view.parent}get sticky(){return this._view.sticky}get expanded(){return this._view.expanded}set expanded(d){this._view.expanded=d}get defaultSortKey(){return this._view.defaultSortKey}get loadChildViews(){return this._view.loadChildViews}}const Tn=function(g){if(!g.id||typeof g.id!="string")throw new Error("View id is required and must be a string");if(!g.name||typeof g.name!="string")throw new Error("View name is required and must be a string");if("caption"in g&&typeof g.caption!="string")throw new Error("View caption must be a string");if(!g.getContents||typeof g.getContents!="function")throw new Error("View getContents is required and must be a function");if("hidden"in g&&typeof g.hidden!="boolean")throw new Error("View hidden must be a boolean");if(!g.icon||typeof g.icon!="string"||!sr(g.icon))throw new Error("View icon is required and must be a valid svg string");if("order"in g&&typeof g.order!="number")throw new Error("View order must be a number");if(g.columns&&g.columns.forEach(d=>{if(!(d instanceof Un))throw new Error("View columns must be an array of Column. Invalid column found")}),g.emptyView&&typeof g.emptyView!="function")throw new Error("View emptyView must be a function");if(g.parent&&typeof g.parent!="string")throw new Error("View parent must be a string");if("sticky"in g&&typeof g.sticky!="boolean")throw new Error("View sticky must be a boolean");if("expanded"in g&&typeof g.expanded!="boolean")throw new Error("View expanded must be a boolean");if(g.defaultSortKey&&typeof g.defaultSortKey!="string")throw new Error("View defaultSortKey must be a string");if(g.loadChildViews&&typeof g.loadChildViews!="function")throw new Error("View loadChildViews must be a function");return!0};var Vn=(g=>(g[g.UploadFromDevice=0]="UploadFromDevice",g[g.CreateNew=1]="CreateNew",g[g.Other=2]="Other",g))(Vn||{});class we{constructor(){ft(this,"_entries",[])}registerEntry(d){this.validateEntry(d),d.category=d.category??1,this._entries.push(d)}unregisterEntry(d){const C=typeof d=="string"?this.getEntryIndex(d):this.getEntryIndex(d.id);if(C===-1){Ht.warn("Entry not found, nothing removed",{entry:d,entries:this.getEntries()});return}this._entries.splice(C,1)}getEntries(d){return d?this._entries.filter(C=>typeof C.enabled=="function"?C.enabled(d):!0):this._entries}getEntryIndex(d){return this._entries.findIndex(C=>C.id===d)}validateEntry(d){if(!d.id||!d.displayName||!(d.iconSvgInline||d.iconClass)||!d.handler)throw new Error("Invalid entry");if(typeof d.id!="string"||typeof d.displayName!="string")throw new Error("Invalid id or displayName property");if(d.iconClass&&typeof d.iconClass!="string"||d.iconSvgInline&&typeof d.iconSvgInline!="string")throw new Error("Invalid icon provided");if(d.enabled!==void 0&&typeof d.enabled!="function")throw new Error("Invalid enabled property");if(typeof d.handler!="function")throw new Error("Invalid handler property");if("order"in d&&typeof d.order!="number")throw new Error("Invalid order property");if(this.getEntryIndex(d.id)!==-1)throw new Error("Duplicate entry")}}function Te(){return typeof window._nc_newfilemenu>"u"&&(window._nc_newfilemenu=new we,Ht.debug("NewFileMenu initialized")),window._nc_newfilemenu}function Nn(g){return Te().registerEntry(g)}function cn(g){return Te().unregisterEntry(g)}function ln(g){return Te().getEntries(g).sort((C,k)=>C.order!==void 0&&k.order!==void 0&&C.order!==k.order?C.order-k.order:C.displayName.localeCompare(k.displayName,void 0,{numeric:!0,sensitivity:"base"}))}var _n=(g=>(g.ReservedName="reserved name",g.Character="character",g.Extension="extension",g))(_n||{});class Pe extends Error{constructor(d){super(`Invalid ${d.reason} '${d.segment}' in filename '${d.filename}'`,{cause:d})}get filename(){return this.cause.filename}get reason(){return this.cause.reason}get segment(){return this.cause.segment}}function hn(g){const d=(0,F.F)().files,C=d.forbidden_filename_characters??window._oc_config?.forbidden_filenames_characters??["/","\\"];for(const U of C)if(g.includes(U))throw new Pe({segment:U,reason:"character",filename:g});if(g=g.toLocaleLowerCase(),(d.forbidden_filenames??[".htaccess"]).includes(g))throw new Pe({filename:g,segment:g,reason:"reserved name"});const q=g.indexOf(".",1),ot=g.substring(0,q===-1?void 0:q);if((d.forbidden_filename_basenames??[]).includes(ot))throw new Pe({filename:g,segment:ot,reason:"reserved name"});const ct=d.forbidden_filename_extensions??[".part",".filepart"];for(const U of ct)if(g.length>U.length&&g.endsWith(U))throw new Pe({segment:U,reason:"extension",filename:g})}function Gn(g){try{return hn(g),!0}catch(d){if(d instanceof Pe)return!1;throw d}}function Xn(g,d,C){const k={suffix:H=>`(${H})`,ignoreFileExtension:!1,...C};let q=g,ot=1;for(;d.includes(q);){const H=k.ignoreFileExtension?"":(0,Dt.extname)(g);q=`${(0,Dt.basename)(g,H)} ${k.suffix(ot++)}${H}`}return q}const An=["B","KB","MB","GB","TB","PB"],fn=["B","KiB","MiB","GiB","TiB","PiB"];function ar(g,d=!1,C=!1,k=!1){C=C&&!k,typeof g=="string"&&(g=Number(g));let q=g>0?Math.floor(Math.log(g)/Math.log(k?1e3:1024)):0;q=Math.min((C?fn.length:An.length)-1,q);const ot=C?fn[q]:An[q];let H=(g/Math.pow(k?1e3:1024,q)).toFixed(1);return d===!0&&q===0?(H!=="0.0"?"< 1 ":"0 ")+(C?fn[1]:An[1]):(q<2?H=parseFloat(H).toFixed(0):H=parseFloat(H).toLocaleString((0,j.lO)()),H+" "+ot)}function ur(g,d=!1){try{g=`${g}`.toLocaleLowerCase().replaceAll(/\s+/g,"").replaceAll(",",".")}catch{return null}const C=g.match(/^([0-9]*(\.[0-9]*)?)([kmgtp]?)(i?)b?$/);if(C===null||C[1]==="."||C[1]==="")return null;const k={"":0,k:1,m:2,g:3,t:4,p:5,e:6},q=`${C[1]}`,ot=C[4]==="i"||d?1024:1e3;return Math.round(Number.parseFloat(q)*ot**k[C[3]])}function In(g){return g instanceof Date?g.toISOString():String(g)}function Yt(g,d,C){d=d??[ot=>ot],C=C??[];const k=d.map((ot,H)=>(C[H]??"asc")==="asc"?1:-1),q=Intl.Collator([(0,j.Z0)(),(0,j.lO)()],{numeric:!0,usage:"sort"});return[...g].sort((ot,H)=>{for(const[ct,U]of d.entries()){const R=q.compare(In(U(ot)),In(U(H)));if(R!==0)return R*k[ct]}return 0})}var De=(g=>(g.Name="basename",g.Modified="mtime",g.Size="size",g))(De||{});function Wn(g,d={}){const C={sortingMode:"basename",sortingOrder:"asc",...d},k=H=>H.lastIndexOf(".")>0?H.slice(0,H.lastIndexOf(".")):H,q=[...C.sortFavoritesFirst?[H=>H.attributes?.favorite!==1]:[],...C.sortFoldersFirst?[H=>H.type!=="folder"]:[],...C.sortingMode!=="basename"?[H=>H[C.sortingMode]??H.attributes[C.sortingMode]]:[],H=>k(H.displayname||H.attributes?.displayname||H.basename||""),H=>H.basename],ot=[...C.sortFavoritesFirst?["asc"]:[],...C.sortFoldersFirst?["asc"]:[],...C.sortingMode==="mtime"?[C.sortingOrder==="asc"?"desc":"asc"]:[],...C.sortingMode!=="mtime"&&C.sortingMode!=="basename"?[C.sortingOrder]:[],C.sortingOrder,C.sortingOrder];return Yt(g,q,ot)}}),83141:((pt,it,Y)=>{"use strict";var ht=Y(92861).Buffer,vt=ht.isEncoding||function(L){switch(L=""+L,L&&L.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function xt(L){if(!L)return"utf8";for(var B;;)switch(L){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return L;default:if(B)return;L=(""+L).toLowerCase(),B=!0}}function z(L){var B=xt(L);if(typeof B!="string"&&(ht.isEncoding===vt||!vt(L)))throw new Error("Unknown encoding: "+L);return B||L}it.I=Q;function Q(L){this.encoding=z(L);var B;switch(this.encoding){case"utf16le":this.text=zt,this.end=Ct,B=4;break;case"utf8":this.fillLast=Dt,B=4;break;case"base64":this.text=Wt,this.end=rt,B=3;break;default:this.write=ve,this.end=ie;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=ht.allocUnsafe(B)}Q.prototype.write=function(L){if(L.length===0)return"";var B,dt;if(this.lastNeed){if(B=this.fillLast(L),B===void 0)return"";dt=this.lastNeed,this.lastNeed=0}else dt=0;return dt<L.length?B?B+this.text(L,dt):this.text(L,dt):B||""},Q.prototype.end=Ht,Q.prototype.text=_t,Q.prototype.fillLast=function(L){if(this.lastNeed<=L.length)return L.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);L.copy(this.lastChar,this.lastTotal-this.lastNeed,0,L.length),this.lastNeed-=L.length};function lt(L){return L<=127?0:L>>5===6?2:L>>4===14?3:L>>3===30?4:L>>6===2?-1:-2}function bt(L,B,dt){var at=B.length-1;if(at<dt)return 0;var It=lt(B[at]);return It>=0?(It>0&&(L.lastNeed=It-1),It):--at<dt||It===-2?0:(It=lt(B[at]),It>=0?(It>0&&(L.lastNeed=It-2),It):--at<dt||It===-2?0:(It=lt(B[at]),It>=0?(It>0&&(It===2?It=0:L.lastNeed=It-3),It):0))}function Gt(L,B,dt){if((B[0]&192)!==128)return L.lastNeed=0,"\uFFFD";if(L.lastNeed>1&&B.length>1){if((B[1]&192)!==128)return L.lastNeed=1,"\uFFFD";if(L.lastNeed>2&&B.length>2&&(B[2]&192)!==128)return L.lastNeed=2,"\uFFFD"}}function Dt(L){var B=this.lastTotal-this.lastNeed,dt=Gt(this,L,B);if(dt!==void 0)return dt;if(this.lastNeed<=L.length)return L.copy(this.lastChar,B,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);L.copy(this.lastChar,B,0,L.length),this.lastNeed-=L.length}function _t(L,B){var dt=bt(this,L,B);if(!this.lastNeed)return L.toString("utf8",B);this.lastTotal=dt;var at=L.length-(dt-this.lastNeed);return L.copy(this.lastChar,0,at),L.toString("utf8",B,at)}function Ht(L){var B=L&&L.length?this.write(L):"";return this.lastNeed?B+"\uFFFD":B}function zt(L,B){if((L.length-B)%2===0){var dt=L.toString("utf16le",B);if(dt){var at=dt.charCodeAt(dt.length-1);if(at>=55296&&at<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=L[L.length-2],this.lastChar[1]=L[L.length-1],dt.slice(0,-1)}return dt}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=L[L.length-1],L.toString("utf16le",B,L.length-1)}function Ct(L){var B=L&&L.length?this.write(L):"";if(this.lastNeed){var dt=this.lastTotal-this.lastNeed;return B+this.lastChar.toString("utf16le",0,dt)}return B}function Wt(L,B){var dt=(L.length-B)%3;return dt===0?L.toString("base64",B):(this.lastNeed=3-dt,this.lastTotal=3,dt===1?this.lastChar[0]=L[L.length-1]:(this.lastChar[0]=L[L.length-2],this.lastChar[1]=L[L.length-1]),L.toString("base64",B,L.length-dt))}function rt(L){var B=L&&L.length?this.write(L):"";return this.lastNeed?B+this.lastChar.toString("base64",0,3-this.lastNeed):B}function ve(L){return L.toString(this.encoding)}function ie(L){return L&&L.length?this.write(L):""}}),87485:((pt,it,Y)=>{"use strict";Y.d(it,{F:()=>vt});var ht=Y(32981);function vt(){try{return(0,ht.C)("core","capabilities")}catch{return console.debug("Could not find capabilities initial state fall back to _oc_capabilities"),"_oc_capabilities"in window?window._oc_capabilities:{}}}}),92861:((pt,it,Y)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var ht=Y(48287),vt=ht.Buffer;function xt(Q,lt){for(var bt in Q)lt[bt]=Q[bt]}vt.from&&vt.alloc&&vt.allocUnsafe&&vt.allocUnsafeSlow?pt.exports=ht:(xt(ht,it),it.Buffer=z);function z(Q,lt,bt){return vt(Q,lt,bt)}z.prototype=Object.create(vt.prototype),xt(vt,z),z.from=function(Q,lt,bt){if(typeof Q=="number")throw new TypeError("Argument must not be a number");return vt(Q,lt,bt)},z.alloc=function(Q,lt,bt){if(typeof Q!="number")throw new TypeError("Argument must be a number");var Gt=vt(Q);return lt!==void 0?typeof bt=="string"?Gt.fill(lt,bt):Gt.fill(lt):Gt.fill(0),Gt},z.allocUnsafe=function(Q){if(typeof Q!="number")throw new TypeError("Argument must be a number");return vt(Q)},z.allocUnsafeSlow=function(Q){if(typeof Q!="number")throw new TypeError("Argument must be a number");return ht.SlowBuffer(Q)}})}]);})();

//# sourceMappingURL=talk-defaultVendors-node_modules_nextcloud_files_dist_index_mjs.js.map?v=56bd6db12bfd911ad597