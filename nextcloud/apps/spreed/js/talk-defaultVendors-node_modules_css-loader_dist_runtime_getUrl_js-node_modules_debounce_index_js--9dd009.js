(()=>{var Hn=Object.defineProperty;var Fn=fe=>{throw TypeError(fe)};var Kn=(fe,Z,L)=>Z in fe?Hn(fe,Z,{enumerable:!0,configurable:!0,writable:!0,value:L}):fe[Z]=L;var Ce=(fe,Z,L)=>Kn(fe,typeof Z!="symbol"?Z+"":Z,L),_n=(fe,Z,L)=>Z.has(fe)||Fn("Cannot "+L);var F=(fe,Z,L)=>(_n(fe,Z,"read from private field"),L?L.call(fe):Z.get(fe)),Se=(fe,Z,L)=>Z.has(fe)?Fn("Cannot add the same private member more than once"):Z instanceof WeakSet?Z.add(fe):Z.set(fe,L),ye=(fe,Z,L,M)=>(_n(fe,Z,"write to private field"),M?M.call(fe,L):Z.set(fe,L),L),Xe=(fe,Z,L)=>(_n(fe,Z,"access private method"),L);var Qr=(fe,Z,L,M)=>({set _(H){ye(fe,Z,H,L)},get _(){return F(fe,Z,M)}});(self.webpackChunktalk=self.webpackChunktalk||[]).push([["defaultVendors-node_modules_css-loader_dist_runtime_getUrl_js-node_modules_debounce_index_js--9dd009"],{36117:function(fe,Z){var L,M,H;function oe(G){"@babel/helpers - typeof";return oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},oe(G)}(function(G,J){if(1)M=[Z],L=J,H=typeof L=="function"?L.apply(Z,M):L,H!==void 0&&(fe.exports=H);else var X})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:this,function(G){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.CancelablePromise=void 0,G.cancelable=Ut,G.default=void 0,G.isCancelablePromise=ze;function J(j,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(B&&B.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),B&&X(j,B)}function X(j,B){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,K){return k.__proto__=K,k},X(j,B)}function te(j){var B=le();return function(){var k=ae(j),K;if(B){var me=ae(this).constructor;K=Reflect.construct(k,arguments,me)}else K=k.apply(this,arguments);return Y(this,K)}}function Y(j,B){if(B&&(oe(B)==="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ie(j)}function ie(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function le(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ae(j){return ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(V){return V.__proto__||Object.getPrototypeOf(V)},ae(j)}function se(j,B){var V=typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if(!V){if(Array.isArray(j)||(V=re(j))||B&&j&&typeof j.length=="number"){V&&(j=V);var k=0,K=function(){};return{s:K,n:function(){return k>=j.length?{done:!0}:{done:!1,value:j[k++]}},e:function(et){throw et},f:K}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var me=!0,_e=!1,Re;return{s:function(){V=V.call(j)},n:function(){var et=V.next();return me=et.done,et},e:function(et){_e=!0,Re=et},f:function(){try{!me&&V.return!=null&&V.return()}finally{if(_e)throw Re}}}}function re(j,B){if(j){if(typeof j=="string")return z(j,B);var V=Object.prototype.toString.call(j).slice(8,-1);if(V==="Object"&&j.constructor&&(V=j.constructor.name),V==="Map"||V==="Set")return Array.from(j);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return z(j,B)}}function z(j,B){(B==null||B>j.length)&&(B=j.length);for(var V=0,k=new Array(B);V<B;V++)k[V]=j[V];return k}function ue(j,B){if(!(j instanceof B))throw new TypeError("Cannot call a class as a function")}function Oe(j,B){for(var V=0;V<B.length;V++){var k=B[V];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(j,k.key,k)}}function ge(j,B,V){return B&&Oe(j.prototype,B),V&&Oe(j,V),Object.defineProperty(j,"prototype",{writable:!1}),j}function Pe(j,B,V){return B in j?Object.defineProperty(j,B,{value:V,enumerable:!0,configurable:!0,writable:!0}):j[B]=V,j}function de(j,B,V){Le(j,B),B.set(j,V)}function Le(j,B){if(B.has(j))throw new TypeError("Cannot initialize the same private elements twice on an object")}function be(j,B){var V=we(j,B,"get");return Ve(j,V)}function Ve(j,B){return B.get?B.get.call(j):B.value}function it(j,B,V){var k=we(j,B,"set");return nt(j,k,V),V}function we(j,B,V){if(!B.has(j))throw new TypeError("attempted to "+V+" private field on non-instance");return B.get(j)}function nt(j,B,V){if(B.set)B.set.call(j,V);else{if(!B.writable)throw new TypeError("attempted to set read only private field");B.value=V}}var dt=typeof Symbol<"u"?Symbol.toStringTag:"@@toStringTag",Q=new WeakMap,pe=new WeakMap,Ye=function(){function j(B){var V=B.executor,k=V===void 0?function(){}:V,K=B.internals,me=K===void 0?St():K,_e=B.promise,Re=_e===void 0?new Promise(function(Qe,et){return k(Qe,et,function(pt){me.onCancelList.push(pt)})}):_e;ue(this,j),de(this,Q,{writable:!0,value:void 0}),de(this,pe,{writable:!0,value:void 0}),Pe(this,dt,"CancelablePromise"),this.cancel=this.cancel.bind(this),it(this,Q,me),it(this,pe,Re||new Promise(function(Qe,et){return k(Qe,et,function(pt){me.onCancelList.push(pt)})}))}return ge(j,[{key:"then",value:function(V,k){return Pt(be(this,pe).then(Je(V,be(this,Q)),Je(k,be(this,Q))),be(this,Q))}},{key:"catch",value:function(V){return Pt(be(this,pe).catch(Je(V,be(this,Q))),be(this,Q))}},{key:"finally",value:function(V,k){var K=this;return k&&be(this,Q).onCancelList.push(V),Pt(be(this,pe).finally(Je(function(){if(V)return k&&(be(K,Q).onCancelList=be(K,Q).onCancelList.filter(function(me){return me!==V})),V()},be(this,Q))),be(this,Q))}},{key:"cancel",value:function(){be(this,Q).isCanceled=!0;var V=be(this,Q).onCancelList;be(this,Q).onCancelList=[];var k=se(V),K;try{for(k.s();!(K=k.n()).done;){var me=K.value;if(typeof me=="function")try{me()}catch(_e){console.error(_e)}}}catch(_e){k.e(_e)}finally{k.f()}}},{key:"isCanceled",value:function(){return be(this,Q).isCanceled===!0}}]),j}(),ht=function(j){J(V,j);var B=te(V);function V(k){return ue(this,V),B.call(this,{executor:k})}return ge(V)}(Ye);G.CancelablePromise=ht,Pe(ht,"all",function(B){return It(B,Promise.all(B))}),Pe(ht,"allSettled",function(B){return It(B,Promise.allSettled(B))}),Pe(ht,"any",function(B){return It(B,Promise.any(B))}),Pe(ht,"race",function(B){return It(B,Promise.race(B))}),Pe(ht,"resolve",function(B){return Ut(Promise.resolve(B))}),Pe(ht,"reject",function(B){return Ut(Promise.reject(B))}),Pe(ht,"isCancelable",ze);var sr=ht;G.default=sr;function Ut(j){return Pt(j,St())}function ze(j){return j instanceof ht||j instanceof Ye}function Je(j,B){if(j)return function(V){if(!B.isCanceled){var k=j(V);return ze(k)&&B.onCancelList.push(k.cancel),k}return V}}function Pt(j,B){return new Ye({internals:B,promise:j})}function It(j,B){var V=St();return V.onCancelList.push(function(){var k=se(j),K;try{for(k.s();!(K=k.n()).done;){var me=K.value;ze(me)&&me.cancel()}}catch(_e){k.e(_e)}finally{k.f()}}),new Ye({internals:V,promise:B})}function St(){return{isCanceled:!1,onCancelList:[]}}})},50495:(fe,Z,L)=>{"use strict";L.d(Z,{A:()=>X});var M=L(71354),H=L.n(M),oe=L(76314),G=L.n(oe),J=G()(H());J.push([fe.id,`/**
 * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors
 * SPDX-License-Identifier: AGPL-3.0-or-later
 */
/**
 * SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors
 * SPDX-License-Identifier: AGPL-3.0-or-later
 */
/*
* Ensure proper alignment of the vue material icons
*/
.material-design-icon[data-v-7bf21eca] {
  display: flex;
  align-self: center;
  justify-self: center;
  align-items: center;
  justify-content: center;
}
.app-navigation-caption[data-v-7bf21eca] {
  color: var(--color-text-maxcontrast);
  line-height: var(--default-clickable-area);
  white-space: nowrap;
  text-overflow: ellipsis;
  box-shadow: none !important;
  user-select: none;
  pointer-events: none;
  margin-inline-start: 12px;
  padding-inline-end: 14px;
  height: var(--default-clickable-area);
  display: flex;
  align-items: center;
}`,"",{version:3,sources:["webpack://./node_modules/@nextcloud/vue/dist/assets/NcActionCaption-BNDtcWJ7.css"],names:[],mappings:"AAAA;;;EAGE;AACF;;;EAGE;AACF;;CAEC;AACD;EACE,aAAa;EACb,kBAAkB;EAClB,oBAAoB;EACpB,mBAAmB;EACnB,uBAAuB;AACzB;AACA;EACE,oCAAoC;EACpC,0CAA0C;EAC1C,mBAAmB;EACnB,uBAAuB;EACvB,2BAA2B;EAC3B,iBAAiB;EACjB,oBAAoB;EACpB,yBAAyB;EACzB,wBAAwB;EACxB,qCAAqC;EACrC,aAAa;EACb,mBAAmB;AACrB",sourcesContent:[`/**
 * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors
 * SPDX-License-Identifier: AGPL-3.0-or-later
 */
/**
 * SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors
 * SPDX-License-Identifier: AGPL-3.0-or-later
 */
/*
* Ensure proper alignment of the vue material icons
*/
.material-design-icon[data-v-7bf21eca] {
  display: flex;
  align-self: center;
  justify-self: center;
  align-items: center;
  justify-content: center;
}
.app-navigation-caption[data-v-7bf21eca] {
  color: var(--color-text-maxcontrast);
  line-height: var(--default-clickable-area);
  white-space: nowrap;
  text-overflow: ellipsis;
  box-shadow: none !important;
  user-select: none;
  pointer-events: none;
  margin-inline-start: 12px;
  padding-inline-end: 14px;
  height: var(--default-clickable-area);
  display: flex;
  align-items: center;
}`],sourceRoot:""}]);const X=J},27611:(fe,Z,L)=>{"use strict";L.d(Z,{A:()=>X});var M=L(71354),H=L.n(M),oe=L(76314),G=L.n(oe),J=G()(H());J.push([fe.id,`/**
 * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors
 * SPDX-License-Identifier: AGPL-3.0-or-later
 */
/**
 * SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors
 * SPDX-License-Identifier: AGPL-3.0-or-later
 */
/*
* Ensure proper alignment of the vue material icons
*/
.material-design-icon[data-v-3e2324b7] {
  display: flex;
  align-self: center;
  justify-self: center;
  align-items: center;
  justify-content: center;
}
.action-separator[data-v-3e2324b7] {
  height: 0;
  margin: 5px 10px 5px 15px;
  border-bottom: 1px solid var(--color-border-dark);
  cursor: default;
}`,"",{version:3,sources:["webpack://./node_modules/@nextcloud/vue/dist/assets/NcActionSeparator-Ct2RnclR.css"],names:[],mappings:"AAAA;;;EAGE;AACF;;;EAGE;AACF;;CAEC;AACD;EACE,aAAa;EACb,kBAAkB;EAClB,oBAAoB;EACpB,mBAAmB;EACnB,uBAAuB;AACzB;AACA;EACE,SAAS;EACT,yBAAyB;EACzB,iDAAiD;EACjD,eAAe;AACjB",sourcesContent:[`/**
 * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors
 * SPDX-License-Identifier: AGPL-3.0-or-later
 */
/**
 * SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors
 * SPDX-License-Identifier: AGPL-3.0-or-later
 */
/*
* Ensure proper alignment of the vue material icons
*/
.material-design-icon[data-v-3e2324b7] {
  display: flex;
  align-self: center;
  justify-self: center;
  align-items: center;
  justify-content: center;
}
.action-separator[data-v-3e2324b7] {
  height: 0;
  margin: 5px 10px 5px 15px;
  border-bottom: 1px solid var(--color-border-dark);
  cursor: default;
}`],sourceRoot:""}]);const X=J},65027:(fe,Z,L)=>{"use strict";L.d(Z,{A:()=>X});var M=L(71354),H=L.n(M),oe=L(76314),G=L.n(oe),J=G()(H());J.push([fe.id,`/**
 * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors
 * SPDX-License-Identifier: AGPL-3.0-or-later
 */
/**
 * SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors
 * SPDX-License-Identifier: AGPL-3.0-or-later
 */
/*
* Ensure proper alignment of the vue material icons
*/
.material-design-icon[data-v-5e97fe1f] {
  display: flex;
  align-self: center;
  justify-self: center;
  align-items: center;
  justify-content: center;
}
.progress-bar[data-v-5e97fe1f] {
  display: block;
  height: var(--progress-bar-height);
  --progress-bar-color: var(--497e8a2b);
}
.progress-bar--linear[data-v-5e97fe1f] {
  width: 100%;
  overflow: hidden;
  border: 0;
  padding: 0;
  background: var(--color-background-dark);
  border-radius: calc(var(--progress-bar-height) / 2);
}
.progress-bar--linear[data-v-5e97fe1f]::-webkit-progress-bar {
  height: var(--progress-bar-height);
  background-color: transparent;
}
.progress-bar--linear[data-v-5e97fe1f]::-webkit-progress-value {
  background: var(--progress-bar-color, var(--gradient-primary-background));
  border-radius: calc(var(--progress-bar-height) / 2);
}
.progress-bar--linear[data-v-5e97fe1f]::-moz-progress-bar {
  background: var(--progress-bar-color, var(--gradient-primary-background));
  border-radius: calc(var(--progress-bar-height) / 2);
}
.progress-bar--circular[data-v-5e97fe1f] {
  width: var(--progress-bar-height);
  color: var(--progress-bar-color, var(--color-primary-element));
}
.progress-bar--error[data-v-5e97fe1f] {
  color: var(--color-error) !important;
}
.progress-bar--error[data-v-5e97fe1f]::-moz-progress-bar {
  background: var(--color-error) !important;
}
.progress-bar--error[data-v-5e97fe1f]::-webkit-progress-value {
  background: var(--color-error) !important;
}`,"",{version:3,sources:["webpack://./node_modules/@nextcloud/vue/dist/assets/NcProgressBar--z-WqmX4.css"],names:[],mappings:"AAAA;;;EAGE;AACF;;;EAGE;AACF;;CAEC;AACD;EACE,aAAa;EACb,kBAAkB;EAClB,oBAAoB;EACpB,mBAAmB;EACnB,uBAAuB;AACzB;AACA;EACE,cAAc;EACd,kCAAkC;EAClC,qCAAqC;AACvC;AACA;EACE,WAAW;EACX,gBAAgB;EAChB,SAAS;EACT,UAAU;EACV,wCAAwC;EACxC,mDAAmD;AACrD;AACA;EACE,kCAAkC;EAClC,6BAA6B;AAC/B;AACA;EACE,yEAAyE;EACzE,mDAAmD;AACrD;AACA;EACE,yEAAyE;EACzE,mDAAmD;AACrD;AACA;EACE,iCAAiC;EACjC,8DAA8D;AAChE;AACA;EACE,oCAAoC;AACtC;AACA;EACE,yCAAyC;AAC3C;AACA;EACE,yCAAyC;AAC3C",sourcesContent:[`/**
 * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors
 * SPDX-License-Identifier: AGPL-3.0-or-later
 */
/**
 * SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors
 * SPDX-License-Identifier: AGPL-3.0-or-later
 */
/*
* Ensure proper alignment of the vue material icons
*/
.material-design-icon[data-v-5e97fe1f] {
  display: flex;
  align-self: center;
  justify-self: center;
  align-items: center;
  justify-content: center;
}
.progress-bar[data-v-5e97fe1f] {
  display: block;
  height: var(--progress-bar-height);
  --progress-bar-color: var(--497e8a2b);
}
.progress-bar--linear[data-v-5e97fe1f] {
  width: 100%;
  overflow: hidden;
  border: 0;
  padding: 0;
  background: var(--color-background-dark);
  border-radius: calc(var(--progress-bar-height) / 2);
}
.progress-bar--linear[data-v-5e97fe1f]::-webkit-progress-bar {
  height: var(--progress-bar-height);
  background-color: transparent;
}
.progress-bar--linear[data-v-5e97fe1f]::-webkit-progress-value {
  background: var(--progress-bar-color, var(--gradient-primary-background));
  border-radius: calc(var(--progress-bar-height) / 2);
}
.progress-bar--linear[data-v-5e97fe1f]::-moz-progress-bar {
  background: var(--progress-bar-color, var(--gradient-primary-background));
  border-radius: calc(var(--progress-bar-height) / 2);
}
.progress-bar--circular[data-v-5e97fe1f] {
  width: var(--progress-bar-height);
  color: var(--progress-bar-color, var(--color-primary-element));
}
.progress-bar--error[data-v-5e97fe1f] {
  color: var(--color-error) !important;
}
.progress-bar--error[data-v-5e97fe1f]::-moz-progress-bar {
  background: var(--color-error) !important;
}
.progress-bar--error[data-v-5e97fe1f]::-webkit-progress-value {
  background: var(--color-error) !important;
}`],sourceRoot:""}]);const X=J},4417:fe=>{"use strict";fe.exports=function(Z,L){return L||(L={}),Z&&(Z=String(Z.__esModule?Z.default:Z),/^['"].*['"]$/.test(Z)&&(Z=Z.slice(1,-1)),L.hash&&(Z+=L.hash),/["'() \t\n]|(%20)/.test(Z)||L.needQuotes?'"'.concat(Z.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):Z)}},17334:fe=>{function Z(L,M=100,H={}){if(typeof L!="function")throw new TypeError(`Expected the first parameter to be a function, got \`${typeof L}\`.`);if(M<0)throw new RangeError("`wait` must not be negative.");const{immediate:oe}=typeof H=="boolean"?{immediate:H}:H;let G,J,X,te,Y;function ie(){const se=G,re=J;return G=void 0,J=void 0,Y=L.apply(se,re),Y}function le(){const se=Date.now()-te;se<M&&se>=0?X=setTimeout(le,M-se):(X=void 0,oe||(Y=ie()))}const ae=function(...se){if(G&&this!==G&&Object.getPrototypeOf(this)===Object.getPrototypeOf(G))throw new Error("Debounced method called with different contexts of the same prototype.");G=this,J=se,te=Date.now();const re=oe&&!X;return X||(X=setTimeout(le,M)),re&&(Y=ie()),Y};return Object.defineProperty(ae,"isPending",{get(){return X!==void 0}}),ae.clear=()=>{X&&(clearTimeout(X),X=void 0)},ae.flush=()=>{X&&ae.trigger()},ae.trigger=()=>{Y=ie(),ae.clear()},ae}fe.exports.debounce=Z,fe.exports=Z},26368:fe=>{"use strict";var Z=Object.prototype.hasOwnProperty,L="~";function M(){}Object.create&&(M.prototype=Object.create(null),new M().__proto__||(L=!1));function H(X,te,Y){this.fn=X,this.context=te,this.once=Y||!1}function oe(X,te,Y,ie,le){if(typeof Y!="function")throw new TypeError("The listener must be a function");var ae=new H(Y,ie||X,le),se=L?L+te:te;return X._events[se]?X._events[se].fn?X._events[se]=[X._events[se],ae]:X._events[se].push(ae):(X._events[se]=ae,X._eventsCount++),X}function G(X,te){--X._eventsCount===0?X._events=new M:delete X._events[te]}function J(){this._events=new M,this._eventsCount=0}J.prototype.eventNames=function(){var te=[],Y,ie;if(this._eventsCount===0)return te;for(ie in Y=this._events)Z.call(Y,ie)&&te.push(L?ie.slice(1):ie);return Object.getOwnPropertySymbols?te.concat(Object.getOwnPropertySymbols(Y)):te},J.prototype.listeners=function(te){var Y=L?L+te:te,ie=this._events[Y];if(!ie)return[];if(ie.fn)return[ie.fn];for(var le=0,ae=ie.length,se=new Array(ae);le<ae;le++)se[le]=ie[le].fn;return se},J.prototype.listenerCount=function(te){var Y=L?L+te:te,ie=this._events[Y];return ie?ie.fn?1:ie.length:0},J.prototype.emit=function(te,Y,ie,le,ae,se){var re=L?L+te:te;if(!this._events[re])return!1;var z=this._events[re],ue=arguments.length,Oe,ge;if(z.fn){switch(z.once&&this.removeListener(te,z.fn,void 0,!0),ue){case 1:return z.fn.call(z.context),!0;case 2:return z.fn.call(z.context,Y),!0;case 3:return z.fn.call(z.context,Y,ie),!0;case 4:return z.fn.call(z.context,Y,ie,le),!0;case 5:return z.fn.call(z.context,Y,ie,le,ae),!0;case 6:return z.fn.call(z.context,Y,ie,le,ae,se),!0}for(ge=1,Oe=new Array(ue-1);ge<ue;ge++)Oe[ge-1]=arguments[ge];z.fn.apply(z.context,Oe)}else{var Pe=z.length,de;for(ge=0;ge<Pe;ge++)switch(z[ge].once&&this.removeListener(te,z[ge].fn,void 0,!0),ue){case 1:z[ge].fn.call(z[ge].context);break;case 2:z[ge].fn.call(z[ge].context,Y);break;case 3:z[ge].fn.call(z[ge].context,Y,ie);break;case 4:z[ge].fn.call(z[ge].context,Y,ie,le);break;default:if(!Oe)for(de=1,Oe=new Array(ue-1);de<ue;de++)Oe[de-1]=arguments[de];z[ge].fn.apply(z[ge].context,Oe)}}return!0},J.prototype.on=function(te,Y,ie){return oe(this,te,Y,ie,!1)},J.prototype.once=function(te,Y,ie){return oe(this,te,Y,ie,!0)},J.prototype.removeListener=function(te,Y,ie,le){var ae=L?L+te:te;if(!this._events[ae])return this;if(!Y)return G(this,ae),this;var se=this._events[ae];if(se.fn)se.fn===Y&&(!le||se.once)&&(!ie||se.context===ie)&&G(this,ae);else{for(var re=0,z=[],ue=se.length;re<ue;re++)(se[re].fn!==Y||le&&!se[re].once||ie&&se[re].context!==ie)&&z.push(se[re]);z.length?this._events[ae]=z.length===1?z[0]:z:G(this,ae)}return this},J.prototype.removeAllListeners=function(te){var Y;return te?(Y=L?L+te:te,this._events[Y]&&G(this,Y)):(this._events=new M,this._eventsCount=0),this},J.prototype.off=J.prototype.removeListener,J.prototype.addListener=J.prototype.on,J.prefixed=L,J.EventEmitter=J,fe.exports=J},44845:(fe,Z,L)=>{"use strict";L.r(Z),L.d(Z,{default:()=>Er});var M=L(85471),H=L(5270),oe=L(21379),G=L(96769),J=L(32981),X=L(63814),te=L(82680),Y=L(39649),ie=L(65043),le=L(5460),ae=L(21777),se=L(54914),re=L(9165),z=L(61338),ue=L(36117),Oe=L(57975);const ge={name:"FileIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var Pe=function(){var w=this,I=w._self._c;return I("span",w._b({staticClass:"material-design-icon file-icon",attrs:{"aria-hidden":w.title?null:"true","aria-label":w.title,role:"img"},on:{click:function(x){return w.$emit("click",x)}}},"span",w.$attrs,!1),[I("svg",{staticClass:"material-design-icon__svg",attrs:{fill:w.fillColor,width:w.size,height:w.size,viewBox:"0 0 24 24"}},[I("path",{attrs:{d:"M13,9V3.5L18.5,9M6,2C4.89,2 4,2.89 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6Z"}},[w.title?I("title",[w._v(w._s(w.title))]):w._e()])])])},de=[],Le=(0,H.a)(ge,Pe,de,!1,null,null);const be=Le.exports,Ve=()=>{var q,w,I;const x=(0,J.C)("files","config",null),D=(0,M.KR)((q=x?.show_hidden)!=null?q:!0),ee=(0,M.KR)((w=x?.sort_favorites_first)!=null?w:!0),ve=(0,M.KR)((I=x?.crop_image_previews)!=null?I:!0);return(0,M.sV)(async()=>{var xe,Te,Ae,$e,ke,ut;if((0,te.f)())console.debug("Skip loading files settings - currently on public share");else try{const{data:Ne}=await ie.Ay.get((0,X.Jv)("/apps/files/api/v1/configs"));D.value=(Te=(xe=Ne?.data)==null?void 0:xe.show_hidden)!=null?Te:!1,ee.value=($e=(Ae=Ne?.data)==null?void 0:Ae.sort_favorites_first)!=null?$e:!0,ve.value=(ut=(ke=Ne?.data)==null?void 0:ke.crop_image_previews)!=null?ut:!0}catch(Ne){console.error("Could not load files settings",Ne),(0,H.l)((0,H.t)("Could not load files settings"))}}),{showHiddenFiles:D,sortFavoritesFirst:ee,cropImagePreviews:ve}},it=q=>{var w,I,x,D,ee,ve,xe,Te,Ae,$e,ke,ut;const Ne=ct=>ct==="asc"?"ascending":ct==="desc"?"descending":"none",Ge=(0,J.C)("files","viewConfigs",null),tt=(0,M.KR)({sortBy:(I=(w=Ge?.files)==null?void 0:w.sorting_mode)!=null?I:"basename",order:Ne((D=(x=Ge?.files)==null?void 0:x.sorting_direction)!=null?D:"asc")}),_t=(0,M.KR)({sortBy:(ve=(ee=Ge?.recent)==null?void 0:ee.sorting_mode)!=null?ve:"basename",order:Ne((Te=(xe=Ge?.recent)==null?void 0:xe.sorting_direction)!=null?Te:"asc")}),Ue=(0,M.KR)({sortBy:($e=(Ae=Ge?.favorites)==null?void 0:Ae.sorting_mode)!=null?$e:"basename",order:Ne((ut=(ke=Ge?.favorites)==null?void 0:ke.sorting_direction)!=null?ut:"asc")});(0,M.sV)(async()=>{var ct,Ot,Lt,kt,Ie,Be,wt,Nt,_r,tr,Ar,Xt,Wr,Nr,Cr;if((0,te.f)())console.debug("Skip loading files views - currently on public share");else try{const{data:ft}=await ie.Ay.get((0,X.Jv)("/apps/files/api/v1/views"));tt.value={sortBy:(Lt=(Ot=(ct=ft?.data)==null?void 0:ct.files)==null?void 0:Ot.sorting_mode)!=null?Lt:"basename",order:Ne((Ie=(kt=ft?.data)==null?void 0:kt.files)==null?void 0:Ie.sorting_direction)},Ue.value={sortBy:(Nt=(wt=(Be=ft?.data)==null?void 0:Be.favorites)==null?void 0:wt.sorting_mode)!=null?Nt:"basename",order:Ne((tr=(_r=ft?.data)==null?void 0:_r.favorites)==null?void 0:tr.sorting_direction)},_t.value={sortBy:(Wr=(Xt=(Ar=ft?.data)==null?void 0:Ar.recent)==null?void 0:Xt.sorting_mode)!=null?Wr:"basename",order:Ne((Cr=(Nr=ft?.data)==null?void 0:Nr.recent)==null?void 0:Cr.sorting_direction)}}catch(ft){console.error("Could not load files views",ft),(0,H.l)((0,H.t)("Could not load files views"))}});const We=(0,M.EW)(()=>(0,Y.BA)(q||"files")==="files"?tt.value:(0,Y.BA)(q)==="recent"?_t.value:Ue.value),vt=(0,M.EW)(()=>We.value.sortBy),Fe=(0,M.EW)(()=>We.value.order);return{filesViewConfig:tt,favoritesViewConfig:Ue,recentViewConfig:_t,currentConfig:We,sortBy:vt,order:Fe}},we={name:"MenuUpIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var nt=function(){var w=this,I=w._self._c;return I("span",w._b({staticClass:"material-design-icon menu-up-icon",attrs:{"aria-hidden":w.title?null:"true","aria-label":w.title,role:"img"},on:{click:function(x){return w.$emit("click",x)}}},"span",w.$attrs,!1),[I("svg",{staticClass:"material-design-icon__svg",attrs:{fill:w.fillColor,width:w.size,height:w.size,viewBox:"0 0 24 24"}},[I("path",{attrs:{d:"M7,15L12,10L17,15H7Z"}},[w.title?I("title",[w._v(w._s(w.title))]):w._e()])])])},dt=[],Q=(0,H.a)(we,nt,dt,!1,null,null);const pe=Q.exports,Ye={name:"MenuDownIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var ht=function(){var w=this,I=w._self._c;return I("span",w._b({staticClass:"material-design-icon menu-down-icon",attrs:{"aria-hidden":w.title?null:"true","aria-label":w.title,role:"img"},on:{click:function(x){return w.$emit("click",x)}}},"span",w.$attrs,!1),[I("svg",{staticClass:"material-design-icon__svg",attrs:{fill:w.fillColor,width:w.size,height:w.size,viewBox:"0 0 24 24"}},[I("path",{attrs:{d:"M7,10L12,15L17,10H7Z"}},[w.title?I("title",[w._v(w._s(w.title))]):w._e()])])])},sr=[],Ut=(0,H.a)(Ye,ht,sr,!1,null,null);const ze=Ut.exports,Je={"file-picker__file-icon":"_file-picker__file-icon_19mjt_9"},Pt=(0,M.pM)({__name:"LoadingTableRow",props:{showCheckbox:{type:Boolean}},setup(q){return{__sfc:!0,fileListIconStyles:Je}}});var It=function(){var w=this,I=w._self._c,x=w._self._setupProxy;return I("tr",{staticClass:"file-picker__row loading-row",attrs:{"aria-hidden":"true"}},[w.showCheckbox?I("td",{staticClass:"row-checkbox"},[I("span")]):w._e(),I("td",{staticClass:"row-name"},[I("div",{staticClass:"row-wrapper"},[I("span",{class:x.fileListIconStyles["file-picker__file-icon"]}),I("span")])]),w._m(0),w._m(1)])},St=[function(){var q=this,w=q._self._c;return q._self._setupProxy,w("td",{staticClass:"row-size"},[w("span")])},function(){var q=this,w=q._self._c;return q._self._setupProxy,w("td",{staticClass:"row-modified"},[w("span")])}],j=(0,H.a)(Pt,It,St,!1,null,"15187afc");const B=j.exports,V=new le.A({concurrency:5});function k(q){const{resolve:w,promise:I}=Promise.withResolvers();return V.add(()=>{const x=new Image;return x.onerror=()=>w(!1),x.onload=()=>w(!0),x.src=q,I}),I}function K(q,w={}){var I;w={size:32,cropPreview:!1,mimeFallback:!0,...w};try{const x=((I=q.attributes)==null?void 0:I.previewUrl)||(0,X.Jv)("/core/preview?fileId={fileid}",{fileid:q.fileid});let D;try{D=new URL(x)}catch{D=new URL(x,window.location.origin)}return D.searchParams.set("x","".concat(w.size)),D.searchParams.set("y","".concat(w.size)),D.searchParams.set("mimeFallback","".concat(w.mimeFallback)),D.searchParams.set("a",w.cropPreview===!0?"0":"1"),D.searchParams.set("c","".concat(q.attributes.etag)),D}catch{return null}}const me=(q,w)=>{const I=(0,M.KR)(null),x=(0,M.KR)(!1);return(0,M.nT)(()=>{x.value=!1,I.value=K((0,Y.BA)(q),(0,Y.BA)(w||{})),I.value&&k(I.value.href).then(D=>{x.value=D})}),{previewURL:I,previewLoaded:x}},_e={name:"FolderIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var Re=function(){var w=this,I=w._self._c;return I("span",w._b({staticClass:"material-design-icon folder-icon",attrs:{"aria-hidden":w.title?null:"true","aria-label":w.title,role:"img"},on:{click:function(x){return w.$emit("click",x)}}},"span",w.$attrs,!1),[I("svg",{staticClass:"material-design-icon__svg",attrs:{fill:w.fillColor,width:w.size,height:w.size,viewBox:"0 0 24 24"}},[I("path",{attrs:{d:"M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z"}},[w.title?I("title",[w._v(w._s(w.title))]):w._e()])])])},Qe=[],et=(0,H.a)(_e,Re,Qe,!1,null,null);const pt=et.exports,ot={name:"FilePreview"},Rt=(0,M.pM)({...ot,props:{node:null,cropImagePreviews:{type:Boolean}},setup(q){const w=q,I=(0,M.KR)(Je),{previewURL:x,previewLoaded:D}=me((0,M.lW)(w,"node"),(0,M.EW)(()=>({cropPreview:w.cropImagePreviews}))),ee=(0,M.EW)(()=>w.node.type===oe.pt.File);return{__sfc:!0,fileListIconStyles:I,props:w,previewURL:x,previewLoaded:D,isFile:ee,IconFile:be,IconFolder:pt}}});var bt=function(){var w=this,I=w._self._c,x=w._self._setupProxy;return I("div",{class:x.fileListIconStyles["file-picker__file-icon"],style:x.previewLoaded?{backgroundImage:"url(".concat(x.previewURL,")")}:void 0},[x.previewLoaded?w._e():[x.isFile?I(x.IconFile,{attrs:{size:20}}):I(x.IconFolder,{attrs:{size:20}})]],2)},ir=[],Zt=(0,H.a)(Rt,bt,ir,!1,null,null);const or=Zt.exports,He=(0,M.pM)({__name:"FileListRow",props:{allowPickDirectory:{type:Boolean},selected:{type:Boolean},showCheckbox:{type:Boolean},canPick:{type:Boolean},node:null,cropImagePreviews:{type:Boolean}},emits:["update:selected","enter-directory"],setup(q,{emit:w}){const I=q,x=(0,M.EW)(()=>{var $e;return(($e=I.node.attributes)==null?void 0:$e.displayName)||I.node.basename.slice(0,I.node.extension?-I.node.extension.length:void 0)}),D=(0,M.EW)(()=>I.node.extension),ee=(0,M.EW)(()=>I.node.type===oe.pt.Folder),ve=(0,M.EW)(()=>I.canPick&&(I.allowPickDirectory||!ee.value));function xe(){w("update:selected",!I.selected)}function Te(){ee.value?w("enter-directory",I.node):xe()}function Ae($e){$e.key==="Enter"&&Te()}return{__sfc:!0,props:I,emit:w,displayName:x,fileExtension:D,isDirectory:ee,isPickable:ve,toggleSelected:xe,handleClick:Te,handleKeyDown:Ae,formatFileSize:oe.v7,NcCheckboxRadioSwitch:G.AO,NcDateTime:G.lT,t:H.t,FilePreview:or}}});var qe=function(){var w=this,I=w._self._c,x=w._self._setupProxy;return I("tr",w._g({class:["file-picker__row",{"file-picker__row--selected":w.selected&&!w.showCheckbox}],attrs:{tabindex:w.showCheckbox&&!x.isDirectory?void 0:0,"aria-selected":x.isPickable?w.selected:void 0,"data-filename":w.node.basename,"data-testid":"file-list-row"}},{click:x.handleClick,...!w.showCheckbox||x.isDirectory?{keydown:x.handleKeyDown}:{}}),[w.showCheckbox?I("td",{staticClass:"row-checkbox",on:{click:function(D){return D.stopPropagation(),(()=>{}).apply(null,arguments)}}},[I(x.NcCheckboxRadioSwitch,{attrs:{"aria-label":x.t("Select the row for {nodename}",{nodename:x.displayName}),checked:w.selected,disabled:!x.isPickable,"data-testid":"row-checkbox"},on:{"update:checked":x.toggleSelected}})],1):w._e(),I("td",{staticClass:"row-name"},[I("div",{staticClass:"file-picker__name-container",attrs:{"data-testid":"row-name"}},[I(x.FilePreview,{attrs:{node:w.node,"crop-image-previews":w.cropImagePreviews}}),I("div",{staticClass:"file-picker__file-name",attrs:{title:x.displayName},domProps:{textContent:w._s(x.displayName)}}),I("div",{staticClass:"file-picker__file-extension",domProps:{textContent:w._s(x.fileExtension)}})],1)]),I("td",{staticClass:"row-size"},[w._v(" "+w._s(x.formatFileSize(w.node.size||0))+" ")]),I("td",{staticClass:"row-modified"},[I(x.NcDateTime,{attrs:{timestamp:w.node.mtime,"ignore-seconds":!0}})],1)])},Dt=[],Pr=(0,H.a)(He,qe,Dt,!1,null,"cb12dccb");const Yt=Pr.exports,Ir=(0,M.pM)({__name:"FileList",props:{currentView:null,multiselect:{type:Boolean},allowPickDirectory:{type:Boolean},loading:{type:Boolean},files:null,selectedFiles:null,path:null},emits:["update:path","update:selectedFiles"],setup(q,{emit:w}){const I=q,x=(0,M.KR)(),{currentConfig:D}=it(I.currentView),ee=(0,M.EW)(()=>{var Fe;return(Fe=x.value)!=null?Fe:D.value}),ve=(0,M.EW)(()=>ee.value.sortBy==="basename"?ee.value.order==="none"?void 0:ee.value.order:void 0),xe=(0,M.EW)(()=>ee.value.sortBy==="size"?ee.value.order==="none"?void 0:ee.value.order:void 0),Te=(0,M.EW)(()=>ee.value.sortBy==="mtime"?ee.value.order==="none"?void 0:ee.value.order:void 0),Ae=Fe=>{ee.value.sortBy===Fe?ee.value.order==="ascending"?x.value={sortBy:ee.value.sortBy,order:"descending"}:x.value={sortBy:ee.value.sortBy,order:"ascending"}:x.value={sortBy:Fe,order:"ascending"}},{sortFavoritesFirst:$e,cropImagePreviews:ke}=Ve(),ut=(0,M.EW)(()=>(0,oe.ur)(I.files,{sortFoldersFirst:!0,sortFavoritesFirst:$e.value,sortingOrder:ee.value.order==="descending"?"desc":"asc",sortingMode:ee.value.sortBy})),Ne=(0,M.EW)(()=>I.files.filter(Fe=>I.allowPickDirectory||Fe.type!==oe.pt.Folder)),Ge=(0,M.EW)(()=>!I.loading&&I.selectedFiles.length>0&&I.selectedFiles.length>=Ne.value.length);function tt(){I.selectedFiles.length<Ne.value.length?w("update:selectedFiles",Ne.value):w("update:selectedFiles",[])}function _t(Fe){I.selectedFiles.includes(Fe)?w("update:selectedFiles",I.selectedFiles.filter(ct=>ct.path!==Fe.path)):I.multiselect?w("update:selectedFiles",[...I.selectedFiles,Fe]):w("update:selectedFiles",[Fe])}function Ue(Fe){w("update:path",Fe.path)}const We=(0,M.KR)(4),vt=(0,M.KR)();{const Fe=()=>(0,M.dY)(()=>{var ct,Ot,Lt,kt,Ie;const Be=((Ot=(ct=vt.value)==null?void 0:ct.parentElement)==null?void 0:Ot.children)||[];let wt=((kt=(Lt=vt.value)==null?void 0:Lt.parentElement)==null?void 0:kt.clientHeight)||450;for(let Nt=0;Nt<Be.length;Nt++)(Ie=vt.value)!=null&&Ie.isSameNode(Be[Nt])||(wt-=Be[Nt].clientHeight);We.value=Math.max(1,Math.floor((wt-50)/50))});(0,M.sV)(()=>{window.addEventListener("resize",Fe),Fe()}),(0,M.hi)(()=>{window.removeEventListener("resize",Fe)})}return{__sfc:!0,props:I,emit:w,customSortingConfig:x,filesAppSorting:D,sortingConfig:ee,sortByName:ve,sortBySize:xe,sortByModified:Te,toggleSorting:Ae,sortFavoritesFirst:$e,cropImagePreviews:ke,sortedFiles:ut,selectableFiles:Ne,allSelected:Ge,onSelectAll:tt,onNodeSelected:_t,onChangeDirectory:Ue,skeletonNumber:We,fileContainer:vt,NcButton:G.x1,NcCheckboxRadioSwitch:G.AO,t:H.t,IconSortAscending:pe,IconSortDescending:ze,LoadingTableRow:B,FileListRow:Yt}}});var zt=function(){var w=this,I=w._self._c,x=w._self._setupProxy;return I("div",{ref:"fileContainer",staticClass:"file-picker__files"},[I("table",[I("thead",[I("tr",[w.multiselect?I("th",{staticClass:"row-checkbox"},[I("span",{staticClass:"hidden-visually"},[w._v(" "+w._s(x.t("Select entry"))+" ")]),w.multiselect?I(x.NcCheckboxRadioSwitch,{attrs:{"aria-label":x.t("Select all entries"),checked:x.allSelected,"data-testid":"select-all-checkbox"},on:{"update:checked":x.onSelectAll}}):w._e()],1):w._e(),I("th",{staticClass:"row-name",attrs:{"aria-sort":x.sortByName}},[I("div",{staticClass:"header-wrapper"},[I("span",{staticClass:"file-picker__header-preview"}),I(x.NcButton,{attrs:{wide:!0,type:"tertiary","data-test":"file-picker_sort-name"},on:{click:function(D){return x.toggleSorting("basename")}},scopedSlots:w._u([{key:"icon",fn:function(){return[x.sortByName==="ascending"?I(x.IconSortAscending,{attrs:{size:20}}):x.sortByName==="descending"?I(x.IconSortDescending,{attrs:{size:20}}):I("span",{staticStyle:{width:"44px"}})]},proxy:!0}])},[w._v(" "+w._s(x.t("Name"))+" ")])],1)]),I("th",{staticClass:"row-size",attrs:{"aria-sort":x.sortBySize}},[I(x.NcButton,{attrs:{wide:!0,type:"tertiary"},on:{click:function(D){return x.toggleSorting("size")}},scopedSlots:w._u([{key:"icon",fn:function(){return[x.sortBySize==="ascending"?I(x.IconSortAscending,{attrs:{size:20}}):x.sortBySize==="descending"?I(x.IconSortDescending,{attrs:{size:20}}):I("span",{staticStyle:{width:"44px"}})]},proxy:!0}])},[w._v(" "+w._s(x.t("Size"))+" ")])],1),I("th",{staticClass:"row-modified",attrs:{"aria-sort":x.sortByModified}},[I(x.NcButton,{attrs:{wide:!0,type:"tertiary"},on:{click:function(D){return x.toggleSorting("mtime")}},scopedSlots:w._u([{key:"icon",fn:function(){return[x.sortByModified==="ascending"?I(x.IconSortAscending,{attrs:{size:20}}):x.sortByModified==="descending"?I(x.IconSortDescending,{attrs:{size:20}}):I("span",{staticStyle:{width:"44px"}})]},proxy:!0}])},[w._v(" "+w._s(x.t("Modified"))+" ")])],1)])]),I("tbody",[w.loading?w._l(x.skeletonNumber,function(D){return I(x.LoadingTableRow,{key:D,attrs:{"show-checkbox":w.multiselect}})}):w._l(x.sortedFiles,function(D){return I(x.FileListRow,{key:D.fileid||D.path,attrs:{"allow-pick-directory":w.allowPickDirectory,"show-checkbox":w.multiselect,"can-pick":w.multiselect||w.selectedFiles.length===0||w.selectedFiles.includes(D),selected:w.selectedFiles.includes(D),node:D,"crop-image-previews":x.cropImagePreviews},on:{"update:selected":function(ee){return x.onNodeSelected(D)},"enter-directory":x.onChangeDirectory}})})],2)])])},Or=[],Tr=(0,H.a)(Ir,zt,Or,!1,null,"006fdbd0");const Gt=Tr.exports,qr={name:"HomeIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var Jt=function(){var w=this,I=w._self._c;return I("span",w._b({staticClass:"material-design-icon home-icon",attrs:{"aria-hidden":w.title?null:"true","aria-label":w.title,role:"img"},on:{click:function(x){return w.$emit("click",x)}}},"span",w.$attrs,!1),[I("svg",{staticClass:"material-design-icon__svg",attrs:{fill:w.fillColor,width:w.size,height:w.size,viewBox:"0 0 24 24"}},[I("path",{attrs:{d:"M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z"}},[w.title?I("title",[w._v(w._s(w.title))]):w._e()])])])},Ft=[],ar=(0,H.a)(qr,Jt,Ft,!1,null,null);const Sr=ar.exports,dr={name:"PlusIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var Qt=function(){var w=this,I=w._self._c;return I("span",w._b({staticClass:"material-design-icon plus-icon",attrs:{"aria-hidden":w.title?null:"true","aria-label":w.title,role:"img"},on:{click:function(x){return w.$emit("click",x)}}},"span",w.$attrs,!1),[I("svg",{staticClass:"material-design-icon__svg",attrs:{fill:w.fillColor,width:w.size,height:w.size,viewBox:"0 0 24 24"}},[I("path",{attrs:{d:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"}},[w.title?I("title",[w._v(w._s(w.title))]):w._e()])])])},lr=[],hr=(0,H.a)(dr,Qt,lr,!1,null,null);const qt=hr.exports,st=(0,M.pM)({__name:"FilePickerBreadcrumbs",props:{path:null,showMenu:{type:Boolean}},emits:["update:path","create-node"],setup(q,{emit:w}){const I=q,x=(0,M.KR)(!1),D=(0,M.KR)(""),ee=(0,M.KR)();function ve(){var Ae,$e,ke,ut;const Ne=D.value.trim(),Ge=($e=(Ae=ee.value)==null?void 0:Ae.$el)==null?void 0:$e.querySelector("input");let tt="";return Ne.length===0?tt=(0,H.t)("Folder name cannot be empty."):Ne.includes("/")?tt=(0,H.t)('"/" is not allowed inside a folder name.'):["..","."].includes(Ne)?tt=(0,H.t)('"{name}" is an invalid folder name.',{name:Ne}):(ke=window.OC.config)!=null&&ke.blacklist_files_regex&&Ne.match((ut=window.OC.config)==null?void 0:ut.blacklist_files_regex)&&(tt=(0,H.t)('"{name}" is not an allowed folder name',{name:Ne})),Ge&&Ge.setCustomValidity(tt),tt===""}const xe=function(){const Ae=D.value.trim();ve()&&(x.value=!1,w("create-node",Ae),D.value="")},Te=(0,M.EW)(()=>I.path.split("/").filter(Ae=>Ae!=="").map((Ae,$e,ke)=>({name:Ae,path:"/"+ke.slice(0,$e+1).join("/")})));return{__sfc:!0,props:I,emit:w,actionsOpen:x,newNodeName:D,nameInput:ee,validateInput:ve,onSubmit:xe,pathElements:Te,IconFolder:pt,IconHome:Sr,IconPlus:qt,NcActions:G.B6,NcActionInput:G.Az,NcBreadcrumbs:G.Qz,NcBreadcrumb:G.R1,t:H.t}}});var $r=function(){var w=this,I=w._self._c,x=w._self._setupProxy;return I(x.NcBreadcrumbs,{staticClass:"file-picker__breadcrumbs",scopedSlots:w._u([{key:"default",fn:function(){return[I(x.NcBreadcrumb,{attrs:{name:x.t("All files"),title:x.t("Home")},on:{click:function(D){return x.emit("update:path","/")}},scopedSlots:w._u([{key:"icon",fn:function(){return[I(x.IconHome,{attrs:{size:20}})]},proxy:!0}])}),w._l(x.pathElements,function(D){return I(x.NcBreadcrumb,{key:D.path,attrs:{name:D.name,title:D.path},on:{click:function(ee){return x.emit("update:path",D.path)}}})})]},proxy:!0},w.showMenu?{key:"actions",fn:function(){return[I(x.NcActions,{attrs:{"aria-label":x.t("Create directory"),"force-menu":!0,"force-name":!0,"menu-name":x.t("New"),open:x.actionsOpen,type:"secondary"},on:{"update:open":function(D){x.actionsOpen=D},close:function(D){x.newNodeName=""}},scopedSlots:w._u([{key:"icon",fn:function(){return[I(x.IconPlus,{attrs:{size:20}})]},proxy:!0}],null,!1,2971667417)},[I(x.NcActionInput,{ref:"nameInput",attrs:{value:x.newNodeName,label:x.t("New folder"),placeholder:x.t("New folder name")},on:{"update:value":function(D){x.newNodeName=D},submit:x.onSubmit,input:x.validateInput},scopedSlots:w._u([{key:"icon",fn:function(){return[I(x.IconFolder,{attrs:{size:20}})]},proxy:!0}],null,!1,1614167509)})],1)]},proxy:!0}:null],null,!0)})},pr=[],Lr=(0,H.a)(st,$r,pr,!1,null,"b357227a");const Rr=Lr.exports,De={name:"CloseIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var Fr=function(){var w=this,I=w._self._c;return I("span",w._b({staticClass:"material-design-icon close-icon",attrs:{"aria-hidden":w.title?null:"true","aria-label":w.title,role:"img"},on:{click:function(x){return w.$emit("click",x)}}},"span",w.$attrs,!1),[I("svg",{staticClass:"material-design-icon__svg",attrs:{fill:w.fillColor,width:w.size,height:w.size,viewBox:"0 0 24 24"}},[I("path",{attrs:{d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}},[w.title?I("title",[w._v(w._s(w.title))]):w._e()])])])},kr=[],at=(0,H.a)(De,Fr,kr,!1,null,null);const Wt=at.exports,ur={name:"MagnifyIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var gr=function(){var w=this,I=w._self._c;return I("span",w._b({staticClass:"material-design-icon magnify-icon",attrs:{"aria-hidden":w.title?null:"true","aria-label":w.title,role:"img"},on:{click:function(x){return w.$emit("click",x)}}},"span",w.$attrs,!1),[I("svg",{staticClass:"material-design-icon__svg",attrs:{fill:w.fillColor,width:w.size,height:w.size,viewBox:"0 0 24 24"}},[I("path",{attrs:{d:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"}},[w.title?I("title",[w._v(w._s(w.title))]):w._e()])])])},Br=[],Mr=(0,H.a)(ur,gr,Br,!1,null,null);const jr=Mr.exports,Vr=q=>{const w=[{id:"files",label:(0,H.t)("All files"),icon:re.fEr},{id:"recent",label:(0,H.t)("Recent"),icon:re.NZC},{id:"favorites",label:(0,H.t)("Favorites"),icon:re.ZL5}],I=q.value?w.filter(({id:x})=>x==="files"):w;return{allViews:w,availableViews:I}},Ur=(0,M.pM)({__name:"FilePickerNavigation",props:{currentView:null,filterString:null,isCollapsed:{type:Boolean},disabledNavigation:{type:Boolean}},emits:["update:currentView","update:filterString"],setup(q,{emit:w}){const I=q,{availableViews:x}=Vr((0,M.KR)((0,ae.HW)()===null)),D=(0,M.EW)(()=>{var ve;return(ve=x.filter(xe=>xe.id===I.currentView)[0])!=null?ve:x[0]});return{__sfc:!0,props:I,emit:w,availableViews:x,currentViewObject:D,updateFilterValue:ve=>w("update:filterString",ve),IconClose:Wt,IconMagnify:jr,NcButton:G.x1,NcIconSvgWrapper:G.K1,NcSelect:G.EQ,NcTextField:G.v,Fragment:se.F,t:H.t}}});var Dr=function(){var w=this,I=w._self._c,x=w._self._setupProxy;return I(x.Fragment,[I(x.NcTextField,{staticClass:"file-picker__filter-input",attrs:{value:w.filterString,label:x.t("Filter file list"),"show-trailing-button":!!w.filterString},on:{"update:value":x.updateFilterValue,"trailing-button-click":function(D){return x.updateFilterValue("")}},scopedSlots:w._u([{key:"trailing-button-icon",fn:function(){return[I(x.IconClose,{attrs:{size:16}})]},proxy:!0}])},[I(x.IconMagnify,{attrs:{size:16}})],1),x.availableViews.length>1&&!w.disabledNavigation?[w.isCollapsed?I(x.NcSelect,{attrs:{"aria-label":x.t("Current view selector"),clearable:!1,searchable:!1,options:x.availableViews,value:x.currentViewObject},on:{input:D=>x.emit("update:currentView",D.id)}}):I("ul",{staticClass:"file-picker__side"},w._l(x.availableViews,function(D){return I("li",{key:D.id},[I(x.NcButton,{attrs:{type:w.currentView===D.id?"primary":"tertiary",wide:!0},on:{click:function(ee){return w.$emit("update:currentView",D.id)}},scopedSlots:w._u([{key:"icon",fn:function(){return[I(x.NcIconSvgWrapper,{attrs:{path:D.icon,size:20}})]},proxy:!0}],null,!0)},[w._v(" "+w._s(D.label)+" ")])],1)}),0)]:w._e()],2)},zr=[],mr=(0,H.a)(Ur,Dr,zr,!1,null,"b42054b8");const vr=mr.exports;function yr(q){const w=new AbortController,I=Math.round(Date.now()/1e3)-60*60*24*14;return new ue.CancelablePromise(async(x,D,ee)=>{ee(()=>w.abort());try{const{data:ve}=await q.search("/",{signal:w.signal,details:!0,data:(0,oe.R3)(I)}),xe=ve.results.map(Te=>(0,oe.Al)(Te));x(xe)}catch(ve){D(ve)}})}function gt(q,w){const I=new AbortController;return new ue.CancelablePromise(async(x,D,ee)=>{ee(()=>I.abort());try{const xe=(await q.getDirectoryContents((0,Oe.join)(oe.lJ,w),{signal:I.signal,details:!0,includeSelf:!0,data:(0,oe.VL)()})).data.map(Te=>(0,oe.Al)(Te));x({contents:xe.filter(({path:Te})=>Te!==w),folder:xe.find(({path:Te})=>Te===w)})}catch(ve){D(ve)}})}async function mt(q,w){const{data:I}=await q.stat((0,Oe.join)(oe.lJ,w),{details:!0,data:(0,oe.VL)()});return(0,oe.Al)(I)}const br=function(q,w){const I=(0,oe.H4)(),x=(0,M.IJ)([]),D=(0,M.IJ)(null),ee=(0,M.KR)(!0),ve=(0,M.KR)(null);async function xe(Ae){const $e=(0,Oe.join)(w.value,Ae);await I.createDirectory((0,Oe.join)(oe.lJ,$e));const ke=await mt(I,$e);return x.value=[...x.value,ke],ke}async function Te(){ve.value&&ve.value.cancel(),ee.value=!0,q.value==="favorites"?ve.value=(0,oe.Q$)(I,w.value):q.value==="recent"?ve.value=yr(I):ve.value=gt(I,w.value);const Ae=await ve.value;"folder"in Ae?(D.value=Ae.folder,x.value=Ae.contents):(D.value=null,x.value=Ae),ve.value=null,ee.value=!1}return(0,M.wB)([q,w],()=>Te()),(0,M.sV)(()=>Te()),{isLoading:ee,files:x,folder:D,loadFiles:Te,createDirectory:xe}},wr=function(q){const w=(0,M.EW)(()=>q.value.map(x=>x.split("/")));return{isSupportedMimeType:x=>{const D=x.split("/");return w.value.some(([ee,ve])=>(D[0]===ee||ee==="*")&&(D[1]===ve||ve==="*"))}}},er={name:"FilePicker"},cr=(0,M.pM)({...er,props:{buttons:null,name:null,allowPickDirectory:{type:Boolean,default:!1},disabledNavigation:{type:Boolean,default:!1},container:{default:"body"},filterFn:{default:void 0},mimetypeFilter:{default:()=>[]},multiselect:{type:Boolean,default:!0},path:{default:void 0}},emits:["close"],setup(q,{emit:w}){const I=q,x=(0,M.KR)(!0),D=(0,M.EW)(()=>{const Ie=Ae.value.length===0&&I.allowPickDirectory&&_t.value?[_t.value]:Ae.value;return(typeof I.buttons=="function"?I.buttons(Ie,ut.value,xe.value):I.buttons).map(wt=>({...wt,disabled:wt.disabled||Ue.value,callback:()=>{ee=!0,ve(wt.callback,Ie)}}))});let ee=!1;const ve=async(Ie,Be)=>{Ie(Be),w("close",Be),ee=!1},xe=(0,M.KR)("files"),Te=(0,M.EW)(()=>xe.value==="favorites"?(0,H.t)("Favorites"):xe.value==="recent"?(0,H.t)("Recent"):""),Ae=(0,M.IJ)([]),$e=(0,M.KR)(window?.sessionStorage.getItem("NC.FilePicker.LastPath")||"/"),ke=(0,M.KR)("");(0,M.wB)([ke],()=>{I.path===void 0&&ke.value&&window.sessionStorage.setItem("NC.FilePicker.LastPath",ke.value),Ae.value=[]});const ut=(0,M.EW)({get:()=>xe.value==="files"?ke.value||I.path||$e.value:"/",set:Ie=>{ke.value=Ie}}),Ne=(0,M.KR)(""),{isSupportedMimeType:Ge}=wr((0,M.lW)(I,"mimetypeFilter")),{files:tt,folder:_t,isLoading:Ue,loadFiles:We,createDirectory:vt}=br(xe,ut);(0,M.sV)(()=>We());const{showHiddenFiles:Fe}=Ve(),ct=(0,M.EW)(()=>{let Ie=tt.value;return Fe.value||(Ie=Ie.filter(Be=>!Be.basename.startsWith("."))),I.mimetypeFilter.length>0&&(Ie=Ie.filter(Be=>Be.type==="folder"||Be.mime&&Ge(Be.mime))),Ne.value&&(Ie=Ie.filter(Be=>Be.basename.toLowerCase().includes(Ne.value.toLowerCase()))),I.filterFn&&(Ie=Ie.filter(Be=>I.filterFn(Be))),Ie}),Ot=(0,M.EW)(()=>xe.value==="files"?(0,H.t)("Upload some content or sync with your devices!"):xe.value==="recent"?(0,H.t)("Files and folders you recently modified will show up here."):(0,H.t)("Files and folders you mark as favorite will show up here."));return{__sfc:!0,props:I,emit:w,isOpen:x,dialogButtons:D,isHandlingCallback:ee,handleButtonClick:ve,currentView:xe,viewHeadline:Te,selectedFiles:Ae,savedPath:$e,navigatedPath:ke,currentPath:ut,filterString:Ne,isSupportedMimeType:Ge,files:tt,currentFolder:_t,isLoading:Ue,loadFiles:We,createDirectory:vt,showHiddenFiles:Fe,filteredFiles:ct,noFilesDescription:Ot,onCreateFolder:async Ie=>{try{const Be=await vt(Ie);ke.value=Be.path,(0,z.Ic)("files:node:created",tt.value.filter(wt=>wt.basename===Ie)[0])}catch(Be){console.warn("Could not create new folder",{name:Ie,error:Be}),(0,H.l)((0,H.t)("Could not create the new folder"))}},handleClose:Ie=>{!Ie&&!ee&&w("close")},IconFile:be,FileList:Gt,FilePickerBreadcrumbs:Rr,FilePickerNavigation:vr,NcDialog:G.i$,NcEmptyContent:G.yI,t:H.t}}});var Ke=function(){var w=this,I=w._self._c,x=w._self._setupProxy;return I(x.NcDialog,{attrs:{container:w.container,buttons:x.dialogButtons,name:w.name,size:"large","content-classes":"file-picker__content","dialog-classes":"file-picker","navigation-classes":"file-picker__navigation",open:x.isOpen},on:{"update:open":[function(D){x.isOpen=D},x.handleClose]},scopedSlots:w._u([{key:"navigation",fn:function({isCollapsed:D}){return[I(x.FilePickerNavigation,{attrs:{"is-collapsed":D,"current-view":x.currentView,"filter-string":x.filterString,"disabled-navigation":w.disabledNavigation},on:{"update:currentView":function(ee){x.currentView=ee},"update:current-view":function(ee){x.currentView=ee},"update:filterString":function(ee){x.filterString=ee},"update:filter-string":function(ee){x.filterString=ee}}})]}}])},[I("div",{staticClass:"file-picker__main"},[x.currentView==="files"?I(x.FilePickerBreadcrumbs,{attrs:{path:x.currentPath,"show-menu":w.allowPickDirectory},on:{"update:path":function(D){x.currentPath=D},"create-node":x.onCreateFolder}}):I("div",{staticClass:"file-picker__view"},[I("h3",[w._v(w._s(x.viewHeadline))])]),x.isLoading||x.filteredFiles.length>0?I(x.FileList,{attrs:{"allow-pick-directory":w.allowPickDirectory,"current-view":x.currentView,files:x.filteredFiles,multiselect:w.multiselect,loading:x.isLoading,path:x.currentPath,"selected-files":x.selectedFiles,name:x.viewHeadline},on:{"update:path":[function(D){x.currentPath=D},function(D){x.currentView="files"}],"update:selectedFiles":function(D){x.selectedFiles=D},"update:selected-files":function(D){x.selectedFiles=D}}}):x.filterString?I(x.NcEmptyContent,{attrs:{name:x.t("No matching files"),description:x.t("No files matching your filter were found.")},scopedSlots:w._u([{key:"icon",fn:function(){return[I(x.IconFile)]},proxy:!0}])}):I(x.NcEmptyContent,{attrs:{name:x.t("No files in here"),description:x.noFilesDescription},scopedSlots:w._u([{key:"icon",fn:function(){return[I(x.IconFile)]},proxy:!0}])})],1)])},$t=[],Gr=(0,H.a)(cr,Ke,$t,!1,null,"20b719ba");const Er=Gr.exports},21379:(fe,Z,L)=>{"use strict";L.d(Z,{pt:()=>Je,vd:()=>V,di:()=>ot,nF:()=>pt,a7:()=>z,aX:()=>we,H4:()=>Re,VL:()=>ht,R3:()=>Ut,PY:()=>_e,Al:()=>et,lJ:()=>K,v7:()=>He,Q$:()=>Qe,m1:()=>$,E6:()=>ir,ur:()=>Ir,KT:()=>Rt});var M=L(35947),H=L(21777),oe=L(57975),G=L(71225),J=L(63814),X=L(36117),te=L(44719),Y=L(82680);if(!/^((admin\-setting|collection|map)s|deck|flow|search)$/.test(L.j))var ie=L(87485);var le=L(53334),ae=class extends EventTarget{dispatchTypedEvent(e,t){return super.dispatchEvent(t)}},se=L(65606);const re=(0,M.YK)().setApp("@nextcloud/files").detectUser().build();var z=(e=>(e[e.UploadFromDevice=0]="UploadFromDevice",e[e.CreateNew=1]="CreateNew",e[e.Other=2]="Other",e))(z||{});class ue{constructor(){Ce(this,"_entries",[])}registerEntry(t){this.validateEntry(t),t.category=t.category??1,this._entries.push(t)}unregisterEntry(t){const o=typeof t=="string"?this.getEntryIndex(t):this.getEntryIndex(t.id);if(o===-1){re.warn("Entry not found, nothing removed",{entry:t,entries:this.getEntries()});return}this._entries.splice(o,1)}getEntries(t){return t?this._entries.filter(o=>typeof o.enabled=="function"?o.enabled(t):!0):this._entries}getEntryIndex(t){return this._entries.findIndex(o=>o.id===t)}validateEntry(t){if(!t.id||!t.displayName||!(t.iconSvgInline||t.iconClass)||!t.handler)throw new Error("Invalid entry");if(typeof t.id!="string"||typeof t.displayName!="string")throw new Error("Invalid id or displayName property");if(t.iconClass&&typeof t.iconClass!="string"||t.iconSvgInline&&typeof t.iconSvgInline!="string")throw new Error("Invalid icon provided");if(t.enabled!==void 0&&typeof t.enabled!="function")throw new Error("Invalid enabled property");if(typeof t.handler!="function")throw new Error("Invalid handler property");if("order"in t&&typeof t.order!="number")throw new Error("Invalid order property");if(this.getEntryIndex(t.id)!==-1)throw new Error("Duplicate entry")}}const Oe=function(){return typeof window._nc_newfilemenu>"u"&&(window._nc_newfilemenu=new ue,re.debug("NewFileMenu initialized")),window._nc_newfilemenu};var ge=(e=>(e.DEFAULT="default",e.HIDDEN="hidden",e))(ge||{});class Pe{constructor(t){Ce(this,"_action");this.validateAction(t),this._action=t}get id(){return this._action.id}get displayName(){return this._action.displayName}get title(){return this._action.title}get iconSvgInline(){return this._action.iconSvgInline}get enabled(){return this._action.enabled}get exec(){return this._action.exec}get execBatch(){return this._action.execBatch}get order(){return this._action.order}get parent(){return this._action.parent}get default(){return this._action.default}get inline(){return this._action.inline}get renderInline(){return this._action.renderInline}validateAction(t){if(!t.id||typeof t.id!="string")throw new Error("Invalid id");if(!t.displayName||typeof t.displayName!="function")throw new Error("Invalid displayName function");if("title"in t&&typeof t.title!="function")throw new Error("Invalid title function");if(!t.iconSvgInline||typeof t.iconSvgInline!="function")throw new Error("Invalid iconSvgInline function");if(!t.exec||typeof t.exec!="function")throw new Error("Invalid exec function");if("enabled"in t&&typeof t.enabled!="function")throw new Error("Invalid enabled function");if("execBatch"in t&&typeof t.execBatch!="function")throw new Error("Invalid execBatch function");if("order"in t&&typeof t.order!="number")throw new Error("Invalid order");if("parent"in t&&typeof t.parent!="string")throw new Error("Invalid parent");if(t.default&&!Object.values(ge).includes(t.default))throw new Error("Invalid default");if("inline"in t&&typeof t.inline!="function")throw new Error("Invalid inline function");if("renderInline"in t&&typeof t.renderInline!="function")throw new Error("Invalid renderInline function")}}const de=function(e){if(typeof window._nc_fileactions>"u"&&(window._nc_fileactions=[],re.debug("FileActions initialized")),window._nc_fileactions.find(t=>t.id===e.id)){re.error(`FileAction ${e.id} already registered`,{action:e});return}window._nc_fileactions.push(e)},Le=function(){return typeof window._nc_fileactions>"u"&&(window._nc_fileactions=[],re.debug("FileActions initialized")),window._nc_fileactions};class be{constructor(t){Ce(this,"_header");this.validateHeader(t),this._header=t}get id(){return this._header.id}get order(){return this._header.order}get enabled(){return this._header.enabled}get render(){return this._header.render}get updated(){return this._header.updated}validateHeader(t){if(!t.id||!t.render||!t.updated)throw new Error("Invalid header: id, render and updated are required");if(typeof t.id!="string")throw new Error("Invalid id property");if(t.enabled!==void 0&&typeof t.enabled!="function")throw new Error("Invalid enabled property");if(t.render&&typeof t.render!="function")throw new Error("Invalid render property");if(t.updated&&typeof t.updated!="function")throw new Error("Invalid updated property")}}const Ve=function(e){if(typeof window._nc_filelistheader>"u"&&(window._nc_filelistheader=[],re.debug("FileListHeaders initialized")),window._nc_filelistheader.find(t=>t.id===e.id)){re.error(`Header ${e.id} already registered`,{header:e});return}window._nc_filelistheader.push(e)},it=function(){return typeof window._nc_filelistheader>"u"&&(window._nc_filelistheader=[],re.debug("FileListHeaders initialized")),window._nc_filelistheader};var we=(e=>(e[e.NONE=0]="NONE",e[e.CREATE=4]="CREATE",e[e.READ=1]="READ",e[e.UPDATE=2]="UPDATE",e[e.DELETE=8]="DELETE",e[e.SHARE=16]="SHARE",e[e.ALL=31]="ALL",e))(we||{});const nt=["d:getcontentlength","d:getcontenttype","d:getetag","d:getlastmodified","d:creationdate","d:displayname","d:quota-available-bytes","d:resourcetype","nc:has-preview","nc:is-encrypted","nc:mount-type","oc:comments-unread","oc:favorite","oc:fileid","oc:owner-display-name","oc:owner-id","oc:permissions","oc:size"],dt={d:"DAV:",nc:"http://nextcloud.org/ns",oc:"http://owncloud.org/ns",ocs:"http://open-collaboration-services.org/ns"},Q=function(e,t={nc:"http://nextcloud.org/ns"}){typeof window._nc_dav_properties>"u"&&(window._nc_dav_properties=[...nt],window._nc_dav_namespaces={...dt});const o={...window._nc_dav_namespaces,...t};if(window._nc_dav_properties.find(p=>p===e))return re.warn(`${e} already registered`,{prop:e}),!1;if(e.startsWith("<")||e.split(":").length!==2)return re.error(`${e} is not valid. See example: 'oc:fileid'`,{prop:e}),!1;const f=e.split(":")[0];return o[f]?(window._nc_dav_properties.push(e),window._nc_dav_namespaces=o,!0):(re.error(`${e} namespace unknown`,{prop:e,namespaces:o}),!1)},pe=function(){return typeof window._nc_dav_properties>"u"&&(window._nc_dav_properties=[...nt]),window._nc_dav_properties.map(e=>`<${e} />`).join(" ")},Ye=function(){return typeof window._nc_dav_namespaces>"u"&&(window._nc_dav_namespaces={...dt}),Object.keys(window._nc_dav_namespaces).map(e=>`xmlns:${e}="${window._nc_dav_namespaces?.[e]}"`).join(" ")},ht=function(){return`<?xml version="1.0"?>
		<d:propfind ${Ye()}>
			<d:prop>
				${pe()}
			</d:prop>
		</d:propfind>`},sr=function(){return`<?xml version="1.0"?>
		<oc:filter-files ${Ye()}>
			<d:prop>
				${pe()}
			</d:prop>
			<oc:filter-rules>
				<oc:favorite>1</oc:favorite>
			</oc:filter-rules>
		</oc:filter-files>`},Ut=function(e){return`<?xml version="1.0" encoding="UTF-8"?>
<d:searchrequest ${Ye()}
	xmlns:ns="https://github.com/icewind1991/SearchDAV/ns">
	<d:basicsearch>
		<d:select>
			<d:prop>
				${pe()}
			</d:prop>
		</d:select>
		<d:from>
			<d:scope>
				<d:href>/files/${(0,H.HW)()?.uid}/</d:href>
				<d:depth>infinity</d:depth>
			</d:scope>
		</d:from>
		<d:where>
			<d:and>
				<d:or>
					<d:not>
						<d:eq>
							<d:prop>
								<d:getcontenttype/>
							</d:prop>
							<d:literal>httpd/unix-directory</d:literal>
						</d:eq>
					</d:not>
					<d:eq>
						<d:prop>
							<oc:size/>
						</d:prop>
						<d:literal>0</d:literal>
					</d:eq>
				</d:or>
				<d:gt>
					<d:prop>
						<d:getlastmodified/>
					</d:prop>
					<d:literal>${e}</d:literal>
				</d:gt>
			</d:and>
		</d:where>
		<d:orderby>
			<d:order>
				<d:prop>
					<d:getlastmodified/>
				</d:prop>
				<d:descending/>
			</d:order>
		</d:orderby>
		<d:limit>
			<d:nresults>100</d:nresults>
			<ns:firstresult>0</ns:firstresult>
		</d:limit>
	</d:basicsearch>
</d:searchrequest>`},ze=function(e=""){let t=we.NONE;return e&&((e.includes("C")||e.includes("K"))&&(t|=we.CREATE),e.includes("G")&&(t|=we.READ),(e.includes("W")||e.includes("N")||e.includes("V"))&&(t|=we.UPDATE),e.includes("D")&&(t|=we.DELETE),e.includes("R")&&(t|=we.SHARE)),t};var Je=(e=>(e.Folder="folder",e.File="file",e))(Je||{});const Pt=function(e,t){return e.match(t)!==null},It=(e,t)=>{if(e.id&&typeof e.id!="number")throw new Error("Invalid id type of value");if(!e.source)throw new Error("Missing mandatory source");try{new URL(e.source)}catch{throw new Error("Invalid source format, source must be a valid URL")}if(!e.source.startsWith("http"))throw new Error("Invalid source format, only http(s) is supported");if(e.displayname&&typeof e.displayname!="string")throw new Error("Invalid displayname type");if(e.mtime&&!(e.mtime instanceof Date))throw new Error("Invalid mtime type");if(e.crtime&&!(e.crtime instanceof Date))throw new Error("Invalid crtime type");if(!e.mime||typeof e.mime!="string"||!e.mime.match(/^[-\w.]+\/[-+\w.]+$/gi))throw new Error("Missing or invalid mandatory mime");if("size"in e&&typeof e.size!="number"&&e.size!==void 0)throw new Error("Invalid size type");if("permissions"in e&&e.permissions!==void 0&&!(typeof e.permissions=="number"&&e.permissions>=we.NONE&&e.permissions<=we.ALL))throw new Error("Invalid permissions");if(e.owner&&e.owner!==null&&typeof e.owner!="string")throw new Error("Invalid owner type");if(e.attributes&&typeof e.attributes!="object")throw new Error("Invalid attributes type");if(e.root&&typeof e.root!="string")throw new Error("Invalid root type");if(e.root&&!e.root.startsWith("/"))throw new Error("Root must start with a leading slash");if(e.root&&!e.source.includes(e.root))throw new Error("Root must be part of the source");if(e.root&&Pt(e.source,t)){const o=e.source.match(t)[0];if(!e.source.includes((0,oe.join)(o,e.root)))throw new Error("The root must be relative to the service. e.g /files/emma")}if(e.status&&!Object.values(St).includes(e.status))throw new Error("Status must be a valid NodeStatus")};var St=(e=>(e.NEW="new",e.FAILED="failed",e.LOADING="loading",e.LOCKED="locked",e))(St||{});class j{constructor(t,o){Ce(this,"_data");Ce(this,"_attributes");Ce(this,"_knownDavService",/(remote|public)\.php\/(web)?dav/i);Ce(this,"readonlyAttributes",Object.entries(Object.getOwnPropertyDescriptors(j.prototype)).filter(t=>typeof t[1].get=="function"&&t[0]!=="__proto__").map(t=>t[0]));Ce(this,"handler",{set:(t,o,f)=>this.readonlyAttributes.includes(o)?!1:Reflect.set(t,o,f),deleteProperty:(t,o)=>this.readonlyAttributes.includes(o)?!1:Reflect.deleteProperty(t,o),get:(t,o,f)=>this.readonlyAttributes.includes(o)?(re.warn(`Accessing "Node.attributes.${o}" is deprecated, access it directly on the Node instance.`),Reflect.get(this,o)):Reflect.get(t,o,f)});It(t,o||this._knownDavService),this._data={displayname:t.attributes?.displayname,...t,attributes:{}},this._attributes=new Proxy(this._data.attributes,this.handler),this.update(t.attributes??{}),o&&(this._knownDavService=o)}get source(){return this._data.source.replace(/\/$/i,"")}get encodedSource(){const{origin:t}=new URL(this.source);return t+(0,G.O0)(this.source.slice(t.length))}get basename(){return(0,oe.basename)(this.source)}get displayname(){return this._data.displayname||this.basename}set displayname(t){this._data.displayname=t}get extension(){return(0,oe.extname)(this.source)}get dirname(){if(this.root){let o=this.source;this.isDavRessource&&(o=o.split(this._knownDavService).pop());const f=o.indexOf(this.root),p=this.root.replace(/\/$/,"");return(0,oe.dirname)(o.slice(f+p.length)||"/")}const t=new URL(this.source);return(0,oe.dirname)(t.pathname)}get mime(){return this._data.mime}get mtime(){return this._data.mtime}set mtime(t){this._data.mtime=t}get crtime(){return this._data.crtime}get size(){return this._data.size}set size(t){this.updateMtime(),this._data.size=t}get attributes(){return this._attributes}get permissions(){return this.owner===null&&!this.isDavRessource?we.READ:this._data.permissions!==void 0?this._data.permissions:we.NONE}set permissions(t){this.updateMtime(),this._data.permissions=t}get owner(){return this.isDavRessource?this._data.owner:null}get isDavRessource(){return Pt(this.source,this._knownDavService)}get root(){return this._data.root?this._data.root.replace(/^(.+)\/$/,"$1"):this.isDavRessource&&(0,oe.dirname)(this.source).split(this._knownDavService).pop()||null}get path(){if(this.root){let t=this.source;this.isDavRessource&&(t=t.split(this._knownDavService).pop());const o=t.indexOf(this.root),f=this.root.replace(/\/$/,"");return t.slice(o+f.length)||"/"}return(this.dirname+"/"+this.basename).replace(/\/\//g,"/")}get fileid(){return this._data?.id}get status(){return this._data?.status}set status(t){this._data.status=t}move(t){It({...this._data,source:t},this._knownDavService);const o=this.basename;this._data.source=t,this.displayname===o&&this.basename!==o&&(this.displayname=this.basename),this.updateMtime()}rename(t){if(t.includes("/"))throw new Error("Invalid basename");this.move((0,oe.dirname)(this.source)+"/"+t)}updateMtime(){this._data.mtime&&(this._data.mtime=new Date)}update(t){for(const[o,f]of Object.entries(t))try{f===void 0?delete this.attributes[o]:this.attributes[o]=f}catch(p){if(p instanceof TypeError)continue;throw p}}}class B extends j{get type(){return Je.File}}class V extends j{constructor(t){super({...t,mime:"httpd/unix-directory"})}get type(){return Je.Folder}get extension(){return null}get mime(){return"httpd/unix-directory"}}function k(){return(0,Y.f)()?`/files/${(0,Y.G)()}`:`/files/${(0,H.HW)()?.uid}`}const K=k();function me(){const e=(0,J.dC)("dav");return(0,Y.f)()?e.replace("remote.php","public.php"):e}const _e=me(),Re=function(e=_e,t={}){const o=(0,te.UU)(e,{headers:t});function f(_){o.setHeaders({...t,"X-Requested-With":"XMLHttpRequest",requesttoken:_??""})}return(0,H.zo)(f),f((0,H.do)()),(0,te.Gu)().patch("fetch",(_,O)=>{const T=O.headers;return T?.method&&(O.method=T.method,delete T.method),fetch(_,O)}),o},Qe=(e,t="/",o=K)=>{const f=new AbortController;return new X.CancelablePromise(async(p,_,O)=>{O(()=>f.abort());try{const m=(await e.getDirectoryContents(`${o}${t}`,{signal:f.signal,details:!0,data:sr(),headers:{method:"REPORT"},includeSelf:!0})).data.filter(S=>S.filename!==t).map(S=>et(S,o));p(m)}catch(T){_(T)}})},et=function(e,t=K,o=_e){let f=(0,H.HW)()?.uid;if((0,Y.f)())f=f??"anonymous";else if(!f)throw new Error("No user id found");const p=e.props,_=ze(p?.permissions),O=String(p?.["owner-id"]||f),T=p.fileid||0,m={id:T,source:`${o}${e.filename}`,mtime:new Date(Date.parse(e.lastmod)),mime:e.mime||"application/octet-stream",displayname:p.displayname!==void 0?String(p.displayname):void 0,size:p?.size||Number.parseInt(p.getcontentlength||"0"),status:T<0?St.FAILED:void 0,permissions:_,owner:O,root:t,attributes:{...e,...p,hasPreview:p?.["has-preview"]}};return delete m.attributes?.props,e.type==="file"?new B(m):new V(m)};var pt=(e=>(e.ReservedName="reserved name",e.Character="character",e.Extension="extension",e))(pt||{});class ot extends Error{constructor(t){super(`Invalid ${t.reason} '${t.segment}' in filename '${t.filename}'`,{cause:t})}get filename(){return this.cause.filename}get reason(){return this.cause.reason}get segment(){return this.cause.segment}}function Rt(e){const t=(0,ie.F)().files,o=t.forbidden_filename_characters??window._oc_config?.forbidden_filenames_characters??["/","\\"];for(const m of o)if(e.includes(m))throw new ot({segment:m,reason:"character",filename:e});if(e=e.toLocaleLowerCase(),(t.forbidden_filenames??[".htaccess"]).includes(e))throw new ot({filename:e,segment:e,reason:"reserved name"});const p=e.indexOf(".",1),_=e.substring(0,p===-1?void 0:p);if((t.forbidden_filename_basenames??[]).includes(_))throw new ot({filename:e,segment:_,reason:"reserved name"});const T=t.forbidden_filename_extensions??[".part",".filepart"];for(const m of T)if(e.length>m.length&&e.endsWith(m))throw new ot({segment:m,reason:"extension",filename:e})}function bt(e){try{return Rt(e),!0}catch(t){if(t instanceof ot)return!1;throw t}}function ir(e,t,o){const f={suffix:O=>`(${O})`,ignoreFileExtension:!1,...o};let p=e,_=1;for(;t.includes(p);){const O=f.ignoreFileExtension?"":(0,oe.extname)(e);p=`${(0,oe.basename)(e,O)} ${f.suffix(_++)}${O}`}return p}const Zt=["B","KB","MB","GB","TB","PB"],or=["B","KiB","MiB","GiB","TiB","PiB"];function He(e,t=!1,o=!1,f=!1){o=o&&!f,typeof e=="string"&&(e=Number(e));let p=e>0?Math.floor(Math.log(e)/Math.log(f?1e3:1024)):0;p=Math.min((o?or.length:Zt.length)-1,p);const _=o?or[p]:Zt[p];let O=(e/Math.pow(f?1e3:1024,p)).toFixed(1);return t===!0&&p===0?(O!=="0.0"?"< 1 ":"0 ")+(o?or[1]:Zt[1]):(p<2?O=parseFloat(O).toFixed(0):O=parseFloat(O).toLocaleString((0,le.lO)()),O+" "+_)}function qe(e,t=!1){try{e=`${e}`.toLocaleLowerCase().replaceAll(/\s+/g,"").replaceAll(",",".")}catch{return null}const o=e.match(/^([0-9]*(\.[0-9]*)?)([kmgtp]?)(i?)b?$/);if(o===null||o[1]==="."||o[1]==="")return null;const f={"":0,k:1,m:2,g:3,t:4,p:5,e:6},p=`${o[1]}`,_=o[4]==="i"||t?1024:1e3;return Math.round(Number.parseFloat(p)*_**f[o[3]])}function Dt(e){return e instanceof Date?e.toISOString():String(e)}function Pr(e,t,o){t=t??[_=>_],o=o??[];const f=t.map((_,O)=>(o[O]??"asc")==="asc"?1:-1),p=Intl.Collator([(0,le.Z0)(),(0,le.lO)()],{numeric:!0,usage:"sort"});return[...e].sort((_,O)=>{for(const[T,m]of t.entries()){const S=p.compare(Dt(m(_)),Dt(m(O)));if(S!==0)return S*f[T]}return 0})}var Yt=(e=>(e.Name="basename",e.Modified="mtime",e.Size="size",e))(Yt||{});function Ir(e,t={}){const o={sortingMode:"basename",sortingOrder:"asc",...t},f=O=>O.lastIndexOf(".")>0?O.slice(0,O.lastIndexOf(".")):O,p=[...o.sortFavoritesFirst?[O=>O.attributes?.favorite!==1]:[],...o.sortFoldersFirst?[O=>O.type!=="folder"]:[],...o.sortingMode!=="basename"?[O=>O[o.sortingMode]]:[],O=>f(O.attributes?.displayname||O.basename),O=>O.basename],_=[...o.sortFavoritesFirst?["asc"]:[],...o.sortFoldersFirst?["asc"]:[],...o.sortingMode==="mtime"?[o.sortingOrder==="asc"?"desc":"asc"]:[],...o.sortingMode!=="mtime"&&o.sortingMode!=="basename"?[o.sortingOrder]:[],o.sortingOrder,o.sortingOrder];return Pr(e,p,_)}class zt extends null{constructor(){super(...arguments);Ce(this,"_views",[]);Ce(this,"_currentView",null)}register(o){if(this._views.find(f=>f.id===o.id))throw new Error(`View id ${o.id} is already registered`);this._views.push(o),this.dispatchTypedEvent("update",new CustomEvent("update"))}remove(o){const f=this._views.findIndex(p=>p.id===o);f!==-1&&(this._views.splice(f,1),this.dispatchTypedEvent("update",new CustomEvent("update")))}setActive(o){this._currentView=o;const f=new CustomEvent("updateActive",{detail:o});this.dispatchTypedEvent("updateActive",f)}get active(){return this._currentView}get views(){return this._views}}const Or=function(){return typeof window._nc_navigation>"u"&&(window._nc_navigation=new zt,re.debug("Navigation service initialized")),window._nc_navigation};class Tr{constructor(t){Ce(this,"_column");Gt(t),this._column=t}get id(){return this._column.id}get title(){return this._column.title}get render(){return this._column.render}get sort(){return this._column.sort}get summary(){return this._column.summary}}const Gt=function(e){if(!e.id||typeof e.id!="string")throw new Error("A column id is required");if(!e.title||typeof e.title!="string")throw new Error("A column title is required");if(!e.render||typeof e.render!="function")throw new Error("A render function is required");if(e.sort&&typeof e.sort!="function")throw new Error("Column sortFunction must be a function");if(e.summary&&typeof e.summary!="function")throw new Error("Column summary must be a function");return!0};function qr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jt={},Ft={};(function(e){const t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",o=t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",f="["+t+"]["+o+"]*",p=new RegExp("^"+f+"$"),_=function(T,m){const S=[];let U=m.exec(T);for(;U;){const ne=[];ne.startIndex=m.lastIndex-U[0].length;const ce=U.length;for(let he=0;he<ce;he++)ne.push(U[he]);S.push(ne),U=m.exec(T)}return S},O=function(T){const m=p.exec(T);return!(m===null||typeof m>"u")};e.isExist=function(T){return typeof T<"u"},e.isEmptyObject=function(T){return Object.keys(T).length===0},e.merge=function(T,m,S){if(m){const U=Object.keys(m),ne=U.length;for(let ce=0;ce<ne;ce++)S==="strict"?T[U[ce]]=[m[U[ce]]]:T[U[ce]]=m[U[ce]]}},e.getValue=function(T){return e.isExist(T)?T:""},e.isName=O,e.getAllMatches=_,e.nameRegexp=f})(Ft);const ar=Ft,Sr={allowBooleanAttributes:!1,unpairedTags:[]};Jt.validate=function(e,t){t=Object.assign({},Sr,t);const o=[];let f=!1,p=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let _=0;_<e.length;_++)if(e[_]==="<"&&e[_+1]==="?"){if(_+=2,_=Qt(e,_),_.err)return _}else if(e[_]==="<"){let O=_;if(_++,e[_]==="!"){_=lr(e,_);continue}else{let T=!1;e[_]==="/"&&(T=!0,_++);let m="";for(;_<e.length&&e[_]!==">"&&e[_]!==" "&&e[_]!=="	"&&e[_]!==`
`&&e[_]!=="\r";_++)m+=e[_];if(m=m.trim(),m[m.length-1]==="/"&&(m=m.substring(0,m.length-1),_--),!kr(m)){let ne;return m.trim().length===0?ne="Invalid space after '<'.":ne="Tag '"+m+"' is an invalid name.",De("InvalidTag",ne,at(e,_))}const S=st(e,_);if(S===!1)return De("InvalidAttr","Attributes for '"+m+"' have open quote.",at(e,_));let U=S.value;if(_=S.index,U[U.length-1]==="/"){const ne=_-U.length;U=U.substring(0,U.length-1);const ce=pr(U,t);if(ce===!0)f=!0;else return De(ce.err.code,ce.err.msg,at(e,ne+ce.err.line))}else if(T)if(S.tagClosed){if(U.trim().length>0)return De("InvalidTag","Closing tag '"+m+"' can't have attributes or invalid starting.",at(e,O));if(o.length===0)return De("InvalidTag","Closing tag '"+m+"' has not been opened.",at(e,O));{const ne=o.pop();if(m!==ne.tagName){let ce=at(e,ne.tagStartPos);return De("InvalidTag","Expected closing tag '"+ne.tagName+"' (opened in line "+ce.line+", col "+ce.col+") instead of closing tag '"+m+"'.",at(e,O))}o.length==0&&(p=!0)}}else return De("InvalidTag","Closing tag '"+m+"' doesn't have proper closing.",at(e,_));else{const ne=pr(U,t);if(ne!==!0)return De(ne.err.code,ne.err.msg,at(e,_-U.length+ne.err.line));if(p===!0)return De("InvalidXml","Multiple possible root nodes found.",at(e,_));t.unpairedTags.indexOf(m)!==-1||o.push({tagName:m,tagStartPos:O}),f=!0}for(_++;_<e.length;_++)if(e[_]==="<")if(e[_+1]==="!"){_++,_=lr(e,_);continue}else if(e[_+1]==="?"){if(_=Qt(e,++_),_.err)return _}else break;else if(e[_]==="&"){const ne=Rr(e,_);if(ne==-1)return De("InvalidChar","char '&' is not expected.",at(e,_));_=ne}else if(p===!0&&!dr(e[_]))return De("InvalidXml","Extra text at the end",at(e,_));e[_]==="<"&&_--}}else{if(dr(e[_]))continue;return De("InvalidChar","char '"+e[_]+"' is not expected.",at(e,_))}if(f){if(o.length==1)return De("InvalidTag","Unclosed tag '"+o[0].tagName+"'.",at(e,o[0].tagStartPos));if(o.length>0)return De("InvalidXml","Invalid '"+JSON.stringify(o.map(_=>_.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return De("InvalidXml","Start tag expected.",1);return!0};function dr(e){return e===" "||e==="	"||e===`
`||e==="\r"}function Qt(e,t){const o=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){const f=e.substr(o,t-o);if(t>5&&f==="xml")return De("InvalidXml","XML declaration allowed only at the start of the document.",at(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function lr(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let o=1;for(t+=8;t<e.length;t++)if(e[t]==="<")o++;else if(e[t]===">"&&(o--,o===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}const hr='"',qt="'";function st(e,t){let o="",f="",p=!1;for(;t<e.length;t++){if(e[t]===hr||e[t]===qt)f===""?f=e[t]:f!==e[t]||(f="");else if(e[t]===">"&&f===""){p=!0;break}o+=e[t]}return f!==""?!1:{value:o,index:t,tagClosed:p}}const $r=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function pr(e,t){const o=ar.getAllMatches(e,$r),f={};for(let p=0;p<o.length;p++){if(o[p][1].length===0)return De("InvalidAttr","Attribute '"+o[p][2]+"' has no space in starting.",Wt(o[p]));if(o[p][3]!==void 0&&o[p][4]===void 0)return De("InvalidAttr","Attribute '"+o[p][2]+"' is without value.",Wt(o[p]));if(o[p][3]===void 0&&!t.allowBooleanAttributes)return De("InvalidAttr","boolean attribute '"+o[p][2]+"' is not allowed.",Wt(o[p]));const _=o[p][2];if(!Fr(_))return De("InvalidAttr","Attribute '"+_+"' is an invalid name.",Wt(o[p]));if(!f.hasOwnProperty(_))f[_]=1;else return De("InvalidAttr","Attribute '"+_+"' is repeated.",Wt(o[p]))}return!0}function Lr(e,t){let o=/\d/;for(e[t]==="x"&&(t++,o=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(o))break}return-1}function Rr(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,Lr(e,t);let o=0;for(;t<e.length;t++,o++)if(!(e[t].match(/\w/)&&o<20)){if(e[t]===";")break;return-1}return t}function De(e,t,o){return{err:{code:e,msg:t,line:o.line||o,col:o.col}}}function Fr(e){return ar.isName(e)}function kr(e){return ar.isName(e)}function at(e,t){const o=e.substring(0,t).split(/\r?\n/);return{line:o.length,col:o[o.length-1].length+1}}function Wt(e){return e.startIndex+e[1].length}var ur={};const gr={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,o){return e}},Br=function(e){return Object.assign({},gr,e)};ur.buildOptions=Br,ur.defaultOptions=gr;class Mr{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,o){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:o})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}}var jr=Mr;const Vr=Ft;function Ur(e,t){const o={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let f=1,p=!1,_=!1,O="";for(;t<e.length;t++)if(e[t]==="<"&&!_){if(p&&mr(e,t))t+=7,[entityName,val,t]=Dr(e,t+1),val.indexOf("&")===-1&&(o[mt(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(p&&vr(e,t))t+=8;else if(p&&yr(e,t))t+=8;else if(p&&gt(e,t))t+=9;else if(zr)_=!0;else throw new Error("Invalid DOCTYPE");f++,O=""}else if(e[t]===">"){if(_?e[t-1]==="-"&&e[t-2]==="-"&&(_=!1,f--):f--,f===0)break}else e[t]==="["?p=!0:O+=e[t];if(f!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:o,i:t}}function Dr(e,t){let o="";for(;t<e.length&&e[t]!=="'"&&e[t]!=='"';t++)o+=e[t];if(o=o.trim(),o.indexOf(" ")!==-1)throw new Error("External entites are not supported");const f=e[t++];let p="";for(;t<e.length&&e[t]!==f;t++)p+=e[t];return[o,p,t]}function zr(e,t){return e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-"}function mr(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y"}function vr(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T"}function yr(e,t){return e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T"}function gt(e,t){return e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N"}function mt(e){if(Vr.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}var br=Ur;const wr=/^[-+]?0x[a-fA-F0-9]+$/,er=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const cr={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function Ke(e,t={}){if(t=Object.assign({},cr,t),!e||typeof e!="string")return e;let o=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(o))return e;if(t.hex&&wr.test(o))return Number.parseInt(o,16);{const f=er.exec(o);if(f){const p=f[1],_=f[2];let O=$t(f[3]);const T=f[4]||f[6];if(!t.leadingZeros&&_.length>0&&p&&o[2]!==".")return e;if(!t.leadingZeros&&_.length>0&&!p&&o[1]!==".")return e;{const m=Number(o),S=""+m;return S.search(/[eE]/)!==-1||T?t.eNotation?m:e:o.indexOf(".")!==-1?S==="0"&&O===""||S===O||p&&S==="-"+O?m:e:_?O===S||p+O===S?m:e:o===S||o===p+S?m:e}}else return e}}function $t(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}var Gr=Ke;function Er(e){return typeof e=="function"?e:Array.isArray(e)?t=>{for(const o of e)if(typeof o=="string"&&t===o||o instanceof RegExp&&o.test(t))return!0}:()=>!1}var q=Er;const w=Ft,I=jr,x=br,D=Gr,ee=q;let ve=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(o,f)=>String.fromCharCode(Number.parseInt(f,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(o,f)=>String.fromCharCode(Number.parseInt(f,16))}},this.addExternalEntities=xe,this.parseXml=ut,this.parseTextData=Te,this.resolveNameSpace=Ae,this.buildAttributesMap=ke,this.isItStopNode=_t,this.replaceEntitiesValue=Ge,this.readStopNodeData=Fe,this.saveTextToParentTag=tt,this.addChild=Ne,this.ignoreAttributesFn=ee(this.options.ignoreAttributes)}};function xe(e){const t=Object.keys(e);for(let o=0;o<t.length;o++){const f=t[o];this.lastEntities[f]={regex:new RegExp("&"+f+";","g"),val:e[f]}}}function Te(e,t,o,f,p,_,O){if(e!==void 0&&(this.options.trimValues&&!f&&(e=e.trim()),e.length>0)){O||(e=this.replaceEntitiesValue(e));const T=this.options.tagValueProcessor(t,e,o,p,_);return T==null?e:typeof T!=typeof e||T!==e?T:this.options.trimValues?ct(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?ct(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function Ae(e){if(this.options.removeNSPrefix){const t=e.split(":"),o=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=o+t[1])}return e}const $e=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function ke(e,t,o){if(this.options.ignoreAttributes!==!0&&typeof e=="string"){const f=w.getAllMatches(e,$e),p=f.length,_={};for(let O=0;O<p;O++){const T=this.resolveNameSpace(f[O][1]);if(this.ignoreAttributesFn(T,t))continue;let m=f[O][4],S=this.options.attributeNamePrefix+T;if(T.length)if(this.options.transformAttributeName&&(S=this.options.transformAttributeName(S)),S==="__proto__"&&(S="#__proto__"),m!==void 0){this.options.trimValues&&(m=m.trim()),m=this.replaceEntitiesValue(m);const U=this.options.attributeValueProcessor(T,m,t);U==null?_[S]=m:typeof U!=typeof m||U!==m?_[S]=U:_[S]=ct(m,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(_[S]=!0)}if(!Object.keys(_).length)return;if(this.options.attributesGroupName){const O={};return O[this.options.attributesGroupName]=_,O}return _}}const ut=function(e){e=e.replace(/\r\n?/g,`
`);const t=new I("!xml");let o=t,f="",p="";for(let _=0;_<e.length;_++)if(e[_]==="<")if(e[_+1]==="/"){const T=We(e,">",_,"Closing Tag is not closed.");let m=e.substring(_+2,T).trim();if(this.options.removeNSPrefix){const ne=m.indexOf(":");ne!==-1&&(m=m.substr(ne+1))}this.options.transformTagName&&(m=this.options.transformTagName(m)),o&&(f=this.saveTextToParentTag(f,o,p));const S=p.substring(p.lastIndexOf(".")+1);if(m&&this.options.unpairedTags.indexOf(m)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${m}>`);let U=0;S&&this.options.unpairedTags.indexOf(S)!==-1?(U=p.lastIndexOf(".",p.lastIndexOf(".")-1),this.tagsNodeStack.pop()):U=p.lastIndexOf("."),p=p.substring(0,U),o=this.tagsNodeStack.pop(),f="",_=T}else if(e[_+1]==="?"){let T=vt(e,_,!1,"?>");if(!T)throw new Error("Pi Tag is not closed.");if(f=this.saveTextToParentTag(f,o,p),!(this.options.ignoreDeclaration&&T.tagName==="?xml"||this.options.ignorePiTags)){const m=new I(T.tagName);m.add(this.options.textNodeName,""),T.tagName!==T.tagExp&&T.attrExpPresent&&(m[":@"]=this.buildAttributesMap(T.tagExp,p,T.tagName)),this.addChild(o,m,p)}_=T.closeIndex+1}else if(e.substr(_+1,3)==="!--"){const T=We(e,"-->",_+4,"Comment is not closed.");if(this.options.commentPropName){const m=e.substring(_+4,T-2);f=this.saveTextToParentTag(f,o,p),o.add(this.options.commentPropName,[{[this.options.textNodeName]:m}])}_=T}else if(e.substr(_+1,2)==="!D"){const T=x(e,_);this.docTypeEntities=T.entities,_=T.i}else if(e.substr(_+1,2)==="!["){const T=We(e,"]]>",_,"CDATA is not closed.")-2,m=e.substring(_+9,T);f=this.saveTextToParentTag(f,o,p);let S=this.parseTextData(m,o.tagname,p,!0,!1,!0,!0);S==null&&(S=""),this.options.cdataPropName?o.add(this.options.cdataPropName,[{[this.options.textNodeName]:m}]):o.add(this.options.textNodeName,S),_=T+2}else{let T=vt(e,_,this.options.removeNSPrefix),m=T.tagName;const S=T.rawTagName;let U=T.tagExp,ne=T.attrExpPresent,ce=T.closeIndex;this.options.transformTagName&&(m=this.options.transformTagName(m)),o&&f&&o.tagname!=="!xml"&&(f=this.saveTextToParentTag(f,o,p,!1));const he=o;if(he&&this.options.unpairedTags.indexOf(he.tagname)!==-1&&(o=this.tagsNodeStack.pop(),p=p.substring(0,p.lastIndexOf("."))),m!==t.tagname&&(p+=p?"."+m:m),this.isItStopNode(this.options.stopNodes,p,m)){let W="";if(U.length>0&&U.lastIndexOf("/")===U.length-1)m[m.length-1]==="/"?(m=m.substr(0,m.length-1),p=p.substr(0,p.length-1),U=m):U=U.substr(0,U.length-1),_=T.closeIndex;else if(this.options.unpairedTags.indexOf(m)!==-1)_=T.closeIndex;else{const Ee=this.readStopNodeData(e,S,ce+1);if(!Ee)throw new Error(`Unexpected end of ${S}`);_=Ee.i,W=Ee.tagContent}const Me=new I(m);m!==U&&ne&&(Me[":@"]=this.buildAttributesMap(U,p,m)),W&&(W=this.parseTextData(W,m,p,!0,ne,!0,!0)),p=p.substr(0,p.lastIndexOf(".")),Me.add(this.options.textNodeName,W),this.addChild(o,Me,p)}else{if(U.length>0&&U.lastIndexOf("/")===U.length-1){m[m.length-1]==="/"?(m=m.substr(0,m.length-1),p=p.substr(0,p.length-1),U=m):U=U.substr(0,U.length-1),this.options.transformTagName&&(m=this.options.transformTagName(m));const W=new I(m);m!==U&&ne&&(W[":@"]=this.buildAttributesMap(U,p,m)),this.addChild(o,W,p),p=p.substr(0,p.lastIndexOf("."))}else{const W=new I(m);this.tagsNodeStack.push(o),m!==U&&ne&&(W[":@"]=this.buildAttributesMap(U,p,m)),this.addChild(o,W,p),o=W}f="",_=ce}}else f+=e[_];return t.child};function Ne(e,t,o){const f=this.options.updateTag(t.tagname,o,t[":@"]);f===!1||(typeof f=="string"&&(t.tagname=f),e.addChild(t))}const Ge=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const o=this.docTypeEntities[t];e=e.replace(o.regx,o.val)}for(let t in this.lastEntities){const o=this.lastEntities[t];e=e.replace(o.regex,o.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const o=this.htmlEntities[t];e=e.replace(o.regex,o.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function tt(e,t,o,f){return e&&(f===void 0&&(f=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,o,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,f),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function _t(e,t,o){const f="*."+o;for(const p in e){const _=e[p];if(f===_||t===_)return!0}return!1}function Ue(e,t,o=">"){let f,p="";for(let _=t;_<e.length;_++){let O=e[_];if(f)O===f&&(f="");else if(O==='"'||O==="'")f=O;else if(O===o[0])if(o[1]){if(e[_+1]===o[1])return{data:p,index:_}}else return{data:p,index:_};else O==="	"&&(O=" ");p+=O}}function We(e,t,o,f){const p=e.indexOf(t,o);if(p===-1)throw new Error(f);return p+t.length-1}function vt(e,t,o,f=">"){const p=Ue(e,t+1,f);if(!p)return;let _=p.data;const O=p.index,T=_.search(/\s/);let m=_,S=!0;T!==-1&&(m=_.substring(0,T),_=_.substring(T+1).trimStart());const U=m;if(o){const ne=m.indexOf(":");ne!==-1&&(m=m.substr(ne+1),S=m!==p.data.substr(ne+1))}return{tagName:m,tagExp:_,closeIndex:O,attrExpPresent:S,rawTagName:U}}function Fe(e,t,o){const f=o;let p=1;for(;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="/"){const _=We(e,">",o,`${t} is not closed`);if(e.substring(o+2,_).trim()===t&&(p--,p===0))return{tagContent:e.substring(f,o),i:_};o=_}else if(e[o+1]==="?")o=We(e,"?>",o+1,"StopNode is not closed.");else if(e.substr(o+1,3)==="!--")o=We(e,"-->",o+3,"StopNode is not closed.");else if(e.substr(o+1,2)==="![")o=We(e,"]]>",o,"StopNode is not closed.")-2;else{const _=vt(e,o,">");_&&((_&&_.tagName)===t&&_.tagExp[_.tagExp.length-1]!=="/"&&p++,o=_.closeIndex)}}function ct(e,t,o){if(t&&typeof e=="string"){const f=e.trim();return f==="true"?!0:f==="false"?!1:D(e,o)}else return w.isExist(e)?e:""}var Ot=ve,Lt={};function kt(e,t){return Ie(e,t)}function Ie(e,t,o){let f;const p={};for(let _=0;_<e.length;_++){const O=e[_],T=Be(O);let m="";if(o===void 0?m=T:m=o+"."+T,T===t.textNodeName)f===void 0?f=O[T]:f+=""+O[T];else{if(T===void 0)continue;if(O[T]){let S=Ie(O[T],t,m);const U=Nt(S,t);O[":@"]?wt(S,O[":@"],m,t):Object.keys(S).length===1&&S[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?S=S[t.textNodeName]:Object.keys(S).length===0&&(t.alwaysCreateTextNode?S[t.textNodeName]="":S=""),p[T]!==void 0&&p.hasOwnProperty(T)?(Array.isArray(p[T])||(p[T]=[p[T]]),p[T].push(S)):t.isArray(T,m,U)?p[T]=[S]:p[T]=S}}}return typeof f=="string"?f.length>0&&(p[t.textNodeName]=f):f!==void 0&&(p[t.textNodeName]=f),p}function Be(e){const t=Object.keys(e);for(let o=0;o<t.length;o++){const f=t[o];if(f!==":@")return f}}function wt(e,t,o,f){if(t){const p=Object.keys(t),_=p.length;for(let O=0;O<_;O++){const T=p[O];f.isArray(T,o+"."+T,!0,!0)?e[T]=[t[T]]:e[T]=t[T]}}}function Nt(e,t){const{textNodeName:o}=t,f=Object.keys(e).length;return!!(f===0||f===1&&(e[o]||typeof e[o]=="boolean"||e[o]===0))}Lt.prettify=kt;const{buildOptions:_r}=ur,tr=Ot,{prettify:Ar}=Lt,Xt=Jt;var Nr=class{constructor(t){this.externalEntities={},this.options=_r(t)}parse(t,o){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(o){o===!0&&(o={});const _=Xt.validate(t,o);if(_!==!0)throw Error(`${_.err.msg}:${_.err.line}:${_.err.col}`)}const f=new tr(this.options);f.addExternalEntities(this.externalEntities);const p=f.parseXml(t);return this.options.preserveOrder||p===void 0?p:Ar(p,this.options)}addEntity(t,o){if(o.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(o==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=o}};const Cr=`
`;function ft(e,t){let o="";return t.format&&t.indentBy.length>0&&(o=Cr),Xr(e,t,"",o)}function Xr(e,t,o,f){let p="",_=!1;for(let O=0;O<e.length;O++){const T=e[O],m=Hr(T);if(m===void 0)continue;let S="";if(o.length===0?S=m:S=`${o}.${m}`,m===t.textNodeName){let W=T[m];cn(S,t)||(W=t.tagValueProcessor(m,W),W=en(W,t)),_&&(p+=f),p+=W,_=!1;continue}else if(m===t.cdataPropName){_&&(p+=f),p+=`<![CDATA[${T[m][0][t.textNodeName]}]]>`,_=!1;continue}else if(m===t.commentPropName){p+=f+`<!--${T[m][0][t.textNodeName]}-->`,_=!0;continue}else if(m[0]==="?"){const W=Kr(T[":@"],t),Me=m==="?xml"?"":f;let Ee=T[m][0][t.textNodeName];Ee=Ee.length!==0?" "+Ee:"",p+=Me+`<${m}${Ee}${W}?>`,_=!0;continue}let U=f;U!==""&&(U+=t.indentBy);const ne=Kr(T[":@"],t),ce=f+`<${m}${ne}`,he=Xr(T[m],t,S,U);t.unpairedTags.indexOf(m)!==-1?t.suppressUnpairedNode?p+=ce+">":p+=ce+"/>":(!he||he.length===0)&&t.suppressEmptyNode?p+=ce+"/>":he&&he.endsWith(">")?p+=ce+`>${he}${f}</${m}>`:(p+=ce+">",he&&f!==""&&(he.includes("/>")||he.includes("</"))?p+=f+t.indentBy+he+f:p+=he,p+=`</${m}>`),_=!0}return p}function Hr(e){const t=Object.keys(e);for(let o=0;o<t.length;o++){const f=t[o];if(e.hasOwnProperty(f)&&f!==":@")return f}}function Kr(e,t){let o="";if(e&&!t.ignoreAttributes)for(let f in e){if(!e.hasOwnProperty(f))continue;let p=t.attributeValueProcessor(f,e[f]);p=en(p,t),p===!0&&t.suppressBooleanAttributes?o+=` ${f.substr(t.attributeNamePrefix.length)}`:o+=` ${f.substr(t.attributeNamePrefix.length)}="${p}"`}return o}function cn(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let o=e.substr(e.lastIndexOf(".")+1);for(let f in t.stopNodes)if(t.stopNodes[f]===e||t.stopNodes[f]==="*."+o)return!0;return!1}function en(e,t){if(e&&e.length>0&&t.processEntities)for(let o=0;o<t.entities.length;o++){const f=t.entities[o];e=e.replace(f.regex,f.val)}return e}var fn=ft;const Zr=fn,dn=q,Yr={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Bt(e){this.options=Object.assign({},Yr,e),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=dn(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=gn),this.processTextOrObjNode=hn,this.options.format?(this.indentate=pn,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Bt.prototype.build=function(e){return this.options.preserveOrder?Zr(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0,[]).val)},Bt.prototype.j2x=function(e,t,o){let f="",p="";const _=o.join(".");for(let O in e)if(Object.prototype.hasOwnProperty.call(e,O))if(typeof e[O]>"u")this.isAttribute(O)&&(p+="");else if(e[O]===null)this.isAttribute(O)?p+="":O[0]==="?"?p+=this.indentate(t)+"<"+O+"?"+this.tagEndChar:p+=this.indentate(t)+"<"+O+"/"+this.tagEndChar;else if(e[O]instanceof Date)p+=this.buildTextValNode(e[O],O,"",t);else if(typeof e[O]!="object"){const T=this.isAttribute(O);if(T&&!this.ignoreAttributesFn(T,_))f+=this.buildAttrPairStr(T,""+e[O]);else if(!T)if(O===this.options.textNodeName){let m=this.options.tagValueProcessor(O,""+e[O]);p+=this.replaceEntitiesValue(m)}else p+=this.buildTextValNode(e[O],O,"",t)}else if(Array.isArray(e[O])){const T=e[O].length;let m="",S="";for(let U=0;U<T;U++){const ne=e[O][U];if(!(typeof ne>"u"))if(ne===null)O[0]==="?"?p+=this.indentate(t)+"<"+O+"?"+this.tagEndChar:p+=this.indentate(t)+"<"+O+"/"+this.tagEndChar;else if(typeof ne=="object")if(this.options.oneListGroup){const ce=this.j2x(ne,t+1,o.concat(O));m+=ce.val,this.options.attributesGroupName&&ne.hasOwnProperty(this.options.attributesGroupName)&&(S+=ce.attrStr)}else m+=this.processTextOrObjNode(ne,O,t,o);else if(this.options.oneListGroup){let ce=this.options.tagValueProcessor(O,ne);ce=this.replaceEntitiesValue(ce),m+=ce}else m+=this.buildTextValNode(ne,O,"",t)}this.options.oneListGroup&&(m=this.buildObjectNode(m,O,S,t)),p+=m}else if(this.options.attributesGroupName&&O===this.options.attributesGroupName){const T=Object.keys(e[O]),m=T.length;for(let S=0;S<m;S++)f+=this.buildAttrPairStr(T[S],""+e[O][T[S]])}else p+=this.processTextOrObjNode(e[O],O,t,o);return{attrStr:f,val:p}},Bt.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function hn(e,t,o,f){const p=this.j2x(e,o+1,f.concat(t));return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,p.attrStr,o):this.buildObjectNode(p.val,t,p.attrStr,o)}Bt.prototype.buildObjectNode=function(e,t,o,f){if(e==="")return t[0]==="?"?this.indentate(f)+"<"+t+o+"?"+this.tagEndChar:this.indentate(f)+"<"+t+o+this.closeTag(t)+this.tagEndChar;{let p="</"+t+this.tagEndChar,_="";return t[0]==="?"&&(_="?",p=""),(o||o==="")&&e.indexOf("<")===-1?this.indentate(f)+"<"+t+o+_+">"+e+p:this.options.commentPropName!==!1&&t===this.options.commentPropName&&_.length===0?this.indentate(f)+`<!--${e}-->`+this.newLine:this.indentate(f)+"<"+t+o+_+this.tagEndChar+e+this.indentate(f)+p}},Bt.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t},Bt.prototype.buildTextValNode=function(e,t,o,f){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(f)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(f)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(f)+"<"+t+o+"?"+this.tagEndChar;{let p=this.options.tagValueProcessor(t,e);return p=this.replaceEntitiesValue(p),p===""?this.indentate(f)+"<"+t+o+this.closeTag(t)+this.tagEndChar:this.indentate(f)+"<"+t+o+">"+p+"</"+t+this.tagEndChar}},Bt.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){const o=this.options.entities[t];e=e.replace(o.regex,o.val)}return e};function pn(e){return this.options.indentBy.repeat(e)}function gn(e){return e.startsWith(this.options.attributeNamePrefix)&&e!==this.options.textNodeName?e.substr(this.attrPrefixLen):!1}var tn=Bt,rn={XMLParser:Nr,XMLValidator:Jt,XMLBuilder:tn};function Jr(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);if(e=e.trim(),e.length===0||rn.XMLValidator.validate(e)!==!0)return!1;let t;const o=new rn.XMLParser;try{t=o.parse(e)}catch{return!1}return!(!t||!Object.keys(t).some(f=>f.toLowerCase()==="svg"))}class Pn{constructor(t){Ce(this,"_view");vn(t),this._view=t}get id(){return this._view.id}get name(){return this._view.name}get caption(){return this._view.caption}get emptyTitle(){return this._view.emptyTitle}get emptyCaption(){return this._view.emptyCaption}get getContents(){return this._view.getContents}get icon(){return this._view.icon}set icon(t){this._view.icon=t}get order(){return this._view.order}set order(t){this._view.order=t}get params(){return this._view.params}set params(t){this._view.params=t}get columns(){return this._view.columns}get emptyView(){return this._view.emptyView}get parent(){return this._view.parent}get sticky(){return this._view.sticky}get expanded(){return this._view.expanded}set expanded(t){this._view.expanded=t}get defaultSortKey(){return this._view.defaultSortKey}get loadChildViews(){return this._view.loadChildViews}}const vn=function(e){if(!e.id||typeof e.id!="string")throw new Error("View id is required and must be a string");if(!e.name||typeof e.name!="string")throw new Error("View name is required and must be a string");if(e.columns&&e.columns.length>0&&(!e.caption||typeof e.caption!="string"))throw new Error("View caption is required for top-level views and must be a string");if(!e.getContents||typeof e.getContents!="function")throw new Error("View getContents is required and must be a function");if(!e.icon||typeof e.icon!="string"||!Jr(e.icon))throw new Error("View icon is required and must be a valid svg string");if("order"in e&&typeof e.order!="number")throw new Error("View order must be a number");if(e.columns&&e.columns.forEach(t=>{if(!(t instanceof Tr))throw new Error("View columns must be an array of Column. Invalid column found")}),e.emptyView&&typeof e.emptyView!="function")throw new Error("View emptyView must be a function");if(e.parent&&typeof e.parent!="string")throw new Error("View parent must be a string");if("sticky"in e&&typeof e.sticky!="boolean")throw new Error("View sticky must be a boolean");if("expanded"in e&&typeof e.expanded!="boolean")throw new Error("View expanded must be a boolean");if(e.defaultSortKey&&typeof e.defaultSortKey!="string")throw new Error("View defaultSortKey must be a string");if(e.loadChildViews&&typeof e.loadChildViews!="function")throw new Error("View loadChildViews must be a function");return!0};var On=typeof se=="object"&&se.env&&se.env.NODE_DEBUG&&/\bsemver\b/i.test(se.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};const Tn="2.0.0",yn=256,Sn=Number.MAX_SAFE_INTEGER||9007199254740991,bn=16,wn=yn-6;var En={MAX_LENGTH:yn,MAX_SAFE_COMPONENT_LENGTH:bn,MAX_SAFE_BUILD_LENGTH:wn,MAX_SAFE_INTEGER:Sn,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:Tn,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},nn={exports:{}};(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:o,MAX_SAFE_BUILD_LENGTH:f,MAX_LENGTH:p}=En,_=On;t=e.exports={};const O=t.re=[],T=t.safeRe=[],m=t.src=[],S=t.t={};let U=0;const ne="[a-zA-Z0-9-]",ce=[["\\s",1],["\\d",p],[ne,f]],he=Me=>{for(const[Ee,At]of ce)Me=Me.split(`${Ee}*`).join(`${Ee}{0,${At}}`).split(`${Ee}+`).join(`${Ee}{1,${At}}`);return Me},W=(Me,Ee,At)=>{const sn=he(Ee),nr=U++;_(Me,nr,Ee),S[Me]=nr,m[nr]=Ee,O[nr]=new RegExp(Ee,At?"g":void 0),T[nr]=new RegExp(sn,At?"g":void 0)};W("NUMERICIDENTIFIER","0|[1-9]\\d*"),W("NUMERICIDENTIFIERLOOSE","\\d+"),W("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${ne}*`),W("MAINVERSION",`(${m[S.NUMERICIDENTIFIER]})\\.(${m[S.NUMERICIDENTIFIER]})\\.(${m[S.NUMERICIDENTIFIER]})`),W("MAINVERSIONLOOSE",`(${m[S.NUMERICIDENTIFIERLOOSE]})\\.(${m[S.NUMERICIDENTIFIERLOOSE]})\\.(${m[S.NUMERICIDENTIFIERLOOSE]})`),W("PRERELEASEIDENTIFIER",`(?:${m[S.NUMERICIDENTIFIER]}|${m[S.NONNUMERICIDENTIFIER]})`),W("PRERELEASEIDENTIFIERLOOSE",`(?:${m[S.NUMERICIDENTIFIERLOOSE]}|${m[S.NONNUMERICIDENTIFIER]})`),W("PRERELEASE",`(?:-(${m[S.PRERELEASEIDENTIFIER]}(?:\\.${m[S.PRERELEASEIDENTIFIER]})*))`),W("PRERELEASELOOSE",`(?:-?(${m[S.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${m[S.PRERELEASEIDENTIFIERLOOSE]})*))`),W("BUILDIDENTIFIER",`${ne}+`),W("BUILD",`(?:\\+(${m[S.BUILDIDENTIFIER]}(?:\\.${m[S.BUILDIDENTIFIER]})*))`),W("FULLPLAIN",`v?${m[S.MAINVERSION]}${m[S.PRERELEASE]}?${m[S.BUILD]}?`),W("FULL",`^${m[S.FULLPLAIN]}$`),W("LOOSEPLAIN",`[v=\\s]*${m[S.MAINVERSIONLOOSE]}${m[S.PRERELEASELOOSE]}?${m[S.BUILD]}?`),W("LOOSE",`^${m[S.LOOSEPLAIN]}$`),W("GTLT","((?:<|>)?=?)"),W("XRANGEIDENTIFIERLOOSE",`${m[S.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),W("XRANGEIDENTIFIER",`${m[S.NUMERICIDENTIFIER]}|x|X|\\*`),W("XRANGEPLAIN",`[v=\\s]*(${m[S.XRANGEIDENTIFIER]})(?:\\.(${m[S.XRANGEIDENTIFIER]})(?:\\.(${m[S.XRANGEIDENTIFIER]})(?:${m[S.PRERELEASE]})?${m[S.BUILD]}?)?)?`),W("XRANGEPLAINLOOSE",`[v=\\s]*(${m[S.XRANGEIDENTIFIERLOOSE]})(?:\\.(${m[S.XRANGEIDENTIFIERLOOSE]})(?:\\.(${m[S.XRANGEIDENTIFIERLOOSE]})(?:${m[S.PRERELEASELOOSE]})?${m[S.BUILD]}?)?)?`),W("XRANGE",`^${m[S.GTLT]}\\s*${m[S.XRANGEPLAIN]}$`),W("XRANGELOOSE",`^${m[S.GTLT]}\\s*${m[S.XRANGEPLAINLOOSE]}$`),W("COERCEPLAIN",`(^|[^\\d])(\\d{1,${o}})(?:\\.(\\d{1,${o}}))?(?:\\.(\\d{1,${o}}))?`),W("COERCE",`${m[S.COERCEPLAIN]}(?:$|[^\\d])`),W("COERCEFULL",m[S.COERCEPLAIN]+`(?:${m[S.PRERELEASE]})?(?:${m[S.BUILD]})?(?:$|[^\\d])`),W("COERCERTL",m[S.COERCE],!0),W("COERCERTLFULL",m[S.COERCEFULL],!0),W("LONETILDE","(?:~>?)"),W("TILDETRIM",`(\\s*)${m[S.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",W("TILDE",`^${m[S.LONETILDE]}${m[S.XRANGEPLAIN]}$`),W("TILDELOOSE",`^${m[S.LONETILDE]}${m[S.XRANGEPLAINLOOSE]}$`),W("LONECARET","(?:\\^)"),W("CARETTRIM",`(\\s*)${m[S.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",W("CARET",`^${m[S.LONECARET]}${m[S.XRANGEPLAIN]}$`),W("CARETLOOSE",`^${m[S.LONECARET]}${m[S.XRANGEPLAINLOOSE]}$`),W("COMPARATORLOOSE",`^${m[S.GTLT]}\\s*(${m[S.LOOSEPLAIN]})$|^$`),W("COMPARATOR",`^${m[S.GTLT]}\\s*(${m[S.FULLPLAIN]})$|^$`),W("COMPARATORTRIM",`(\\s*)${m[S.GTLT]}\\s*(${m[S.LOOSEPLAIN]}|${m[S.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",W("HYPHENRANGE",`^\\s*(${m[S.XRANGEPLAIN]})\\s+-\\s+(${m[S.XRANGEPLAIN]})\\s*$`),W("HYPHENRANGELOOSE",`^\\s*(${m[S.XRANGEPLAINLOOSE]})\\s+-\\s+(${m[S.XRANGEPLAINLOOSE]})\\s*$`),W("STAR","(<|>)?=?\\s*\\*"),W("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),W("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(nn,nn.exports);var $n=nn.exports;const Ln=Object.freeze({loose:!0}),rt=Object.freeze({}),lt=e=>e?typeof e!="object"?Ln:e:rt;var Mt=null;const je=/^[0-9]+$/,Ze=(e,t)=>{const o=je.test(e),f=je.test(t);return o&&f&&(e=+e,t=+t),e===t?0:o&&!f?-1:f&&!o?1:e<t?-1:1};var Kt={compareIdentifiers:Ze,rcompareIdentifiers:(e,t)=>Ze(t,e)};const Ct=null,{MAX_LENGTH:xt,MAX_SAFE_INTEGER:Tt}=En,{safeRe:rr,t:jt}=$n,Wn=null,{compareIdentifiers:Et}=Kt;let Zn=class Vt{constructor(t,o){if(o=Wn(o),t instanceof Vt){if(t.loose===!!o.loose&&t.includePrerelease===!!o.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>xt)throw new TypeError(`version is longer than ${xt} characters`);Ct("SemVer",t,o),this.options=o,this.loose=!!o.loose,this.includePrerelease=!!o.includePrerelease;const f=t.trim().match(o.loose?rr[jt.LOOSE]:rr[jt.FULL]);if(!f)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+f[1],this.minor=+f[2],this.patch=+f[3],this.major>Tt||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Tt||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Tt||this.patch<0)throw new TypeError("Invalid patch version");f[4]?this.prerelease=f[4].split(".").map(p=>{if(/^[0-9]+$/.test(p)){const _=+p;if(_>=0&&_<Tt)return _}return p}):this.prerelease=[],this.build=f[5]?f[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Ct("SemVer.compare",this.version,this.options,t),!(t instanceof Vt)){if(typeof t=="string"&&t===this.version)return 0;t=new Vt(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Vt||(t=new Vt(t,this.options)),Et(this.major,t.major)||Et(this.minor,t.minor)||Et(this.patch,t.patch)}comparePre(t){if(t instanceof Vt||(t=new Vt(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let o=0;do{const f=this.prerelease[o],p=t.prerelease[o];if(Ct("prerelease compare",o,f,p),f===void 0&&p===void 0)return 0;if(p===void 0)return 1;if(f===void 0)return-1;if(f===p)continue;return Et(f,p)}while(++o)}compareBuild(t){t instanceof Vt||(t=new Vt(t,this.options));let o=0;do{const f=this.build[o],p=t.build[o];if(Ct("build compare",o,f,p),f===void 0&&p===void 0)return 0;if(p===void 0)return 1;if(f===void 0)return-1;if(f===p)continue;return Et(f,p)}while(++o)}inc(t,o,f){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",o,f);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",o,f);break;case"prepatch":this.prerelease.length=0,this.inc("patch",o,f),this.inc("pre",o,f);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",o,f),this.inc("pre",o,f);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const p=Number(f)?1:0;if(!o&&f===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[p];else{let _=this.prerelease.length;for(;--_>=0;)typeof this.prerelease[_]=="number"&&(this.prerelease[_]++,_=-2);if(_===-1){if(o===this.prerelease.join(".")&&f===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(p)}}if(o){let _=[o,p];f===!1&&(_=[o]),Et(this.prerelease[0],o)===0?isNaN(this.prerelease[1])&&(this.prerelease=_):this.prerelease=_}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Yn=null;const Rn=null,yt=(e,t,o=!1)=>{if(e instanceof Rn)return e;try{return new Rn(e,t)}catch(f){if(!o)return null;throw f}};var s=null;const r=null,n=(e,t)=>{const o=r(e,t);return o?o.version:null};var i=null;const u=null,l=null,g=(e,t)=>new l(e,t).major;var h=null;const A=null;class c{constructor(t){Ce(this,"bus");typeof t.getVersion!="function"||!u(t.getVersion())?console.warn("Proxying an event bus with an unknown or invalid version"):A(t.getVersion())!==A(this.getVersion())&&console.warn("Proxying an event bus of version "+t.getVersion()+" with "+this.getVersion()),this.bus=t}getVersion(){return"3.3.1"}subscribe(t,o){this.bus.subscribe(t,o)}unsubscribe(t,o){this.bus.unsubscribe(t,o)}emit(t,o){this.bus.emit(t,o)}}class a{constructor(){Ce(this,"handlers",new Map)}getVersion(){return"3.3.1"}subscribe(t,o){this.handlers.set(t,(this.handlers.get(t)||[]).concat(o))}unsubscribe(t,o){this.handlers.set(t,(this.handlers.get(t)||[]).filter(f=>f!==o))}emit(t,o){(this.handlers.get(t)||[]).forEach(f=>{try{f(o)}catch(p){console.error("could not invoke event listener",p)}})}}let v=null;function d(){return v!==null?v:typeof window>"u"?new Proxy({},{get:()=>()=>console.error("Window not available, EventBus can not be established!")}):(window.OC?._eventBus&&typeof window._nc_event_bus>"u"&&(console.warn("found old event bus instance at OC._eventBus. Update your version!"),window._nc_event_bus=window.OC._eventBus),typeof window?._nc_event_bus<"u"?v=new c(window._nc_event_bus):v=window._nc_event_bus=new a,v)}function E(e,t){d().emit(e,t)}/*!
 * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors
 * SPDX-License-Identifier: AGPL-3.0-or-later
 */class N extends ae{constructor(o,f=100){super();Ce(this,"id");Ce(this,"order");this.id=o,this.order=f}filter(o){throw new Error("Not implemented")}updateChips(o){this.dispatchTypedEvent("update:chips",new CustomEvent("update:chips",{detail:o}))}filterUpdated(){this.dispatchTypedEvent("update:filter",new CustomEvent("update:filter"))}}function y(e){if(window._nc_filelist_filters||(window._nc_filelist_filters=new Map),window._nc_filelist_filters.has(e.id))throw new Error(`File list filter "${e.id}" already registered`);window._nc_filelist_filters.set(e.id,e),E("files:filter:added",e)}function C(e){window._nc_filelist_filters&&window._nc_filelist_filters.has(e)&&(window._nc_filelist_filters.delete(e),E("files:filter:removed",e))}function R(){return window._nc_filelist_filters?[...window._nc_filelist_filters.values()]:[]}const b=function(e){return Oe().registerEntry(e)},P=function(e){return Oe().unregisterEntry(e)},$=function(e){return Oe().getEntries(e).sort((o,f)=>o.order!==void 0&&f.order!==void 0&&o.order!==f.order?o.order-f.order:o.displayName.localeCompare(f.displayName,void 0,{numeric:!0,sensitivity:"base"}))}},71225:(fe,Z,L)=>{"use strict";L.d(Z,{O0:()=>M,P8:()=>H});function M(X){return X&&X.split("/").map(encodeURIComponent).join("/")}function H(X){return X.replace(/\\/g,"/").replace(/.*\//,"")}function oe(X){return X.replace(/\\/g,"/").replace(/\/[^\/]*$/,"")}function G(...X){if(arguments.length<1)return"";const te=X.filter(z=>z.length>0);if(te.length<1)return"";const Y=te[te.length-1],ie=te[0].charAt(0)==="/",le=Y.charAt(Y.length-1)==="/",ae=te.reduce((z,ue)=>z.concat(ue.split("/")),[]);let se=!ie;const re=ae.reduce((z,ue)=>ue===""?z:se?(se=!1,z+ue):z+"/"+ue,"");return le?re+"/":re}function J(X,te){const Y=(X||"").split("/").filter(le=>le!=="."),ie=(te||"").split("/").filter(le=>le!==".");return X=G.apply(void 0,Y),te=G.apply(void 0,ie),X===te}},82680:(fe,Z,L)=>{"use strict";L.d(Z,{G:()=>oe,f:()=>H});var M=L(32981);function H(){return(0,M.C)("files_sharing","isPublic",null)??document.querySelector('input#isPublic[type="hidden"][name="isPublic"][value="1"]')!==null}function oe(){return(0,M.C)("files_sharing","sharingToken",null)??document.querySelector('input#sharingToken[type="hidden"]')?.value??null}},61744:(fe,Z,L)=>{"use strict";L.d(Z,{A:()=>Ve});var M=L(85072),H=L.n(M),oe=L(97825),G=L.n(oe),J=L(77659),X=L.n(J),te=L(55056),Y=L.n(te),ie=L(10540),le=L.n(ie),ae=L(41113),se=L.n(ae),re=L(50495),z={};z.styleTagTransform=se(),z.setAttributes=Y(),z.insert=X().bind(null,"head"),z.domAPI=G(),z.insertStyleElement=le();var ue=H()(re.A,z);const Oe=re.A&&re.A.locals?re.A.locals:void 0;var ge=L(51431);const Pe={name:"NcActionCaption",inject:{isInSemanticMenu:{from:"NcActions:isSemanticMenu",default:!1}},props:{name:{type:String,required:!0}}};var de=function(){var we=this,nt=we._self._c;return nt("li",{staticClass:"app-navigation-caption",attrs:{role:we.isInSemanticMenu&&"presentation"}},[we._v(" "+we._s(we.name)+" ")])},Le=[],be=(0,ge.n)(Pe,de,Le,!1,null,"7bf21eca");const Ve=be.exports},15502:(fe,Z,L)=>{"use strict";L.d(Z,{A:()=>Ve});var M=L(85072),H=L.n(M),oe=L(97825),G=L.n(oe),J=L(77659),X=L.n(J),te=L(55056),Y=L.n(te),ie=L(10540),le=L.n(ie),ae=L(41113),se=L.n(ae),re=L(27611),z={};z.styleTagTransform=se(),z.setAttributes=Y(),z.insert=X().bind(null,"head"),z.domAPI=G(),z.insertStyleElement=le();var ue=H()(re.A,z);const Oe=re.A&&re.A.locals?re.A.locals:void 0;var ge=L(51431);const Pe={name:"NcActionSeparator"};var de=function(){var we=this,nt=we._self._c;return nt("li",{staticClass:"action action-separator action--disabled",attrs:{role:"separator"}})},Le=[],be=(0,ge.n)(Pe,de,Le,!1,null,"3e2324b7");const Ve=be.exports},74484:(fe,Z,L)=>{"use strict";L.d(Z,{N:()=>dt});var M=L(85072),H=L.n(M),oe=L(97825),G=L.n(oe),J=L(77659),X=L.n(J),te=L(55056),Y=L.n(te),ie=L(10540),le=L.n(ie),ae=L(41113),se=L.n(ae),re=L(65027),z={};z.styleTagTransform=se(),z.setAttributes=Y(),z.insert=X().bind(null,"head"),z.domAPI=G(),z.insertStyleElement=le();var ue=H()(re.A,z);const Oe=re.A&&re.A.locals?re.A.locals:void 0;var ge=L(85471),Pe=L(51431);const de={name:"NcProgressBar",props:{value:{type:Number,default:0,validator(Q){return Q>=0&&Q<=100}},size:{type:[String,Number],default:"small",validator(Q){return["small","medium"].includes(Q)||typeof Q=="number"}},error:{type:Boolean,default:!1},type:{type:String,default:"linear",validator(Q){return["linear","circular"].includes(Q)}},color:{type:String,default:null}},data(){return{stroke:4}},computed:{height(){return this.type==="circular"?Number.isInteger(this.size)?this.size:44:this.size==="small"?4:this.size==="medium"?6:this.size},progress(){return this.value/100},radius(){return this.height/2},radiusNormalized(){return this.radius-3*this.stroke},circumference(){return this.radiusNormalized*2*Math.PI}}},Le=()=>{(0,ge.$9)((Q,pe)=>({"497e8a2b":Q.color}))},be=de.setup;de.setup=be?(Q,pe)=>(Le(),be(Q,pe)):Le;const Ve=de;var it=function(){var pe=this,Ye=pe._self._c;return pe.type==="circular"?Ye("span",{staticClass:"progress-bar progress-bar--circular",class:{"progress-bar--error":pe.error},style:{"--progress-bar-height":pe.height+"px"},attrs:{role:"progressbar","aria-valuenow":pe.value}},[Ye("svg",{attrs:{height:pe.height,width:pe.height}},[Ye("circle",{attrs:{stroke:"currentColor",fill:"transparent","stroke-dasharray":`${pe.progress*pe.circumference} ${(1-pe.progress)*pe.circumference}`,"stroke-dashoffset":.25*pe.circumference,"stroke-width":pe.stroke,r:pe.radiusNormalized,cx:pe.radius,cy:pe.radius}}),Ye("circle",{attrs:{stroke:"var(--color-background-darker)",fill:"transparent","stroke-dasharray":`${(1-pe.progress)*pe.circumference} ${pe.progress*pe.circumference}`,"stroke-dashoffset":(.25-pe.progress)*pe.circumference,"stroke-width":pe.stroke,r:pe.radiusNormalized,cx:pe.radius,cy:pe.radius}})])]):Ye("progress",{staticClass:"progress-bar progress-bar--linear vue",class:{"progress-bar--error":pe.error},style:{"--progress-bar-height":pe.height+"px"},attrs:{max:"100"},domProps:{value:pe.value}})},we=[],nt=(0,Pe.n)(Ve,it,we,!1,null,"5e97fe1f");const dt=nt.exports},5460:(fe,Z,L)=>{"use strict";var ae,se,re,z,ue,Oe,ge,Pe,de,Le,be,Ve,it,we,nt,dt,Q,kn,Bn,Mn,jn,Vn,on,An,Nn,an,Un,ln;L.d(Z,{A:()=>le});var M=L(26368);const H=null;class oe extends Error{constructor(V){super(V),this.name="TimeoutError"}}class G extends Error{constructor(V){super(),this.name="AbortError",this.message=V}}const J=B=>globalThis.DOMException===void 0?new G(B):new DOMException(B),X=B=>{const V=B.reason===void 0?J("This operation was aborted."):B.reason;return V instanceof Error?V:J(V)};function te(B,V){const{milliseconds:k,fallback:K,message:me,customTimers:_e={setTimeout,clearTimeout}}=V;let Re;const et=new Promise((pt,ot)=>{if(typeof k!="number"||Math.sign(k)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${k}\``);if(V.signal){const{signal:bt}=V;bt.aborted&&ot(X(bt)),bt.addEventListener("abort",()=>{ot(X(bt))})}if(k===Number.POSITIVE_INFINITY){B.then(pt,ot);return}const Rt=new oe;Re=_e.setTimeout.call(void 0,()=>{if(K){try{pt(K())}catch(bt){ot(bt)}return}typeof B.cancel=="function"&&B.cancel(),me===!1?pt():me instanceof Error?ot(me):(Rt.message=me??`Promise timed out after ${k} milliseconds`,ot(Rt))},k),(async()=>{try{pt(await B)}catch(bt){ot(bt)}})()}).finally(()=>{et.clear()});return et.clear=()=>{_e.clearTimeout.call(void 0,Re),Re=void 0},et}function Y(B,V,k){let K=0,me=B.length;for(;me>0;){const _e=Math.trunc(me/2);let Re=K+_e;k(B[Re],V)<=0?(K=++Re,me-=_e+1):me=_e}return K}class ie{constructor(){Se(this,ae,[])}enqueue(V,k){k={priority:0,...k};const K={priority:k.priority,id:k.id,run:V};if(this.size===0||F(this,ae)[this.size-1].priority>=k.priority){F(this,ae).push(K);return}const me=Y(F(this,ae),K,(_e,Re)=>Re.priority-_e.priority);F(this,ae).splice(me,0,K)}setPriority(V,k){const K=F(this,ae).findIndex(_e=>_e.id===V);if(K===-1)throw new ReferenceError(`No promise function with the id "${V}" exists in the queue.`);const[me]=F(this,ae).splice(K,1);this.enqueue(me.run,{priority:k,id:V})}dequeue(){return F(this,ae).shift()?.run}filter(V){return F(this,ae).filter(k=>k.priority===V.priority).map(k=>k.run)}get size(){return F(this,ae).length}}ae=new WeakMap;class le extends M{constructor(k){super();Se(this,Q);Se(this,se);Se(this,re);Se(this,z,0);Se(this,ue);Se(this,Oe);Se(this,ge,0);Se(this,Pe);Se(this,de);Se(this,Le);Se(this,be);Se(this,Ve,0);Se(this,it);Se(this,we);Se(this,nt);Se(this,dt,1n);Ce(this,"timeout");if(k={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:ie,...k},!(typeof k.intervalCap=="number"&&k.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${k.intervalCap?.toString()??""}\` (${typeof k.intervalCap})`);if(k.interval===void 0||!(Number.isFinite(k.interval)&&k.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${k.interval?.toString()??""}\` (${typeof k.interval})`);ye(this,se,k.carryoverConcurrencyCount),ye(this,re,k.intervalCap===Number.POSITIVE_INFINITY||k.interval===0),ye(this,ue,k.intervalCap),ye(this,Oe,k.interval),ye(this,Le,new k.queueClass),ye(this,be,k.queueClass),this.concurrency=k.concurrency,this.timeout=k.timeout,ye(this,nt,k.throwOnTimeout===!0),ye(this,we,k.autoStart===!1)}get concurrency(){return F(this,it)}set concurrency(k){if(!(typeof k=="number"&&k>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${k}\` (${typeof k})`);ye(this,it,k),Xe(this,Q,an).call(this)}setPriority(k,K){F(this,Le).setPriority(k,K)}async add(k,K={}){return K.id??(K.id=(Qr(this,dt)._++).toString()),K={timeout:this.timeout,throwOnTimeout:F(this,nt),...K},new Promise((me,_e)=>{F(this,Le).enqueue(async()=>{Qr(this,Ve)._++,Qr(this,z)._++;try{K.signal?.throwIfAborted();let Re=k({signal:K.signal});K.timeout&&(Re=te(Promise.resolve(Re),{milliseconds:K.timeout})),K.signal&&(Re=Promise.race([Re,Xe(this,Q,Un).call(this,K.signal)]));const Qe=await Re;me(Qe),this.emit("completed",Qe)}catch(Re){if(Re instanceof oe&&!K.throwOnTimeout){me();return}_e(Re),this.emit("error",Re)}finally{Xe(this,Q,Mn).call(this)}},K),this.emit("add"),Xe(this,Q,on).call(this)})}async addAll(k,K){return Promise.all(k.map(async me=>this.add(me,K)))}start(){return F(this,we)?(ye(this,we,!1),Xe(this,Q,an).call(this),this):this}pause(){ye(this,we,!0)}clear(){ye(this,Le,new(F(this,be)))}async onEmpty(){F(this,Le).size!==0&&await Xe(this,Q,ln).call(this,"empty")}async onSizeLessThan(k){F(this,Le).size<k||await Xe(this,Q,ln).call(this,"next",()=>F(this,Le).size<k)}async onIdle(){F(this,Ve)===0&&F(this,Le).size===0||await Xe(this,Q,ln).call(this,"idle")}get size(){return F(this,Le).size}sizeBy(k){return F(this,Le).filter(k).length}get pending(){return F(this,Ve)}get isPaused(){return F(this,we)}}se=new WeakMap,re=new WeakMap,z=new WeakMap,ue=new WeakMap,Oe=new WeakMap,ge=new WeakMap,Pe=new WeakMap,de=new WeakMap,Le=new WeakMap,be=new WeakMap,Ve=new WeakMap,it=new WeakMap,we=new WeakMap,nt=new WeakMap,dt=new WeakMap,Q=new WeakSet,kn=function(){return F(this,re)||F(this,z)<F(this,ue)},Bn=function(){return F(this,Ve)<F(this,it)},Mn=function(){Qr(this,Ve)._--,Xe(this,Q,on).call(this),this.emit("next")},jn=function(){Xe(this,Q,Nn).call(this),Xe(this,Q,An).call(this),ye(this,de,void 0)},Vn=function(){const k=Date.now();if(F(this,Pe)===void 0){const K=F(this,ge)-k;if(K<0)ye(this,z,F(this,se)?F(this,Ve):0);else return F(this,de)===void 0&&ye(this,de,setTimeout(()=>{Xe(this,Q,jn).call(this)},K)),!0}return!1},on=function(){if(F(this,Le).size===0)return F(this,Pe)&&clearInterval(F(this,Pe)),ye(this,Pe,void 0),this.emit("empty"),F(this,Ve)===0&&this.emit("idle"),!1;if(!F(this,we)){const k=!F(this,Q,Vn);if(F(this,Q,kn)&&F(this,Q,Bn)){const K=F(this,Le).dequeue();return K?(this.emit("active"),K(),k&&Xe(this,Q,An).call(this),!0):!1}}return!1},An=function(){F(this,re)||F(this,Pe)!==void 0||(ye(this,Pe,setInterval(()=>{Xe(this,Q,Nn).call(this)},F(this,Oe))),ye(this,ge,Date.now()+F(this,Oe)))},Nn=function(){F(this,z)===0&&F(this,Ve)===0&&F(this,Pe)&&(clearInterval(F(this,Pe)),ye(this,Pe,void 0)),ye(this,z,F(this,se)?F(this,Ve):0),Xe(this,Q,an).call(this)},an=function(){for(;Xe(this,Q,on).call(this););},Un=async function(k){return new Promise((K,me)=>{k.addEventListener("abort",()=>{me(k.reason)},{once:!0})})},ln=async function(k,K){return new Promise(me=>{const _e=()=>{K&&!K()||(this.off(k,_e),me())};this.on(k,_e)})}},44719:(fe,Z,L)=>{"use strict";var rt,lt,Mt,je,Ze,Ht,Kt,Ct,xt,Tt,rr,jt,Dn,Et,un,Cn,zn;L.d(Z,{Gu:()=>wn,UU:()=>bn});var M=L(65606);/*! For license information please see index.js.LICENSE.txt */var H={2:s=>{function r(u,l,g){u instanceof RegExp&&(u=n(u,g)),l instanceof RegExp&&(l=n(l,g));var h=i(u,l,g);return h&&{start:h[0],end:h[1],pre:g.slice(0,h[0]),body:g.slice(h[0]+u.length,h[1]),post:g.slice(h[1]+l.length)}}function n(u,l){var g=l.match(u);return g?g[0]:null}function i(u,l,g){var h,A,c,a,v,d=g.indexOf(u),E=g.indexOf(l,d+1),N=d;if(d>=0&&E>0){for(h=[],c=g.length;N>=0&&!v;)N==d?(h.push(N),d=g.indexOf(u,N+1)):h.length==1?v=[h.pop(),E]:((A=h.pop())<c&&(c=A,a=E),E=g.indexOf(l,N+1)),N=d<E&&d>=0?d:E;h.length&&(v=[c,a])}return v}s.exports=r,r.range=i},101:function(s,r,n){var i;s=n.nmd(s),function(u){var l=(s&&s.exports,typeof global=="object"&&global);l.global!==l&&l.window;var g=function(v){this.message=v};(g.prototype=new Error).name="InvalidCharacterError";var h=function(v){throw new g(v)},A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=/[\t\n\f\r ]/g,a={encode:function(v){v=String(v),/[^\0-\xFF]/.test(v)&&h("The string to be encoded contains characters outside of the Latin1 range.");for(var d,E,N,y,C=v.length%3,R="",b=-1,P=v.length-C;++b<P;)d=v.charCodeAt(b)<<16,E=v.charCodeAt(++b)<<8,N=v.charCodeAt(++b),R+=A.charAt((y=d+E+N)>>18&63)+A.charAt(y>>12&63)+A.charAt(y>>6&63)+A.charAt(63&y);return C==2?(d=v.charCodeAt(b)<<8,E=v.charCodeAt(++b),R+=A.charAt((y=d+E)>>10)+A.charAt(y>>4&63)+A.charAt(y<<2&63)+"="):C==1&&(y=v.charCodeAt(b),R+=A.charAt(y>>2)+A.charAt(y<<4&63)+"=="),R},decode:function(v){var d=(v=String(v).replace(c,"")).length;d%4==0&&(d=(v=v.replace(/==?$/,"")).length),(d%4==1||/[^+a-zA-Z0-9/]/.test(v))&&h("Invalid character: the string to be decoded is not correctly encoded.");for(var E,N,y=0,C="",R=-1;++R<d;)N=A.indexOf(v.charAt(R)),E=y%4?64*E+N:N,y++%4&&(C+=String.fromCharCode(255&E>>(-2*y&6)));return C},version:"1.0.0"};(i=function(){return a}.call(r,n,r,s))===void 0||(s.exports=i)}()},172:(s,r)=>{r.d=function(n){if(!n)return 0;for(var i=(n=n.toString()).length,u=n.length;u--;){var l=n.charCodeAt(u);56320<=l&&l<=57343&&u--,127<l&&l<=2047?i++:2047<l&&l<=65535&&(i+=2)}return i}},526:s=>{var r={utf8:{stringToBytes:function(n){return r.bin.stringToBytes(unescape(encodeURIComponent(n)))},bytesToString:function(n){return decodeURIComponent(escape(r.bin.bytesToString(n)))}},bin:{stringToBytes:function(n){for(var i=[],u=0;u<n.length;u++)i.push(255&n.charCodeAt(u));return i},bytesToString:function(n){for(var i=[],u=0;u<n.length;u++)i.push(String.fromCharCode(n[u]));return i.join("")}}};s.exports=r},298:s=>{var r,n;r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(i,u){return i<<u|i>>>32-u},rotr:function(i,u){return i<<32-u|i>>>u},endian:function(i){if(i.constructor==Number)return 16711935&n.rotl(i,8)|4278255360&n.rotl(i,24);for(var u=0;u<i.length;u++)i[u]=n.endian(i[u]);return i},randomBytes:function(i){for(var u=[];i>0;i--)u.push(Math.floor(256*Math.random()));return u},bytesToWords:function(i){for(var u=[],l=0,g=0;l<i.length;l++,g+=8)u[g>>>5]|=i[l]<<24-g%32;return u},wordsToBytes:function(i){for(var u=[],l=0;l<32*i.length;l+=8)u.push(i[l>>>5]>>>24-l%32&255);return u},bytesToHex:function(i){for(var u=[],l=0;l<i.length;l++)u.push((i[l]>>>4).toString(16)),u.push((15&i[l]).toString(16));return u.join("")},hexToBytes:function(i){for(var u=[],l=0;l<i.length;l+=2)u.push(parseInt(i.substr(l,2),16));return u},bytesToBase64:function(i){for(var u=[],l=0;l<i.length;l+=3)for(var g=i[l]<<16|i[l+1]<<8|i[l+2],h=0;h<4;h++)8*l+6*h<=8*i.length?u.push(r.charAt(g>>>6*(3-h)&63)):u.push("=");return u.join("")},base64ToBytes:function(i){i=i.replace(/[^A-Z0-9+\/]/gi,"");for(var u=[],l=0,g=0;l<i.length;g=++l%4)g!=0&&u.push((r.indexOf(i.charAt(l-1))&Math.pow(2,-2*g+8)-1)<<2*g|r.indexOf(i.charAt(l))>>>6-2*g);return u}},s.exports=n},635:(s,r,n)=>{const i=n(31),u=n(338),l=n(221);s.exports={XMLParser:u,XMLValidator:i,XMLBuilder:l}},705:(s,r)=>{const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",i="["+n+"]["+n+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",u=new RegExp("^"+i+"$");r.isExist=function(l){return l!==void 0},r.isEmptyObject=function(l){return Object.keys(l).length===0},r.merge=function(l,g,h){if(g){const A=Object.keys(g),c=A.length;for(let a=0;a<c;a++)l[A[a]]=h==="strict"?[g[A[a]]]:g[A[a]]}},r.getValue=function(l){return r.isExist(l)?l:""},r.isName=function(l){return u.exec(l)!=null},r.getAllMatches=function(l,g){const h=[];let A=g.exec(l);for(;A;){const c=[];c.startIndex=g.lastIndex-A[0].length;const a=A.length;for(let v=0;v<a;v++)c.push(A[v]);h.push(c),A=g.exec(l)}return h},r.nameRegexp=i},31:(s,r,n)=>{const i=n(705),u={allowBooleanAttributes:!1,unpairedTags:[]};function l(b){return b===" "||b==="	"||b===`
`||b==="\r"}function g(b,P){const $=P;for(;P<b.length;P++)if(!(b[P]!="?"&&b[P]!=" ")){const e=b.substr($,P-$);if(P>5&&e==="xml")return N("InvalidXml","XML declaration allowed only at the start of the document.",C(b,P));if(b[P]=="?"&&b[P+1]==">"){P++;break}}return P}function h(b,P){if(b.length>P+5&&b[P+1]==="-"&&b[P+2]==="-"){for(P+=3;P<b.length;P++)if(b[P]==="-"&&b[P+1]==="-"&&b[P+2]===">"){P+=2;break}}else if(b.length>P+8&&b[P+1]==="D"&&b[P+2]==="O"&&b[P+3]==="C"&&b[P+4]==="T"&&b[P+5]==="Y"&&b[P+6]==="P"&&b[P+7]==="E"){let $=1;for(P+=8;P<b.length;P++)if(b[P]==="<")$++;else if(b[P]===">"&&($--,$===0))break}else if(b.length>P+9&&b[P+1]==="["&&b[P+2]==="C"&&b[P+3]==="D"&&b[P+4]==="A"&&b[P+5]==="T"&&b[P+6]==="A"&&b[P+7]==="["){for(P+=8;P<b.length;P++)if(b[P]==="]"&&b[P+1]==="]"&&b[P+2]===">"){P+=2;break}}return P}r.validate=function(b,P){P=Object.assign({},u,P);const $=[];let e=!1,t=!1;b[0]==="\uFEFF"&&(b=b.substr(1));for(let f=0;f<b.length;f++)if(b[f]==="<"&&b[f+1]==="?"){if(f+=2,f=g(b,f),f.err)return f}else{if(b[f]!=="<"){if(l(b[f]))continue;return N("InvalidChar","char '"+b[f]+"' is not expected.",C(b,f))}{let p=f;if(f++,b[f]==="!"){f=h(b,f);continue}{let _=!1;b[f]==="/"&&(_=!0,f++);let O="";for(;f<b.length&&b[f]!==">"&&b[f]!==" "&&b[f]!=="	"&&b[f]!==`
`&&b[f]!=="\r";f++)O+=b[f];if(O=O.trim(),O[O.length-1]==="/"&&(O=O.substring(0,O.length-1),f--),o=O,!i.isName(o)){let S;return S=O.trim().length===0?"Invalid space after '<'.":"Tag '"+O+"' is an invalid name.",N("InvalidTag",S,C(b,f))}const T=a(b,f);if(T===!1)return N("InvalidAttr","Attributes for '"+O+"' have open quote.",C(b,f));let m=T.value;if(f=T.index,m[m.length-1]==="/"){const S=f-m.length;m=m.substring(0,m.length-1);const U=d(m,P);if(U!==!0)return N(U.err.code,U.err.msg,C(b,S+U.err.line));e=!0}else if(_){if(!T.tagClosed)return N("InvalidTag","Closing tag '"+O+"' doesn't have proper closing.",C(b,f));if(m.trim().length>0)return N("InvalidTag","Closing tag '"+O+"' can't have attributes or invalid starting.",C(b,p));if($.length===0)return N("InvalidTag","Closing tag '"+O+"' has not been opened.",C(b,p));{const S=$.pop();if(O!==S.tagName){let U=C(b,S.tagStartPos);return N("InvalidTag","Expected closing tag '"+S.tagName+"' (opened in line "+U.line+", col "+U.col+") instead of closing tag '"+O+"'.",C(b,p))}$.length==0&&(t=!0)}}else{const S=d(m,P);if(S!==!0)return N(S.err.code,S.err.msg,C(b,f-m.length+S.err.line));if(t===!0)return N("InvalidXml","Multiple possible root nodes found.",C(b,f));P.unpairedTags.indexOf(O)!==-1||$.push({tagName:O,tagStartPos:p}),e=!0}for(f++;f<b.length;f++)if(b[f]==="<"){if(b[f+1]==="!"){f++,f=h(b,f);continue}if(b[f+1]!=="?")break;if(f=g(b,++f),f.err)return f}else if(b[f]==="&"){const S=E(b,f);if(S==-1)return N("InvalidChar","char '&' is not expected.",C(b,f));f=S}else if(t===!0&&!l(b[f]))return N("InvalidXml","Extra text at the end",C(b,f));b[f]==="<"&&f--}}}var o;return e?$.length==1?N("InvalidTag","Unclosed tag '"+$[0].tagName+"'.",C(b,$[0].tagStartPos)):!($.length>0)||N("InvalidXml","Invalid '"+JSON.stringify($.map(f=>f.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):N("InvalidXml","Start tag expected.",1)};const A='"',c="'";function a(b,P){let $="",e="",t=!1;for(;P<b.length;P++){if(b[P]===A||b[P]===c)e===""?e=b[P]:e!==b[P]||(e="");else if(b[P]===">"&&e===""){t=!0;break}$+=b[P]}return e===""&&{value:$,index:P,tagClosed:t}}const v=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function d(b,P){const $=i.getAllMatches(b,v),e={};for(let t=0;t<$.length;t++){if($[t][1].length===0)return N("InvalidAttr","Attribute '"+$[t][2]+"' has no space in starting.",R($[t]));if($[t][3]!==void 0&&$[t][4]===void 0)return N("InvalidAttr","Attribute '"+$[t][2]+"' is without value.",R($[t]));if($[t][3]===void 0&&!P.allowBooleanAttributes)return N("InvalidAttr","boolean attribute '"+$[t][2]+"' is not allowed.",R($[t]));const o=$[t][2];if(!y(o))return N("InvalidAttr","Attribute '"+o+"' is an invalid name.",R($[t]));if(e.hasOwnProperty(o))return N("InvalidAttr","Attribute '"+o+"' is repeated.",R($[t]));e[o]=1}return!0}function E(b,P){if(b[++P]===";")return-1;if(b[P]==="#")return function(e,t){let o=/\d/;for(e[t]==="x"&&(t++,o=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(o))break}return-1}(b,++P);let $=0;for(;P<b.length;P++,$++)if(!(b[P].match(/\w/)&&$<20)){if(b[P]===";")break;return-1}return P}function N(b,P,$){return{err:{code:b,msg:P,line:$.line||$,col:$.col}}}function y(b){return i.isName(b)}function C(b,P){const $=b.substring(0,P).split(/\r?\n/);return{line:$.length,col:$[$.length-1].length+1}}function R(b){return b.startIndex+b[1].length}},221:(s,r,n)=>{const i=n(87),u={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(c,a){return a},attributeValueProcessor:function(c,a){return a},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function l(c){this.options=Object.assign({},u,c),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=A),this.processTextOrObjNode=g,this.options.format?(this.indentate=h,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function g(c,a,v){const d=this.j2x(c,v+1);return c[this.options.textNodeName]!==void 0&&Object.keys(c).length===1?this.buildTextValNode(c[this.options.textNodeName],a,d.attrStr,v):this.buildObjectNode(d.val,a,d.attrStr,v)}function h(c){return this.options.indentBy.repeat(c)}function A(c){return!(!c.startsWith(this.options.attributeNamePrefix)||c===this.options.textNodeName)&&c.substr(this.attrPrefixLen)}l.prototype.build=function(c){return this.options.preserveOrder?i(c,this.options):(Array.isArray(c)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(c={[this.options.arrayNodeName]:c}),this.j2x(c,0).val)},l.prototype.j2x=function(c,a){let v="",d="";for(let E in c)if(Object.prototype.hasOwnProperty.call(c,E))if(c[E]===void 0)this.isAttribute(E)&&(d+="");else if(c[E]===null)this.isAttribute(E)?d+="":E[0]==="?"?d+=this.indentate(a)+"<"+E+"?"+this.tagEndChar:d+=this.indentate(a)+"<"+E+"/"+this.tagEndChar;else if(c[E]instanceof Date)d+=this.buildTextValNode(c[E],E,"",a);else if(typeof c[E]!="object"){const N=this.isAttribute(E);if(N)v+=this.buildAttrPairStr(N,""+c[E]);else if(E===this.options.textNodeName){let y=this.options.tagValueProcessor(E,""+c[E]);d+=this.replaceEntitiesValue(y)}else d+=this.buildTextValNode(c[E],E,"",a)}else if(Array.isArray(c[E])){const N=c[E].length;let y="",C="";for(let R=0;R<N;R++){const b=c[E][R];if(b!==void 0)if(b===null)E[0]==="?"?d+=this.indentate(a)+"<"+E+"?"+this.tagEndChar:d+=this.indentate(a)+"<"+E+"/"+this.tagEndChar;else if(typeof b=="object")if(this.options.oneListGroup){const P=this.j2x(b,a+1);y+=P.val,this.options.attributesGroupName&&b.hasOwnProperty(this.options.attributesGroupName)&&(C+=P.attrStr)}else y+=this.processTextOrObjNode(b,E,a);else if(this.options.oneListGroup){let P=this.options.tagValueProcessor(E,b);P=this.replaceEntitiesValue(P),y+=P}else y+=this.buildTextValNode(b,E,"",a)}this.options.oneListGroup&&(y=this.buildObjectNode(y,E,C,a)),d+=y}else if(this.options.attributesGroupName&&E===this.options.attributesGroupName){const N=Object.keys(c[E]),y=N.length;for(let C=0;C<y;C++)v+=this.buildAttrPairStr(N[C],""+c[E][N[C]])}else d+=this.processTextOrObjNode(c[E],E,a);return{attrStr:v,val:d}},l.prototype.buildAttrPairStr=function(c,a){return a=this.options.attributeValueProcessor(c,""+a),a=this.replaceEntitiesValue(a),this.options.suppressBooleanAttributes&&a==="true"?" "+c:" "+c+'="'+a+'"'},l.prototype.buildObjectNode=function(c,a,v,d){if(c==="")return a[0]==="?"?this.indentate(d)+"<"+a+v+"?"+this.tagEndChar:this.indentate(d)+"<"+a+v+this.closeTag(a)+this.tagEndChar;{let E="</"+a+this.tagEndChar,N="";return a[0]==="?"&&(N="?",E=""),!v&&v!==""||c.indexOf("<")!==-1?this.options.commentPropName!==!1&&a===this.options.commentPropName&&N.length===0?this.indentate(d)+`<!--${c}-->`+this.newLine:this.indentate(d)+"<"+a+v+N+this.tagEndChar+c+this.indentate(d)+E:this.indentate(d)+"<"+a+v+N+">"+c+E}},l.prototype.closeTag=function(c){let a="";return this.options.unpairedTags.indexOf(c)!==-1?this.options.suppressUnpairedNode||(a="/"):a=this.options.suppressEmptyNode?"/":`></${c}`,a},l.prototype.buildTextValNode=function(c,a,v,d){if(this.options.cdataPropName!==!1&&a===this.options.cdataPropName)return this.indentate(d)+`<![CDATA[${c}]]>`+this.newLine;if(this.options.commentPropName!==!1&&a===this.options.commentPropName)return this.indentate(d)+`<!--${c}-->`+this.newLine;if(a[0]==="?")return this.indentate(d)+"<"+a+v+"?"+this.tagEndChar;{let E=this.options.tagValueProcessor(a,c);return E=this.replaceEntitiesValue(E),E===""?this.indentate(d)+"<"+a+v+this.closeTag(a)+this.tagEndChar:this.indentate(d)+"<"+a+v+">"+E+"</"+a+this.tagEndChar}},l.prototype.replaceEntitiesValue=function(c){if(c&&c.length>0&&this.options.processEntities)for(let a=0;a<this.options.entities.length;a++){const v=this.options.entities[a];c=c.replace(v.regex,v.val)}return c},s.exports=l},87:s=>{function r(g,h,A,c){let a="",v=!1;for(let d=0;d<g.length;d++){const E=g[d],N=n(E);if(N===void 0)continue;let y="";if(y=A.length===0?N:`${A}.${N}`,N===h.textNodeName){let P=E[N];u(y,h)||(P=h.tagValueProcessor(N,P),P=l(P,h)),v&&(a+=c),a+=P,v=!1;continue}if(N===h.cdataPropName){v&&(a+=c),a+=`<![CDATA[${E[N][0][h.textNodeName]}]]>`,v=!1;continue}if(N===h.commentPropName){a+=c+`<!--${E[N][0][h.textNodeName]}-->`,v=!0;continue}if(N[0]==="?"){const P=i(E[":@"],h),$=N==="?xml"?"":c;let e=E[N][0][h.textNodeName];e=e.length!==0?" "+e:"",a+=$+`<${N}${e}${P}?>`,v=!0;continue}let C=c;C!==""&&(C+=h.indentBy);const R=c+`<${N}${i(E[":@"],h)}`,b=r(E[N],h,y,C);h.unpairedTags.indexOf(N)!==-1?h.suppressUnpairedNode?a+=R+">":a+=R+"/>":b&&b.length!==0||!h.suppressEmptyNode?b&&b.endsWith(">")?a+=R+`>${b}${c}</${N}>`:(a+=R+">",b&&c!==""&&(b.includes("/>")||b.includes("</"))?a+=c+h.indentBy+b+c:a+=b,a+=`</${N}>`):a+=R+"/>",v=!0}return a}function n(g){const h=Object.keys(g);for(let A=0;A<h.length;A++){const c=h[A];if(g.hasOwnProperty(c)&&c!==":@")return c}}function i(g,h){let A="";if(g&&!h.ignoreAttributes)for(let c in g){if(!g.hasOwnProperty(c))continue;let a=h.attributeValueProcessor(c,g[c]);a=l(a,h),a===!0&&h.suppressBooleanAttributes?A+=` ${c.substr(h.attributeNamePrefix.length)}`:A+=` ${c.substr(h.attributeNamePrefix.length)}="${a}"`}return A}function u(g,h){let A=(g=g.substr(0,g.length-h.textNodeName.length-1)).substr(g.lastIndexOf(".")+1);for(let c in h.stopNodes)if(h.stopNodes[c]===g||h.stopNodes[c]==="*."+A)return!0;return!1}function l(g,h){if(g&&g.length>0&&h.processEntities)for(let A=0;A<h.entities.length;A++){const c=h.entities[A];g=g.replace(c.regex,c.val)}return g}s.exports=function(g,h){let A="";return h.format&&h.indentBy.length>0&&(A=`
`),r(g,h,"",A)}},193:(s,r,n)=>{const i=n(705);function u(v,d){let E="";for(;d<v.length&&v[d]!=="'"&&v[d]!=='"';d++)E+=v[d];if(E=E.trim(),E.indexOf(" ")!==-1)throw new Error("External entites are not supported");const N=v[d++];let y="";for(;d<v.length&&v[d]!==N;d++)y+=v[d];return[E,y,d]}function l(v,d){return v[d+1]==="!"&&v[d+2]==="-"&&v[d+3]==="-"}function g(v,d){return v[d+1]==="!"&&v[d+2]==="E"&&v[d+3]==="N"&&v[d+4]==="T"&&v[d+5]==="I"&&v[d+6]==="T"&&v[d+7]==="Y"}function h(v,d){return v[d+1]==="!"&&v[d+2]==="E"&&v[d+3]==="L"&&v[d+4]==="E"&&v[d+5]==="M"&&v[d+6]==="E"&&v[d+7]==="N"&&v[d+8]==="T"}function A(v,d){return v[d+1]==="!"&&v[d+2]==="A"&&v[d+3]==="T"&&v[d+4]==="T"&&v[d+5]==="L"&&v[d+6]==="I"&&v[d+7]==="S"&&v[d+8]==="T"}function c(v,d){return v[d+1]==="!"&&v[d+2]==="N"&&v[d+3]==="O"&&v[d+4]==="T"&&v[d+5]==="A"&&v[d+6]==="T"&&v[d+7]==="I"&&v[d+8]==="O"&&v[d+9]==="N"}function a(v){if(i.isName(v))return v;throw new Error(`Invalid entity name ${v}`)}s.exports=function(v,d){const E={};if(v[d+3]!=="O"||v[d+4]!=="C"||v[d+5]!=="T"||v[d+6]!=="Y"||v[d+7]!=="P"||v[d+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{d+=9;let N=1,y=!1,C=!1,R="";for(;d<v.length;d++)if(v[d]!=="<"||C)if(v[d]===">"){if(C?v[d-1]==="-"&&v[d-2]==="-"&&(C=!1,N--):N--,N===0)break}else v[d]==="["?y=!0:R+=v[d];else{if(y&&g(v,d))d+=7,[entityName,val,d]=u(v,d+1),val.indexOf("&")===-1&&(E[a(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(y&&h(v,d))d+=8;else if(y&&A(v,d))d+=8;else if(y&&c(v,d))d+=9;else{if(!l)throw new Error("Invalid DOCTYPE");C=!0}N++,R=""}if(N!==0)throw new Error("Unclosed DOCTYPE")}return{entities:E,i:d}}},63:(s,r)=>{const n={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(i,u){return u},attributeValueProcessor:function(i,u){return u},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(i,u,l){return i}};r.buildOptions=function(i){return Object.assign({},n,i)},r.defaultOptions=n},299:(s,r,n)=>{const i=n(705),u=n(365),l=n(193),g=n(494);function h(e){const t=Object.keys(e);for(let o=0;o<t.length;o++){const f=t[o];this.lastEntities[f]={regex:new RegExp("&"+f+";","g"),val:e[f]}}}function A(e,t,o,f,p,_,O){if(e!==void 0&&(this.options.trimValues&&!f&&(e=e.trim()),e.length>0)){O||(e=this.replaceEntitiesValue(e));const T=this.options.tagValueProcessor(t,e,o,p,_);return T==null?e:typeof T!=typeof e||T!==e?T:this.options.trimValues||e.trim()===e?$(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function c(e){if(this.options.removeNSPrefix){const t=e.split(":"),o=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=o+t[1])}return e}const a=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function v(e,t,o){if(!this.options.ignoreAttributes&&typeof e=="string"){const f=i.getAllMatches(e,a),p=f.length,_={};for(let O=0;O<p;O++){const T=this.resolveNameSpace(f[O][1]);let m=f[O][4],S=this.options.attributeNamePrefix+T;if(T.length)if(this.options.transformAttributeName&&(S=this.options.transformAttributeName(S)),S==="__proto__"&&(S="#__proto__"),m!==void 0){this.options.trimValues&&(m=m.trim()),m=this.replaceEntitiesValue(m);const U=this.options.attributeValueProcessor(T,m,t);_[S]=U==null?m:typeof U!=typeof m||U!==m?U:$(m,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(_[S]=!0)}if(!Object.keys(_).length)return;if(this.options.attributesGroupName){const O={};return O[this.options.attributesGroupName]=_,O}return _}}const d=function(e){e=e.replace(/\r\n?/g,`
`);const t=new u("!xml");let o=t,f="",p="";for(let _=0;_<e.length;_++)if(e[_]==="<")if(e[_+1]==="/"){const O=R(e,">",_,"Closing Tag is not closed.");let T=e.substring(_+2,O).trim();if(this.options.removeNSPrefix){const U=T.indexOf(":");U!==-1&&(T=T.substr(U+1))}this.options.transformTagName&&(T=this.options.transformTagName(T)),o&&(f=this.saveTextToParentTag(f,o,p));const m=p.substring(p.lastIndexOf(".")+1);if(T&&this.options.unpairedTags.indexOf(T)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${T}>`);let S=0;m&&this.options.unpairedTags.indexOf(m)!==-1?(S=p.lastIndexOf(".",p.lastIndexOf(".")-1),this.tagsNodeStack.pop()):S=p.lastIndexOf("."),p=p.substring(0,S),o=this.tagsNodeStack.pop(),f="",_=O}else if(e[_+1]==="?"){let O=b(e,_,!1,"?>");if(!O)throw new Error("Pi Tag is not closed.");if(f=this.saveTextToParentTag(f,o,p),!(this.options.ignoreDeclaration&&O.tagName==="?xml"||this.options.ignorePiTags)){const T=new u(O.tagName);T.add(this.options.textNodeName,""),O.tagName!==O.tagExp&&O.attrExpPresent&&(T[":@"]=this.buildAttributesMap(O.tagExp,p,O.tagName)),this.addChild(o,T,p)}_=O.closeIndex+1}else if(e.substr(_+1,3)==="!--"){const O=R(e,"-->",_+4,"Comment is not closed.");if(this.options.commentPropName){const T=e.substring(_+4,O-2);f=this.saveTextToParentTag(f,o,p),o.add(this.options.commentPropName,[{[this.options.textNodeName]:T}])}_=O}else if(e.substr(_+1,2)==="!D"){const O=l(e,_);this.docTypeEntities=O.entities,_=O.i}else if(e.substr(_+1,2)==="!["){const O=R(e,"]]>",_,"CDATA is not closed.")-2,T=e.substring(_+9,O);f=this.saveTextToParentTag(f,o,p);let m=this.parseTextData(T,o.tagname,p,!0,!1,!0,!0);m==null&&(m=""),this.options.cdataPropName?o.add(this.options.cdataPropName,[{[this.options.textNodeName]:T}]):o.add(this.options.textNodeName,m),_=O+2}else{let O=b(e,_,this.options.removeNSPrefix),T=O.tagName;const m=O.rawTagName;let S=O.tagExp,U=O.attrExpPresent,ne=O.closeIndex;this.options.transformTagName&&(T=this.options.transformTagName(T)),o&&f&&o.tagname!=="!xml"&&(f=this.saveTextToParentTag(f,o,p,!1));const ce=o;if(ce&&this.options.unpairedTags.indexOf(ce.tagname)!==-1&&(o=this.tagsNodeStack.pop(),p=p.substring(0,p.lastIndexOf("."))),T!==t.tagname&&(p+=p?"."+T:T),this.isItStopNode(this.options.stopNodes,p,T)){let he="";if(S.length>0&&S.lastIndexOf("/")===S.length-1)T[T.length-1]==="/"?(T=T.substr(0,T.length-1),p=p.substr(0,p.length-1),S=T):S=S.substr(0,S.length-1),_=O.closeIndex;else if(this.options.unpairedTags.indexOf(T)!==-1)_=O.closeIndex;else{const Me=this.readStopNodeData(e,m,ne+1);if(!Me)throw new Error(`Unexpected end of ${m}`);_=Me.i,he=Me.tagContent}const W=new u(T);T!==S&&U&&(W[":@"]=this.buildAttributesMap(S,p,T)),he&&(he=this.parseTextData(he,T,p,!0,U,!0,!0)),p=p.substr(0,p.lastIndexOf(".")),W.add(this.options.textNodeName,he),this.addChild(o,W,p)}else{if(S.length>0&&S.lastIndexOf("/")===S.length-1){T[T.length-1]==="/"?(T=T.substr(0,T.length-1),p=p.substr(0,p.length-1),S=T):S=S.substr(0,S.length-1),this.options.transformTagName&&(T=this.options.transformTagName(T));const he=new u(T);T!==S&&U&&(he[":@"]=this.buildAttributesMap(S,p,T)),this.addChild(o,he,p),p=p.substr(0,p.lastIndexOf("."))}else{const he=new u(T);this.tagsNodeStack.push(o),T!==S&&U&&(he[":@"]=this.buildAttributesMap(S,p,T)),this.addChild(o,he,p),o=he}f="",_=ne}}else f+=e[_];return t.child};function E(e,t,o){const f=this.options.updateTag(t.tagname,o,t[":@"]);f===!1||(typeof f=="string"&&(t.tagname=f),e.addChild(t))}const N=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const o=this.docTypeEntities[t];e=e.replace(o.regx,o.val)}for(let t in this.lastEntities){const o=this.lastEntities[t];e=e.replace(o.regex,o.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const o=this.htmlEntities[t];e=e.replace(o.regex,o.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function y(e,t,o,f){return e&&(f===void 0&&(f=Object.keys(t.child).length===0),(e=this.parseTextData(e,t.tagname,o,!1,!!t[":@"]&&Object.keys(t[":@"]).length!==0,f))!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function C(e,t,o){const f="*."+o;for(const p in e){const _=e[p];if(f===_||t===_)return!0}return!1}function R(e,t,o,f){const p=e.indexOf(t,o);if(p===-1)throw new Error(f);return p+t.length-1}function b(e,t,o){const f=function(U,ne){let ce,he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:">",W="";for(let Me=ne;Me<U.length;Me++){let Ee=U[Me];if(ce)Ee===ce&&(ce="");else if(Ee==='"'||Ee==="'")ce=Ee;else if(Ee===he[0]){if(!he[1])return{data:W,index:Me};if(U[Me+1]===he[1])return{data:W,index:Me}}else Ee==="	"&&(Ee=" ");W+=Ee}}(e,t+1,arguments.length>3&&arguments[3]!==void 0?arguments[3]:">");if(!f)return;let p=f.data;const _=f.index,O=p.search(/\s/);let T=p,m=!0;O!==-1&&(T=p.substring(0,O),p=p.substring(O+1).trimStart());const S=T;if(o){const U=T.indexOf(":");U!==-1&&(T=T.substr(U+1),m=T!==f.data.substr(U+1))}return{tagName:T,tagExp:p,closeIndex:_,attrExpPresent:m,rawTagName:S}}function P(e,t,o){const f=o;let p=1;for(;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="/"){const _=R(e,">",o,`${t} is not closed`);if(e.substring(o+2,_).trim()===t&&(p--,p===0))return{tagContent:e.substring(f,o),i:_};o=_}else if(e[o+1]==="?")o=R(e,"?>",o+1,"StopNode is not closed.");else if(e.substr(o+1,3)==="!--")o=R(e,"-->",o+3,"StopNode is not closed.");else if(e.substr(o+1,2)==="![")o=R(e,"]]>",o,"StopNode is not closed.")-2;else{const _=b(e,o,">");_&&((_&&_.tagName)===t&&_.tagExp[_.tagExp.length-1]!=="/"&&p++,o=_.closeIndex)}}function $(e,t,o){if(t&&typeof e=="string"){const f=e.trim();return f==="true"||f!=="false"&&g(e,o)}return i.isExist(e)?e:""}s.exports=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(t,o)=>String.fromCharCode(Number.parseInt(o,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(t,o)=>String.fromCharCode(Number.parseInt(o,16))}},this.addExternalEntities=h,this.parseXml=d,this.parseTextData=A,this.resolveNameSpace=c,this.buildAttributesMap=v,this.isItStopNode=C,this.replaceEntitiesValue=N,this.readStopNodeData=P,this.saveTextToParentTag=y,this.addChild=E}}},338:(s,r,n)=>{const{buildOptions:i}=n(63),u=n(299),{prettify:l}=n(728),g=n(31);s.exports=class{constructor(h){this.externalEntities={},this.options=i(h)}parse(h,A){if(typeof h!="string"){if(!h.toString)throw new Error("XML data is accepted in String or Bytes[] form.");h=h.toString()}if(A){A===!0&&(A={});const v=g.validate(h,A);if(v!==!0)throw Error(`${v.err.msg}:${v.err.line}:${v.err.col}`)}const c=new u(this.options);c.addExternalEntities(this.externalEntities);const a=c.parseXml(h);return this.options.preserveOrder||a===void 0?a:l(a,this.options)}addEntity(h,A){if(A.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(h.indexOf("&")!==-1||h.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(A==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[h]=A}}},728:(s,r)=>{function n(g,h,A){let c;const a={};for(let v=0;v<g.length;v++){const d=g[v],E=i(d);let N="";if(N=A===void 0?E:A+"."+E,E===h.textNodeName)c===void 0?c=d[E]:c+=""+d[E];else{if(E===void 0)continue;if(d[E]){let y=n(d[E],h,N);const C=l(y,h);d[":@"]?u(y,d[":@"],N,h):Object.keys(y).length!==1||y[h.textNodeName]===void 0||h.alwaysCreateTextNode?Object.keys(y).length===0&&(h.alwaysCreateTextNode?y[h.textNodeName]="":y=""):y=y[h.textNodeName],a[E]!==void 0&&a.hasOwnProperty(E)?(Array.isArray(a[E])||(a[E]=[a[E]]),a[E].push(y)):h.isArray(E,N,C)?a[E]=[y]:a[E]=y}}}return typeof c=="string"?c.length>0&&(a[h.textNodeName]=c):c!==void 0&&(a[h.textNodeName]=c),a}function i(g){const h=Object.keys(g);for(let A=0;A<h.length;A++){const c=h[A];if(c!==":@")return c}}function u(g,h,A,c){if(h){const a=Object.keys(h),v=a.length;for(let d=0;d<v;d++){const E=a[d];c.isArray(E,A+"."+E,!0,!0)?g[E]=[h[E]]:g[E]=h[E]}}}function l(g,h){const{textNodeName:A}=h,c=Object.keys(g).length;return c===0||!(c!==1||!g[A]&&typeof g[A]!="boolean"&&g[A]!==0)}r.prettify=function(g,h){return n(g,h)}},365:s=>{s.exports=class{constructor(r){this.tagname=r,this.child=[],this[":@"]={}}add(r,n){r==="__proto__"&&(r="#__proto__"),this.child.push({[r]:n})}addChild(r){r.tagname==="__proto__"&&(r.tagname="#__proto__"),r[":@"]&&Object.keys(r[":@"]).length>0?this.child.push({[r.tagname]:r.child,":@":r[":@"]}):this.child.push({[r.tagname]:r.child})}}},135:s=>{function r(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}s.exports=function(n){return n!=null&&(r(n)||function(i){return typeof i.readFloatLE=="function"&&typeof i.slice=="function"&&r(i.slice(0,0))}(n)||!!n._isBuffer)}},542:(s,r,n)=>{(function(){var i=n(298),u=n(526).utf8,l=n(135),g=n(526).bin,h=function(A,c){A.constructor==String?A=c&&c.encoding==="binary"?g.stringToBytes(A):u.stringToBytes(A):l(A)?A=Array.prototype.slice.call(A,0):Array.isArray(A)||A.constructor===Uint8Array||(A=A.toString());for(var a=i.bytesToWords(A),v=8*A.length,d=1732584193,E=-271733879,N=-1732584194,y=271733878,C=0;C<a.length;C++)a[C]=16711935&(a[C]<<8|a[C]>>>24)|4278255360&(a[C]<<24|a[C]>>>8);a[v>>>5]|=128<<v%32,a[14+(v+64>>>9<<4)]=v;var R=h._ff,b=h._gg,P=h._hh,$=h._ii;for(C=0;C<a.length;C+=16){var e=d,t=E,o=N,f=y;d=R(d,E,N,y,a[C+0],7,-680876936),y=R(y,d,E,N,a[C+1],12,-389564586),N=R(N,y,d,E,a[C+2],17,606105819),E=R(E,N,y,d,a[C+3],22,-1044525330),d=R(d,E,N,y,a[C+4],7,-176418897),y=R(y,d,E,N,a[C+5],12,1200080426),N=R(N,y,d,E,a[C+6],17,-1473231341),E=R(E,N,y,d,a[C+7],22,-45705983),d=R(d,E,N,y,a[C+8],7,1770035416),y=R(y,d,E,N,a[C+9],12,-1958414417),N=R(N,y,d,E,a[C+10],17,-42063),E=R(E,N,y,d,a[C+11],22,-1990404162),d=R(d,E,N,y,a[C+12],7,1804603682),y=R(y,d,E,N,a[C+13],12,-40341101),N=R(N,y,d,E,a[C+14],17,-1502002290),d=b(d,E=R(E,N,y,d,a[C+15],22,1236535329),N,y,a[C+1],5,-165796510),y=b(y,d,E,N,a[C+6],9,-1069501632),N=b(N,y,d,E,a[C+11],14,643717713),E=b(E,N,y,d,a[C+0],20,-373897302),d=b(d,E,N,y,a[C+5],5,-701558691),y=b(y,d,E,N,a[C+10],9,38016083),N=b(N,y,d,E,a[C+15],14,-660478335),E=b(E,N,y,d,a[C+4],20,-405537848),d=b(d,E,N,y,a[C+9],5,568446438),y=b(y,d,E,N,a[C+14],9,-1019803690),N=b(N,y,d,E,a[C+3],14,-187363961),E=b(E,N,y,d,a[C+8],20,1163531501),d=b(d,E,N,y,a[C+13],5,-1444681467),y=b(y,d,E,N,a[C+2],9,-51403784),N=b(N,y,d,E,a[C+7],14,1735328473),d=P(d,E=b(E,N,y,d,a[C+12],20,-1926607734),N,y,a[C+5],4,-378558),y=P(y,d,E,N,a[C+8],11,-2022574463),N=P(N,y,d,E,a[C+11],16,1839030562),E=P(E,N,y,d,a[C+14],23,-35309556),d=P(d,E,N,y,a[C+1],4,-1530992060),y=P(y,d,E,N,a[C+4],11,1272893353),N=P(N,y,d,E,a[C+7],16,-155497632),E=P(E,N,y,d,a[C+10],23,-1094730640),d=P(d,E,N,y,a[C+13],4,681279174),y=P(y,d,E,N,a[C+0],11,-358537222),N=P(N,y,d,E,a[C+3],16,-722521979),E=P(E,N,y,d,a[C+6],23,76029189),d=P(d,E,N,y,a[C+9],4,-640364487),y=P(y,d,E,N,a[C+12],11,-421815835),N=P(N,y,d,E,a[C+15],16,530742520),d=$(d,E=P(E,N,y,d,a[C+2],23,-995338651),N,y,a[C+0],6,-198630844),y=$(y,d,E,N,a[C+7],10,1126891415),N=$(N,y,d,E,a[C+14],15,-1416354905),E=$(E,N,y,d,a[C+5],21,-57434055),d=$(d,E,N,y,a[C+12],6,1700485571),y=$(y,d,E,N,a[C+3],10,-1894986606),N=$(N,y,d,E,a[C+10],15,-1051523),E=$(E,N,y,d,a[C+1],21,-2054922799),d=$(d,E,N,y,a[C+8],6,1873313359),y=$(y,d,E,N,a[C+15],10,-30611744),N=$(N,y,d,E,a[C+6],15,-1560198380),E=$(E,N,y,d,a[C+13],21,1309151649),d=$(d,E,N,y,a[C+4],6,-145523070),y=$(y,d,E,N,a[C+11],10,-1120210379),N=$(N,y,d,E,a[C+2],15,718787259),E=$(E,N,y,d,a[C+9],21,-343485551),d=d+e>>>0,E=E+t>>>0,N=N+o>>>0,y=y+f>>>0}return i.endian([d,E,N,y])};h._ff=function(A,c,a,v,d,E,N){var y=A+(c&a|~c&v)+(d>>>0)+N;return(y<<E|y>>>32-E)+c},h._gg=function(A,c,a,v,d,E,N){var y=A+(c&v|a&~v)+(d>>>0)+N;return(y<<E|y>>>32-E)+c},h._hh=function(A,c,a,v,d,E,N){var y=A+(c^a^v)+(d>>>0)+N;return(y<<E|y>>>32-E)+c},h._ii=function(A,c,a,v,d,E,N){var y=A+(a^(c|~v))+(d>>>0)+N;return(y<<E|y>>>32-E)+c},h._blocksize=16,h._digestsize=16,s.exports=function(A,c){if(A==null)throw new Error("Illegal argument "+A);var a=i.wordsToBytes(h(A,c));return c&&c.asBytes?a:c&&c.asString?g.bytesToString(a):i.bytesToHex(a)}})()},285:(s,r,n)=>{var i=n(2);s.exports=function(R){return R?(R.substr(0,2)==="{}"&&(R="\\{\\}"+R.substr(2)),C(function(b){return b.split("\\\\").join(u).split("\\{").join(l).split("\\}").join(g).split("\\,").join(h).split("\\.").join(A)}(R),!0).map(a)):[]};var u="\0SLASH"+Math.random()+"\0",l="\0OPEN"+Math.random()+"\0",g="\0CLOSE"+Math.random()+"\0",h="\0COMMA"+Math.random()+"\0",A="\0PERIOD"+Math.random()+"\0";function c(R){return parseInt(R,10)==R?parseInt(R,10):R.charCodeAt(0)}function a(R){return R.split(u).join("\\").split(l).join("{").split(g).join("}").split(h).join(",").split(A).join(".")}function v(R){if(!R)return[""];var b=[],P=i("{","}",R);if(!P)return R.split(",");var $=P.pre,e=P.body,t=P.post,o=$.split(",");o[o.length-1]+="{"+e+"}";var f=v(t);return t.length&&(o[o.length-1]+=f.shift(),o.push.apply(o,f)),b.push.apply(b,o),b}function d(R){return"{"+R+"}"}function E(R){return/^-?0\d/.test(R)}function N(R,b){return R<=b}function y(R,b){return R>=b}function C(R,b){var P=[],$=i("{","}",R);if(!$)return[R];var e=$.pre,t=$.post.length?C($.post,!1):[""];if(/\$$/.test($.pre))for(var o=0;o<t.length;o++){var f=e+"{"+$.body+"}"+t[o];P.push(f)}else{var p,_,O=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test($.body),T=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test($.body),m=O||T,S=$.body.indexOf(",")>=0;if(!m&&!S)return $.post.match(/,.*\}/)?C(R=$.pre+"{"+$.body+g+$.post):[R];if(m)p=$.body.split(/\.\./);else if((p=v($.body)).length===1&&(p=C(p[0],!1).map(d)).length===1)return t.map(function(Xn){return $.pre+p[0]+Xn});if(m){var U=c(p[0]),ne=c(p[1]),ce=Math.max(p[0].length,p[1].length),he=p.length==3?Math.abs(c(p[2])):1,W=N;ne<U&&(he*=-1,W=y);var Me=p.some(E);_=[];for(var Ee=U;W(Ee,ne);Ee+=he){var At;if(T)(At=String.fromCharCode(Ee))==="\\"&&(At="");else if(At=String(Ee),Me){var sn=ce-At.length;if(sn>0){var nr=new Array(sn+1).join("0");At=Ee<0?"-"+nr+At.slice(1):nr+At}}_.push(At)}}else{_=[];for(var fr=0;fr<p.length;fr++)_.push.apply(_,C(p[fr],!1))}for(fr=0;fr<_.length;fr++)for(o=0;o<t.length;o++)f=e+_[fr]+t[o],(!b||m||f)&&P.push(f)}return P}},829:s=>{function r(c){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},r(c)}function n(c){var a=typeof Map=="function"?new Map:void 0;return n=function(v){if(v===null||(d=v,Function.toString.call(d).indexOf("[native code]")===-1))return v;var d;if(typeof v!="function")throw new TypeError("Super expression must either be null or a function");if(a!==void 0){if(a.has(v))return a.get(v);a.set(v,E)}function E(){return i(v,arguments,l(this).constructor)}return E.prototype=Object.create(v.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),u(E,v)},n(c)}function i(c,a,v){return i=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(d,E,N){var y=[null];y.push.apply(y,E);var C=new(Function.bind.apply(d,y));return N&&u(C,N.prototype),C},i.apply(null,arguments)}function u(c,a){return u=Object.setPrototypeOf||function(v,d){return v.__proto__=d,v},u(c,a)}function l(c){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},l(c)}var g=function(c){function a(v){var d;return function(E,N){if(!(E instanceof N))throw new TypeError("Cannot call a class as a function")}(this,a),(d=function(E,N){return!N||r(N)!=="object"&&typeof N!="function"?function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(E):N}(this,l(a).call(this,v))).name="ObjectPrototypeMutationError",d}return function(v,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(d&&d.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),d&&u(v,d)}(a,c),a}(n(Error));function h(c,a){for(var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},d=a.split("."),E=d.length,N=function(R){var b=d[R];if(!c)return{v:void 0};if(b==="+"){if(Array.isArray(c))return{v:c.map(function($,e){var t=d.slice(R+1);return t.length>0?h($,t.join("."),v):v(c,e,d,R)})};var P=d.slice(0,R).join(".");throw new Error("Object at wildcard (".concat(P,") is not an array"))}c=v(c,b,d,R)},y=0;y<E;y++){var C=N(y);if(r(C)==="object")return C.v}return c}function A(c,a){return c.length===a+1}s.exports={set:function(c,a,v){if(r(c)!="object"||c===null||a===void 0)return c;if(typeof a=="number")return c[a]=v,c[a];try{return h(c,a,function(d,E,N,y){if(d===Reflect.getPrototypeOf({}))throw new g("Attempting to mutate Object.prototype");if(!d[E]){var C=Number.isInteger(Number(N[y+1])),R=N[y+1]==="+";d[E]=C||R?[]:{}}return A(N,y)&&(d[E]=v),d[E]})}catch(d){if(d instanceof g)throw d;return c}},get:function(c,a){if(r(c)!="object"||c===null||a===void 0)return c;if(typeof a=="number")return c[a];try{return h(c,a,function(v,d){return v[d]})}catch{return c}},has:function(c,a){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(r(c)!="object"||c===null||a===void 0)return!1;if(typeof a=="number")return a in c;try{var d=!1;return h(c,a,function(E,N,y,C){if(!A(y,C))return E&&E[N];d=v.own?E.hasOwnProperty(N):N in E}),d}catch{return!1}},hasOwn:function(c,a,v){return this.has(c,a,v||{own:!0})},isIn:function(c,a,v){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(r(c)!="object"||c===null||a===void 0)return!1;try{var E=!1,N=!1;return h(c,a,function(y,C,R,b){return E=E||y===v||!!y&&y[C]===v,N=A(R,b)&&r(y)==="object"&&C in y,y&&y[C]}),d.validPath?E&&N:E}catch{return!1}},ObjectPrototypeMutationError:g}},47:(s,r,n)=>{var i=n(410),u=function(c){return typeof c=="string"};function l(c,a){for(var v=[],d=0;d<c.length;d++){var E=c[d];E&&E!=="."&&(E===".."?v.length&&v[v.length-1]!==".."?v.pop():a&&v.push(".."):v.push(E))}return v}var g=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,h={};function A(c){return g.exec(c).slice(1)}h.resolve=function(){for(var c="",a=!1,v=arguments.length-1;v>=-1&&!a;v--){var d=v>=0?arguments[v]:M.cwd();if(!u(d))throw new TypeError("Arguments to path.resolve must be strings");d&&(c=d+"/"+c,a=d.charAt(0)==="/")}return(a?"/":"")+(c=l(c.split("/"),!a).join("/"))||"."},h.normalize=function(c){var a=h.isAbsolute(c),v=c.substr(-1)==="/";return(c=l(c.split("/"),!a).join("/"))||a||(c="."),c&&v&&(c+="/"),(a?"/":"")+c},h.isAbsolute=function(c){return c.charAt(0)==="/"},h.join=function(){for(var c="",a=0;a<arguments.length;a++){var v=arguments[a];if(!u(v))throw new TypeError("Arguments to path.join must be strings");v&&(c+=c?"/"+v:v)}return h.normalize(c)},h.relative=function(c,a){function v(b){for(var P=0;P<b.length&&b[P]==="";P++);for(var $=b.length-1;$>=0&&b[$]==="";$--);return P>$?[]:b.slice(P,$+1)}c=h.resolve(c).substr(1),a=h.resolve(a).substr(1);for(var d=v(c.split("/")),E=v(a.split("/")),N=Math.min(d.length,E.length),y=N,C=0;C<N;C++)if(d[C]!==E[C]){y=C;break}var R=[];for(C=y;C<d.length;C++)R.push("..");return(R=R.concat(E.slice(y))).join("/")},h._makeLong=function(c){return c},h.dirname=function(c){var a=A(c),v=a[0],d=a[1];return v||d?(d&&(d=d.substr(0,d.length-1)),v+d):"."},h.basename=function(c,a){var v=A(c)[2];return a&&v.substr(-1*a.length)===a&&(v=v.substr(0,v.length-a.length)),v},h.extname=function(c){return A(c)[3]},h.format=function(c){if(!i.isObject(c))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof c);var a=c.root||"";if(!u(a))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof c.root);return(c.dir?c.dir+h.sep:"")+(c.base||"")},h.parse=function(c){if(!u(c))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof c);var a=A(c);if(!a||a.length!==4)throw new TypeError("Invalid path '"+c+"'");return a[1]=a[1]||"",a[2]=a[2]||"",a[3]=a[3]||"",{root:a[0],dir:a[0]+a[1].slice(0,a[1].length-1),base:a[2],ext:a[3],name:a[2].slice(0,a[2].length-a[3].length)}},h.sep="/",h.delimiter=":",s.exports=h},647:(s,r)=>{var n=Object.prototype.hasOwnProperty;function i(l){try{return decodeURIComponent(l.replace(/\+/g," "))}catch{return null}}function u(l){try{return encodeURIComponent(l)}catch{return null}}r.stringify=function(l,g){g=g||"";var h,A,c=[];for(A in typeof g!="string"&&(g="?"),l)if(n.call(l,A)){if((h=l[A])||h!=null&&!isNaN(h)||(h=""),A=u(A),h=u(h),A===null||h===null)continue;c.push(A+"="+h)}return c.length?g+c.join("&"):""},r.parse=function(l){for(var g,h=/([^=?#&]+)=?([^&]*)/g,A={};g=h.exec(l);){var c=i(g[1]),a=i(g[2]);c===null||a===null||c in A||(A[c]=a)}return A}},670:s=>{s.exports=function(r,n){if(n=n.split(":")[0],!(r=+r))return!1;switch(n){case"http":case"ws":return r!==80;case"https":case"wss":return r!==443;case"ftp":return r!==21;case"gopher":return r!==70;case"file":return!1}return r!==0}},494:s=>{const r=/^[-+]?0x[a-fA-F0-9]+$/,n=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const i={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};s.exports=function(u){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(l=Object.assign({},i,l),!u||typeof u!="string")return u;let g=u.trim();if(l.skipLike!==void 0&&l.skipLike.test(g))return u;if(l.hex&&r.test(g))return Number.parseInt(g,16);{const A=n.exec(g);if(A){const c=A[1],a=A[2];let v=((h=A[3])&&h.indexOf(".")!==-1&&((h=h.replace(/0+$/,""))==="."?h="0":h[0]==="."?h="0"+h:h[h.length-1]==="."&&(h=h.substr(0,h.length-1))),h);const d=A[4]||A[6];if(!l.leadingZeros&&a.length>0&&c&&g[2]!=="."||!l.leadingZeros&&a.length>0&&!c&&g[1]!==".")return u;{const E=Number(g),N=""+E;return N.search(/[eE]/)!==-1||d?l.eNotation?E:u:g.indexOf(".")!==-1?N==="0"&&v===""||N===v||c&&N==="-"+v?E:u:a?v===N||c+v===N?E:u:g===N||g===c+N?E:u}}return u}var h}},737:(s,r,n)=>{var i=n(670),u=n(647),l=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,g=/[\n\r\t]/g,h=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,A=/:\d+$/,c=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,a=/^[a-zA-Z]:/;function v(b){return(b||"").toString().replace(l,"")}var d=[["#","hash"],["?","query"],function(b,P){return y(P.protocol)?b.replace(/\\/g,"/"):b},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],E={hash:1,query:1};function N(b){var P,$=(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{}).location||{},e={},t=typeof(b=b||$);if(b.protocol==="blob:")e=new R(unescape(b.pathname),{});else if(t==="string")for(P in e=new R(b,{}),E)delete e[P];else if(t==="object"){for(P in b)P in E||(e[P]=b[P]);e.slashes===void 0&&(e.slashes=h.test(b.href))}return e}function y(b){return b==="file:"||b==="ftp:"||b==="http:"||b==="https:"||b==="ws:"||b==="wss:"}function C(b,P){b=(b=v(b)).replace(g,""),P=P||{};var $,e=c.exec(b),t=e[1]?e[1].toLowerCase():"",o=!!e[2],f=!!e[3],p=0;return o?f?($=e[2]+e[3]+e[4],p=e[2].length+e[3].length):($=e[2]+e[4],p=e[2].length):f?($=e[3]+e[4],p=e[3].length):$=e[4],t==="file:"?p>=2&&($=$.slice(2)):y(t)?$=e[4]:t?o&&($=$.slice(2)):p>=2&&y(P.protocol)&&($=e[4]),{protocol:t,slashes:o||y(t),slashesCount:p,rest:$}}function R(b,P,$){if(b=(b=v(b)).replace(g,""),!(this instanceof R))return new R(b,P,$);var e,t,o,f,p,_,O=d.slice(),T=typeof P,m=this,S=0;for(T!=="object"&&T!=="string"&&($=P,P=null),$&&typeof $!="function"&&($=u.parse),e=!(t=C(b||"",P=N(P))).protocol&&!t.slashes,m.slashes=t.slashes||e&&P.slashes,m.protocol=t.protocol||P.protocol||"",b=t.rest,(t.protocol==="file:"&&(t.slashesCount!==2||a.test(b))||!t.slashes&&(t.protocol||t.slashesCount<2||!y(m.protocol)))&&(O[3]=[/(.*)/,"pathname"]);S<O.length;S++)typeof(f=O[S])!="function"?(o=f[0],_=f[1],o!=o?m[_]=b:typeof o=="string"?~(p=o==="@"?b.lastIndexOf(o):b.indexOf(o))&&(typeof f[2]=="number"?(m[_]=b.slice(0,p),b=b.slice(p+f[2])):(m[_]=b.slice(p),b=b.slice(0,p))):(p=o.exec(b))&&(m[_]=p[1],b=b.slice(0,p.index)),m[_]=m[_]||e&&f[3]&&P[_]||"",f[4]&&(m[_]=m[_].toLowerCase())):b=f(b,m);$&&(m.query=$(m.query)),e&&P.slashes&&m.pathname.charAt(0)!=="/"&&(m.pathname!==""||P.pathname!=="")&&(m.pathname=function(U,ne){if(U==="")return ne;for(var ce=(ne||"/").split("/").slice(0,-1).concat(U.split("/")),he=ce.length,W=ce[he-1],Me=!1,Ee=0;he--;)ce[he]==="."?ce.splice(he,1):ce[he]===".."?(ce.splice(he,1),Ee++):Ee&&(he===0&&(Me=!0),ce.splice(he,1),Ee--);return Me&&ce.unshift(""),W!=="."&&W!==".."||ce.push(""),ce.join("/")}(m.pathname,P.pathname)),m.pathname.charAt(0)!=="/"&&y(m.protocol)&&(m.pathname="/"+m.pathname),i(m.port,m.protocol)||(m.host=m.hostname,m.port=""),m.username=m.password="",m.auth&&(~(p=m.auth.indexOf(":"))?(m.username=m.auth.slice(0,p),m.username=encodeURIComponent(decodeURIComponent(m.username)),m.password=m.auth.slice(p+1),m.password=encodeURIComponent(decodeURIComponent(m.password))):m.username=encodeURIComponent(decodeURIComponent(m.auth)),m.auth=m.password?m.username+":"+m.password:m.username),m.origin=m.protocol!=="file:"&&y(m.protocol)&&m.host?m.protocol+"//"+m.host:"null",m.href=m.toString()}R.prototype={set:function(b,P,$){var e=this;switch(b){case"query":typeof P=="string"&&P.length&&(P=($||u.parse)(P)),e[b]=P;break;case"port":e[b]=P,i(P,e.protocol)?P&&(e.host=e.hostname+":"+P):(e.host=e.hostname,e[b]="");break;case"hostname":e[b]=P,e.port&&(P+=":"+e.port),e.host=P;break;case"host":e[b]=P,A.test(P)?(P=P.split(":"),e.port=P.pop(),e.hostname=P.join(":")):(e.hostname=P,e.port="");break;case"protocol":e.protocol=P.toLowerCase(),e.slashes=!$;break;case"pathname":case"hash":if(P){var t=b==="pathname"?"/":"#";e[b]=P.charAt(0)!==t?t+P:P}else e[b]=P;break;case"username":case"password":e[b]=encodeURIComponent(P);break;case"auth":var o=P.indexOf(":");~o?(e.username=P.slice(0,o),e.username=encodeURIComponent(decodeURIComponent(e.username)),e.password=P.slice(o+1),e.password=encodeURIComponent(decodeURIComponent(e.password))):e.username=encodeURIComponent(decodeURIComponent(P))}for(var f=0;f<d.length;f++){var p=d[f];p[4]&&(e[p[1]]=e[p[1]].toLowerCase())}return e.auth=e.password?e.username+":"+e.password:e.username,e.origin=e.protocol!=="file:"&&y(e.protocol)&&e.host?e.protocol+"//"+e.host:"null",e.href=e.toString(),e},toString:function(b){b&&typeof b=="function"||(b=u.stringify);var P,$=this,e=$.host,t=$.protocol;t&&t.charAt(t.length-1)!==":"&&(t+=":");var o=t+($.protocol&&$.slashes||y($.protocol)?"//":"");return $.username?(o+=$.username,$.password&&(o+=":"+$.password),o+="@"):$.password?(o+=":"+$.password,o+="@"):$.protocol!=="file:"&&y($.protocol)&&!e&&$.pathname!=="/"&&(o+="@"),(e[e.length-1]===":"||A.test($.hostname)&&!$.port)&&(e+=":"),o+=e+$.pathname,(P=typeof $.query=="object"?b($.query):$.query)&&(o+=P.charAt(0)!=="?"?"?"+P:P),$.hash&&(o+=$.hash),o}},R.extractProtocol=C,R.location=N,R.trimLeft=v,R.qs=u,s.exports=R},410:()=>{},388:()=>{},805:()=>{},345:()=>{},800:()=>{}},oe={};function G(s){var r=oe[s];if(r!==void 0)return r.exports;var n=oe[s]={id:s,loaded:!1,exports:{}};return H[s].call(n.exports,n,n.exports,G),n.loaded=!0,n.exports}G.n=s=>{var r=s&&s.__esModule?()=>s.default:()=>s;return G.d(r,{a:r}),r},G.d=(s,r)=>{for(var n in r)G.o(r,n)&&!G.o(s,n)&&Object.defineProperty(s,n,{enumerable:!0,get:r[n]})},G.o=(s,r)=>Object.prototype.hasOwnProperty.call(s,r),G.nmd=s=>(s.paths=[],s.children||(s.children=[]),s);var J={};G.d(J,{hT:()=>ze,O4:()=>Je,Kd:()=>sr,YK:()=>Ut,UU:()=>In,Gu:()=>k,ky:()=>xe,h4:()=>ee,ch:()=>ve,hq:()=>$t,i5:()=>Te});var X=G(737),te=G.n(X);function Y(s){if(!ie(s))throw new Error("Parameter was not an error")}function ie(s){return!!s&&typeof s=="object"&&(r=s,Object.prototype.toString.call(r)==="[object Error]")||s instanceof Error;var r}class le extends Error{constructor(r,n){const i=[...arguments],{options:u,shortMessage:l}=function(h){let A,c="";if(h.length===0)A={};else if(ie(h[0]))A={cause:h[0]},c=h.slice(1).join(" ")||"";else if(h[0]&&typeof h[0]=="object")A=Object.assign({},h[0]),c=h.slice(1).join(" ")||"";else{if(typeof h[0]!="string")throw new Error("Invalid arguments passed to Layerr");A={},c=c=h.join(" ")||""}return{options:A,shortMessage:c}}(i);let g=l;if(u.cause&&(g=`${g}: ${u.cause.message}`),super(g),this.message=g,u.name&&typeof u.name=="string"?this.name=u.name:this.name="Layerr",u.cause&&Object.defineProperty(this,"_cause",{value:u.cause}),Object.defineProperty(this,"_info",{value:{}}),u.info&&typeof u.info=="object"&&Object.assign(this._info,u.info),Error.captureStackTrace){const h=u.constructorOpt||this.constructor;Error.captureStackTrace(this,h)}}static cause(r){return Y(r),r._cause&&ie(r._cause)?r._cause:null}static fullStack(r){Y(r);const n=le.cause(r);return n?`${r.stack}
caused by: ${le.fullStack(n)}`:r.stack??""}static info(r){Y(r);const n={},i=le.cause(r);return i&&Object.assign(n,le.info(i)),r._info&&Object.assign(n,r._info),n}toString(){let r=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(r=`${r}: ${this.message}`),r}}var ae=G(47),se=G.n(ae);const re="__PATH_SEPARATOR_POSIX__",z="__PATH_SEPARATOR_WINDOWS__";function ue(s){try{const r=s.replace(/\//g,re).replace(/\\\\/g,z);return encodeURIComponent(r).split(z).join("\\\\").split(re).join("/")}catch(r){throw new le(r,"Failed encoding path")}}function Oe(s){return s.startsWith("/")?s:"/"+s}function ge(s){let r=s;return r[0]!=="/"&&(r="/"+r),/^.+\/$/.test(r)&&(r=r.substr(0,r.length-1)),r}function Pe(s){let r=new(te())(s).pathname;return r.length<=0&&(r="/"),ge(r)}function de(){for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return function(){return function(i){var u=[];if(i.length===0)return"";if(typeof i[0]!="string")throw new TypeError("Url must be a string. Received "+i[0]);if(i[0].match(/^[^/:]+:\/*$/)&&i.length>1){var l=i.shift();i[0]=l+i[0]}i[0].match(/^file:\/\/\//)?i[0]=i[0].replace(/^([^/:]+):\/*/,"$1:///"):i[0]=i[0].replace(/^([^/:]+):\/*/,"$1://");for(var g=0;g<i.length;g++){var h=i[g];if(typeof h!="string")throw new TypeError("Url must be a string. Received "+h);h!==""&&(g>0&&(h=h.replace(/^[\/]+/,"")),h=g<i.length-1?h.replace(/[\/]+$/,""):h.replace(/[\/]+$/,"/"),u.push(h))}var A=u.join("/"),c=(A=A.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return c.shift()+(c.length>0?"?":"")+c.join("&")}(typeof arguments[0]=="object"?arguments[0]:[].slice.call(arguments))}(r.reduce((i,u,l)=>((l===0||u!=="/"||u==="/"&&i[i.length-1]!=="/")&&i.push(u),i),[]))}var Le=G(542),be=G.n(Le);const Ve="abcdef0123456789";function it(s,r){const n=s.url.replace("//",""),i=n.indexOf("/")==-1?"/":n.slice(n.indexOf("/")),u=s.method?s.method.toUpperCase():"GET",l=!!/(^|,)\s*auth\s*($|,)/.test(r.qop)&&"auth",g=`00000000${r.nc}`.slice(-8),h=function(d,E,N,y,C,R,b){const P=b||be()(`${E}:${N}:${y}`);return d&&d.toLowerCase()==="md5-sess"?be()(`${P}:${C}:${R}`):P}(r.algorithm,r.username,r.realm,r.password,r.nonce,r.cnonce,r.ha1),A=be()(`${u}:${i}`),c=l?be()(`${h}:${r.nonce}:${g}:${r.cnonce}:${l}:${A}`):be()(`${h}:${r.nonce}:${A}`),a={username:r.username,realm:r.realm,nonce:r.nonce,uri:i,qop:l,response:c,nc:g,cnonce:r.cnonce,algorithm:r.algorithm,opaque:r.opaque},v=[];for(const d in a)a[d]&&(d==="qop"||d==="nc"||d==="algorithm"?v.push(`${d}=${a[d]}`):v.push(`${d}="${a[d]}"`));return`Digest ${v.join(", ")}`}function we(s){return(s.headers&&s.headers.get("www-authenticate")||"").split(/\s/)[0].toLowerCase()==="digest"}var nt=G(101),dt=G.n(nt);function Q(s){return dt().decode(s)}function pe(s,r){var n;return`Basic ${n=`${s}:${r}`,dt().encode(n)}`}const Ye=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:typeof window<"u"?window:globalThis,ht=Ye.fetch.bind(Ye),sr=(Ye.Headers,Ye.Request),Ut=Ye.Response;let ze=function(s){return s.Auto="auto",s.Digest="digest",s.None="none",s.Password="password",s.Token="token",s}({}),Je=function(s){return s.DataTypeNoLength="data-type-no-length",s.InvalidAuthType="invalid-auth-type",s.InvalidOutputFormat="invalid-output-format",s.LinkUnsupportedAuthType="link-unsupported-auth",s.InvalidUpdateRange="invalid-update-range",s.NotSupported="not-supported",s}({});function Pt(s,r,n,i,u){switch(s.authType){case ze.Auto:r&&n&&(s.headers.Authorization=pe(r,n));break;case ze.Digest:s.digest=function(g,h,A){return{username:g,password:h,ha1:A,nc:0,algorithm:"md5",hasDigestAuth:!1}}(r,n,u);break;case ze.None:break;case ze.Password:s.headers.Authorization=pe(r,n);break;case ze.Token:s.headers.Authorization=`${(l=i).token_type} ${l.access_token}`;break;default:throw new le({info:{code:Je.InvalidAuthType}},`Invalid auth type: ${s.authType}`)}var l}G(345),G(800);const It="@@HOTPATCHER",St=()=>{};function j(s){return{original:s,methods:[s],final:!1}}class B{constructor(){this._configuration={registry:{},getEmptyAction:"null"},this.__type__=It}get configuration(){return this._configuration}get getEmptyAction(){return this.configuration.getEmptyAction}set getEmptyAction(r){this.configuration.getEmptyAction=r}control(r){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!r||r.__type__!==It)throw new Error("Failed taking control of target HotPatcher instance: Invalid type or object");return Object.keys(r.configuration.registry).forEach(i=>{this.configuration.registry.hasOwnProperty(i)?n&&(this.configuration.registry[i]=Object.assign({},r.configuration.registry[i])):this.configuration.registry[i]=Object.assign({},r.configuration.registry[i])}),r._configuration=this.configuration,this}execute(r){const n=this.get(r)||St;for(var i=arguments.length,u=new Array(i>1?i-1:0),l=1;l<i;l++)u[l-1]=arguments[l];return n(...u)}get(r){const n=this.configuration.registry[r];if(!n)switch(this.getEmptyAction){case"null":return null;case"throw":throw new Error(`Failed handling method request: No method provided for override: ${r}`);default:throw new Error(`Failed handling request which resulted in an empty method: Invalid empty-action specified: ${this.getEmptyAction}`)}return function(){for(var i=arguments.length,u=new Array(i),l=0;l<i;l++)u[l]=arguments[l];if(u.length===0)throw new Error("Failed creating sequence: No functions provided");return function(){for(var g=arguments.length,h=new Array(g),A=0;A<g;A++)h[A]=arguments[A];let c=h;const a=this;for(;u.length>0;)c=[u.shift().apply(a,c)];return c[0]}}(...n.methods)}isPatched(r){return!!this.configuration.registry[r]}patch(r,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{chain:u=!1}=i;if(this.configuration.registry[r]&&this.configuration.registry[r].final)throw new Error(`Failed patching '${r}': Method marked as being final`);if(typeof n!="function")throw new Error(`Failed patching '${r}': Provided method is not a function`);if(u)this.configuration.registry[r]?this.configuration.registry[r].methods.push(n):this.configuration.registry[r]=j(n);else if(this.isPatched(r)){const{original:l}=this.configuration.registry[r];this.configuration.registry[r]=Object.assign(j(n),{original:l})}else this.configuration.registry[r]=j(n);return this}patchInline(r,n){this.isPatched(r)||this.patch(r,n);for(var i=arguments.length,u=new Array(i>2?i-2:0),l=2;l<i;l++)u[l-2]=arguments[l];return this.execute(r,...u)}plugin(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),u=1;u<n;u++)i[u-1]=arguments[u];return i.forEach(l=>{this.patch(r,l,{chain:!0})}),this}restore(r){if(!this.isPatched(r))throw new Error(`Failed restoring method: No method present for key: ${r}`);if(typeof this.configuration.registry[r].original!="function")throw new Error(`Failed restoring method: Original method not found or of invalid type for key: ${r}`);return this.configuration.registry[r].methods=[this.configuration.registry[r].original],this}setFinal(r){if(!this.configuration.registry.hasOwnProperty(r))throw new Error(`Failed marking '${r}' as final: No method found for key`);return this.configuration.registry[r].final=!0,this}}let V=null;function k(){return V||(V=new B),V}function K(s){return function(r){if(typeof r!="object"||r===null||Object.prototype.toString.call(r)!="[object Object]")return!1;if(Object.getPrototypeOf(r)===null)return!0;let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}(s)?Object.assign({},s):Object.setPrototypeOf(Object.assign({},s),Object.getPrototypeOf(s))}function me(){for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];let i=null,u=[...r];for(;u.length>0;){const l=u.shift();i=i?_e(i,l):K(l)}return i}function _e(s,r){const n=K(s);return Object.keys(r).forEach(i=>{n.hasOwnProperty(i)?Array.isArray(r[i])?n[i]=Array.isArray(n[i])?[...n[i],...r[i]]:[...r[i]]:typeof r[i]=="object"&&r[i]?n[i]=typeof n[i]=="object"&&n[i]?_e(n[i],r[i]):K(r[i]):n[i]=r[i]:n[i]=r[i]}),n}function Re(s){const r={};for(const n of s.keys())r[n]=s.get(n);return r}function Qe(){for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];if(r.length===0)return{};const i={};return r.reduce((u,l)=>(Object.keys(l).forEach(g=>{const h=g.toLowerCase();i.hasOwnProperty(h)?u[i[h]]=l[g]:(i[h]=g,u[g]=l[g])}),u),{})}G(805);const et=typeof ArrayBuffer=="function",{toString:pt}=Object.prototype;function ot(s){return et&&(s instanceof ArrayBuffer||pt.call(s)==="[object ArrayBuffer]")}function Rt(s){return s!=null&&s.constructor!=null&&typeof s.constructor.isBuffer=="function"&&s.constructor.isBuffer(s)}function bt(s){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{return Promise.resolve(s.apply(this,r))}catch(i){return Promise.reject(i)}}}function ir(s,r,n){return n?r?r(s):s:(s&&s.then||(s=Promise.resolve(s)),r?s.then(r):s)}const Zt=bt(function(s){const r=s._digest;return delete s._digest,r.hasDigestAuth&&(s=me(s,{headers:{Authorization:it(s,r)}})),ir(Dt(s),function(n){let i=!1;return u=function(g){return i?g:n},(l=function(){if(n.status==401)return r.hasDigestAuth=function(g,h){if(!we(g))return!1;const A=/([a-z0-9_-]+)=(?:"([^"]+)"|([a-z0-9_-]+))/gi;for(;;){const c=g.headers&&g.headers.get("www-authenticate")||"",a=A.exec(c);if(!a)break;h[a[1]]=a[2]||a[3]}return h.nc+=1,h.cnonce=function(){let c="";for(let a=0;a<32;++a)c=`${c}${Ve[Math.floor(16*Math.random())]}`;return c}(),!0}(n,r),function(){if(r.hasDigestAuth)return ir(Dt(s=me(s,{headers:{Authorization:it(s,r)}})),function(g){return g.status==401?r.hasDigestAuth=!1:r.nc++,i=!0,g})}();r.nc++}())&&l.then?l.then(u):u(l);var u,l})}),or=bt(function(s,r){return ir(Dt(s),function(n){return n.ok?(r.authType=ze.Password,n):n.status==401&&we(n)?(r.authType=ze.Digest,Pt(r,r.username,r.password,void 0,void 0),s._digest=r.digest,Zt(s)):n})}),He=bt(function(s,r){return r.authType===ze.Auto?or(s,r):s._digest?Zt(s):Dt(s)});function qe(s,r,n){const i=K(s);return i.headers=Qe(r.headers,i.headers||{},n.headers||{}),n.data!==void 0&&(i.data=n.data),n.signal&&(i.signal=n.signal),r.httpAgent&&(i.httpAgent=r.httpAgent),r.httpsAgent&&(i.httpsAgent=r.httpsAgent),r.digest&&(i._digest=r.digest),typeof r.withCredentials=="boolean"&&(i.withCredentials=r.withCredentials),i}function Dt(s){const r=k();return r.patchInline("request",n=>r.patchInline("fetch",ht,n.url,function(i){let u={};const l={method:i.method};if(i.headers&&(u=Qe(u,i.headers)),i.data!==void 0){const[g,h]=function(A){if(typeof A=="string")return[A,{}];if(Rt(A))return[A,{}];if(ot(A))return[A,{}];if(A&&typeof A=="object")return[JSON.stringify(A),{"content-type":"application/json"}];throw new Error("Unable to convert request body: Unexpected body type: "+typeof A)}(i.data);l.body=g,u=Qe(u,h)}return i.signal&&(l.signal=i.signal),i.withCredentials&&(l.credentials="include"),l.headers=u,l}(n)),s)}var Pr=G(285);const Yt=s=>{if(typeof s!="string")throw new TypeError("invalid pattern");if(s.length>65536)throw new TypeError("pattern is too long")},Ir={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},zt=s=>s.replace(/[[\]\\-]/g,"\\$&"),Or=s=>s.join(""),Tr=(s,r)=>{const n=r;if(s.charAt(n)!=="[")throw new Error("not in a brace expression");const i=[],u=[];let l=n+1,g=!1,h=!1,A=!1,c=!1,a=n,v="";e:for(;l<s.length;){const y=s.charAt(l);if(y!=="!"&&y!=="^"||l!==n+1){if(y==="]"&&g&&!A){a=l+1;break}if(g=!0,y!=="\\"||A){if(y==="["&&!A){for(const[C,[R,b,P]]of Object.entries(Ir))if(s.startsWith(C,l)){if(v)return["$.",!1,s.length-n,!0];l+=C.length,P?u.push(R):i.push(R),h=h||b;continue e}}A=!1,v?(y>v?i.push(zt(v)+"-"+zt(y)):y===v&&i.push(zt(y)),v="",l++):s.startsWith("-]",l+1)?(i.push(zt(y+"-")),l+=2):s.startsWith("-",l+1)?(v=y,l+=2):(i.push(zt(y)),l++)}else A=!0,l++}else c=!0,l++}if(a<l)return["",!1,0,!1];if(!i.length&&!u.length)return["$.",!1,s.length-n,!0];if(u.length===0&&i.length===1&&/^\\?.$/.test(i[0])&&!c)return[(d=i[0].length===2?i[0].slice(-1):i[0],d.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,a-n,!1];var d;const E="["+(c?"^":"")+Or(i)+"]",N="["+(c?"":"^")+Or(u)+"]";return[i.length&&u.length?"("+E+"|"+N+")":i.length?E:N,h,a-n,!0]},Gt=function(s){let{windowsPathsNoEscape:r=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r?s.replace(/\[([^\/\\])\]/g,"$1"):s.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1")},qr=new Set(["!","?","+","*","@"]),Jt=s=>qr.has(s),Ft="(?!\\.)",ar=new Set(["[","."]),Sr=new Set(["..","."]),dr=new Set("().*{}+?[]^$\\!"),Qt="[^/]",lr=Qt+"*?",hr=Qt+"+?",yt=class yt{constructor(r,n){Se(this,jt);Ce(this,"type");Se(this,rt);Se(this,lt);Se(this,Mt,!1);Se(this,je,[]);Se(this,Ze);Se(this,Ht);Se(this,Kt);Se(this,Ct,!1);Se(this,xt);Se(this,Tt);Se(this,rr,!1);let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.type=r,r&&ye(this,lt,!0),ye(this,Ze,n),ye(this,rt,F(this,Ze)?F(F(this,Ze),rt):this),ye(this,xt,F(this,rt)===this?i:F(F(this,rt),xt)),ye(this,Kt,F(this,rt)===this?[]:F(F(this,rt),Kt)),r!=="!"||F(F(this,rt),Ct)||F(this,Kt).push(this),ye(this,Ht,F(this,Ze)?F(F(this,Ze),je).length:0)}get hasMagic(){if(F(this,lt)!==void 0)return F(this,lt);for(const r of F(this,je))if(typeof r!="string"&&(r.type||r.hasMagic))return ye(this,lt,!0);return F(this,lt)}toString(){return F(this,Tt)!==void 0?F(this,Tt):this.type?ye(this,Tt,this.type+"("+F(this,je).map(r=>String(r)).join("|")+")"):ye(this,Tt,F(this,je).map(r=>String(r)).join(""))}push(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];for(const u of n)if(u!==""){if(typeof u!="string"&&!(u instanceof yt&&F(u,Ze)===this))throw new Error("invalid part: "+u);F(this,je).push(u)}}toJSON(){const r=this.type===null?F(this,je).slice().map(n=>typeof n=="string"?n:n.toJSON()):[this.type,...F(this,je).map(n=>n.toJSON())];return this.isStart()&&!this.type&&r.unshift([]),this.isEnd()&&(this===F(this,rt)||F(F(this,rt),Ct)&&F(this,Ze)?.type==="!")&&r.push({}),r}isStart(){if(F(this,rt)===this)return!0;if(!F(this,Ze)?.isStart())return!1;if(F(this,Ht)===0)return!0;const r=F(this,Ze);for(let n=0;n<F(this,Ht);n++){const i=F(r,je)[n];if(!(i instanceof yt&&i.type==="!"))return!1}return!0}isEnd(){if(F(this,rt)===this||F(this,Ze)?.type==="!")return!0;if(!F(this,Ze)?.isEnd())return!1;if(!this.type)return F(this,Ze)?.isEnd();const r=F(this,Ze)?F(F(this,Ze),je).length:0;return F(this,Ht)===r-1}copyIn(r){typeof r=="string"?this.push(r):this.push(r.clone(this))}clone(r){const n=new yt(this.type,r);for(const i of F(this,je))n.copyIn(i);return n}static fromGlob(r){var u;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=new yt(null,void 0,n);return Xe(u=yt,Et,un).call(u,r,i,0,n),i}toMMPattern(){if(this!==F(this,rt))return F(this,rt).toMMPattern();const r=this.toString(),[n,i,u,l]=this.toRegExpSource();if(!(u||F(this,lt)||F(this,xt).nocase&&!F(this,xt).nocaseMagicOnly&&r.toUpperCase()!==r.toLowerCase()))return i;const g=(F(this,xt).nocase?"i":"")+(l?"u":"");return Object.assign(new RegExp(`^${n}$`,g),{_src:n,_glob:r})}get options(){return F(this,xt)}toRegExpSource(r){const n=r??!!F(this,xt).dot;if(F(this,rt)===this&&Xe(this,jt,Dn).call(this),!this.type){const A=this.isStart()&&this.isEnd(),c=F(this,je).map(d=>{var R;const[E,N,y,C]=typeof d=="string"?Xe(R=yt,Et,zn).call(R,d,F(this,lt),A):d.toRegExpSource(r);return ye(this,lt,F(this,lt)||y),ye(this,Mt,F(this,Mt)||C),E}).join("");let a="";if(this.isStart()&&typeof F(this,je)[0]=="string"&&(F(this,je).length!==1||!Sr.has(F(this,je)[0]))){const d=ar,E=n&&d.has(c.charAt(0))||c.startsWith("\\.")&&d.has(c.charAt(2))||c.startsWith("\\.\\.")&&d.has(c.charAt(4)),N=!n&&!r&&d.has(c.charAt(0));a=E?"(?!(?:^|/)\\.\\.?(?:$|/))":N?Ft:""}let v="";return this.isEnd()&&F(F(this,rt),Ct)&&F(this,Ze)?.type==="!"&&(v="(?:$|\\/)"),[a+c+v,Gt(c),ye(this,lt,!!F(this,lt)),F(this,Mt)]}const i=this.type==="*"||this.type==="+",u=this.type==="!"?"(?:(?!(?:":"(?:";let l=Xe(this,jt,Cn).call(this,n);if(this.isStart()&&this.isEnd()&&!l&&this.type!=="!"){const A=this.toString();return ye(this,je,[A]),this.type=null,ye(this,lt,void 0),[A,Gt(this.toString()),!1,!1]}let g=!i||r||n?"":Xe(this,jt,Cn).call(this,!0);g===l&&(g=""),g&&(l=`(?:${l})(?:${g})*?`);let h="";return h=this.type==="!"&&F(this,rr)?(this.isStart()&&!n?Ft:"")+hr:u+l+(this.type==="!"?"))"+(!this.isStart()||n||r?"":Ft)+lr+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&g?")":this.type==="*"&&g?")?":`)${this.type}`),[h,Gt(l),ye(this,lt,!!F(this,lt)),F(this,Mt)]}};rt=new WeakMap,lt=new WeakMap,Mt=new WeakMap,je=new WeakMap,Ze=new WeakMap,Ht=new WeakMap,Kt=new WeakMap,Ct=new WeakMap,xt=new WeakMap,Tt=new WeakMap,rr=new WeakMap,jt=new WeakSet,Dn=function(){if(this!==F(this,rt))throw new Error("should only call on root");if(F(this,Ct))return this;let r;for(this.toString(),ye(this,Ct,!0);r=F(this,Kt).pop();){if(r.type!=="!")continue;let n=r,i=F(n,Ze);for(;i;){for(let u=F(n,Ht)+1;!i.type&&u<F(i,je).length;u++)for(const l of F(r,je)){if(typeof l=="string")throw new Error("string part in extglob AST??");l.copyIn(F(i,je)[u])}n=i,i=F(n,Ze)}}return this},Et=new WeakSet,un=function(r,n,i,u){var E,N;let l=!1,g=!1,h=-1,A=!1;if(n.type===null){let y=i,C="";for(;y<r.length;){const R=r.charAt(y++);if(l||R==="\\")l=!l,C+=R;else if(g)y===h+1?R!=="^"&&R!=="!"||(A=!0):R!=="]"||y===h+2&&A||(g=!1),C+=R;else if(R!=="[")if(u.noext||!Jt(R)||r.charAt(y)!=="(")C+=R;else{n.push(C),C="";const b=new yt(R,n);y=Xe(E=yt,Et,un).call(E,r,b,y,u),n.push(b)}else g=!0,h=y,A=!1,C+=R}return n.push(C),y}let c=i+1,a=new yt(null,n);const v=[];let d="";for(;c<r.length;){const y=r.charAt(c++);if(l||y==="\\")l=!l,d+=y;else if(g)c===h+1?y!=="^"&&y!=="!"||(A=!0):y!=="]"||c===h+2&&A||(g=!1),d+=y;else if(y!=="[")if(Jt(y)&&r.charAt(c)==="("){a.push(d),d="";const C=new yt(y,a);a.push(C),c=Xe(N=yt,Et,un).call(N,r,C,c,u)}else if(y!=="|"){if(y===")")return d===""&&F(n,je).length===0&&ye(n,rr,!0),a.push(d),d="",n.push(...v,a),c;d+=y}else a.push(d),d="",v.push(a),a=new yt(null,n);else g=!0,h=c,A=!1,d+=y}return n.type=null,ye(n,lt,void 0),ye(n,je,[r.substring(i-1)]),c},Cn=function(r){return F(this,je).map(n=>{if(typeof n=="string")throw new Error("string type in extglob ast??");const[i,u,l,g]=n.toRegExpSource(r);return ye(this,Mt,F(this,Mt)||g),i}).filter(n=>!(this.isStart()&&this.isEnd()&&!n)).join("|")},zn=function(r,n){let i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],u=!1,l="",g=!1;for(let h=0;h<r.length;h++){const A=r.charAt(h);if(u)u=!1,l+=(dr.has(A)?"\\":"")+A;else if(A!=="\\"){if(A==="["){const[c,a,v,d]=Tr(r,h);if(v){l+=c,g=g||a,h+=v-1,n=n||d;continue}}A!=="*"?A!=="?"?l+=A.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):(l+=Qt,n=!0):(l+=i&&r==="*"?hr:lr,n=!0)}else h===r.length-1?l+="\\\\":u=!0}return[l,Gt(r),!!n,g]},Se(yt,Et);let qt=yt;const st=function(s,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Yt(r),!(!n.nocomment&&r.charAt(0)==="#")&&new er(r,n).match(s)},$r=/^\*+([^+@!?\*\[\(]*)$/,pr=s=>r=>!r.startsWith(".")&&r.endsWith(s),Lr=s=>r=>r.endsWith(s),Rr=s=>(s=s.toLowerCase(),r=>!r.startsWith(".")&&r.toLowerCase().endsWith(s)),De=s=>(s=s.toLowerCase(),r=>r.toLowerCase().endsWith(s)),Fr=/^\*+\.\*+$/,kr=s=>!s.startsWith(".")&&s.includes("."),at=s=>s!=="."&&s!==".."&&s.includes("."),Wt=/^\.\*+$/,ur=s=>s!=="."&&s!==".."&&s.startsWith("."),gr=/^\*+$/,Br=s=>s.length!==0&&!s.startsWith("."),Mr=s=>s.length!==0&&s!=="."&&s!=="..",jr=/^\?+([^+@!?\*\[\(]*)?$/,Vr=s=>{let[r,n=""]=s;const i=mr([r]);return n?(n=n.toLowerCase(),u=>i(u)&&u.toLowerCase().endsWith(n)):i},Ur=s=>{let[r,n=""]=s;const i=vr([r]);return n?(n=n.toLowerCase(),u=>i(u)&&u.toLowerCase().endsWith(n)):i},Dr=s=>{let[r,n=""]=s;const i=vr([r]);return n?u=>i(u)&&u.endsWith(n):i},zr=s=>{let[r,n=""]=s;const i=mr([r]);return n?u=>i(u)&&u.endsWith(n):i},mr=s=>{let[r]=s;const n=r.length;return i=>i.length===n&&!i.startsWith(".")},vr=s=>{let[r]=s;const n=r.length;return i=>i.length===n&&i!=="."&&i!==".."},yr=typeof M=="object"&&M?typeof M.env=="object"&&M.env&&M.env.__MINIMATCH_TESTING_PLATFORM__||M.platform:"posix";st.sep=yr==="win32"?"\\":"/";const gt=Symbol("globstar **");st.GLOBSTAR=gt,st.filter=function(s){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n=>st(n,s,r)};const mt=function(s){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.assign({},s,r)};st.defaults=s=>{if(!s||typeof s!="object"||!Object.keys(s).length)return st;const r=st;return Object.assign(function(n,i){return r(n,i,mt(s,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))},{Minimatch:class extends r.Minimatch{constructor(n){super(n,mt(s,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}))}static defaults(n){return r.defaults(mt(s,n)).Minimatch}},AST:class extends r.AST{constructor(n,i){super(n,i,mt(s,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))}static fromGlob(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r.AST.fromGlob(n,mt(s,i))}},unescape:function(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r.unescape(n,mt(s,i))},escape:function(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r.escape(n,mt(s,i))},filter:function(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r.filter(n,mt(s,i))},defaults:n=>r.defaults(mt(s,n)),makeRe:function(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r.makeRe(n,mt(s,i))},braceExpand:function(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r.braceExpand(n,mt(s,i))},match:function(n,i){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r.match(n,i,mt(s,u))},sep:r.sep,GLOBSTAR:gt})};const br=function(s){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Yt(s),r.nobrace||!/\{(?:(?!\{).)*\}/.test(s)?[s]:Pr(s)};st.braceExpand=br,st.makeRe=function(s){return new er(s,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).makeRe()},st.match=function(s,r){const n=new er(r,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{});return s=s.filter(i=>n.match(i)),n.options.nonull&&!s.length&&s.push(r),s};const wr=/[?*]|[+@!]\(.*?\)|\[|\]/;class er{constructor(r){Ce(this,"options");Ce(this,"set");Ce(this,"pattern");Ce(this,"windowsPathsNoEscape");Ce(this,"nonegate");Ce(this,"negate");Ce(this,"comment");Ce(this,"empty");Ce(this,"preserveMultipleSlashes");Ce(this,"partial");Ce(this,"globSet");Ce(this,"globParts");Ce(this,"nocase");Ce(this,"isWindows");Ce(this,"platform");Ce(this,"windowsNoMagicRoot");Ce(this,"regexp");let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Yt(r),n=n||{},this.options=n,this.pattern=r,this.platform=n.platform||yr,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!n.windowsPathsNoEscape||n.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!n.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!n.nonegate,this.comment=!1,this.empty=!1,this.partial=!!n.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=n.windowsNoMagicRoot!==void 0?n.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const r of this.set)for(const n of r)if(typeof n!="string")return!0;return!1}debug(){}make(){const r=this.pattern,n=this.options;if(!n.nocomment&&r.charAt(0)==="#")return void(this.comment=!0);if(!r)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],n.debug&&(this.debug=function(){return console.error(...arguments)}),this.debug(this.pattern,this.globSet);const i=this.globSet.map(l=>this.slashSplit(l));this.globParts=this.preprocess(i),this.debug(this.pattern,this.globParts);let u=this.globParts.map((l,g,h)=>{if(this.isWindows&&this.windowsNoMagicRoot){const A=!(l[0]!==""||l[1]!==""||l[2]!=="?"&&wr.test(l[2])||wr.test(l[3])),c=/^[a-z]:/i.test(l[0]);if(A)return[...l.slice(0,4),...l.slice(4).map(a=>this.parse(a))];if(c)return[l[0],...l.slice(1).map(a=>this.parse(a))]}return l.map(A=>this.parse(A))});if(this.debug(this.pattern,u),this.set=u.filter(l=>l.indexOf(!1)===-1),this.isWindows)for(let l=0;l<this.set.length;l++){const g=this.set[l];g[0]===""&&g[1]===""&&this.globParts[l][2]==="?"&&typeof g[3]=="string"&&/^[a-z]:$/i.test(g[3])&&(g[2]="?")}this.debug(this.pattern,this.set)}preprocess(r){if(this.options.noglobstar)for(let i=0;i<r.length;i++)for(let u=0;u<r[i].length;u++)r[i][u]==="**"&&(r[i][u]="*");const{optimizationLevel:n=1}=this.options;return n>=2?(r=this.firstPhasePreProcess(r),r=this.secondPhasePreProcess(r)):r=n>=1?this.levelOneOptimize(r):this.adjascentGlobstarOptimize(r),r}adjascentGlobstarOptimize(r){return r.map(n=>{let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let u=i;for(;n[u+1]==="**";)u++;u!==i&&n.splice(i,u-i)}return n})}levelOneOptimize(r){return r.map(n=>(n=n.reduce((i,u)=>{const l=i[i.length-1];return u==="**"&&l==="**"?i:u===".."&&l&&l!==".."&&l!=="."&&l!=="**"?(i.pop(),i):(i.push(u),i)},[])).length===0?[""]:n)}levelTwoFileOptimize(r){Array.isArray(r)||(r=this.slashSplit(r));let n=!1;do{if(n=!1,!this.preserveMultipleSlashes){for(let u=1;u<r.length-1;u++){const l=r[u];u===1&&l===""&&r[0]===""||l!=="."&&l!==""||(n=!0,r.splice(u,1),u--)}r[0]!=="."||r.length!==2||r[1]!=="."&&r[1]!==""||(n=!0,r.pop())}let i=0;for(;(i=r.indexOf("..",i+1))!==-1;){const u=r[i-1];u&&u!=="."&&u!==".."&&u!=="**"&&(n=!0,r.splice(i-1,2),i-=2)}}while(n);return r.length===0?[""]:r}firstPhasePreProcess(r){let n=!1;do{n=!1;for(let i of r){let u=-1;for(;(u=i.indexOf("**",u+1))!==-1;){let g=u;for(;i[g+1]==="**";)g++;g>u&&i.splice(u+1,g-u);let h=i[u+1];const A=i[u+2],c=i[u+3];if(h!==".."||!A||A==="."||A===".."||!c||c==="."||c==="..")continue;n=!0,i.splice(u,1);const a=i.slice(0);a[u]="**",r.push(a),u--}if(!this.preserveMultipleSlashes){for(let g=1;g<i.length-1;g++){const h=i[g];g===1&&h===""&&i[0]===""||h!=="."&&h!==""||(n=!0,i.splice(g,1),g--)}i[0]!=="."||i.length!==2||i[1]!=="."&&i[1]!==""||(n=!0,i.pop())}let l=0;for(;(l=i.indexOf("..",l+1))!==-1;){const g=i[l-1];if(g&&g!=="."&&g!==".."&&g!=="**"){n=!0;const h=l===1&&i[l+1]==="**"?["."]:[];i.splice(l-1,2,...h),i.length===0&&i.push(""),l-=2}}}}while(n);return r}secondPhasePreProcess(r){for(let n=0;n<r.length-1;n++)for(let i=n+1;i<r.length;i++){const u=this.partsMatch(r[n],r[i],!this.preserveMultipleSlashes);if(u){r[n]=[],r[i]=u;break}}return r.filter(n=>n.length)}partsMatch(r,n){let i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],u=0,l=0,g=[],h="";for(;u<r.length&&l<n.length;)if(r[u]===n[l])g.push(h==="b"?n[l]:r[u]),u++,l++;else if(i&&r[u]==="**"&&n[l]===r[u+1])g.push(r[u]),u++;else if(i&&n[l]==="**"&&r[u]===n[l+1])g.push(n[l]),l++;else if(r[u]!=="*"||!n[l]||!this.options.dot&&n[l].startsWith(".")||n[l]==="**"){if(n[l]!=="*"||!r[u]||!this.options.dot&&r[u].startsWith(".")||r[u]==="**"||h==="a")return!1;h="b",g.push(n[l]),u++,l++}else{if(h==="b")return!1;h="a",g.push(r[u]),u++,l++}return r.length===n.length&&g}parseNegate(){if(this.nonegate)return;const r=this.pattern;let n=!1,i=0;for(let u=0;u<r.length&&r.charAt(u)==="!";u++)n=!n,i++;i&&(this.pattern=r.slice(i)),this.negate=n}matchOne(r,n){let i=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const u=this.options;if(this.isWindows){const y=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),C=!y&&r[0]===""&&r[1]===""&&r[2]==="?"&&/^[a-z]:$/i.test(r[3]),R=typeof n[0]=="string"&&/^[a-z]:$/i.test(n[0]),b=C?3:y?0:void 0,P=!R&&n[0]===""&&n[1]===""&&n[2]==="?"&&typeof n[3]=="string"&&/^[a-z]:$/i.test(n[3])?3:R?0:void 0;if(typeof b=="number"&&typeof P=="number"){const[$,e]=[r[b],n[P]];$.toLowerCase()===e.toLowerCase()&&(n[P]=$,P>b?n=n.slice(P):b>P&&(r=r.slice(b)))}}const{optimizationLevel:l=1}=this.options;l>=2&&(r=this.levelTwoFileOptimize(r)),this.debug("matchOne",this,{file:r,pattern:n}),this.debug("matchOne",r.length,n.length);for(var g=0,h=0,A=r.length,c=n.length;g<A&&h<c;g++,h++){this.debug("matchOne loop");var a=n[h],v=r[g];if(this.debug(n,a,v),a===!1)return!1;if(a===gt){this.debug("GLOBSTAR",[n,a,v]);var d=g,E=h+1;if(E===c){for(this.debug("** at the end");g<A;g++)if(r[g]==="."||r[g]===".."||!u.dot&&r[g].charAt(0)===".")return!1;return!0}for(;d<A;){var N=r[d];if(this.debug(`
globstar while`,r,d,n,E,N),this.matchOne(r.slice(d),n.slice(E),i))return this.debug("globstar found match!",d,A,N),!0;if(N==="."||N===".."||!u.dot&&N.charAt(0)==="."){this.debug("dot detected!",r,d,n,E);break}this.debug("globstar swallow a segment, and continue"),d++}return!(!i||(this.debug(`
>>> no match, partial?`,r,d,n,E),d!==A))}let y;if(typeof a=="string"?(y=v===a,this.debug("string match",a,v,y)):(y=a.test(v),this.debug("pattern match",a,v,y)),!y)return!1}if(g===A&&h===c)return!0;if(g===A)return i;if(h===c)return g===A-1&&r[g]==="";throw new Error("wtf?")}braceExpand(){return br(this.pattern,this.options)}parse(r){Yt(r);const n=this.options;if(r==="**")return gt;if(r==="")return"";let i,u=null;(i=r.match(gr))?u=n.dot?Mr:Br:(i=r.match($r))?u=(n.nocase?n.dot?De:Rr:n.dot?Lr:pr)(i[1]):(i=r.match(jr))?u=(n.nocase?n.dot?Ur:Vr:n.dot?Dr:zr)(i):(i=r.match(Fr))?u=n.dot?at:kr:(i=r.match(Wt))&&(u=ur);const l=qt.fromGlob(r,this.options).toMMPattern();return u&&typeof l=="object"&&Reflect.defineProperty(l,"test",{value:u}),l}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const r=this.set;if(!r.length)return this.regexp=!1,this.regexp;const n=this.options,i=n.noglobstar?"[^/]*?":n.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",u=new Set(n.nocase?["i"]:[]);let l=r.map(A=>{const c=A.map(a=>{if(a instanceof RegExp)for(const v of a.flags.split(""))u.add(v);return typeof a=="string"?a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):a===gt?gt:a._src});return c.forEach((a,v)=>{const d=c[v+1],E=c[v-1];a===gt&&E!==gt&&(E===void 0?d!==void 0&&d!==gt?c[v+1]="(?:\\/|"+i+"\\/)?"+d:c[v]=i:d===void 0?c[v-1]=E+"(?:\\/|"+i+")?":d!==gt&&(c[v-1]=E+"(?:\\/|\\/"+i+"\\/)"+d,c[v+1]=gt))}),c.filter(a=>a!==gt).join("/")}).join("|");const[g,h]=r.length>1?["(?:",")"]:["",""];l="^"+g+l+h+"$",this.negate&&(l="^(?!"+l+").+$");try{this.regexp=new RegExp(l,[...u].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(r){return this.preserveMultipleSlashes?r.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(r)?["",...r.split(/\/+/)]:r.split(/\/+/)}match(r){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.partial;if(this.debug("match",r,this.pattern),this.comment)return!1;if(this.empty)return r==="";if(r==="/"&&n)return!0;const i=this.options;this.isWindows&&(r=r.split("\\").join("/"));const u=this.slashSplit(r);this.debug(this.pattern,"split",u);const l=this.set;this.debug(this.pattern,"set",l);let g=u[u.length-1];if(!g)for(let h=u.length-2;!g&&h>=0;h--)g=u[h];for(let h=0;h<l.length;h++){const A=l[h];let c=u;if(i.matchBase&&A.length===1&&(c=[g]),this.matchOne(c,A,n))return!!i.flipNegate||!this.negate}return!i.flipNegate&&this.negate}static defaults(r){return st.defaults(r).Minimatch}}function cr(s){const r=new Error(`${arguments.length>1&&arguments[1]!==void 0?arguments[1]:""}Invalid response: ${s.status} ${s.statusText}`);return r.status=s.status,r.response=s,r}function Ke(s,r){const{status:n}=r;if(n===401&&s.digest)return r;if(n>=400)throw cr(r);return r}function $t(s,r){return arguments.length>2&&arguments[2]!==void 0&&arguments[2]?{data:r,headers:s.headers?Re(s.headers):{},status:s.status,statusText:s.statusText}:r}st.AST=qt,st.Minimatch=er,st.escape=function(s){let{windowsPathsNoEscape:r=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r?s.replace(/[?*()[\]]/g,"[$&]"):s.replace(/[?*()[\]\\]/g,"\\$&")},st.unescape=Gt;const Gr=(Er=function(s,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const u=qe({url:de(s.remoteURL,ue(r)),method:"COPY",headers:{Destination:de(s.remoteURL,ue(n)),Overwrite:i.overwrite===!1?"F":"T",Depth:i.shallow?"0":"infinity"}},s,i);return g=function(h){Ke(s,h)},(l=He(u,s))&&l.then||(l=Promise.resolve(l)),g?l.then(g):l;var l,g},function(){for(var s=[],r=0;r<arguments.length;r++)s[r]=arguments[r];try{return Promise.resolve(Er.apply(this,s))}catch(n){return Promise.reject(n)}});var Er,q=G(635),w=G(829),I=G.n(w),x=function(s){return s.Array="array",s.Object="object",s.Original="original",s}(x||{});function D(s,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:x.Original;const i=I().get(s,r);return n==="array"&&Array.isArray(i)===!1?[i]:n==="object"&&Array.isArray(i)?i[0]:i}function ee(s){return new Promise(r=>{r(function(n){const{multistatus:i}=n;if(i==="")return{multistatus:{response:[]}};if(!i)throw new Error("Invalid response: No root multistatus found");const u={multistatus:Array.isArray(i)?i[0]:i};return I().set(u,"multistatus.response",D(u,"multistatus.response",x.Array)),I().set(u,"multistatus.response",I().get(u,"multistatus.response").map(l=>function(g){const h=Object.assign({},g);return h.status?I().set(h,"status",D(h,"status",x.Object)):(I().set(h,"propstat",D(h,"propstat",x.Object)),I().set(h,"propstat.prop",D(h,"propstat.prop",x.Object))),h}(l))),u}(new q.XMLParser({removeNSPrefix:!0,numberParseOptions:{hex:!0,leadingZeros:!1}}).parse(s)))})}function ve(s,r){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const{getlastmodified:i=null,getcontentlength:u="0",resourcetype:l=null,getcontenttype:g=null,getetag:h=null}=s,A=l&&typeof l=="object"&&l.collection!==void 0?"directory":"file",c={filename:r,basename:se().basename(r),lastmod:i,size:parseInt(u,10),type:A,etag:typeof h=="string"?h.replace(/"/g,""):null};return A==="file"&&(c.mime=g&&typeof g=="string"?g.split(";")[0]:""),n&&(s.displayname!==void 0&&(s.displayname=String(s.displayname)),c.props=s),c}function xe(s,r){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=null;try{s.multistatus.response[0].propstat&&(i=s.multistatus.response[0])}catch{}if(!i)throw new Error("Failed getting item stat: bad response");const{propstat:{prop:u,status:l}}=i,[g,h,A]=l.split(" ",3),c=parseInt(h,10);if(c>=400){const a=new Error(`Invalid response: ${c} ${A}`);throw a.status=c,a}return ve(u,ge(r),n)}function Te(s){switch(String(s)){case"-3":return"unlimited";case"-2":case"-1":return"unknown";default:return parseInt(String(s),10)}}function Ae(s,r,n){return n?r?r(s):s:(s&&s.then||(s=Promise.resolve(s)),r?s.then(r):s)}const $e=function(s){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{return Promise.resolve(s.apply(this,r))}catch(i){return Promise.reject(i)}}}(function(s,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:i=!1}=n,u=qe({url:de(s.remoteURL,ue(r)),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},s,n);return Ae(He(u,s),function(l){return Ke(s,l),Ae(l.text(),function(g){return Ae(ee(g),function(h){const A=xe(h,r,i);return $t(l,A,i)})})})});function ke(s,r,n){return n?r?r(s):s:(s&&s.then||(s=Promise.resolve(s)),r?s.then(r):s)}const ut=Ne(function(s,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=function(l){if(!l||l==="/")return[];let g=l;const h=[];do h.push(g),g=se().dirname(g);while(g&&g!=="/");return h}(ge(r));i.sort((l,g)=>l.length>g.length?1:g.length>l.length?-1:0);let u=!1;return function(l,g,h){if(typeof l[_t]=="function"){let y=function(C){try{for(;!(A=v.next()).done;)if((C=g(A.value))&&C.then){if(!vt(C))return void C.then(y,a||(a=Ue.bind(null,c=new We,2)));C=C.v}c?Ue(c,1,C):c=C}catch(R){Ue(c||(c=new We),2,R)}};var A,c,a,v=l[_t]();if(y(),v.return){var d=function(C){try{A.done||v.return()}catch{}return C};if(c&&c.then)return c.then(d,function(C){throw d(C)});d()}return c}if(!("length"in l))throw new TypeError("Object is not iterable");for(var E=[],N=0;N<l.length;N++)E.push(l[N]);return function(y,C,R){var b,P,$=-1;return function e(t){try{for(;++$<y.length&&(!R||!R());)if((t=C($))&&t.then){if(!vt(t))return void t.then(e,P||(P=Ue.bind(null,b=new We,2)));t=t.v}b?Ue(b,1,t):b=t}catch(o){Ue(b||(b=new We),2,o)}}(),b}(E,function(y){return g(E[y])},h)}(i,function(l){return g=function(){return function(A,c){try{var a=ke($e(s,l),function(v){if(v.type!=="directory")throw new Error(`Path includes a file: ${r}`)})}catch(v){return c(v)}return a&&a.then?a.then(void 0,c):a}(0,function(A){const c=A;return function(){if(c.status===404)return u=!0,tt(Fe(s,l,{...n,recursive:!1}));throw A}()})},(h=function(){if(u)return tt(Fe(s,l,{...n,recursive:!1}))}())&&h.then?h.then(g):g();var g,h},function(){return!1})});function Ne(s){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{return Promise.resolve(s.apply(this,r))}catch(i){return Promise.reject(i)}}}function Ge(){}function tt(s,r){if(!r)return s&&s.then?s.then(Ge):Promise.resolve()}const _t=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function Ue(s,r,n){if(!s.s){if(n instanceof We){if(!n.s)return void(n.o=Ue.bind(null,s,r));1&r&&(r=n.s),n=n.v}if(n&&n.then)return void n.then(Ue.bind(null,s,r),Ue.bind(null,s,2));s.s=r,s.v=n;const i=s.o;i&&i(s)}}const We=function(){function s(){}return s.prototype.then=function(r,n){const i=new s,u=this.s;if(u){const l=1&u?r:n;if(l){try{Ue(i,1,l(this.v))}catch(g){Ue(i,2,g)}return i}return this}return this.o=function(l){try{const g=l.v;1&l.s?Ue(i,1,r?r(g):g):n?Ue(i,1,n(g)):Ue(i,2,g)}catch(g){Ue(i,2,g)}},i},s}();function vt(s){return s instanceof We&&1&s.s}const Fe=Ne(function(s,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n.recursive===!0)return ut(s,r,n);const i=qe({url:de(s.remoteURL,(u=ue(r),u.endsWith("/")?u:u+"/")),method:"MKCOL"},s,n);var u;return ke(He(i,s),function(l){Ke(s,l)})});var ct=G(388),Ot=G.n(ct);const Lt=function(s){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{return Promise.resolve(s.apply(this,r))}catch(i){return Promise.reject(i)}}}(function(s,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i={};if(typeof n.range=="object"&&typeof n.range.start=="number"){let h=`bytes=${n.range.start}-`;typeof n.range.end=="number"&&(h=`${h}${n.range.end}`),i.Range=h}const u=qe({url:de(s.remoteURL,ue(r)),method:"GET",headers:i},s,n);return g=function(h){if(Ke(s,h),i.Range&&h.status!==206){const A=new Error(`Invalid response code for partial request: ${h.status}`);throw A.status=h.status,A}return n.callback&&setTimeout(()=>{n.callback(h)},0),h.body},(l=He(u,s))&&l.then||(l=Promise.resolve(l)),g?l.then(g):l;var l,g}),kt=()=>{},Ie=function(s){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{return Promise.resolve(s.apply(this,r))}catch(i){return Promise.reject(i)}}}(function(s,r,n){n.url||(n.url=de(s.remoteURL,ue(r)));const i=qe(n,s,{});return l=function(g){return Ke(s,g),g},(u=He(i,s))&&u.then||(u=Promise.resolve(u)),l?u.then(l):u;var u,l}),Be=function(s){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{return Promise.resolve(s.apply(this,r))}catch(i){return Promise.reject(i)}}}(function(s,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=qe({url:de(s.remoteURL,ue(r)),method:"DELETE"},s,n);return l=function(g){Ke(s,g)},(u=He(i,s))&&u.then||(u=Promise.resolve(u)),l?u.then(l):u;var u,l}),wt=function(s){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{return Promise.resolve(s.apply(this,r))}catch(i){return Promise.reject(i)}}}(function(s,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function(i,u){try{var l=(g=$e(s,r,n),h=function(){return!0},A?h?h(g):g:(g&&g.then||(g=Promise.resolve(g)),h?g.then(h):g))}catch(c){return u(c)}var g,h,A;return l&&l.then?l.then(void 0,u):l}(0,function(i){if(i.status===404)return!1;throw i})});function Nt(s,r,n){return n?r?r(s):s:(s&&s.then||(s=Promise.resolve(s)),r?s.then(r):s)}const _r=function(s){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{return Promise.resolve(s.apply(this,r))}catch(i){return Promise.reject(i)}}}(function(s,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=qe({url:de(s.remoteURL,ue(r),"/"),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:n.deep?"infinity":"1"}},s,n);return Nt(He(i,s),function(u){return Ke(s,u),Nt(u.text(),function(l){if(!l)throw new Error("Failed parsing directory contents: Empty response");return Nt(ee(l),function(g){const h=Oe(r);let A=function(c,a,v){let d=arguments.length>3&&arguments[3]!==void 0&&arguments[3],E=arguments.length>4&&arguments[4]!==void 0&&arguments[4];const N=se().join(a,"/"),{multistatus:{response:y}}=c,C=y.map(R=>{const b=function($){try{return $.replace(/^https?:\/\/[^\/]+/,"")}catch(e){throw new le(e,"Failed normalising HREF")}}(R.href),{propstat:{prop:P}}=R;return ve(P,N==="/"?decodeURIComponent(ge(b)):ge(se().relative(decodeURIComponent(N),decodeURIComponent(b))),d)});return E?C:C.filter(R=>R.basename&&(R.type==="file"||R.filename!==v.replace(/\/$/,"")))}(g,Oe(s.remoteBasePath||s.remotePath),h,n.details,n.includeSelf);return n.glob&&(A=function(c,a){return c.filter(v=>st(v.filename,a,{matchBase:!0}))}(A,n.glob)),$t(u,A,n.details)})})})});function tr(s){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{return Promise.resolve(s.apply(this,r))}catch(i){return Promise.reject(i)}}}const Ar=tr(function(s,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=qe({url:de(s.remoteURL,ue(r)),method:"GET",headers:{Accept:"text/plain"},transformResponse:[Cr]},s,n);return Xt(He(i,s),function(u){return Ke(s,u),Xt(u.text(),function(l){return $t(u,l,n.details)})})});function Xt(s,r,n){return n?r?r(s):s:(s&&s.then||(s=Promise.resolve(s)),r?s.then(r):s)}const Wr=tr(function(s,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=qe({url:de(s.remoteURL,ue(r)),method:"GET"},s,n);return Xt(He(i,s),function(u){let l;return Ke(s,u),function(g,h){var A=g();return A&&A.then?A.then(h):h()}(function(){return Xt(u.arrayBuffer(),function(g){l=g})},function(){return $t(u,l,n.details)})})}),Nr=tr(function(s,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{format:i="binary"}=n;if(i!=="binary"&&i!=="text")throw new le({info:{code:Je.InvalidOutputFormat}},`Invalid output format: ${i}`);return i==="text"?Ar(s,r,n):Wr(s,r,n)}),Cr=s=>s;function ft(s){return new q.XMLBuilder({attributeNamePrefix:"@_",format:!0,ignoreAttributes:!1,suppressEmptyNode:!0}).build(Xr({lockinfo:{"@_xmlns:d":"DAV:",lockscope:{exclusive:{}},locktype:{write:{}},owner:{href:s}}},"d"))}function Xr(s,r){const n={...s};for(const i in n)n.hasOwnProperty(i)&&(n[i]&&typeof n[i]=="object"&&i.indexOf(":")===-1?(n[`${r}:${i}`]=Xr(n[i],r),delete n[i]):/^@_/.test(i)===!1&&(n[`${r}:${i}`]=n[i],delete n[i]));return n}function Hr(s,r,n){return n?r?r(s):s:(s&&s.then||(s=Promise.resolve(s)),r?s.then(r):s)}function Kr(s){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{return Promise.resolve(s.apply(this,r))}catch(i){return Promise.reject(i)}}}const cn=Kr(function(s,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const u=qe({url:de(s.remoteURL,ue(r)),method:"UNLOCK",headers:{"Lock-Token":n}},s,i);return Hr(He(u,s),function(l){if(Ke(s,l),l.status!==204&&l.status!==200)throw cr(l)})}),en=Kr(function(s,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{refreshToken:i,timeout:u=fn}=n,l={Accept:"text/plain,application/xml",Timeout:u};i&&(l.If=i);const g=qe({url:de(s.remoteURL,ue(r)),method:"LOCK",headers:l,data:ft(s.contactHref)},s,n);return Hr(He(g,s),function(h){return Ke(s,h),Hr(h.text(),function(A){const c=(d=A,new q.XMLParser({removeNSPrefix:!0,parseAttributeValue:!0,parseTagValue:!0}).parse(d)),a=I().get(c,"prop.lockdiscovery.activelock.locktoken.href"),v=I().get(c,"prop.lockdiscovery.activelock.timeout");var d;if(!a)throw cr(h,"No lock token received: ");return{token:a,serverTimeout:v}})})}),fn="Infinite, Second-4100000000";function Zr(s,r,n){return n?r?r(s):s:(s&&s.then||(s=Promise.resolve(s)),r?s.then(r):s)}const dn=function(s){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{return Promise.resolve(s.apply(this,r))}catch(i){return Promise.reject(i)}}}(function(s){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=r.path||"/",i=qe({url:de(s.remoteURL,n),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},s,r);return Zr(He(i,s),function(u){return Ke(s,u),Zr(u.text(),function(l){return Zr(ee(l),function(g){const h=function(A){try{const[c]=A.multistatus.response,{propstat:{prop:{"quota-used-bytes":a,"quota-available-bytes":v}}}=c;return a!==void 0&&v!==void 0?{used:parseInt(String(a),10),available:Te(v)}:null}catch{}return null}(g);return $t(u,h,r.details)})})})});function Yr(s,r,n){return n?r?r(s):s:(s&&s.then||(s=Promise.resolve(s)),r?s.then(r):s)}const Bt=function(s){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{return Promise.resolve(s.apply(this,r))}catch(i){return Promise.reject(i)}}}(function(s,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:i=!1}=n,u=qe({url:de(s.remoteURL,ue(r)),method:"SEARCH",headers:{Accept:"text/plain,application/xml","Content-Type":s.headers["Content-Type"]||"application/xml; charset=utf-8"}},s,n);return Yr(He(u,s),function(l){return Ke(s,l),Yr(l.text(),function(g){return Yr(ee(g),function(h){const A=function(c,a,v){const d={truncated:!1,results:[]};return d.truncated=c.multistatus.response.some(E=>(E.status||E.propstat?.status).split(" ",3)?.[1]==="507"&&E.href.replace(/\/$/,"").endsWith(ue(a).replace(/\/$/,""))),c.multistatus.response.forEach(E=>{if(E.propstat===void 0)return;const N=E.href.split("/").map(decodeURIComponent).join("/");d.results.push(ve(E.propstat.prop,N,v))}),d}(h,r,i);return $t(l,A,i)})})})}),hn=function(s){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{return Promise.resolve(s.apply(this,r))}catch(i){return Promise.reject(i)}}}(function(s,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const u=qe({url:de(s.remoteURL,ue(r)),method:"MOVE",headers:{Destination:de(s.remoteURL,ue(n)),Overwrite:i.overwrite===!1?"F":"T"}},s,i);return g=function(h){Ke(s,h)},(l=He(u,s))&&l.then||(l=Promise.resolve(l)),g?l.then(g):l;var l,g});var pn=G(172);const gn=function(s){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{return Promise.resolve(s.apply(this,r))}catch(i){return Promise.reject(i)}}}(function(s,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const{contentLength:u=!0,overwrite:l=!0}=i,g={"Content-Type":"application/octet-stream"};u===!1||(g["Content-Length"]=typeof u=="number"?`${u}`:`${function(a){if(ot(a))return a.byteLength;if(Rt(a))return a.length;if(typeof a=="string")return(0,pn.d)(a);throw new le({info:{code:Je.DataTypeNoLength}},"Cannot calculate data length: Invalid type")}(n)}`),l||(g["If-None-Match"]="*");const h=qe({url:de(s.remoteURL,ue(r)),method:"PUT",headers:g,data:n},s,i);return c=function(a){try{Ke(s,a)}catch(v){const d=v;if(d.status!==412||l)throw d;return!1}return!0},(A=He(h,s))&&A.then||(A=Promise.resolve(A)),c?A.then(c):A;var A,c}),tn=function(s){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{return Promise.resolve(s.apply(this,r))}catch(i){return Promise.reject(i)}}}(function(s,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=qe({url:de(s.remoteURL,ue(r)),method:"OPTIONS"},s,n);return l=function(g){try{Ke(s,g)}catch(h){throw h}return{compliance:(g.headers.get("DAV")??"").split(",").map(h=>h.trim()),server:g.headers.get("Server")??""}},(u=He(i,s))&&u.then||(u=Promise.resolve(u)),l?u.then(l):u;var u,l});function xr(s,r,n){return n?r?r(s):s:(s&&s.then||(s=Promise.resolve(s)),r?s.then(r):s)}const xn=Jr(function(s,r,n,i,u){let l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(n>i||n<0)throw new le({info:{code:Je.InvalidUpdateRange}},`Invalid update range ${n} for partial update`);const g={"Content-Type":"application/octet-stream","Content-Length":""+(i-n+1),"Content-Range":`bytes ${n}-${i}/*`},h=qe({url:de(s.remoteURL,ue(r)),method:"PUT",headers:g,data:u},s,l);return xr(He(h,s),function(A){Ke(s,A)})});function mn(s,r){var n=s();return n&&n.then?n.then(r):r(n)}const rn=Jr(function(s,r,n,i,u){let l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(n>i||n<0)throw new le({info:{code:Je.InvalidUpdateRange}},`Invalid update range ${n} for partial update`);const g={"Content-Type":"application/x-sabredav-partialupdate","Content-Length":""+(i-n+1),"X-Update-Range":`bytes=${n}-${i}`},h=qe({url:de(s.remoteURL,ue(r)),method:"PATCH",headers:g,data:u},s,l);return xr(He(h,s),function(A){Ke(s,A)})});function Jr(s){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{return Promise.resolve(s.apply(this,r))}catch(i){return Promise.reject(i)}}}const Pn=Jr(function(s,r,n,i,u){let l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};return xr(tn(s,r,l),function(g){let h=!1;return mn(function(){if(g.compliance.includes("sabredav-partialupdate"))return xr(rn(s,r,n,i,u,l),function(A){return h=!0,A})},function(A){let c=!1;return h?A:mn(function(){if(g.server.includes("Apache")&&g.compliance.includes("<http://apache.org/dav/propset/fs/1>"))return xr(xn(s,r,n,i,u,l),function(a){return c=!0,a})},function(a){if(c)return a;throw new le({info:{code:Je.NotSupported}},"Not supported")})})})}),vn="https://github.com/perry-mitchell/webdav-client/blob/master/LOCK_CONTACT.md";function In(s){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{authType:n=null,remoteBasePath:i,contactHref:u=vn,ha1:l,headers:g={},httpAgent:h,httpsAgent:A,password:c,token:a,username:v,withCredentials:d}=r;let E=n;E||(E=v||c?ze.Password:ze.None);const N={authType:E,remoteBasePath:i,contactHref:u,ha1:l,headers:Object.assign({},g),httpAgent:h,httpsAgent:A,password:c,remotePath:Pe(s),remoteURL:s,token:a,username:v,withCredentials:d};return Pt(N,v,c,a,l),{copyFile:(y,C,R)=>Gr(N,y,C,R),createDirectory:(y,C)=>Fe(N,y,C),createReadStream:(y,C)=>function(R,b){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const $=new(Ot()).PassThrough;return Lt(R,b,P).then(e=>{e.pipe($)}).catch(e=>{$.emit("error",e)}),$}(N,y,C),createWriteStream:(y,C,R)=>function(b,P){let $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:kt;const t=new(Ot()).PassThrough,o={};$.overwrite===!1&&(o["If-None-Match"]="*");const f=qe({url:de(b.remoteURL,ue(P)),method:"PUT",headers:o,data:t,maxRedirects:0},b,$);return He(f,b).then(p=>Ke(b,p)).then(p=>{setTimeout(()=>{e(p)},0)}).catch(p=>{t.emit("error",p)}),t}(N,y,C,R),customRequest:(y,C)=>Ie(N,y,C),deleteFile:(y,C)=>Be(N,y,C),exists:(y,C)=>wt(N,y,C),getDirectoryContents:(y,C)=>_r(N,y,C),getFileContents:(y,C)=>Nr(N,y,C),getFileDownloadLink:y=>function(C,R){let b=de(C.remoteURL,ue(R));const P=/^https:/i.test(b)?"https":"http";switch(C.authType){case ze.None:break;case ze.Password:{const $=Q(C.headers.Authorization.replace(/^Basic /i,"").trim());b=b.replace(/^https?:\/\//,`${P}://${$}@`);break}default:throw new le({info:{code:Je.LinkUnsupportedAuthType}},`Unsupported auth type for file link: ${C.authType}`)}return b}(N,y),getFileUploadLink:y=>function(C,R){let b=`${de(C.remoteURL,ue(R))}?Content-Type=application/octet-stream`;const P=/^https:/i.test(b)?"https":"http";switch(C.authType){case ze.None:break;case ze.Password:{const $=Q(C.headers.Authorization.replace(/^Basic /i,"").trim());b=b.replace(/^https?:\/\//,`${P}://${$}@`);break}default:throw new le({info:{code:Je.LinkUnsupportedAuthType}},`Unsupported auth type for file link: ${C.authType}`)}return b}(N,y),getHeaders:()=>Object.assign({},N.headers),getQuota:y=>dn(N,y),lock:(y,C)=>en(N,y,C),moveFile:(y,C,R)=>hn(N,y,C,R),putFileContents:(y,C,R)=>gn(N,y,C,R),partialUpdateFileContents:(y,C,R,b,P)=>Pn(N,y,C,R,b,P),getDAVCompliance:y=>tn(N,y),search:(y,C)=>Bt(N,y,C),setHeaders:y=>{N.headers=Object.assign({},y)},stat:(y,C)=>$e(N,y,C),unlock:(y,C,R)=>cn(N,y,C,R)}}var On=J.hT,Tn=J.O4,yn=J.Kd,Sn=J.YK,bn=J.UU,wn=J.Gu,Gn=J.ky,En=J.h4,nn=J.ch,$n=J.hq,Ln=J.i5}}]);})();

//# sourceMappingURL=talk-defaultVendors-node_modules_css-loader_dist_runtime_getUrl_js-node_modules_debounce_index_js--9dd009.js.map?v=9f2d3ab1de7cbd7ef9f8