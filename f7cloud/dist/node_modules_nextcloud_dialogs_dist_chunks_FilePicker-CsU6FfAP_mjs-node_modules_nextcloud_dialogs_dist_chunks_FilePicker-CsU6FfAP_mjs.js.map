{"version":3,"file":"node_modules_nextcloud_dialogs_dist_chunks_FilePicker-CsU6FfAP_mjs-node_modules_nextcloud_dialogs_dist_chunks_FilePicker-CsU6FfAP_mjs.js?v=ab173c8950e8fc34aa9c","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;;;;;;;;;;;ACnlCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AC/UA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AC5GA;AAGA;AACA;;;;;;;;;;;;;;;;ACJA;AAGA;AACA","sources":["webpack:///nextcloud/node_modules/@nextcloud/dialogs/dist/chunks/FilePicker-CsU6FfAP.mjs","webpack:///nextcloud/node_modules/@nextcloud/dialogs/node_modules/eventemitter3/index.js","webpack:///nextcloud/node_modules/@nextcloud/dialogs/node_modules/eventemitter3/index.mjs","webpack:///nextcloud/node_modules/@nextcloud/dialogs/node_modules/p-queue/dist/index.js","webpack:///nextcloud/node_modules/@nextcloud/dialogs/node_modules/p-queue/dist/lower-bound.js","webpack:///nextcloud/node_modules/@nextcloud/dialogs/node_modules/p-queue/dist/priority-queue.js","webpack:///nextcloud/node_modules/@nextcloud/dialogs/node_modules/p-timeout/index.js","webpack:///nextcloud/node_modules/@nextcloud/vue/dist/Components/NcBreadcrumb.mjs","webpack:///nextcloud/node_modules/@nextcloud/vue/dist/Components/NcBreadcrumbs.mjs"],"sourcesContent":["import { ref, onMounted, computed, defineComponent, watchEffect, toRef, nextTick, onUnmounted, shallowRef, watch } from \"vue\";\nimport { n as normalizeComponent, l as showError, t } from \"./_plugin-vue2_normalizer-jrlE7CJU.mjs\";\nimport { FileType, formatFileSize, sortNodes, davGetRecentSearch, davResultToNode, davRootPath, davGetDefaultPropfind, davGetClient, getFavoriteNodes } from \"@nextcloud/files\";\nimport NcButton from \"@nextcloud/vue/components/NcButton\";\nimport NcCheckboxRadioSwitch from \"@nextcloud/vue/components/NcCheckboxRadioSwitch\";\nimport { loadState } from \"@nextcloud/initial-state\";\nimport { generateUrl } from \"@nextcloud/router\";\nimport { isPublicShare } from \"@nextcloud/sharing/public\";\nimport { toValue } from \"@vueuse/core\";\nimport axios from \"@nextcloud/axios\";\nimport NcDateTime from \"@nextcloud/vue/components/NcDateTime\";\nimport { mdiLock, mdiTag, mdiLink, mdiAccountPlus, mdiGroup, mdiNetwork, mdiFolder, mdiClock, mdiStar } from \"@mdi/js\";\nimport { ShareType } from \"@nextcloud/sharing\";\nimport PQueue from \"p-queue\";\nimport NcIconSvgWrapper from \"@nextcloud/vue/components/NcIconSvgWrapper\";\nimport NcActions from \"@nextcloud/vue/components/NcActions\";\nimport NcActionInput from \"@nextcloud/vue/components/NcActionInput\";\nimport NcBreadcrumbs from \"@nextcloud/vue/components/NcBreadcrumbs\";\nimport NcBreadcrumb from \"@nextcloud/vue/components/NcBreadcrumb\";\nimport { getCurrentUser } from \"@nextcloud/auth\";\nimport NcSelect from \"@nextcloud/vue/components/NcSelect\";\nimport NcTextField from \"@nextcloud/vue/components/NcTextField\";\nimport { Fragment } from \"vue-frag\";\nimport { emit } from \"@nextcloud/event-bus\";\nimport NcDialog from \"@nextcloud/vue/components/NcDialog\";\nimport NcEmptyContent from \"@nextcloud/vue/components/NcEmptyContent\";\nimport { CancelablePromise } from \"cancelable-promise\";\nimport { join } from \"path\";\nconst _sfc_main$e = {\n  name: \"FileIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar _sfc_render$e = function render() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"span\", _vm._b({ staticClass: \"material-design-icon file-icon\", attrs: { \"aria-hidden\": _vm.title ? null : \"true\", \"aria-label\": _vm.title, \"role\": \"img\" }, on: { \"click\": function($event) {\n    return _vm.$emit(\"click\", $event);\n  } } }, \"span\", _vm.$attrs, false), [_c(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { \"fill\": _vm.fillColor, \"width\": _vm.size, \"height\": _vm.size, \"viewBox\": \"0 0 24 24\" } }, [_c(\"path\", { attrs: { \"d\": \"M13,9V3.5L18.5,9M6,2C4.89,2 4,2.89 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6Z\" } }, [_vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e()])])]);\n};\nvar _sfc_staticRenderFns$e = [];\nvar __component__$e = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$e,\n  _sfc_render$e,\n  _sfc_staticRenderFns$e,\n  false,\n  null,\n  null\n);\nconst IconFile = __component__$e.exports;\nconst useFilesSettings = () => {\n  const filesUserState = loadState(\"files\", \"config\", null);\n  const showHiddenFiles = ref(filesUserState?.show_hidden ?? true);\n  const sortFavoritesFirst = ref(filesUserState?.sort_favorites_first ?? true);\n  const cropImagePreviews = ref(filesUserState?.crop_image_previews ?? true);\n  onMounted(async () => {\n    if (!isPublicShare()) {\n      try {\n        const { data } = await axios.get(generateUrl(\"/apps/files/api/v1/configs\"));\n        showHiddenFiles.value = data?.data?.show_hidden ?? false;\n        sortFavoritesFirst.value = data?.data?.sort_favorites_first ?? true;\n        cropImagePreviews.value = data?.data?.crop_image_previews ?? true;\n      } catch (error) {\n        console.error(\"Could not load files settings\", error);\n        showError(t(\"Could not load files settings\"));\n      }\n    } else {\n      console.debug(\"Skip loading files settings - currently on public share\");\n    }\n  });\n  return {\n    showHiddenFiles,\n    sortFavoritesFirst,\n    cropImagePreviews\n  };\n};\nconst useFilesViews = (currentView) => {\n  const convertOrder = (order2) => order2 === \"asc\" ? \"ascending\" : order2 === \"desc\" ? \"descending\" : \"none\";\n  const filesViewsState = loadState(\"files\", \"viewConfigs\", null);\n  const filesViewConfig = ref({\n    sortBy: filesViewsState?.files?.sorting_mode ?? \"basename\",\n    order: convertOrder(filesViewsState?.files?.sorting_direction ?? \"asc\")\n  });\n  const recentViewConfig = ref({\n    sortBy: filesViewsState?.recent?.sorting_mode ?? \"basename\",\n    order: convertOrder(filesViewsState?.recent?.sorting_direction ?? \"asc\")\n  });\n  const favoritesViewConfig = ref({\n    sortBy: filesViewsState?.favorites?.sorting_mode ?? \"basename\",\n    order: convertOrder(filesViewsState?.favorites?.sorting_direction ?? \"asc\")\n  });\n  onMounted(async () => {\n    if (!isPublicShare()) {\n      try {\n        const { data } = await axios.get(generateUrl(\"/apps/files/api/v1/views\"));\n        filesViewConfig.value = {\n          sortBy: data?.data?.files?.sorting_mode ?? \"basename\",\n          order: convertOrder(data?.data?.files?.sorting_direction)\n        };\n        favoritesViewConfig.value = {\n          sortBy: data?.data?.favorites?.sorting_mode ?? \"basename\",\n          order: convertOrder(data?.data?.favorites?.sorting_direction)\n        };\n        recentViewConfig.value = {\n          sortBy: data?.data?.recent?.sorting_mode ?? \"basename\",\n          order: convertOrder(data?.data?.recent?.sorting_direction)\n        };\n      } catch (error) {\n        console.error(\"Could not load files views\", error);\n        showError(t(\"Could not load files views\"));\n      }\n    } else {\n      console.debug(\"Skip loading files views - currently on public share\");\n    }\n  });\n  const currentConfig = computed(() => toValue(currentView || \"files\") === \"files\" ? filesViewConfig.value : toValue(currentView) === \"recent\" ? recentViewConfig.value : favoritesViewConfig.value);\n  const sortBy = computed(() => currentConfig.value.sortBy);\n  const order = computed(() => currentConfig.value.order);\n  return {\n    filesViewConfig,\n    favoritesViewConfig,\n    recentViewConfig,\n    currentConfig,\n    sortBy,\n    order\n  };\n};\nconst _sfc_main$d = {\n  name: \"MenuUpIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar _sfc_render$d = function render2() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"span\", _vm._b({ staticClass: \"material-design-icon menu-up-icon\", attrs: { \"aria-hidden\": _vm.title ? null : \"true\", \"aria-label\": _vm.title, \"role\": \"img\" }, on: { \"click\": function($event) {\n    return _vm.$emit(\"click\", $event);\n  } } }, \"span\", _vm.$attrs, false), [_c(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { \"fill\": _vm.fillColor, \"width\": _vm.size, \"height\": _vm.size, \"viewBox\": \"0 0 24 24\" } }, [_c(\"path\", { attrs: { \"d\": \"M7,15L12,10L17,15H7Z\" } }, [_vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e()])])]);\n};\nvar _sfc_staticRenderFns$d = [];\nvar __component__$d = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$d,\n  _sfc_render$d,\n  _sfc_staticRenderFns$d,\n  false,\n  null,\n  null\n);\nconst IconSortAscending = __component__$d.exports;\nconst _sfc_main$c = {\n  name: \"MenuDownIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar _sfc_render$c = function render3() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"span\", _vm._b({ staticClass: \"material-design-icon menu-down-icon\", attrs: { \"aria-hidden\": _vm.title ? null : \"true\", \"aria-label\": _vm.title, \"role\": \"img\" }, on: { \"click\": function($event) {\n    return _vm.$emit(\"click\", $event);\n  } } }, \"span\", _vm.$attrs, false), [_c(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { \"fill\": _vm.fillColor, \"width\": _vm.size, \"height\": _vm.size, \"viewBox\": \"0 0 24 24\" } }, [_c(\"path\", { attrs: { \"d\": \"M7,10L12,15L17,10H7Z\" } }, [_vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e()])])]);\n};\nvar _sfc_staticRenderFns$c = [];\nvar __component__$c = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$c,\n  _sfc_render$c,\n  _sfc_staticRenderFns$c,\n  false,\n  null,\n  null\n);\nconst IconSortDescending = __component__$c.exports;\nconst fileListIconStylesModule = {\n  \"file-picker__file-icon\": \"_file-picker__file-icon_3v9zx_9\",\n  \"file-picker__file-icon--primary\": \"_file-picker__file-icon--primary_3v9zx_21\",\n  \"file-picker__file-icon-overlay\": \"_file-picker__file-icon-overlay_3v9zx_25\"\n};\nconst _sfc_main$b = /* @__PURE__ */ defineComponent({\n  __name: \"LoadingTableRow\",\n  props: {\n    showCheckbox: { type: Boolean }\n  },\n  setup(__props) {\n    return { __sfc: true, fileListIconStyles: fileListIconStylesModule };\n  }\n});\nvar _sfc_render$b = function render4() {\n  var _vm = this, _c = _vm._self._c, _setup = _vm._self._setupProxy;\n  return _c(\"tr\", { staticClass: \"file-picker__row loading-row\", attrs: { \"aria-hidden\": \"true\" } }, [_vm.showCheckbox ? _c(\"td\", { staticClass: \"row-checkbox\" }, [_c(\"span\")]) : _vm._e(), _c(\"td\", { staticClass: \"row-name\" }, [_c(\"div\", { staticClass: \"row-wrapper\" }, [_c(\"span\", { class: _setup.fileListIconStyles[\"file-picker__file-icon\"] }), _c(\"span\")])]), _vm._m(0), _vm._m(1)]);\n};\nvar _sfc_staticRenderFns$b = [function() {\n  var _vm = this, _c = _vm._self._c;\n  _vm._self._setupProxy;\n  return _c(\"td\", { staticClass: \"row-size\" }, [_c(\"span\")]);\n}, function() {\n  var _vm = this, _c = _vm._self._c;\n  _vm._self._setupProxy;\n  return _c(\"td\", { staticClass: \"row-modified\" }, [_c(\"span\")]);\n}];\nvar __component__$b = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$b,\n  _sfc_render$b,\n  _sfc_staticRenderFns$b,\n  false,\n  null,\n  \"15187afc\"\n);\nconst LoadingTableRow = __component__$b.exports;\nconst queue = new PQueue({ concurrency: 5 });\nfunction preloadImage(url) {\n  const { resolve, promise } = Promise.withResolvers();\n  queue.add(() => {\n    const image = new Image();\n    image.onerror = () => resolve(false);\n    image.onload = () => resolve(true);\n    image.src = url;\n    return promise;\n  });\n  return promise;\n}\nfunction getPreviewURL(node, options = {}) {\n  options = { size: 32, cropPreview: false, mimeFallback: true, ...options };\n  try {\n    const previewUrl = node.attributes?.previewUrl || generateUrl(\"/core/preview?fileId={fileid}\", {\n      fileid: node.fileid\n    });\n    let url;\n    try {\n      url = new URL(previewUrl);\n    } catch (e) {\n      url = new URL(previewUrl, window.location.origin);\n    }\n    url.searchParams.set(\"x\", `${options.size}`);\n    url.searchParams.set(\"y\", `${options.size}`);\n    url.searchParams.set(\"mimeFallback\", `${options.mimeFallback}`);\n    url.searchParams.set(\"a\", options.cropPreview === true ? \"0\" : \"1\");\n    url.searchParams.set(\"c\", `${node.attributes.etag}`);\n    return url;\n  } catch (e) {\n    return null;\n  }\n}\nconst usePreviewURL = (node, options) => {\n  const previewURL = ref(null);\n  const previewLoaded = ref(false);\n  watchEffect(() => {\n    previewLoaded.value = false;\n    previewURL.value = getPreviewURL(toValue(node), toValue(options || {}));\n    if (previewURL.value && toValue(node).type === FileType.File) {\n      preloadImage(previewURL.value.href).then((success) => {\n        previewLoaded.value = success;\n      });\n    }\n  });\n  return {\n    previewURL,\n    previewLoaded\n  };\n};\nconst _sfc_main$a = {\n  name: \"FolderIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar _sfc_render$a = function render5() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"span\", _vm._b({ staticClass: \"material-design-icon folder-icon\", attrs: { \"aria-hidden\": _vm.title ? null : \"true\", \"aria-label\": _vm.title, \"role\": \"img\" }, on: { \"click\": function($event) {\n    return _vm.$emit(\"click\", $event);\n  } } }, \"span\", _vm.$attrs, false), [_c(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { \"fill\": _vm.fillColor, \"width\": _vm.size, \"height\": _vm.size, \"viewBox\": \"0 0 24 24\" } }, [_c(\"path\", { attrs: { \"d\": \"M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z\" } }, [_vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e()])])]);\n};\nvar _sfc_staticRenderFns$a = [];\nvar __component__$a = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$a,\n  _sfc_render$a,\n  _sfc_staticRenderFns$a,\n  false,\n  null,\n  null\n);\nconst IconFolder = __component__$a.exports;\nconst __default__$1 = {\n  name: \"FilePreview\"\n};\nconst _sfc_main$9 = /* @__PURE__ */ defineComponent({\n  ...__default__$1,\n  props: {\n    node: null,\n    cropImagePreviews: { type: Boolean }\n  },\n  setup(__props) {\n    const props = __props;\n    const fileListIconStyles = ref(fileListIconStylesModule);\n    const {\n      previewURL,\n      previewLoaded\n    } = usePreviewURL(toRef(props, \"node\"), computed(() => ({ cropPreview: props.cropImagePreviews })));\n    const isFile = computed(() => props.node.type === FileType.File);\n    const folderDecorationIcon = computed(() => {\n      if (props.node.type !== FileType.Folder) {\n        return null;\n      }\n      if (props.node.attributes?.[\"is-encrypted\"] === 1) {\n        return mdiLock;\n      }\n      if (props.node.attributes?.[\"is-tag\"]) {\n        return mdiTag;\n      }\n      const shareTypes = Object.values(props.node.attributes?.[\"share-types\"] || {}).flat();\n      if (shareTypes.some((type) => type === ShareType.Link || type === ShareType.Email)) {\n        return mdiLink;\n      }\n      if (shareTypes.length > 0) {\n        return mdiAccountPlus;\n      }\n      switch (props.node.attributes?.[\"mount-type\"]) {\n        case \"external\":\n        case \"external-session\":\n          return mdiNetwork;\n        case \"group\":\n          return mdiGroup;\n        case \"shared\":\n          return mdiAccountPlus;\n      }\n      return null;\n    });\n    return { __sfc: true, fileListIconStyles, props, previewURL, previewLoaded, isFile, folderDecorationIcon, NcIconSvgWrapper, IconFile, IconFolder };\n  }\n});\nvar _sfc_render$9 = function render6() {\n  var _vm = this, _c = _vm._self._c, _setup = _vm._self._setupProxy;\n  return _c(\"div\", { class: _setup.fileListIconStyles[\"file-picker__file-icon\"], style: _setup.previewLoaded ? { backgroundImage: `url(${_setup.previewURL})` } : void 0 }, [!_setup.previewLoaded ? [_setup.isFile ? _c(_setup.IconFile, { attrs: { \"size\": 32 } }) : [_setup.folderDecorationIcon ? _c(_setup.NcIconSvgWrapper, { class: _setup.fileListIconStyles[\"file-picker__file-icon-overlay\"], attrs: { \"inline\": \"\", \"path\": _setup.folderDecorationIcon, \"size\": 16 } }) : _vm._e(), _c(_setup.IconFolder, { class: _setup.fileListIconStyles[\"file-picker__file-icon--primary\"], attrs: { \"size\": 32 } })]] : _vm._e()], 2);\n};\nvar _sfc_staticRenderFns$9 = [];\nvar __component__$9 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$9,\n  _sfc_render$9,\n  _sfc_staticRenderFns$9,\n  false,\n  null,\n  null\n);\nconst FilePreview = __component__$9.exports;\nconst _sfc_main$8 = /* @__PURE__ */ defineComponent({\n  __name: \"FileListRow\",\n  props: {\n    allowPickDirectory: { type: Boolean },\n    selected: { type: Boolean },\n    showCheckbox: { type: Boolean },\n    canPick: { type: Boolean },\n    node: null,\n    cropImagePreviews: { type: Boolean }\n  },\n  emits: [\"update:selected\", \"enter-directory\"],\n  setup(__props, { emit: emit2 }) {\n    const props = __props;\n    const displayName = computed(() => props.node.attributes?.displayName || props.node.basename.slice(0, props.node.extension ? -props.node.extension.length : void 0));\n    const fileExtension = computed(() => props.node.extension);\n    const isDirectory = computed(() => props.node.type === FileType.Folder);\n    const isPickable = computed(() => props.canPick && (props.allowPickDirectory || !isDirectory.value));\n    function toggleSelected() {\n      emit2(\"update:selected\", !props.selected);\n    }\n    function handleClick() {\n      if (isDirectory.value) {\n        emit2(\"enter-directory\", props.node);\n      } else {\n        toggleSelected();\n      }\n    }\n    function handleKeyDown(event) {\n      if (event.key === \"Enter\") {\n        handleClick();\n      }\n    }\n    return { __sfc: true, props, emit: emit2, displayName, fileExtension, isDirectory, isPickable, toggleSelected, handleClick, handleKeyDown, formatFileSize, NcCheckboxRadioSwitch, NcDateTime, t, FilePreview };\n  }\n});\nvar _sfc_render$8 = function render7() {\n  var _vm = this, _c = _vm._self._c, _setup = _vm._self._setupProxy;\n  return _c(\"tr\", _vm._g({ class: [\"file-picker__row\", {\n    \"file-picker__row--selected\": _vm.selected && !_vm.showCheckbox\n  }], attrs: { \"tabindex\": _vm.showCheckbox && !_setup.isDirectory ? void 0 : 0, \"aria-selected\": !_setup.isPickable ? void 0 : _vm.selected, \"data-filename\": _vm.node.basename, \"data-testid\": \"file-list-row\" } }, {\n    click: _setup.handleClick,\n    /* same as tabindex -> if we hide the checkbox or this is a directory we need keyboard access to enter the directory or select the node */\n    ...!_vm.showCheckbox || _setup.isDirectory ? { keydown: _setup.handleKeyDown } : {}\n  }), [_vm.showCheckbox ? _c(\"td\", { staticClass: \"row-checkbox\", on: { \"click\": function($event) {\n    $event.stopPropagation();\n    return (() => {\n    }).apply(null, arguments);\n  } } }, [_c(_setup.NcCheckboxRadioSwitch, { attrs: { \"aria-label\": _setup.t(\"Select the row for {nodename}\", { nodename: _setup.displayName }), \"disabled\": !_setup.isPickable, \"data-testid\": \"row-checkbox\", \"model-value\": _vm.selected }, on: { \"update:model-value\": _setup.toggleSelected } })], 1) : _vm._e(), _c(\"td\", { staticClass: \"row-name\" }, [_c(\"div\", { staticClass: \"file-picker__name-container\", attrs: { \"data-testid\": \"row-name\" } }, [_c(_setup.FilePreview, { attrs: { \"node\": _vm.node, \"crop-image-previews\": _vm.cropImagePreviews } }), _c(\"div\", { staticClass: \"file-picker__file-name\", attrs: { \"title\": _setup.displayName }, domProps: { \"textContent\": _vm._s(_setup.displayName) } }), _c(\"div\", { staticClass: \"file-picker__file-extension\", domProps: { \"textContent\": _vm._s(_setup.fileExtension) } })], 1)]), _c(\"td\", { staticClass: \"row-size\" }, [_vm._v(\" \" + _vm._s(_setup.formatFileSize(_vm.node.size || 0)) + \" \")]), _c(\"td\", { staticClass: \"row-modified\" }, [_c(_setup.NcDateTime, { attrs: { \"timestamp\": _vm.node.mtime, \"ignore-seconds\": true } })], 1)]);\n};\nvar _sfc_staticRenderFns$8 = [];\nvar __component__$8 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$8,\n  _sfc_render$8,\n  _sfc_staticRenderFns$8,\n  false,\n  null,\n  \"4892c2a0\"\n);\nconst FileListRow = __component__$8.exports;\nconst _sfc_main$7 = /* @__PURE__ */ defineComponent({\n  __name: \"FileList\",\n  props: {\n    currentView: null,\n    multiselect: { type: Boolean },\n    allowPickDirectory: { type: Boolean },\n    loading: { type: Boolean },\n    files: null,\n    selectedFiles: null,\n    path: null\n  },\n  emits: [\"update:path\", \"update:selectedFiles\"],\n  setup(__props, { emit: emit2 }) {\n    const props = __props;\n    const customSortingConfig = ref();\n    const { currentConfig: filesAppSorting } = useFilesViews(props.currentView);\n    const sortingConfig = computed(() => customSortingConfig.value ?? filesAppSorting.value);\n    const sortByName = computed(() => sortingConfig.value.sortBy === \"basename\" ? sortingConfig.value.order === \"none\" ? void 0 : sortingConfig.value.order : void 0);\n    const sortBySize = computed(() => sortingConfig.value.sortBy === \"size\" ? sortingConfig.value.order === \"none\" ? void 0 : sortingConfig.value.order : void 0);\n    const sortByModified = computed(() => sortingConfig.value.sortBy === \"mtime\" ? sortingConfig.value.order === \"none\" ? void 0 : sortingConfig.value.order : void 0);\n    const toggleSorting = (sortBy) => {\n      if (sortingConfig.value.sortBy === sortBy) {\n        if (sortingConfig.value.order === \"ascending\") {\n          customSortingConfig.value = { sortBy: sortingConfig.value.sortBy, order: \"descending\" };\n        } else {\n          customSortingConfig.value = { sortBy: sortingConfig.value.sortBy, order: \"ascending\" };\n        }\n      } else {\n        customSortingConfig.value = { sortBy, order: \"ascending\" };\n      }\n    };\n    const { sortFavoritesFirst, cropImagePreviews } = useFilesSettings();\n    const sortedFiles = computed(() => {\n      return sortNodes(props.files, {\n        sortFoldersFirst: true,\n        sortFavoritesFirst: sortFavoritesFirst.value,\n        sortingOrder: sortingConfig.value.order === \"descending\" ? \"desc\" : \"asc\",\n        sortingMode: sortingConfig.value.sortBy\n      });\n    });\n    const selectableFiles = computed(() => props.files.filter((file) => props.allowPickDirectory || file.type !== FileType.Folder));\n    const allSelected = computed(() => !props.loading && props.selectedFiles.length > 0 && props.selectedFiles.length >= selectableFiles.value.length);\n    function onSelectAll() {\n      if (props.selectedFiles.length < selectableFiles.value.length) {\n        emit2(\"update:selectedFiles\", selectableFiles.value);\n      } else {\n        emit2(\"update:selectedFiles\", []);\n      }\n    }\n    function onNodeSelected(file) {\n      if (props.selectedFiles.includes(file)) {\n        emit2(\"update:selectedFiles\", props.selectedFiles.filter((f) => f.path !== file.path));\n      } else {\n        if (props.multiselect) {\n          emit2(\"update:selectedFiles\", [...props.selectedFiles, file]);\n        } else {\n          emit2(\"update:selectedFiles\", [file]);\n        }\n      }\n    }\n    function onChangeDirectory(dir) {\n      emit2(\"update:path\", dir.path);\n    }\n    const skeletonNumber = ref(4);\n    const fileContainer = ref();\n    {\n      const resize = () => nextTick(() => {\n        const nodes = fileContainer.value?.parentElement?.children || [];\n        let height = fileContainer.value?.parentElement?.clientHeight || 450;\n        for (let index = 0; index < nodes.length; index++) {\n          if (!fileContainer.value?.isSameNode(nodes[index])) {\n            height -= nodes[index].clientHeight;\n          }\n        }\n        skeletonNumber.value = Math.max(1, Math.floor((height - 50) / 50));\n      });\n      onMounted(() => {\n        window.addEventListener(\"resize\", resize);\n        resize();\n      });\n      onUnmounted(() => {\n        window.removeEventListener(\"resize\", resize);\n      });\n    }\n    return { __sfc: true, props, emit: emit2, customSortingConfig, filesAppSorting, sortingConfig, sortByName, sortBySize, sortByModified, toggleSorting, sortFavoritesFirst, cropImagePreviews, sortedFiles, selectableFiles, allSelected, onSelectAll, onNodeSelected, onChangeDirectory, skeletonNumber, fileContainer, NcButton, NcCheckboxRadioSwitch, t, IconSortAscending, IconSortDescending, LoadingTableRow, FileListRow };\n  }\n});\nvar _sfc_render$7 = function render8() {\n  var _vm = this, _c = _vm._self._c, _setup = _vm._self._setupProxy;\n  return _c(\"div\", { ref: \"fileContainer\", staticClass: \"file-picker__files\" }, [_c(\"table\", [_c(\"thead\", [_c(\"tr\", [_vm.multiselect ? _c(\"th\", { staticClass: \"row-checkbox\" }, [_c(\"span\", { staticClass: \"hidden-visually\" }, [_vm._v(\" \" + _vm._s(_setup.t(\"Select entry\")) + \" \")]), _vm.multiselect ? _c(_setup.NcCheckboxRadioSwitch, { attrs: { \"aria-label\": _setup.t(\"Select all entries\"), \"data-testid\": \"select-all-checkbox\", \"model-value\": _setup.allSelected }, on: { \"update:model-value\": _setup.onSelectAll } }) : _vm._e()], 1) : _vm._e(), _c(\"th\", { staticClass: \"row-name\", attrs: { \"aria-sort\": _setup.sortByName } }, [_c(\"div\", { staticClass: \"header-wrapper\" }, [_c(\"span\", { staticClass: \"file-picker__header-preview\" }), _c(_setup.NcButton, { attrs: { \"wide\": true, \"type\": \"tertiary\", \"data-test\": \"file-picker_sort-name\" }, on: { \"click\": function($event) {\n    return _setup.toggleSorting(\"basename\");\n  } }, scopedSlots: _vm._u([{ key: \"icon\", fn: function() {\n    return [_setup.sortByName === \"ascending\" ? _c(_setup.IconSortAscending, { attrs: { \"size\": 20 } }) : _setup.sortByName === \"descending\" ? _c(_setup.IconSortDescending, { attrs: { \"size\": 20 } }) : _c(\"span\", { staticStyle: { \"width\": \"44px\" } })];\n  }, proxy: true }]) }, [_vm._v(\" \" + _vm._s(_setup.t(\"Name\")) + \" \")])], 1)]), _c(\"th\", { staticClass: \"row-size\", attrs: { \"aria-sort\": _setup.sortBySize } }, [_c(_setup.NcButton, { attrs: { \"wide\": true, \"type\": \"tertiary\" }, on: { \"click\": function($event) {\n    return _setup.toggleSorting(\"size\");\n  } }, scopedSlots: _vm._u([{ key: \"icon\", fn: function() {\n    return [_setup.sortBySize === \"ascending\" ? _c(_setup.IconSortAscending, { attrs: { \"size\": 20 } }) : _setup.sortBySize === \"descending\" ? _c(_setup.IconSortDescending, { attrs: { \"size\": 20 } }) : _c(\"span\", { staticStyle: { \"width\": \"44px\" } })];\n  }, proxy: true }]) }, [_vm._v(\" \" + _vm._s(_setup.t(\"Size\")) + \" \")])], 1), _c(\"th\", { staticClass: \"row-modified\", attrs: { \"aria-sort\": _setup.sortByModified } }, [_c(_setup.NcButton, { attrs: { \"wide\": true, \"type\": \"tertiary\" }, on: { \"click\": function($event) {\n    return _setup.toggleSorting(\"mtime\");\n  } }, scopedSlots: _vm._u([{ key: \"icon\", fn: function() {\n    return [_setup.sortByModified === \"ascending\" ? _c(_setup.IconSortAscending, { attrs: { \"size\": 20 } }) : _setup.sortByModified === \"descending\" ? _c(_setup.IconSortDescending, { attrs: { \"size\": 20 } }) : _c(\"span\", { staticStyle: { \"width\": \"44px\" } })];\n  }, proxy: true }]) }, [_vm._v(\" \" + _vm._s(_setup.t(\"Modified\")) + \" \")])], 1)])]), _c(\"tbody\", [_vm.loading ? _vm._l(_setup.skeletonNumber, function(index) {\n    return _c(_setup.LoadingTableRow, { key: index, attrs: { \"show-checkbox\": _vm.multiselect } });\n  }) : _vm._l(_setup.sortedFiles, function(file) {\n    return _c(_setup.FileListRow, { key: file.fileid || file.path, attrs: { \"allow-pick-directory\": _vm.allowPickDirectory, \"show-checkbox\": _vm.multiselect, \"can-pick\": _vm.multiselect || _vm.selectedFiles.length === 0 || _vm.selectedFiles.includes(file), \"selected\": _vm.selectedFiles.includes(file), \"node\": file, \"crop-image-previews\": _setup.cropImagePreviews }, on: { \"update:selected\": function($event) {\n      return _setup.onNodeSelected(file);\n    }, \"enter-directory\": _setup.onChangeDirectory } });\n  })], 2)])]);\n};\nvar _sfc_staticRenderFns$7 = [];\nvar __component__$7 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$7,\n  _sfc_render$7,\n  _sfc_staticRenderFns$7,\n  false,\n  null,\n  \"4f5d2a56\"\n);\nconst FileList = __component__$7.exports;\nconst _sfc_main$6 = {\n  name: \"HomeIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar _sfc_render$6 = function render9() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"span\", _vm._b({ staticClass: \"material-design-icon home-icon\", attrs: { \"aria-hidden\": _vm.title ? null : \"true\", \"aria-label\": _vm.title, \"role\": \"img\" }, on: { \"click\": function($event) {\n    return _vm.$emit(\"click\", $event);\n  } } }, \"span\", _vm.$attrs, false), [_c(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { \"fill\": _vm.fillColor, \"width\": _vm.size, \"height\": _vm.size, \"viewBox\": \"0 0 24 24\" } }, [_c(\"path\", { attrs: { \"d\": \"M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z\" } }, [_vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e()])])]);\n};\nvar _sfc_staticRenderFns$6 = [];\nvar __component__$6 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$6,\n  _sfc_render$6,\n  _sfc_staticRenderFns$6,\n  false,\n  null,\n  null\n);\nconst IconHome = __component__$6.exports;\nconst _sfc_main$5 = {\n  name: \"PlusIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar _sfc_render$5 = function render10() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"span\", _vm._b({ staticClass: \"material-design-icon plus-icon\", attrs: { \"aria-hidden\": _vm.title ? null : \"true\", \"aria-label\": _vm.title, \"role\": \"img\" }, on: { \"click\": function($event) {\n    return _vm.$emit(\"click\", $event);\n  } } }, \"span\", _vm.$attrs, false), [_c(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { \"fill\": _vm.fillColor, \"width\": _vm.size, \"height\": _vm.size, \"viewBox\": \"0 0 24 24\" } }, [_c(\"path\", { attrs: { \"d\": \"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z\" } }, [_vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e()])])]);\n};\nvar _sfc_staticRenderFns$5 = [];\nvar __component__$5 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$5,\n  _sfc_render$5,\n  _sfc_staticRenderFns$5,\n  false,\n  null,\n  null\n);\nconst IconPlus = __component__$5.exports;\nconst _sfc_main$4 = /* @__PURE__ */ defineComponent({\n  __name: \"FilePickerBreadcrumbs\",\n  props: {\n    path: null,\n    showMenu: { type: Boolean }\n  },\n  emits: [\"update:path\", \"create-node\"],\n  setup(__props, { emit: emit2 }) {\n    const props = __props;\n    const actionsOpen = ref(false);\n    const newNodeName = ref(\"\");\n    const nameInput = ref();\n    function validateInput() {\n      const name = newNodeName.value.trim();\n      const input = nameInput.value?.$el?.querySelector(\"input\");\n      let validity = \"\";\n      if (name.length === 0) {\n        validity = t(\"Folder name cannot be empty.\");\n      } else if (name.includes(\"/\")) {\n        validity = t('\"/\" is not allowed inside a folder name.');\n      } else if ([\"..\", \".\"].includes(name)) {\n        validity = t('\"{name}\" is an invalid folder name.', { name });\n      } else if (window.OC.config?.blacklist_files_regex && name.match(window.OC.config?.blacklist_files_regex)) {\n        validity = t('\"{name}\" is not an allowed folder name', { name });\n      }\n      if (input) {\n        input.setCustomValidity(validity);\n      }\n      return validity === \"\";\n    }\n    const onSubmit = function() {\n      const name = newNodeName.value.trim();\n      if (validateInput()) {\n        actionsOpen.value = false;\n        emit2(\"create-node\", name);\n        newNodeName.value = \"\";\n      }\n    };\n    const pathElements = computed(\n      () => props.path.split(\"/\").filter((v) => v !== \"\").map((v, i, elements) => ({\n        name: v,\n        path: \"/\" + elements.slice(0, i + 1).join(\"/\")\n      }))\n    );\n    return { __sfc: true, props, emit: emit2, actionsOpen, newNodeName, nameInput, validateInput, onSubmit, pathElements, IconFolder, IconHome, IconPlus, NcActions, NcActionInput, NcBreadcrumbs, NcBreadcrumb, t };\n  }\n});\nvar _sfc_render$4 = function render11() {\n  var _vm = this, _c = _vm._self._c, _setup = _vm._self._setupProxy;\n  return _c(_setup.NcBreadcrumbs, { staticClass: \"file-picker__breadcrumbs\", scopedSlots: _vm._u([{ key: \"default\", fn: function() {\n    return [_c(_setup.NcBreadcrumb, { attrs: { \"name\": _setup.t(\"All files\"), \"title\": _setup.t(\"Home\") }, on: { \"click\": function($event) {\n      return _setup.emit(\"update:path\", \"/\");\n    } }, scopedSlots: _vm._u([{ key: \"icon\", fn: function() {\n      return [_c(_setup.IconHome, { attrs: { \"size\": 20 } })];\n    }, proxy: true }]) }), _vm._l(_setup.pathElements, function(dir) {\n      return _c(_setup.NcBreadcrumb, { key: dir.path, attrs: { \"name\": dir.name, \"title\": dir.path }, on: { \"click\": function($event) {\n        return _setup.emit(\"update:path\", dir.path);\n      } } });\n    })];\n  }, proxy: true }, _vm.showMenu ? { key: \"actions\", fn: function() {\n    return [_c(_setup.NcActions, { attrs: { \"open\": _setup.actionsOpen, \"aria-label\": _setup.t(\"Create directory\"), \"force-menu\": true, \"force-name\": true, \"menu-name\": _setup.t(\"New\"), \"type\": \"secondary\" }, on: { \"update:open\": function($event) {\n      _setup.actionsOpen = $event;\n    }, \"close\": function($event) {\n      _setup.newNodeName = \"\";\n    } }, scopedSlots: _vm._u([{ key: \"icon\", fn: function() {\n      return [_c(_setup.IconPlus, { attrs: { \"size\": 20 } })];\n    }, proxy: true }], null, false, 2971667417) }, [_c(_setup.NcActionInput, { ref: \"nameInput\", attrs: { \"value\": _setup.newNodeName, \"label\": _setup.t(\"New folder\"), \"placeholder\": _setup.t(\"New folder name\") }, on: { \"update:value\": function($event) {\n      _setup.newNodeName = $event;\n    }, \"submit\": _setup.onSubmit, \"update:model-value\": _setup.validateInput }, scopedSlots: _vm._u([{ key: \"icon\", fn: function() {\n      return [_c(_setup.IconFolder, { attrs: { \"size\": 20 } })];\n    }, proxy: true }], null, false, 1614167509) })], 1)];\n  }, proxy: true } : null], null, true) });\n};\nvar _sfc_staticRenderFns$4 = [];\nvar __component__$4 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$4,\n  _sfc_render$4,\n  _sfc_staticRenderFns$4,\n  false,\n  null,\n  \"ec4d392b\"\n);\nconst FilePickerBreadcrumbs = __component__$4.exports;\nconst _sfc_main$3 = {\n  name: \"CloseIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar _sfc_render$3 = function render12() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"span\", _vm._b({ staticClass: \"material-design-icon close-icon\", attrs: { \"aria-hidden\": _vm.title ? null : \"true\", \"aria-label\": _vm.title, \"role\": \"img\" }, on: { \"click\": function($event) {\n    return _vm.$emit(\"click\", $event);\n  } } }, \"span\", _vm.$attrs, false), [_c(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { \"fill\": _vm.fillColor, \"width\": _vm.size, \"height\": _vm.size, \"viewBox\": \"0 0 24 24\" } }, [_c(\"path\", { attrs: { \"d\": \"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" } }, [_vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e()])])]);\n};\nvar _sfc_staticRenderFns$3 = [];\nvar __component__$3 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$3,\n  _sfc_render$3,\n  _sfc_staticRenderFns$3,\n  false,\n  null,\n  null\n);\nconst IconClose = __component__$3.exports;\nconst _sfc_main$2 = {\n  name: \"MagnifyIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar _sfc_render$2 = function render13() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"span\", _vm._b({ staticClass: \"material-design-icon magnify-icon\", attrs: { \"aria-hidden\": _vm.title ? null : \"true\", \"aria-label\": _vm.title, \"role\": \"img\" }, on: { \"click\": function($event) {\n    return _vm.$emit(\"click\", $event);\n  } } }, \"span\", _vm.$attrs, false), [_c(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { \"fill\": _vm.fillColor, \"width\": _vm.size, \"height\": _vm.size, \"viewBox\": \"0 0 24 24\" } }, [_c(\"path\", { attrs: { \"d\": \"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z\" } }, [_vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e()])])]);\n};\nvar _sfc_staticRenderFns$2 = [];\nvar __component__$2 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$2,\n  _sfc_render$2,\n  _sfc_staticRenderFns$2,\n  false,\n  null,\n  null\n);\nconst IconMagnify = __component__$2.exports;\nconst useViews = (isAnonymous) => {\n  const allViews = [\n    {\n      id: \"files\",\n      label: t(\"All files\"),\n      icon: mdiFolder\n    },\n    {\n      id: \"recent\",\n      label: t(\"Recent\"),\n      icon: mdiClock\n    },\n    {\n      id: \"favorites\",\n      label: t(\"Favorites\"),\n      icon: mdiStar\n    }\n  ];\n  const availableViews = isAnonymous.value ? allViews.filter(({ id }) => id === \"files\") : allViews;\n  return {\n    allViews,\n    availableViews\n  };\n};\nconst _sfc_main$1 = /* @__PURE__ */ defineComponent({\n  __name: \"FilePickerNavigation\",\n  props: {\n    currentView: null,\n    filterString: null,\n    isCollapsed: { type: Boolean },\n    disabledNavigation: { type: Boolean }\n  },\n  emits: [\"update:currentView\", \"update:filterString\"],\n  setup(__props, { emit: emit2 }) {\n    const props = __props;\n    const { availableViews } = useViews(ref(getCurrentUser() === null));\n    const currentViewObject = computed(() => availableViews.filter((v) => v.id === props.currentView)[0] ?? availableViews[0]);\n    const updateFilterValue = (value) => emit2(\"update:filterString\", value);\n    return { __sfc: true, props, emit: emit2, availableViews, currentViewObject, updateFilterValue, IconClose, IconMagnify, NcButton, NcIconSvgWrapper, NcSelect, NcTextField, Fragment, t };\n  }\n});\nvar _sfc_render$1 = function render14() {\n  var _vm = this, _c = _vm._self._c, _setup = _vm._self._setupProxy;\n  return _c(_setup.Fragment, [_c(_setup.NcTextField, { staticClass: \"file-picker__filter-input\", attrs: { \"label\": _setup.t(\"Filter file list\"), \"show-trailing-button\": !!_vm.filterString, \"model-value\": _vm.filterString }, on: { \"update:model-value\": _setup.updateFilterValue, \"trailing-button-click\": function($event) {\n    return _setup.updateFilterValue(\"\");\n  } }, scopedSlots: _vm._u([{ key: \"trailing-button-icon\", fn: function() {\n    return [_c(_setup.IconClose, { attrs: { \"size\": 16 } })];\n  }, proxy: true }]) }, [_c(_setup.IconMagnify, { attrs: { \"size\": 16 } })], 1), _setup.availableViews.length > 1 && !_vm.disabledNavigation ? [!_vm.isCollapsed ? _c(\"ul\", { staticClass: \"file-picker__side\" }, _vm._l(_setup.availableViews, function(view) {\n    return _c(\"li\", { key: view.id }, [_c(_setup.NcButton, { attrs: { \"type\": _vm.currentView === view.id ? \"primary\" : \"tertiary\", \"wide\": true }, on: { \"click\": function($event) {\n      return _vm.$emit(\"update:currentView\", view.id);\n    } }, scopedSlots: _vm._u([{ key: \"icon\", fn: function() {\n      return [_c(_setup.NcIconSvgWrapper, { attrs: { \"path\": view.icon, \"size\": 20 } })];\n    }, proxy: true }], null, true) }, [_vm._v(\" \" + _vm._s(view.label) + \" \")])], 1);\n  }), 0) : _c(_setup.NcSelect, { attrs: { \"aria-label\": _setup.t(\"Current view selector\"), \"clearable\": false, \"searchable\": false, \"options\": _setup.availableViews, \"model-value\": _setup.currentViewObject }, on: { \"update:model-value\": function($event) {\n    return _setup.emit(\"update:currentView\", $event.id);\n  } } })] : _vm._e()], 2);\n};\nvar _sfc_staticRenderFns$1 = [];\nvar __component__$1 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$1,\n  _sfc_render$1,\n  _sfc_staticRenderFns$1,\n  false,\n  null,\n  \"f5975252\"\n);\nconst FilePickerNavigation = __component__$1.exports;\nfunction getRecentNodes(client) {\n  const controller = new AbortController();\n  const lastTwoWeek = Math.round(Date.now() / 1e3) - 60 * 60 * 24 * 14;\n  return new CancelablePromise(async (resolve, reject, onCancel) => {\n    onCancel(() => controller.abort());\n    try {\n      const { data } = await client.search(\"/\", {\n        signal: controller.signal,\n        details: true,\n        data: davGetRecentSearch(lastTwoWeek)\n      });\n      const nodes = data.results.map((result) => davResultToNode(result));\n      resolve(nodes);\n    } catch (error) {\n      reject(error);\n    }\n  });\n}\nfunction getNodes(client, directoryPath) {\n  const controller = new AbortController();\n  return new CancelablePromise(async (resolve, reject, onCancel) => {\n    onCancel(() => controller.abort());\n    try {\n      const results = await client.getDirectoryContents(join(davRootPath, directoryPath), {\n        signal: controller.signal,\n        details: true,\n        includeSelf: true,\n        data: davGetDefaultPropfind()\n      });\n      const nodes = results.data.map((result) => davResultToNode(result));\n      resolve({\n        contents: nodes.filter(({ path }) => path !== directoryPath),\n        folder: nodes.find(({ path }) => path === directoryPath)\n      });\n    } catch (error) {\n      reject(error);\n    }\n  });\n}\nasync function getFile(client, path) {\n  const { data } = await client.stat(join(davRootPath, path), {\n    details: true,\n    data: davGetDefaultPropfind()\n  });\n  return davResultToNode(data);\n}\nconst useDAVFiles = function(currentView, currentPath) {\n  const client = davGetClient();\n  const files = shallowRef([]);\n  const folder = shallowRef(null);\n  const isLoading = ref(true);\n  const promise = ref(null);\n  async function createDirectory(name) {\n    const path = join(currentPath.value, name);\n    await client.createDirectory(join(davRootPath, path));\n    const directory = await getFile(client, path);\n    files.value = [...files.value, directory];\n    return directory;\n  }\n  async function loadDAVFiles() {\n    if (promise.value) {\n      promise.value.cancel();\n    }\n    isLoading.value = true;\n    if (currentView.value === \"favorites\") {\n      promise.value = getFavoriteNodes(client, currentPath.value);\n    } else if (currentView.value === \"recent\") {\n      promise.value = getRecentNodes(client);\n    } else {\n      promise.value = getNodes(client, currentPath.value);\n    }\n    const content = await promise.value;\n    if (\"folder\" in content) {\n      folder.value = content.folder;\n      files.value = content.contents;\n    } else {\n      folder.value = null;\n      files.value = content;\n    }\n    promise.value = null;\n    isLoading.value = false;\n  }\n  watch([currentView, currentPath], () => loadDAVFiles());\n  onMounted(() => loadDAVFiles());\n  return {\n    isLoading,\n    files,\n    folder,\n    loadFiles: loadDAVFiles,\n    createDirectory\n  };\n};\nconst useMimeFilter = function(allowedMIMETypes) {\n  const splittedTypes = computed(() => allowedMIMETypes.value.map((filter) => filter.split(\"/\")));\n  const isSupportedMimeType = (mime) => {\n    const mimeTypeArray = mime.split(\"/\");\n    return splittedTypes.value.some(\n      ([type, subtype]) => (\n        // check mime type matches or is wildcard\n        (mimeTypeArray[0] === type || type === \"*\") && (mimeTypeArray[1] === subtype || subtype === \"*\")\n      )\n    );\n  };\n  return {\n    isSupportedMimeType\n  };\n};\nconst __default__ = {\n  name: \"FilePicker\"\n};\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: {\n    buttons: null,\n    name: null,\n    allowPickDirectory: { type: Boolean, default: false },\n    disabledNavigation: { type: Boolean, default: false },\n    container: { default: \"body\" },\n    filterFn: { default: void 0 },\n    mimetypeFilter: { default: () => [] },\n    multiselect: { type: Boolean, default: true },\n    path: { default: void 0 }\n  },\n  emits: [\"close\"],\n  setup(__props, { emit: emit$1 }) {\n    const props = __props;\n    const isOpen = ref(true);\n    const dialogButtons = computed(() => {\n      const nodes = selectedFiles.value.length === 0 && props.allowPickDirectory && currentFolder.value ? [currentFolder.value] : selectedFiles.value;\n      const buttons = typeof props.buttons === \"function\" ? props.buttons(nodes, currentPath.value, currentView.value) : props.buttons;\n      return buttons.map((button) => ({\n        ...button,\n        disabled: button.disabled || isLoading.value,\n        callback: () => {\n          isHandlingCallback = true;\n          handleButtonClick(button.callback, nodes);\n        }\n      }));\n    });\n    let isHandlingCallback = false;\n    const handleButtonClick = async (callback, nodes) => {\n      callback(nodes);\n      emit$1(\"close\", nodes);\n      isHandlingCallback = false;\n    };\n    const currentView = ref(\"files\");\n    const viewHeadline = computed(() => currentView.value === \"favorites\" ? t(\"Favorites\") : currentView.value === \"recent\" ? t(\"Recent\") : \"\");\n    const selectedFiles = shallowRef([]);\n    const savedPath = ref(window?.sessionStorage.getItem(\"NC.FilePicker.LastPath\") || \"/\");\n    const navigatedPath = ref(\"\");\n    watch([navigatedPath], () => {\n      if (props.path === void 0 && navigatedPath.value) {\n        window.sessionStorage.setItem(\"NC.FilePicker.LastPath\", navigatedPath.value);\n      }\n      selectedFiles.value = [];\n    });\n    const currentPath = computed({\n      get: () => {\n        return currentView.value === \"files\" ? navigatedPath.value || props.path || savedPath.value : \"/\";\n      },\n      set: (path) => {\n        navigatedPath.value = path;\n      }\n    });\n    const filterString = ref(\"\");\n    const { isSupportedMimeType } = useMimeFilter(toRef(props, \"mimetypeFilter\"));\n    const {\n      files,\n      folder: currentFolder,\n      isLoading,\n      loadFiles,\n      createDirectory\n    } = useDAVFiles(currentView, currentPath);\n    onMounted(() => loadFiles());\n    const { showHiddenFiles } = useFilesSettings();\n    const filteredFiles = computed(() => {\n      let filtered = files.value;\n      if (!showHiddenFiles.value) {\n        filtered = filtered.filter((file) => !file.basename.startsWith(\".\"));\n      }\n      if (props.mimetypeFilter.length > 0) {\n        filtered = filtered.filter((file) => file.type === \"folder\" || file.mime && isSupportedMimeType(file.mime));\n      }\n      if (filterString.value) {\n        filtered = filtered.filter((file) => file.basename.toLowerCase().includes(filterString.value.toLowerCase()));\n      }\n      if (props.filterFn) {\n        filtered = filtered.filter((f) => props.filterFn(f));\n      }\n      return filtered;\n    });\n    const noFilesDescription = computed(() => {\n      if (currentView.value === \"files\") {\n        return t(\"Upload some content or sync with your devices!\");\n      } else if (currentView.value === \"recent\") {\n        return t(\"Files and folders you recently modified will show up here.\");\n      } else {\n        return t(\"Files and folders you mark as favorite will show up here.\");\n      }\n    });\n    const onCreateFolder = async (name) => {\n      try {\n        const folder = await createDirectory(name);\n        navigatedPath.value = folder.path;\n        emit(\"files:node:created\", files.value.filter((file) => file.basename === name)[0]);\n      } catch (error) {\n        console.warn(\"Could not create new folder\", { name, error });\n        showError(t(\"Could not create the new folder\"));\n      }\n    };\n    const handleClose = (open) => {\n      if (!open && !isHandlingCallback) {\n        emit$1(\"close\");\n      }\n    };\n    return { __sfc: true, props, emit: emit$1, isOpen, dialogButtons, isHandlingCallback, handleButtonClick, currentView, viewHeadline, selectedFiles, savedPath, navigatedPath, currentPath, filterString, isSupportedMimeType, files, currentFolder, isLoading, loadFiles, createDirectory, showHiddenFiles, filteredFiles, noFilesDescription, onCreateFolder, handleClose, IconFile, FileList, FilePickerBreadcrumbs, FilePickerNavigation, NcDialog, NcEmptyContent, t };\n  }\n});\nvar _sfc_render = function render15() {\n  var _vm = this, _c = _vm._self._c, _setup = _vm._self._setupProxy;\n  return _c(_setup.NcDialog, { attrs: { \"open\": _setup.isOpen, \"container\": _vm.container, \"buttons\": _setup.dialogButtons, \"name\": _vm.name, \"size\": \"large\", \"content-classes\": \"file-picker__content\", \"dialog-classes\": \"file-picker\", \"navigation-classes\": \"file-picker__navigation\" }, on: { \"update:open\": [function($event) {\n    _setup.isOpen = $event;\n  }, _setup.handleClose] }, scopedSlots: _vm._u([{ key: \"navigation\", fn: function({ isCollapsed }) {\n    return [_c(_setup.FilePickerNavigation, { attrs: { \"current-view\": _setup.currentView, \"filter-string\": _setup.filterString, \"is-collapsed\": isCollapsed, \"disabled-navigation\": _vm.disabledNavigation }, on: { \"update:currentView\": function($event) {\n      _setup.currentView = $event;\n    }, \"update:current-view\": function($event) {\n      _setup.currentView = $event;\n    }, \"update:filterString\": function($event) {\n      _setup.filterString = $event;\n    }, \"update:filter-string\": function($event) {\n      _setup.filterString = $event;\n    } } })];\n  } }]) }, [_c(\"div\", { staticClass: \"file-picker__main\" }, [_setup.currentView === \"files\" ? _c(_setup.FilePickerBreadcrumbs, { attrs: { \"path\": _setup.currentPath, \"show-menu\": _vm.allowPickDirectory }, on: { \"update:path\": function($event) {\n    _setup.currentPath = $event;\n  }, \"create-node\": _setup.onCreateFolder } }) : _c(\"div\", { staticClass: \"file-picker__view\" }, [_c(\"h3\", [_vm._v(_vm._s(_setup.viewHeadline))])]), _setup.isLoading || _setup.filteredFiles.length > 0 ? _c(_setup.FileList, { attrs: { \"path\": _setup.currentPath, \"selected-files\": _setup.selectedFiles, \"allow-pick-directory\": _vm.allowPickDirectory, \"current-view\": _setup.currentView, \"files\": _setup.filteredFiles, \"multiselect\": _vm.multiselect, \"loading\": _setup.isLoading, \"name\": _setup.viewHeadline }, on: { \"update:path\": [function($event) {\n    _setup.currentPath = $event;\n  }, function($event) {\n    _setup.currentView = \"files\";\n  }], \"update:selectedFiles\": function($event) {\n    _setup.selectedFiles = $event;\n  }, \"update:selected-files\": function($event) {\n    _setup.selectedFiles = $event;\n  } } }) : _setup.filterString ? _c(_setup.NcEmptyContent, { attrs: { \"name\": _setup.t(\"No matching files\"), \"description\": _setup.t(\"No files matching your filter were found.\") }, scopedSlots: _vm._u([{ key: \"icon\", fn: function() {\n    return [_c(_setup.IconFile)];\n  }, proxy: true }]) }) : _c(_setup.NcEmptyContent, { attrs: { \"name\": _setup.t(\"No files in here\"), \"description\": _setup.noFilesDescription }, scopedSlots: _vm._u([{ key: \"icon\", fn: function() {\n    return [_c(_setup.IconFile)];\n  }, proxy: true }]) })], 1)]);\n};\nvar _sfc_staticRenderFns = [];\nvar __component__ = /* @__PURE__ */ normalizeComponent(\n  _sfc_main,\n  _sfc_render,\n  _sfc_staticRenderFns,\n  false,\n  null,\n  \"552cc2f5\"\n);\nconst FilePicker = __component__.exports;\nexport {\n  FilePicker as default\n};\n//# sourceMappingURL=FilePicker-CsU6FfAP.mjs.map\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","import EventEmitter from './index.js'\n\nexport { EventEmitter }\nexport default EventEmitter\n","function _classPrivateMethodInitSpec(e, a) { _checkPrivateRedeclaration(e, a), a.add(e); }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _classPrivateFieldInitSpec(e, t, a) { _checkPrivateRedeclaration(e, t), t.set(e, a); }\nfunction _checkPrivateRedeclaration(e, t) { if (t.has(e)) throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); }\nfunction _classPrivateGetter(s, r, a) { return a(_assertClassBrand(s, r)); }\nfunction _classPrivateFieldGet(s, a) { return s.get(_assertClassBrand(s, a)); }\nfunction _classPrivateFieldSet(s, a, r) { return s.set(_assertClassBrand(s, a), r), r; }\nfunction _assertClassBrand(e, t, n) { if (\"function\" == typeof e ? e === t : e.has(t)) return arguments.length < 3 ? t : n; throw new TypeError(\"Private element is not present on this object\"); }\nimport { EventEmitter } from 'eventemitter3';\nimport pTimeout, { TimeoutError } from 'p-timeout';\nimport PriorityQueue from \"./priority-queue.js\";\n/**\nPromise queue with concurrency control.\n*/\nvar _carryoverConcurrencyCount = /*#__PURE__*/new WeakMap();\nvar _isIntervalIgnored = /*#__PURE__*/new WeakMap();\nvar _intervalCount = /*#__PURE__*/new WeakMap();\nvar _intervalCap = /*#__PURE__*/new WeakMap();\nvar _interval = /*#__PURE__*/new WeakMap();\nvar _intervalEnd = /*#__PURE__*/new WeakMap();\nvar _intervalId = /*#__PURE__*/new WeakMap();\nvar _timeoutId = /*#__PURE__*/new WeakMap();\nvar _queue = /*#__PURE__*/new WeakMap();\nvar _queueClass = /*#__PURE__*/new WeakMap();\nvar _pending = /*#__PURE__*/new WeakMap();\nvar _concurrency = /*#__PURE__*/new WeakMap();\nvar _isPaused = /*#__PURE__*/new WeakMap();\nvar _throwOnTimeout = /*#__PURE__*/new WeakMap();\nvar _idAssigner = /*#__PURE__*/new WeakMap();\nvar _PQueue_brand = /*#__PURE__*/new WeakSet();\nexport default class PQueue extends EventEmitter {\n  // TODO: The `throwOnTimeout` option should affect the return types of `add()` and `addAll()`\n  constructor(options) {\n    super();\n    // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n    _classPrivateMethodInitSpec(this, _PQueue_brand);\n    _classPrivateFieldInitSpec(this, _carryoverConcurrencyCount, void 0);\n    _classPrivateFieldInitSpec(this, _isIntervalIgnored, void 0);\n    _classPrivateFieldInitSpec(this, _intervalCount, 0);\n    _classPrivateFieldInitSpec(this, _intervalCap, void 0);\n    _classPrivateFieldInitSpec(this, _interval, void 0);\n    _classPrivateFieldInitSpec(this, _intervalEnd, 0);\n    _classPrivateFieldInitSpec(this, _intervalId, void 0);\n    _classPrivateFieldInitSpec(this, _timeoutId, void 0);\n    _classPrivateFieldInitSpec(this, _queue, void 0);\n    _classPrivateFieldInitSpec(this, _queueClass, void 0);\n    _classPrivateFieldInitSpec(this, _pending, 0);\n    // The `!` is needed because of https://github.com/microsoft/TypeScript/issues/32194\n    _classPrivateFieldInitSpec(this, _concurrency, void 0);\n    _classPrivateFieldInitSpec(this, _isPaused, void 0);\n    _classPrivateFieldInitSpec(this, _throwOnTimeout, void 0);\n    // Use to assign a unique identifier to a promise function, if not explicitly specified\n    _classPrivateFieldInitSpec(this, _idAssigner, 1n);\n    /**\n    Per-operation timeout in milliseconds. Operations fulfill once `timeout` elapses if they haven't already.\n     Applies to each future operation.\n    */\n    _defineProperty(this, \"timeout\", void 0);\n    options = {\n      carryoverConcurrencyCount: false,\n      intervalCap: Number.POSITIVE_INFINITY,\n      interval: 0,\n      concurrency: Number.POSITIVE_INFINITY,\n      autoStart: true,\n      queueClass: PriorityQueue,\n      ...options\n    };\n    if (!(typeof options.intervalCap === 'number' && options.intervalCap >= 1)) {\n      throw new TypeError(`Expected \\`intervalCap\\` to be a number from 1 and up, got \\`${options.intervalCap?.toString() ?? ''}\\` (${typeof options.intervalCap})`);\n    }\n    if (options.interval === undefined || !(Number.isFinite(options.interval) && options.interval >= 0)) {\n      throw new TypeError(`Expected \\`interval\\` to be a finite number >= 0, got \\`${options.interval?.toString() ?? ''}\\` (${typeof options.interval})`);\n    }\n    _classPrivateFieldSet(_carryoverConcurrencyCount, this, options.carryoverConcurrencyCount);\n    _classPrivateFieldSet(_isIntervalIgnored, this, options.intervalCap === Number.POSITIVE_INFINITY || options.interval === 0);\n    _classPrivateFieldSet(_intervalCap, this, options.intervalCap);\n    _classPrivateFieldSet(_interval, this, options.interval);\n    _classPrivateFieldSet(_queue, this, new options.queueClass());\n    _classPrivateFieldSet(_queueClass, this, options.queueClass);\n    this.concurrency = options.concurrency;\n    this.timeout = options.timeout;\n    _classPrivateFieldSet(_throwOnTimeout, this, options.throwOnTimeout === true);\n    _classPrivateFieldSet(_isPaused, this, options.autoStart === false);\n  }\n  get concurrency() {\n    return _classPrivateFieldGet(_concurrency, this);\n  }\n  set concurrency(newConcurrency) {\n    if (!(typeof newConcurrency === 'number' && newConcurrency >= 1)) {\n      throw new TypeError(`Expected \\`concurrency\\` to be a number from 1 and up, got \\`${newConcurrency}\\` (${typeof newConcurrency})`);\n    }\n    _classPrivateFieldSet(_concurrency, this, newConcurrency);\n    _assertClassBrand(_PQueue_brand, this, _processQueue).call(this);\n  }\n  /**\n  Updates the priority of a promise function by its id, affecting its execution order. Requires a defined concurrency limit to take effect.\n   For example, this can be used to prioritize a promise function to run earlier.\n   ```js\n  import PQueue from 'p-queue';\n   const queue = new PQueue({concurrency: 1});\n   queue.add(async () => '🦄', {priority: 1});\n  queue.add(async () => '🦀', {priority: 0, id: '🦀'});\n  queue.add(async () => '🦄', {priority: 1});\n  queue.add(async () => '🦄', {priority: 1});\n   queue.setPriority('🦀', 2);\n  ```\n   In this case, the promise function with `id: '🦀'` runs second.\n   You can also deprioritize a promise function to delay its execution:\n   ```js\n  import PQueue from 'p-queue';\n   const queue = new PQueue({concurrency: 1});\n   queue.add(async () => '🦄', {priority: 1});\n  queue.add(async () => '🦀', {priority: 1, id: '🦀'});\n  queue.add(async () => '🦄');\n  queue.add(async () => '🦄', {priority: 0});\n   queue.setPriority('🦀', -1);\n  ```\n  Here, the promise function with `id: '🦀'` executes last.\n  */\n  setPriority(id, priority) {\n    _classPrivateFieldGet(_queue, this).setPriority(id, priority);\n  }\n  async add(function_) {\n    var _this$idAssigner, _this$idAssigner2;\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    // In case `id` is not defined.\n    options.id ??= (_classPrivateFieldSet(_idAssigner, this, (_this$idAssigner = _classPrivateFieldGet(_idAssigner, this), _this$idAssigner2 = _this$idAssigner++, _this$idAssigner)), _this$idAssigner2).toString();\n    options = {\n      timeout: this.timeout,\n      throwOnTimeout: _classPrivateFieldGet(_throwOnTimeout, this),\n      ...options\n    };\n    return new Promise((resolve, reject) => {\n      _classPrivateFieldGet(_queue, this).enqueue(async () => {\n        var _this$pending3, _this$pending4, _this$intervalCount, _this$intervalCount2;\n        _classPrivateFieldSet(_pending, this, (_this$pending3 = _classPrivateFieldGet(_pending, this), _this$pending4 = _this$pending3++, _this$pending3)), _this$pending4;\n        _classPrivateFieldSet(_intervalCount, this, (_this$intervalCount = _classPrivateFieldGet(_intervalCount, this), _this$intervalCount2 = _this$intervalCount++, _this$intervalCount)), _this$intervalCount2;\n        try {\n          options.signal?.throwIfAborted();\n          let operation = function_({\n            signal: options.signal\n          });\n          if (options.timeout) {\n            operation = pTimeout(Promise.resolve(operation), {\n              milliseconds: options.timeout\n            });\n          }\n          if (options.signal) {\n            operation = Promise.race([operation, _assertClassBrand(_PQueue_brand, this, _throwOnAbort).call(this, options.signal)]);\n          }\n          const result = await operation;\n          resolve(result);\n          this.emit('completed', result);\n        } catch (error) {\n          if (error instanceof TimeoutError && !options.throwOnTimeout) {\n            resolve();\n            return;\n          }\n          reject(error);\n          this.emit('error', error);\n        } finally {\n          _assertClassBrand(_PQueue_brand, this, _next).call(this);\n        }\n      }, options);\n      this.emit('add');\n      _assertClassBrand(_PQueue_brand, this, _tryToStartAnother).call(this);\n    });\n  }\n  async addAll(functions, options) {\n    return Promise.all(functions.map(async function_ => this.add(function_, options)));\n  }\n  /**\n  Start (or resume) executing enqueued tasks within concurrency limit. No need to call this if queue is not paused (via `options.autoStart = false` or by `.pause()` method.)\n  */\n  start() {\n    if (!_classPrivateFieldGet(_isPaused, this)) {\n      return this;\n    }\n    _classPrivateFieldSet(_isPaused, this, false);\n    _assertClassBrand(_PQueue_brand, this, _processQueue).call(this);\n    return this;\n  }\n  /**\n  Put queue execution on hold.\n  */\n  pause() {\n    _classPrivateFieldSet(_isPaused, this, true);\n  }\n  /**\n  Clear the queue.\n  */\n  clear() {\n    _classPrivateFieldSet(_queue, this, new (_classPrivateFieldGet(_queueClass, this))());\n  }\n  /**\n  Can be called multiple times. Useful if you for example add additional items at a later time.\n   @returns A promise that settles when the queue becomes empty.\n  */\n  async onEmpty() {\n    // Instantly resolve if the queue is empty\n    if (_classPrivateFieldGet(_queue, this).size === 0) {\n      return;\n    }\n    await _assertClassBrand(_PQueue_brand, this, _onEvent).call(this, 'empty');\n  }\n  /**\n  @returns A promise that settles when the queue size is less than the given limit: `queue.size < limit`.\n   If you want to avoid having the queue grow beyond a certain size you can `await queue.onSizeLessThan()` before adding a new item.\n   Note that this only limits the number of items waiting to start. There could still be up to `concurrency` jobs already running that this call does not include in its calculation.\n  */\n  async onSizeLessThan(limit) {\n    // Instantly resolve if the queue is empty.\n    if (_classPrivateFieldGet(_queue, this).size < limit) {\n      return;\n    }\n    await _assertClassBrand(_PQueue_brand, this, _onEvent).call(this, 'next', () => _classPrivateFieldGet(_queue, this).size < limit);\n  }\n  /**\n  The difference with `.onEmpty` is that `.onIdle` guarantees that all work from the queue has finished. `.onEmpty` merely signals that the queue is empty, but it could mean that some promises haven't completed yet.\n   @returns A promise that settles when the queue becomes empty, and all promises have completed; `queue.size === 0 && queue.pending === 0`.\n  */\n  async onIdle() {\n    // Instantly resolve if none pending and if nothing else is queued\n    if (_classPrivateFieldGet(_pending, this) === 0 && _classPrivateFieldGet(_queue, this).size === 0) {\n      return;\n    }\n    await _assertClassBrand(_PQueue_brand, this, _onEvent).call(this, 'idle');\n  }\n  /**\n  Size of the queue, the number of queued items waiting to run.\n  */\n  get size() {\n    return _classPrivateFieldGet(_queue, this).size;\n  }\n  /**\n  Size of the queue, filtered by the given options.\n   For example, this can be used to find the number of items remaining in the queue with a specific priority level.\n  */\n  sizeBy(options) {\n    // eslint-disable-next-line unicorn/no-array-callback-reference\n    return _classPrivateFieldGet(_queue, this).filter(options).length;\n  }\n  /**\n  Number of running items (no longer in the queue).\n  */\n  get pending() {\n    return _classPrivateFieldGet(_pending, this);\n  }\n  /**\n  Whether the queue is currently paused.\n  */\n  get isPaused() {\n    return _classPrivateFieldGet(_isPaused, this);\n  }\n}\nfunction _get_doesIntervalAllowAnother(_this) {\n  return _classPrivateFieldGet(_isIntervalIgnored, _this) || _classPrivateFieldGet(_intervalCount, _this) < _classPrivateFieldGet(_intervalCap, _this);\n}\nfunction _get_doesConcurrentAllowAnother(_this2) {\n  return _classPrivateFieldGet(_pending, _this2) < _classPrivateFieldGet(_concurrency, _this2);\n}\nfunction _next() {\n  var _this$pending, _this$pending2;\n  _classPrivateFieldSet(_pending, this, (_this$pending = _classPrivateFieldGet(_pending, this), _this$pending2 = _this$pending--, _this$pending)), _this$pending2;\n  _assertClassBrand(_PQueue_brand, this, _tryToStartAnother).call(this);\n  this.emit('next');\n}\nfunction _onResumeInterval() {\n  _assertClassBrand(_PQueue_brand, this, _onInterval).call(this);\n  _assertClassBrand(_PQueue_brand, this, _initializeIntervalIfNeeded).call(this);\n  _classPrivateFieldSet(_timeoutId, this, undefined);\n}\nfunction _get_isIntervalPaused(_this3) {\n  const now = Date.now();\n  if (_classPrivateFieldGet(_intervalId, _this3) === undefined) {\n    const delay = _classPrivateFieldGet(_intervalEnd, _this3) - now;\n    if (delay < 0) {\n      // Act as the interval was done\n      // We don't need to resume it here because it will be resumed on line 160\n      _classPrivateFieldSet(_intervalCount, _this3, _classPrivateFieldGet(_carryoverConcurrencyCount, _this3) ? _classPrivateFieldGet(_pending, _this3) : 0);\n    } else {\n      // Act as the interval is pending\n      if (_classPrivateFieldGet(_timeoutId, _this3) === undefined) {\n        _classPrivateFieldSet(_timeoutId, _this3, setTimeout(() => {\n          _assertClassBrand(_PQueue_brand, _this3, _onResumeInterval).call(_this3);\n        }, delay));\n      }\n      return true;\n    }\n  }\n  return false;\n}\nfunction _tryToStartAnother() {\n  if (_classPrivateFieldGet(_queue, this).size === 0) {\n    // We can clear the interval (\"pause\")\n    // Because we can redo it later (\"resume\")\n    if (_classPrivateFieldGet(_intervalId, this)) {\n      clearInterval(_classPrivateFieldGet(_intervalId, this));\n    }\n    _classPrivateFieldSet(_intervalId, this, undefined);\n    this.emit('empty');\n    if (_classPrivateFieldGet(_pending, this) === 0) {\n      this.emit('idle');\n    }\n    return false;\n  }\n  if (!_classPrivateFieldGet(_isPaused, this)) {\n    const canInitializeInterval = !_classPrivateGetter(_PQueue_brand, this, _get_isIntervalPaused);\n    if (_classPrivateGetter(_PQueue_brand, this, _get_doesIntervalAllowAnother) && _classPrivateGetter(_PQueue_brand, this, _get_doesConcurrentAllowAnother)) {\n      const job = _classPrivateFieldGet(_queue, this).dequeue();\n      if (!job) {\n        return false;\n      }\n      this.emit('active');\n      job();\n      if (canInitializeInterval) {\n        _assertClassBrand(_PQueue_brand, this, _initializeIntervalIfNeeded).call(this);\n      }\n      return true;\n    }\n  }\n  return false;\n}\nfunction _initializeIntervalIfNeeded() {\n  if (_classPrivateFieldGet(_isIntervalIgnored, this) || _classPrivateFieldGet(_intervalId, this) !== undefined) {\n    return;\n  }\n  _classPrivateFieldSet(_intervalId, this, setInterval(() => {\n    _assertClassBrand(_PQueue_brand, this, _onInterval).call(this);\n  }, _classPrivateFieldGet(_interval, this)));\n  _classPrivateFieldSet(_intervalEnd, this, Date.now() + _classPrivateFieldGet(_interval, this));\n}\nfunction _onInterval() {\n  if (_classPrivateFieldGet(_intervalCount, this) === 0 && _classPrivateFieldGet(_pending, this) === 0 && _classPrivateFieldGet(_intervalId, this)) {\n    clearInterval(_classPrivateFieldGet(_intervalId, this));\n    _classPrivateFieldSet(_intervalId, this, undefined);\n  }\n  _classPrivateFieldSet(_intervalCount, this, _classPrivateFieldGet(_carryoverConcurrencyCount, this) ? _classPrivateFieldGet(_pending, this) : 0);\n  _assertClassBrand(_PQueue_brand, this, _processQueue).call(this);\n}\n/**\nExecutes all queued functions until it reaches the limit.\n*/\nfunction _processQueue() {\n  // eslint-disable-next-line no-empty\n  while (_assertClassBrand(_PQueue_brand, this, _tryToStartAnother).call(this)) {}\n}\nasync function _throwOnAbort(signal) {\n  return new Promise((_resolve, reject) => {\n    signal.addEventListener('abort', () => {\n      reject(signal.reason);\n    }, {\n      once: true\n    });\n  });\n}\nasync function _onEvent(event, filter) {\n  return new Promise(resolve => {\n    const listener = () => {\n      if (filter && !filter()) {\n        return;\n      }\n      this.off(event, listener);\n      resolve();\n    };\n    this.on(event, listener);\n  });\n}","// Port of lower_bound from https://en.cppreference.com/w/cpp/algorithm/lower_bound\n// Used to compute insertion index to keep queue sorted after insertion\nexport default function lowerBound(array, value, comparator) {\n  let first = 0;\n  let count = array.length;\n  while (count > 0) {\n    const step = Math.trunc(count / 2);\n    let it = first + step;\n    if (comparator(array[it], value) <= 0) {\n      first = ++it;\n      count -= step + 1;\n    } else {\n      count = step;\n    }\n  }\n  return first;\n}","function _classPrivateFieldInitSpec(e, t, a) { _checkPrivateRedeclaration(e, t), t.set(e, a); }\nfunction _checkPrivateRedeclaration(e, t) { if (t.has(e)) throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); }\nfunction _classPrivateFieldGet(s, a) { return s.get(_assertClassBrand(s, a)); }\nfunction _assertClassBrand(e, t, n) { if (\"function\" == typeof e ? e === t : e.has(t)) return arguments.length < 3 ? t : n; throw new TypeError(\"Private element is not present on this object\"); }\nimport lowerBound from \"./lower-bound.js\";\nvar _queue = /*#__PURE__*/new WeakMap();\nexport default class PriorityQueue {\n  constructor() {\n    _classPrivateFieldInitSpec(this, _queue, []);\n  }\n  enqueue(run, options) {\n    options = {\n      priority: 0,\n      ...options\n    };\n    const element = {\n      priority: options.priority,\n      id: options.id,\n      run\n    };\n    if (this.size === 0 || _classPrivateFieldGet(_queue, this)[this.size - 1].priority >= options.priority) {\n      _classPrivateFieldGet(_queue, this).push(element);\n      return;\n    }\n    const index = lowerBound(_classPrivateFieldGet(_queue, this), element, (a, b) => b.priority - a.priority);\n    _classPrivateFieldGet(_queue, this).splice(index, 0, element);\n  }\n  setPriority(id, priority) {\n    const index = _classPrivateFieldGet(_queue, this).findIndex(element => element.id === id);\n    if (index === -1) {\n      throw new ReferenceError(`No promise function with the id \"${id}\" exists in the queue.`);\n    }\n    const [item] = _classPrivateFieldGet(_queue, this).splice(index, 1);\n    this.enqueue(item.run, {\n      priority,\n      id\n    });\n  }\n  dequeue() {\n    const item = _classPrivateFieldGet(_queue, this).shift();\n    return item?.run;\n  }\n  filter(options) {\n    return _classPrivateFieldGet(_queue, this).filter(element => element.priority === options.priority).map(element => element.run);\n  }\n  get size() {\n    return _classPrivateFieldGet(_queue, this).length;\n  }\n}","export class TimeoutError extends Error {\n  constructor(message) {\n    super(message);\n    this.name = 'TimeoutError';\n  }\n}\n\n/**\nAn error to be thrown when the request is aborted by AbortController.\nDOMException is thrown instead of this Error when DOMException is available.\n*/\nexport class AbortError extends Error {\n  constructor(message) {\n    super();\n    this.name = 'AbortError';\n    this.message = message;\n  }\n}\n\n/**\nTODO: Remove AbortError and just throw DOMException when targeting Node 18.\n*/\nconst getDOMException = errorMessage => globalThis.DOMException === undefined ? new AbortError(errorMessage) : new DOMException(errorMessage);\n\n/**\nTODO: Remove below function and just 'reject(signal.reason)' when targeting Node 18.\n*/\nconst getAbortedReason = signal => {\n  const reason = signal.reason === undefined ? getDOMException('This operation was aborted.') : signal.reason;\n  return reason instanceof Error ? reason : getDOMException(reason);\n};\nexport default function pTimeout(promise, options) {\n  const {\n    milliseconds,\n    fallback,\n    message,\n    customTimers = {\n      setTimeout,\n      clearTimeout\n    }\n  } = options;\n  let timer;\n  let abortHandler;\n  const wrappedPromise = new Promise((resolve, reject) => {\n    if (typeof milliseconds !== 'number' || Math.sign(milliseconds) !== 1) {\n      throw new TypeError(`Expected \\`milliseconds\\` to be a positive number, got \\`${milliseconds}\\``);\n    }\n    if (options.signal) {\n      const {\n        signal\n      } = options;\n      if (signal.aborted) {\n        reject(getAbortedReason(signal));\n      }\n      abortHandler = () => {\n        reject(getAbortedReason(signal));\n      };\n      signal.addEventListener('abort', abortHandler, {\n        once: true\n      });\n    }\n    if (milliseconds === Number.POSITIVE_INFINITY) {\n      promise.then(resolve, reject);\n      return;\n    }\n\n    // We create the error outside of `setTimeout` to preserve the stack trace.\n    const timeoutError = new TimeoutError();\n    timer = customTimers.setTimeout.call(undefined, () => {\n      if (fallback) {\n        try {\n          resolve(fallback());\n        } catch (error) {\n          reject(error);\n        }\n        return;\n      }\n      if (typeof promise.cancel === 'function') {\n        promise.cancel();\n      }\n      if (message === false) {\n        resolve();\n      } else if (message instanceof Error) {\n        reject(message);\n      } else {\n        timeoutError.message = message ?? `Promise timed out after ${milliseconds} milliseconds`;\n        reject(timeoutError);\n      }\n    }, milliseconds);\n    (async () => {\n      try {\n        resolve(await promise);\n      } catch (error) {\n        reject(error);\n      }\n    })();\n  });\n  const cancelablePromise = wrappedPromise.finally(() => {\n    cancelablePromise.clear();\n    if (abortHandler && options.signal) {\n      options.signal.removeEventListener('abort', abortHandler);\n    }\n  });\n  cancelablePromise.clear = () => {\n    customTimers.clearTimeout.call(undefined, timer);\n    timer = undefined;\n  };\n  return cancelablePromise;\n}","import { N } from \"../chunks/NcBreadcrumb-DJpYjXCe.mjs\";\nexport {\n  N as default\n};\n//# sourceMappingURL=NcBreadcrumb.mjs.map\n","import { N } from \"../chunks/NcBreadcrumbs-B722pBOd.mjs\";\nexport {\n  N as default\n};\n//# sourceMappingURL=NcBreadcrumbs.mjs.map\n"],"names":[],"sourceRoot":""}